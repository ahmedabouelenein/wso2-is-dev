(self.webpackChunk_wso2is_console=self.webpackChunk_wso2is_console||[]).push([[5901],{53374:function(e,t,n){(e.exports=n(38939)(!1)).push([e.id,"/**\n * Copyright (c) 2022, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n*/\n\n.pre-loader-wrapper {\n    background-color: #FFFFFF;\n    min-height: 100vh;\n    align-items: center;\n    justify-content: center;\n    display: flex;\n    flex-direction: column;\n    flex: 1;\n    background-image: none;\n}\n\n.ui.loader {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    margin: 0;\n    text-align: center;\n    z-index: 1000;\n    -webkit-transform: translateX(-50%) translateY(-50%);\n            transform: translateX(-50%) translateY(-50%);\n}\n\n.ui.inverted.dimmer {\n    background-color: rgba(255,255,255,.85);\n}\n\n.ui.inverted.dimmer .ui.loader, .ui.loader {\n    width: 1.6rem;\n    height: 1.6rem;\n    font-size: 1em;\n}\n\n.ui.inverted.dimmer .ui.loader {\n    color: rgba(0,0,0,.87);\n}\n\n.ui.dimmer .loader {\n    display: block;\n}\n\n.dimmed.dimmable>.ui.animating.dimmer, .dimmed.dimmable>.ui.visible.dimmer, .ui.active.dimmer {\n    display: flex;\n    opacity: 1;\n}\n\n.visible.transition {\n    display: block!important;\n    visibility: visible!important;\n}\n\n.ui.dimmer {\n    display: none;\n    position: absolute;\n    top: 0!important;\n    left: 0!important;\n    width: 100%;\n    height: 100%;\n    text-align: center;\n    vertical-align: middle;\n    padding: 1em;\n    background-color: rgba(0,0,0,.85);\n    opacity: 0;\n    line-height: 1;\n    -webkit-animation-fill-mode: both;\n            animation-fill-mode: both;\n    -webkit-animation-duration: .5s;\n            animation-duration: .5s;\n    transition: background-color .5s linear;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    -webkit-user-select: none;\n        -ms-user-select: none;\n            user-select: none;\n    will-change: opacity;\n    z-index: 1000;\n}\n\n.transition {\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    -webkit-animation-duration: .3s;\n            animation-duration: .3s;\n    -webkit-animation-timing-function: ease;\n            animation-timing-function: ease;\n    -webkit-animation-fill-mode: both;\n            animation-fill-mode: both;\n}\n\n*, :after, :before {\n    box-sizing: inherit;\n}\n\n.ui.dimmer>.content {\n    -webkit-user-select: text;\n        -ms-user-select: text;\n            user-select: text;\n    color: #fff;\n}\n\n.ui.inverted.dimmer .ui.loader:before {\n    border-color: rgba(0,0,0,.1);\n}\n\n.ui.dimmer .ui.loader:before {\n    border-color: rgba(255,255,255,.15);\n}\n\n.ui.inverted.loader:before {\n    border-color: rgba(255,255,255,.15);\n}\n\n.ui.loader:after, .ui.loader:before {\n    width: 1.6rem;\n    height: 1.6rem;\n    margin: 0 0 0 -1.14285714rem;\n}\n\n.ui.loader:before {\n    position: absolute;\n    content: '';\n    top: 0;\n    left: 50%;\n    width: 100%;\n    height: 100%;\n    border-radius: 500rem;\n    border: 0.2em solid rgba(0,0,0,.1);\n}\n\n.ui.inverted.dimmer .ui.loader:after {\n    border-color: #767676 transparent transparent;\n}\n\n.ui.dimmer .ui.loader:after {\n    border-color: #fff transparent transparent;\n}\n\n.ui.inverted.loader:after {\n    border-top-color: #fff;\n}\n\n.ui.loader:after {\n    position: absolute;\n    content: '';\n    top: 0;\n    left: 50%;\n    width: 100%;\n    height: 100%;\n    -webkit-animation: loader .6s linear;\n            animation: loader .6s linear;\n    -webkit-animation-iteration-count: infinite;\n            animation-iteration-count: infinite;\n    border-radius: 500rem;\n    border-color: #767676 transparent transparent;\n    border-style: solid;\n    border-width: 0.2em;\n    box-shadow: 0 0 0 1px transparent;\n}\n\n@-webkit-keyframes loader {\n    from {\n      -webkit-transform: rotate(0deg);\n              transform: rotate(0deg);\n    }\n    to {\n      -webkit-transform: rotate(360deg);\n              transform: rotate(360deg);\n    }\n}\n\n@keyframes loader {\n    from {\n      -webkit-transform: rotate(0deg);\n              transform: rotate(0deg);\n    }\n    to {\n      -webkit-transform: rotate(360deg);\n              transform: rotate(360deg);\n    }\n}\n",""])},42189:function(e,t,n){var a=n(53374);"string"===typeof a&&(a=[[e.id,a,""]]);var r={hmr:!0,transform:undefined,insertInto:void 0};n(38685)(a,r);a.locals&&(e.exports=a.locals)},20688:function(e,t,n){"use strict";n.d(t,{CM:function(){return f},wg:function(){return h},ij:function(){return s},wf:function(){return m},Nx:function(){return v},q:function(){return S},IG:function(){return u},vR:function(){return p},g0:function(){return y},ne:function(){return E},jb:function(){return A},iC:function(){return d},sD:function(){return g},DW:function(){return b}});var a=n(19486),r=n(82817),o=n(88742),i=n(12847),l=n(95745),c=a.AsgardeoSPAClient.getInstance().httpRequest.bind(a.AsgardeoSPAClient.getInstance()),s=function(e){var t={data:e,headers:{Accept:"application/json","Access-Control-Allow-Origin":i.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:o.HttpMethods.POST,url:i.h.getState().config.endpoints.localClaims};return c(t).then((function(e){if(201!==e.status)throw new r.IdentityAppsApiException(l.Q.ADD_LOCAL_CLAIM_REQUEST_INVALID_STATUS_CODE_ERROR,null,e.status,e.request,e,e.config);return Promise.resolve(e)})).catch((function(e){var t;return Promise.reject(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.data)}))},u=function(e){var t={headers:{Accept:"application/json","Access-Control-Allow-Origin":i.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:o.HttpMethods.GET,url:"".concat(i.h.getState().config.endpoints.localClaims,"/").concat(e)};return c(t).then((function(e){return 200!==e.status?Promise.reject("An error occurred. The server returned ".concat(e.status)):Promise.resolve(e.data)})).catch((function(e){var t;return Promise.reject(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.data)}))},d=function(e,t){var n={data:t,headers:{Accept:"application/json","Access-Control-Allow-Origin":i.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:o.HttpMethods.PUT,url:"".concat(i.h.getState().config.endpoints.localClaims,"/").concat(e)};return c(n).then((function(e){return 200!==e.status?Promise.reject("An error occurred. The server returned ".concat(e.status)):Promise.resolve(e.data)})).catch((function(e){var t;return Promise.reject(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.data)}))},m=function(e){var t={headers:{Accept:"application/json","Access-Control-Allow-Origin":i.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:o.HttpMethods.DELETE,url:"".concat(i.h.getState().config.endpoints.localClaims,"/").concat(e)};return c(t).then((function(e){return 204!==e.status?Promise.reject("An error occurred. The server returned ".concat(e.status)):Promise.resolve(e.data)})).catch((function(e){var t,n,a;if("CMT-50031"===(null===e||void 0===e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.code)){var r,o,i,l,c={code:null===e||void 0===e||null===(r=e.response)||void 0===r||null===(o=r.data)||void 0===o?void 0:o.code,description:"Unable to remove local attribute while having associations with external claims.",message:"Unable to remove local attribute.",traceId:null===e||void 0===e||null===(i=e.response)||void 0===i||null===(l=i.data)||void 0===l?void 0:l.traceId};return Promise.reject(c)}return Promise.reject(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.data)}))},f=function(e){var t={data:{dialectURI:e},headers:{Accept:"application/json","Access-Control-Allow-Origin":i.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:o.HttpMethods.POST,url:i.h.getState().config.endpoints.claims};return c(t).then((function(e){if(201!==e.status)throw new r.IdentityAppsApiException(l.Q.ADD_DIALECT_REQUEST_INVALID_STATUS_CODE_ERROR,null,e.status,e.request,e,e.config);return Promise.resolve(e)})).catch((function(e){var t;return Promise.reject(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.data)}))},p=function(e){var t={headers:{Accept:"application/json","Access-Control-Allow-Origin":i.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:o.HttpMethods.GET,url:"".concat(i.h.getState().config.endpoints.claims,"/").concat(e)};return c(t).then((function(e){return 200!==e.status?Promise.reject("An error occurred. The server returned ".concat(e.status)):Promise.resolve(e.data)})).catch((function(e){var t;return Promise.reject(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.data)}))},g=function(e,t){var n={data:{dialectURI:t},headers:{Accept:"application/json","Access-Control-Allow-Origin":i.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:o.HttpMethods.PUT,url:"".concat(i.h.getState().config.endpoints.claims,"/").concat(e)};return c(n).then((function(e){return 200!==e.status?Promise.reject("An error occurred. The server returned ".concat(e.status)):Promise.resolve(e.data)})).catch((function(e){var t;return Promise.reject(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.data)}))},v=function(e){var t={headers:{Accept:"application/json","Access-Control-Allow-Origin":i.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:o.HttpMethods.DELETE,url:"".concat(i.h.getState().config.endpoints.claims,"/").concat(e)};return c(t).then((function(e){return 204!==e.status?Promise.reject("An error occurred. The server returned ".concat(e.status)):Promise.resolve(e.data)})).catch((function(e){var t;return Promise.reject(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.data)}))},h=function(e,t){var n={data:t,headers:{Accept:"application/json","Access-Control-Allow-Origin":i.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:o.HttpMethods.POST,url:"".concat(i.h.getState().config.endpoints.externalClaims.replace("{}",e))};return c(n).then((function(e){return 201!==e.status?Promise.reject("An error occurred. The server returned ".concat(e.status)):Promise.resolve(e.data)})).catch((function(e){var t;return Promise.reject(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.data)}))},y=function(e,t){var n={headers:{Accept:"application/json","Access-Control-Allow-Origin":i.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:o.HttpMethods.GET,url:"".concat(i.h.getState().config.endpoints.externalClaims.replace("{}",e),"/").concat(t)};return c(n).then((function(e){return 200!==e.status?Promise.reject("An error occurred. The server returned ".concat(e.status)):Promise.resolve(e.data)})).catch((function(e){var t;return Promise.reject(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.data)}))},E=function(e){var t={headers:{Accept:"application/json","Content-Type":"application/json"},method:o.HttpMethods.GET,url:"".concat(i.h.getState().config.endpoints.externalClaims.replace("{}",e))};return c(t).then((function(e){return 200!==e.status?Promise.reject("An error occurred. The server returned ".concat(e.status)):Promise.resolve(e.data)})).catch((function(e){var t;return Promise.reject(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.data)}))},b=function(e,t,n){var a={data:n,headers:{Accept:"application/json","Access-Control-Allow-Origin":i.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:o.HttpMethods.PUT,url:"".concat(i.h.getState().config.endpoints.externalClaims.replace("{}",e),"/").concat(t)};return c(a).then((function(e){return 200!==e.status?Promise.reject("An error occurred. The server returned ".concat(e.status)):Promise.resolve(e.data)})).catch((function(e){var t;return Promise.reject(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.data)}))},S=function(e,t){var n={headers:{Accept:"application/json","Access-Control-Allow-Origin":i.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:o.HttpMethods.DELETE,url:"".concat(i.h.getState().config.endpoints.externalClaims.replace("{}",e),"/").concat(t)};return c(n).then((function(e){return 204!==e.status?Promise.reject("An error occurred. The server returned ".concat(e.status)):Promise.resolve(e.data)})).catch((function(e){var t;return Promise.reject(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.data)}))},A=function(e){var t={headers:{Accept:"application/json","Content-Type":"application/json"},method:o.HttpMethods.GET,url:"".concat(i.h.getState().config.endpoints.serverSupportedSchemas,"/").concat(e)};return c(t).then((function(e){return 200!==e.status?Promise.reject("An error occurred. The server returned ".concat(e.status)):Promise.resolve(e.data)})).catch((function(e){var t;return Promise.reject(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.data)}))}},55654:function(e,t,n){"use strict";n.d(t,{$E:function(){return qe},C$:function(){return Ne},Sf:function(){return ct},ZW:function(){return P},A4:function(){return G},T8:function(){return ee},_v:function(){return at},AI:function(){return Y},RH:function(){return rt}});var a=n(69883),r=n(3844),o=n(8890),i=n(88742),l=n(26278),c=n(26776),s=n(96462),u=n(24933),d=n(68905),m=n(64805),f=n(83913),p=n(70515),g=n(82791),v=n(7626),h=n(70379),y=n(23177),E=n(20688);function b(e){return function(e){if(Array.isArray(e))return T(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||w(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){C(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(o.push(a.value),!t||o.length!==t);i=!0);}catch(e){l=!0,r=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||w(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){if(e){if("string"===typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?T(e,t):void 0}}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var P=function(e){var t=e.claim,n=e.update,r=e["data-testid"],u=I((0,d.useState)(!1),2),p=u[0],g=u[1],v=I((0,c.useTrigger)(),2),h=v[0],S=v[1],C=(0,f.I0)(),w=(0,m.$G)().t,T=(0,f.v9)((function(e){var t;return null===e||void 0===e||null===(t=e.auth)||void 0===t?void 0:t.allowedScopes})),P=(0,f.v9)((function(e){return e.config.ui.features})),R=(0,d.useMemo)((function(){var e,t;return!(0,o.hasRequiredScopes)(null===P||void 0===P?void 0:P.attributeDialects,null===P||void 0===P||null===(e=P.attributeDialects)||void 0===e||null===(t=e.scopes)||void 0===t?void 0:t.update,T)}),[P,T]);return d.createElement(s.EmphasizedSegment,null,d.createElement(y.Z,null,d.createElement(y.Z.Row,{columns:1},d.createElement(y.Z.Column,{tablet:16,computer:12,largeScreen:9,widescreen:6,mobile:16},d.createElement("p",null,w("console:manage.features.claims.local.additionalProperties.hint")),d.createElement(s.DynamicField,{data:t.properties,keyType:"text",keyName:w("console:manage.features.claims.local.additionalProperties.key"),valueName:w("console:manage.features.claims.local.additionalProperties.value"),submit:h,keyRequiredMessage:w("console:manage.features.claims.local.additionalProperties.keyRequiredErrorMessage"),valueRequiredErrorMessage:w("console:manage.features.claims.local.additionalProperties.valueRequiredErrorMessage"),requiredField:!0,update:function(e){var a=A({},t);delete a.id,delete a.dialectURI;var r=A(A({},a),{},{properties:b(e)});g(!0),(0,E.iC)(t.id,r).then((function(){C((0,l.addAlert)({description:w("console:manage.features.claims.local.notifications.updateClaim.success.description"),level:i.AlertLevels.SUCCESS,message:w("console:manage.features.claims.local.notifications.updateClaim.success.message")})),n()})).catch((function(e){C((0,l.addAlert)({description:(null===e||void 0===e?void 0:e.description)||w("console:manage.features.claims.local.notifications.updateClaim.genericError.description"),level:i.AlertLevels.ERROR,message:(null===e||void 0===e?void 0:e.message)||w("console:manage.features.claims.local.notifications.updateClaim.genericError.message")}))})).finally((function(){g(!1)}))},"data-testid":"".concat(r,"-form-properties-dynamic-field"),readOnly:R}))),d.createElement(y.Z.Row,{columns:1},d.createElement(y.Z.Column,{width:6},d.createElement(a.di,{when:a.TA.ATTRIBUTE_EDIT},d.createElement(s.PrimaryButton,{onClick:function(){S()},"data-testid":"".concat(r,"-submit-button"),loading:p,disabled:p},w("common:update")))))))};P.defaultProps={"data-testid":"edit-local-claims-additional-properties"};var R=n(23339),O=n(72932),L=n.n(O),U=n(44706),D=n(5554),_=n(67897),x=n(25460),N=n(12847),Z=n(95745);function M(){return M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},M.apply(this,arguments)}function k(e){return function(e){if(Array.isArray(e))return H(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||z(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(o.push(a.value),!t||o.length!==t);i=!0);}catch(e){l=!0,r=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||z(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e,t){if(e){if("string"===typeof e)return H(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?H(e,t):void 0}}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var G=function(e){var t,n,c=e.claim,u=e.update,p=e["data-testid"],g=(0,f.I0)(),v=j((0,d.useState)(!1),2),h=v[0],b=v[1],S=j((0,d.useState)(!1),2),A=S[0],C=S[1],I=j((0,d.useState)(!1),2),w=I[0],T=I[1],P=j((0,d.useState)(!1),2),O=P[0],z=P[1],H=j((0,d.useState)(!1),2),G=H[0],B=H[1],F=j((0,d.useState)(!1),2),V=F[0],$=F[1],q=j((0,d.useState)(!1),2),W=q[0],Q=q[1],Y=(0,d.useRef)(null),X=(0,d.useRef)(null),K=(0,d.useRef)(null),J=(0,d.useRef)(null),ee=(0,f.v9)((function(e){var t;return null===e||void 0===e||null===(t=e.auth)||void 0===t?void 0:t.allowedScopes})),te=(0,f.v9)((function(e){return e.config.ui.features})),ne=j((0,d.useState)(!0),2),ae=ne[0],re=ne[1],oe=(0,m.$G)().t;(0,d.useEffect)((function(){null!==c&&void 0!==c&&c.supportedByDefault&&C(!0),null!==c&&void 0!==c&&c.readOnly&&z(!0),c&&((null===_.attributeConfig||void 0===_.attributeConfig?void 0:_.attributeConfig.systemClaims.length)<=0||-1===(null===_.attributeConfig||void 0===_.attributeConfig?void 0:_.attributeConfig.systemClaims.indexOf(null===c||void 0===c?void 0:c.claimURI)))&&re(!1)}),[c]),(0,d.useEffect)((function(){var e=ie();if(c){var t=[];e.forEach((function(e){t.push((0,E.ne)(e))})),L().all(t).then((function(e){var t;(t=[]).concat.apply(t,k(e)).find((function(e){return e.mappedLocalClaimURI===c.claimURI}))&&$(!0)})).catch((function(e){g((0,l.addAlert)({description:e.response.description,level:i.AlertLevels.ERROR,message:"Error occurred while trying to get external mappings for the claim."}))})).finally((function(){return Q(!0)}))}}),[c]);var ie=function(){var e=[];return e.push(Z.Q.ATTRIBUTE_DIALECT_IDS.get("SCIM2_SCHEMAS_CORE")),e.push(Z.Q.ATTRIBUTE_DIALECT_IDS.get("SCIM2_SCHEMAS_CORE_USER")),e.push(Z.Q.ATTRIBUTE_DIALECT_IDS.get("SCIM2_SCHEMAS_EXT_ENT_USER")),e.push(x.SCIMConfigs.scimDialectID.customEnterpriseSchema),e},le=(0,d.useMemo)((function(){return!!ae||!(0,o.hasRequiredScopes)(null===te||void 0===te?void 0:te.attributeDialects,null===te||void 0===te||null===(e=te.attributeDialects)||void 0===e||null===(t=e.scopes)||void 0===t?void 0:t.update,ee);var e,t}),[te,ee,ae]),ce=function(e){(0,E.wf)(e).then((function(){N.m8.push(N.$x.getPaths().get("LOCAL_CLAIMS")),g((0,l.addAlert)({description:oe("console:manage.features.claims.local.notifications.deleteClaim.success.description"),level:i.AlertLevels.SUCCESS,message:oe("console:manage.features.claims.local.notifications.deleteClaim.success.message")}))})).catch((function(e){g((0,l.addAlert)({description:(null===e||void 0===e?void 0:e.description)||oe("console:manage.features.claims.local.notifications.deleteClaim.genericError.description"),level:i.AlertLevels.ERROR,message:(null===e||void 0===e?void 0:e.message)||oe("console:manage.features.claims.local.notifications.deleteClaim.genericError.message")}))})).finally((function(){T(!1)}))},se=function(e){var t,n,a,o,s={attributeMapping:c.attributeMapping,claimURI:c.claimURI,description:void 0!==(null===e||void 0===e?void 0:e.description)?null===(t=e.description)||void 0===t?void 0:t.toString():null===c||void 0===c?void 0:c.description,displayName:void 0!==(null===e||void 0===e?void 0:e.name)?null===(n=e.name)||void 0===n?void 0:n.toString():null===c||void 0===c?void 0:c.displayName,displayOrder:_.attributeConfig.editAttributes.getDisplayOrder(c.displayOrder,null===(a=e.displayOrder)||void 0===a?void 0:a.toString()),properties:c.properties,readOnly:void 0!==(null===e||void 0===e?void 0:e.readOnly)?!!e.readOnly:null===c||void 0===c?void 0:c.readOnly,regEx:void 0!==(null===e||void 0===e?void 0:e.regularExpression)?null===(o=e.regularExpression)||void 0===o?void 0:o.toString():null===c||void 0===c?void 0:c.regEx,required:!(void 0===(null===e||void 0===e?void 0:e.required)||null!==e&&void 0!==e&&e.readOnly)&&!!e.required,supportedByDefault:void 0!==(null===e||void 0===e?void 0:e.supportedByDefault)?!!e.supportedByDefault:null===c||void 0===c?void 0:c.supportedByDefault};B(!0),(0,E.iC)(c.id,s).then((function(){g((0,l.addAlert)({description:oe("console:manage.features.claims.local.notifications.updateClaim.success.description"),level:i.AlertLevels.SUCCESS,message:oe("console:manage.features.claims.local.notifications.updateClaim.success.message")})),u(),function(){var e;g((0,l.setProfileSchemaRequestLoadingStatus)(!0)),(0,r.getProfileSchemas)(null===(e=N.h.getState().config.endpoint)||void 0===e?void 0:e.schemas).then((function(e){g((0,l.setSCIMSchemas)(e))})).catch((function(e){var t,n;null!==e&&void 0!==e&&null!==(t=e.response)&&void 0!==t&&null!==(n=t.data)&&void 0!==n&&n.description&&g((0,l.addAlert)({description:e.response.data.description,level:i.AlertLevels.ERROR,message:oe("console:manage.notifications.getProfileSchema.error.message")})),g((0,l.addAlert)({description:oe("console:manage.notifications.getProfileSchema.genericError.description"),level:i.AlertLevels.ERROR,message:oe("console:manage.notifications.getProfileSchema.genericError.message")}))})).finally((function(){g((0,l.setProfileSchemaRequestLoadingStatus)(!1))}))}()})).catch((function(e){g((0,l.addAlert)({description:(null===e||void 0===e?void 0:e.description)||oe("console:manage.features.claims.local.notifications.updateClaim.genericError.description"),level:i.AlertLevels.ERROR,message:(null===e||void 0===e?void 0:e.message)||oe("console:manage.features.claims.local.notifications.updateClaim.genericError.description")}))})).finally((function(){B(!1)}))};return d.createElement(d.Fragment,null,w&&d.createElement(s.ConfirmationModal,{onClose:function(){return T(!1)},type:"negative",open:w,assertionHint:oe("console:manage.features.claims.local.confirmation.hint"),assertionType:"checkbox",primaryAction:oe("console:manage.features.claims.local.confirmation.primaryAction"),secondaryAction:oe("common:cancel"),onSecondaryActionClick:function(){return T(!1)},onPrimaryActionClick:function(){return ce(c.id)},"data-testid":"".concat(p,"-delete-confirmation-modal"),closeOnDimmerClick:!1},d.createElement(s.ConfirmationModal.Header,null,oe("console:manage.features.claims.local.confirmation.header")),d.createElement(s.ConfirmationModal.Message,{attached:!0,negative:!0},oe("console:manage.features.claims.local.confirmation.message")),d.createElement(s.ConfirmationModal.Content,null,oe("console:manage.features.claims.local.confirmation.content"))),d.createElement(s.EmphasizedSegment,{padded:"very"},d.createElement(y.Z,null,d.createElement(y.Z.Row,{columns:1},d.createElement(y.Z.Column,{tablet:16,computer:12,largeScreen:9,widescreen:6,mobile:16},d.createElement(U.Z,null,d.createElement(U.Z.Field,{"data-testid":"".concat(p,"-form-attribute-uri-readonly-input")},d.createElement("label",null,oe("console:manage.features.claims.local.attributes.attributeURI")),d.createElement(s.CopyInputField,{value:c?c.claimURI:""}),d.createElement(s.Hint,null,"Unique identifier of the attribute.")))))),d.createElement(R.l0,{uncontrolledForm:!1,onSubmit:function(e){se(e)},"data-testid":p},d.createElement(R.gN.Input,{ariaLabel:"name",inputType:"name",name:"name",label:oe("console:manage.features.claims.local.forms.name.label"),required:!0,message:oe("console:manage.features.claims.local.forms.name.requiredErrorMessage"),placeholder:oe("console:manage.features.claims.local.forms.name.placeholder"),value:null===c||void 0===c?void 0:c.displayName,ref:Y,validation:function(e){if(!e.toString().match(/^[A-za-z0-9#+._\-\s]{1,30}$/))return oe("console:manage.features.claims.local.forms.name.validationErrorMessages.invalidName")},"data-testid":"".concat(p,"-form-name-input"),maxLength:30,minLength:1,hint:oe("console:manage.features.claims.local.forms.nameHint"),readOnly:le}),d.createElement(R.gN.Textarea,{ariaLabel:"description",inputType:"description",name:"description",label:oe("console:manage.features.claims.local.forms.description.label"),required:!1,requiredErrorMessage:"",placeholder:oe("console:manage.features.claims.local.forms.description.placeholder"),ref:J,value:null===c||void 0===c?void 0:c.description,maxLength:255,minLength:3,"data-testid":"".concat(p,"-form-description-input"),hint:oe("console:manage.features.claims.local.forms.descriptionHint"),readOnly:le}),_.attributeConfig.localAttributes.createWizard.showRegularExpression&&!ae&&d.createElement(R.gN.Input,{ariaLabel:"regularExpression",inputType:"default",name:"regularExpression",label:oe("console:manage.features.claims.local.forms.regEx.label"),required:!1,requiredErrorMessage:"",placeholder:oe("console:manage.features.claims.local.forms.regEx.placeholder"),value:null===c||void 0===c?void 0:c.regEx,ref:X,"data-testid":"".concat(p,"-form-regex-input"),maxLength:50,minLength:3,hint:oe("console:manage.features.claims.local.forms.regExHint"),readOnly:le}),W?!ae&&d.createElement(y.Z.Row,{columns:1},d.createElement(y.Z.Column,{mobile:16,tablet:16,computer:14},d.createElement(s.Message,{type:"info",content:V?oe("console:manage.features.claims.local.forms.infoMessages.configApplicabilityInfo"):d.createElement(d.Fragment,null,oe("console:manage.features.claims.local.forms.infoMessages.disabledConfigInfo"),d.createElement("div",null,"Add SCIM mapping from",d.createElement(s.Link,{external:!1,onClick:function(){return N.m8.push(N.$x.getPaths().get("SCIM_MAPPING"))}}," here"),"."))}))):null,c&&c.claimURI!==Z.Q.USER_ID_CLAIM_URI&&c.claimURI!==Z.Q.USER_NAME_CLAIM_URI&&c.claimURI!==Z.Q.GROUPS_CLAIM_URI&&!ae&&W&&d.createElement(R.gN.Checkbox,M({ariaLabel:"supportedByDefault",name:"supportedByDefault",label:oe("console:manage.features.claims.local.forms.supportedByDefault.label"),required:!1,defaultValue:null===c||void 0===c?void 0:c.supportedByDefault,listen:function(e){C(!(null===e||void 0===e||!e.supportedByDefault))},"data-testid":"".concat(p,"-form-supported-by-default-input"),readOnly:le,disabled:!V},h?{checked:!0}:{defaultValue:null===c||void 0===c?void 0:c.supportedByDefault})),_.attributeConfig.editAttributes.showDisplayOrderInput&&A&&!ae&&d.createElement(R.gN.Input,{ariaLabel:"displayOrder",inputType:"default",name:"displayOrder",type:"number",min:"0",label:oe("console:manage.features.claims.local.forms.displayOrder.label"),required:!1,placeholder:oe("console:manage.features.claims.local.forms.displayOrder.placeholder"),value:(null===c||void 0===c?void 0:c.displayOrder.toString())||0,maxLength:50,minLength:1,ref:K,"data-testid":"".concat(p,"-form-display-order-input"),hint:oe("console:manage.features.claims.local.forms.displayOrderHint"),readOnly:le}),c&&_.attributeConfig.editAttributes.showRequiredCheckBox&&c.claimURI!==Z.Q.GROUPS_CLAIM_URI&&!ae&&W&&d.createElement(R.gN.Checkbox,M({ariaLabel:"required",name:"required",required:!1,requiredErrorMessage:"",label:oe("console:manage.features.claims.local.forms.required.label"),"data-testid":"".concat(p,"-form-required-checkbox"),readOnly:le,hint:oe("console:manage.features.claims.local.forms.requiredHint"),listen:function(e){b(e)},disabled:O||!V},O?{value:!1}:{defaultValue:null===c||void 0===c?void 0:c.required})),c&&c.claimURI!==Z.Q.USER_ID_CLAIM_URI&&c.claimURI!==Z.Q.USER_NAME_CLAIM_URI&&c.claimURI!==Z.Q.GROUPS_CLAIM_URI&&!ae&&W&&d.createElement(R.gN.Checkbox,{ariaLabel:"readOnly",name:"readOnly",required:!1,label:oe("console:manage.features.claims.local.forms.readOnly.label"),requiredErrorMessage:"",defaultValue:null===c||void 0===c?void 0:c.readOnly,"data-testid":"".concat(p,"-form-readonly-checkbox"),readOnly:le,hint:oe("console:manage.features.claims.local.forms.readOnlyHint"),listen:function(e){z(e)},disabled:!V}),(0,o.hasRequiredScopes)(null===te||void 0===te?void 0:te.attributeDialects,null===te||void 0===te||null===(t=te.attributeDialects)||void 0===t||null===(n=t.scopes)||void 0===n?void 0:n.update,ee)&&!ae&&d.createElement(R.gN.Button,{ariaLabel:"submit",size:"small",buttonType:"primary_btn",loading:G,disabled:G,label:oe("common:update"),name:"submit"}))),d.createElement(D.Z,{hidden:!0}),_.attributeConfig.editAttributes.showDangerZone&&!ae&&d.createElement(a.di,{when:a.TA.ATTRIBUTE_DELETE},d.createElement(s.DangerZoneGroup,{sectionHeader:oe("common:dangerZone"),"data-testid":"".concat(p,"-danger-zone-group")},d.createElement(s.DangerZone,{actionTitle:oe("console:manage.features.claims.local.dangerZone.actionTitle"),header:oe("console:manage.features.claims.local.dangerZone.header"),subheader:oe("console:manage.features.claims.local.dangerZone.subheader"),onActionClick:function(){return T(!0)},"data-testid":"".concat(p,"-local-claim-delete-danger-zone")}))))};function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){V(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function V(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $(e){return function(e){if(Array.isArray(e))return Q(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||W(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(o.push(a.value),!t||o.length!==t);i=!0);}catch(e){l=!0,r=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||W(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W(e,t){if(e){if("string"===typeof e)return Q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Q(e,t):void 0}}function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}G.defaultProps={"data-testid":"local-claims-basic-details-edit"};var Y=function(e){var t=e.claim,n=e.update,u=e["data-testid"],p=(0,f.I0)(),g=q((0,d.useState)([]),2),v=g[0],h=g[1],b=q((0,d.useState)(!1),2),S=b[0],A=b[1],C=q((0,c.useTrigger)(),2),I=C[0],w=C[1],T=(0,m.$G)().t,P=(0,f.v9)((function(e){var t;return null===e||void 0===e||null===(t=e.auth)||void 0===t?void 0:t.allowedScopes})),R=(0,f.v9)((function(e){return e.config.ui.features}));(0,d.useEffect)((function(){var e=[];e.push({id:"PRIMARY",name:"PRIMARY"}),(0,r.getUserStoreList)(N.h.getState().config.endpoints.userStores).then((function(t){e.push.apply(e,$(t.data)),h(e)})).catch((function(){h(e)}))}),[]);var O=(0,d.useMemo)((function(){var e,t;return!(0,o.hasRequiredScopes)(null===R||void 0===R?void 0:R.attributeDialects,null===R||void 0===R||null===(e=R.attributeDialects)||void 0===e||null===(t=e.scopes)||void 0===t?void 0:t.update,P)}),[R,P]);return d.createElement(s.EmphasizedSegment,{padded:"very"},d.createElement(y.Z,{"data-testid":u},d.createElement(y.Z.Row,{columns:1},d.createElement(y.Z.Column,{tablet:16,computer:12,largeScreen:9,widescreen:6,mobile:16},d.createElement("p",null,T("console:manage.features.claims.local.mappedAttributes.hint")),d.createElement(D.Z,{hidden:!0}),d.createElement(c.Forms,{submitState:I,onSubmit:function(e){var a=F({},t);delete a.id,delete a.dialectURI;var r=F(F({},a),{},{attributeMapping:Array.from(e).map((function(e){var t=q(e,2),n=t[0];return{mappedAttribute:t[1].toString(),userstore:n.toString()}}))});A(!0),(0,E.iC)(t.id,r).then((function(){p((0,l.addAlert)({description:T("console:manage.features.claims.local.notifications.updateClaim.success.description"),level:i.AlertLevels.SUCCESS,message:T("console:manage.features.claims.local.notifications.updateClaim.success.message")})),n()})).catch((function(e){p((0,l.addAlert)({description:(null===e||void 0===e?void 0:e.description)||T("console:manage.features.claims.local.notifications.updateClaim.genericError.description"),level:i.AlertLevels.ERROR,message:(null===e||void 0===e?void 0:e.message)||T("console:manage.features.claims.local.notifications.updateClaim.genericError.message")}))})).finally((function(){A(!1)}))}},d.createElement(y.Z,null,v.map((function(e,n){var a,r;return d.createElement(y.Z.Row,{columns:2,key:n},d.createElement(y.Z.Column,{width:4},e.name),d.createElement(y.Z.Column,{width:12},d.createElement(c.Field,{type:"text",name:e.name,placeholder:T("console:manage.features.claims.local.forms.attribute.placeholder"),required:!0,requiredErrorMessage:T("console:manage.features.claims.local.forms.attribute.requiredErrorMessage"),value:null===t||void 0===t||null===(a=t.attributeMapping)||void 0===a||null===(r=a.find((function(t){return t.userstore.toLowerCase()===e.name.toLowerCase()})))||void 0===r?void 0:r.mappedAttribute,"data-testid":"".concat(u,"-form-store-name-input"),readOnly:O})))})))))),d.createElement(y.Z.Row,{columns:1},d.createElement(y.Z.Column,{width:8},d.createElement(a.di,{when:a.TA.ATTRIBUTE_EDIT},d.createElement(s.PrimaryButton,{onClick:function(){w()},"data-testid":"".concat(u,"-form-submit-button"),loading:S,disabled:S},T("common:update")))))))};Y.defaultProps={"data-testid":"edit-local-claims-mapped-attributes"};var X=n(66900);function K(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(o.push(a.value),!t||o.length!==t);i=!0);}catch(e){l=!0,r=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return J(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return J(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var ee=function(e){var t,n,a=e.dialect,r=e.attributeType,o=e.onUpdate,u=e["data-testid"],p=(0,f.I0)(),g=(0,m.$G)().t,v=(0,f.v9)((function(e){return e.config})),h=K((0,d.useState)(!1),2),b=h[0],S=h[1];return d.createElement(y.Z,null,d.createElement(y.Z.Row,{columns:1},d.createElement(y.Z.Column,{width:6},d.createElement(c.Forms,{onSubmit:function(e){var t=e.get("dialectURI").toString();S(!0),(0,E.sD)(a.id,t).then((function(){p((0,l.addAlert)({description:g("console:manage.features.claims.dialects.notifications.updateDialect.success.description"),level:i.AlertLevels.SUCCESS,message:g("console:manage.features.claims.dialects.notifications.updateDialect.success.message")})),o(window.btoa(t).replace(/=/g,""))})).catch((function(e){p((0,l.addAlert)({description:(null===e||void 0===e?void 0:e.description)||g("console:manage.features.claims.dialects.notifications.updateDialect.genericError.description"),level:i.AlertLevels.ERROR,message:(null===e||void 0===e?void 0:e.message)||g("console:manage.features.claims.dialects.notifications.updateDialect.genericError.message")}))})).finally((function(){S(!1)}))}},d.createElement(c.Field,{type:"text",placeholder:g("console:manage.features.claims.dialects.forms.dialectURI.placeholder",{type:(0,X.i)(r,!0)}),value:null===a||void 0===a?void 0:a.dialectURI,required:!0,readOnly:!1===(null===(t=v.ui)||void 0===t?void 0:t.isDefaultDialectEditingEnabled)&&Z.Q.DEFAULT_DIALECTS.includes(null===a||void 0===a?void 0:a.id),requiredErrorMessage:g("console:manage.features.claims.dialects.forms.dialectURI.requiredErrorMessage"),label:g("console:manage.features.claims.dialects.forms.dialectURI.label"),name:"dialectURI","data-testid":"".concat(u,"-form-dialect-uri-input")}),!1===(null===(n=v.ui)||void 0===n?void 0:n.isDefaultDialectEditingEnabled)&&Z.Q.DEFAULT_DIALECTS.includes(null===a||void 0===a?void 0:a.id)?null:d.createElement(d.Fragment,null,d.createElement(D.Z,{hidden:!0}),d.createElement(s.PrimaryButton,{type:"submit","data-testid":"".concat(u,"-form-submit-button"),loading:b,disabled:b},g("console:manage.features.claims.dialects.forms.submit")))))))};function te(e){return function(e){if(Array.isArray(e))return re(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ae(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ne(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(o.push(a.value),!t||o.length!==t);i=!0);}catch(e){l=!0,r=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||ae(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ae(e,t){if(e){if("string"===typeof e)return re(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?re(e,t):void 0}}function re(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}ee.defaultProps={attributeType:Z.Q.OTHERS,"data-testid":"edit-dialect-details"};var oe=function(e){var t,n=e.claimID,a=e.update,o=e.dialectID,u=e.submit,p=e.claimURI,g=e.wizard,v=e.onSubmit,h=e.addedClaim,b=e.externalClaims,S=e.attributeType,A=e["data-testid"],C=ne((0,d.useState)(),2),I=C[0],w=C[1],T=ne((0,d.useState)(null),2),P=T[0],R=T[1],O=ne((0,d.useState)(),2),L=O[0],U=O[1],D=ne((0,d.useState)(!1),2),x=D[0],Z=D[1],M=(0,f.I0)(),k=(0,m.$G)().t;(0,d.useEffect)((function(){Z(!0);var e={"exclude-identity-claims":_.applicationConfig.excludeIdentityClaims,filter:null,limit:null,offset:null,sort:null};(0,r.getAllLocalClaims)(e).then((function(e){Z(!1),w((0,N.fS)(e,"displayName",!0))})).catch((function(e){var t,n,a,r;M((0,l.addAlert)({description:(null===e||void 0===e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.description)||k("console:manage.features.claims.local.notifications.getClaims.genericError.description"),level:i.AlertLevels.ERROR,message:(null===e||void 0===e||null===(a=e.response)||void 0===a||null===(r=a.data)||void 0===r?void 0:r.message)||k("console:manage.features.claims.local.notifications.getClaims.genericError.message")}))})),g||(0,E.g0)(o,n).then((function(e){R(e)})).catch((function(e){M((0,l.addAlert)({description:(null===e||void 0===e?void 0:e.description)||k("console:manage.features.claims.external.notifications.getExternalAttribute.genericError.description",{type:(0,X.i)(S)}),level:i.AlertLevels.ERROR,message:(null===e||void 0===e?void 0:e.message)||k("console:manage.features.claims.external.notifications.getExternalAttribute.genericError.message")}))}))}),[]),(0,d.useEffect)((function(){if(b&&I&&(P||h)){var e=te(I);b.forEach((function(t){e=te(j(t.mappedLocalClaimURI,e))})),e.unshift(z()),U(e)}}),[b,I,P,h]);var j=function(e,t){var n=t||I;return null===n||void 0===n?void 0:n.filter((function(t){return t.claimURI!==e}))},z=function(){return I.find((function(e){return g?(null===e||void 0===e?void 0:e.claimURI)===(null===h||void 0===h?void 0:h.mappedLocalClaimURI):(null===e||void 0===e?void 0:e.claimURI)===(null===P||void 0===P?void 0:P.mappedLocalClaimURI)}))};return d.createElement(c.Forms,{onSubmit:function(e){g?(v(function(e){var t=h.claimURI.split(":");if(t.length>1){var n=t.filter((function(e,n){return n<t.length-1})).join(":")+":"+e.get("claimURI");e.set("claimURI",n)}return e}(e)),a()):(0,E.DW)(o,n,{claimURI:p,mappedLocalClaimURI:e.get("localClaim").toString()}).then((function(){M((0,l.addAlert)({description:k("console:manage.features.claims.external.notifications.updateExternalAttribute.success.description",{type:(0,X.i)(S)}),level:i.AlertLevels.SUCCESS,message:k("console:manage.features.claims.external.notifications.updateExternalAttribute.success.message",{type:(0,X.i)(S)})})),a()})).catch((function(e){M((0,l.addAlert)({description:(null===e||void 0===e?void 0:e.description)||k("console:manage.features.claims.external.notifications.updateExternalAttribute.genericError.description",{type:(0,X.i)(S)}),level:i.AlertLevels.ERROR,message:(null===e||void 0===e?void 0:e.message)||k("console:manage.features.claims.external.notifications.updateExternalAttribute.genericError.message")}))}))},submitState:u},d.createElement(y.Z,null,d.createElement(y.Z.Row,{columns:g?2:1},g&&d.createElement(y.Z.Column,{width:8},d.createElement(c.Field,{name:"claimURI",label:k("console:manage.features.claims.external.forms.attributeURI.label",{type:(0,X.i)(S,!0)}),required:!0,requiredErrorMessage:k("console:manage.features.claims.external.forms.attributeURI.label",{type:(0,X.i)(S,!0)}),placeholder:k("console:manage.features.claims.external.forms.attributeURI.label",{type:(0,X.i)(S)}),type:"text",value:function(){var e=h.claimURI.split(":");return e.length>1?e[e.length-1]:h.claimURI}(),"data-testid":"".concat(A,"-form-claim-uri-input"),validation:function(e,t){var n,a=function(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=ae(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw o}}}}(b);try{for(a.s();!(n=a.n()).done;){if(n.value.claimURI===e){t.isValid=!1,t.errorMessages.push(k("console:manage.features.claims.external.forms.attributeURI.validationErrorMessages.duplicateName",{type:(0,X.i)(S)}));break}}}catch(e){a.e(e)}finally{a.f()}}})),d.createElement(y.Z.Column,{width:8},d.createElement(c.Field,{type:"dropdown",name:"localClaim",label:k("console:manage.features.claims.external.forms.localAttribute.label"),required:!0,requiredErrorMessage:k("console:manage.features.claims.external.forms.localAttribute.requiredErrorMessage"),placeholder:k("console:manage.features.claims.external.forms.attributeURI.placeholder"),search:!0,loading:x,value:g?h.mappedLocalClaimURI:null===P||void 0===P?void 0:P.mappedLocalClaimURI,children:null!==(t=null===L||void 0===L?void 0:L.map((function(e,t){return{key:t,text:d.createElement("div",{className:"multiline"},null===e||void 0===e?void 0:e.displayName,d.createElement(s.Code,{className:"description",compact:!0,withBackground:!1},null===e||void 0===e?void 0:e.claimURI)),value:null===e||void 0===e?void 0:e.claimURI}})))&&void 0!==t?t:[],"data-testid":"".concat(A,"-local-claim-dropdown")})))))};oe.defaultProps={attributeType:Z.Q.OTHERS,"data-testid":"edit-external-claim"};var ie=n(345),le=n(85027),ce=n(99104),se=n(87303);function ue(e,t,n,a,r,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(a,r)}function de(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function i(e){ue(o,a,r,i,l,"next",e)}function l(e){ue(o,a,r,i,l,"throw",e)}i(void 0)}))}}function me(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(o.push(a.value),!t||o.length!==t);i=!0);}catch(e){l=!0,r=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return fe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var pe=function(e){var t,n,a,r,o,i,l,u,f,g=e.submitState,h=e.onSubmit,E=e.values,b=e.claimURIBase,S=e.validateMapping,A=e.setValidateMapping,C=e["data-testid"],I=me((0,d.useState)(""),2),w=I[0],T=I[1],P=me((0,d.useState)(!1),2),R=P[0],O=P[1],L=me((0,d.useState)(!1),2),U=L[0],D=L[1],x=me((0,d.useState)(!1),2),Z=x[0],M=x[1],k=me((0,d.useState)(!1),2),j=k[0],z=k[1],H=me((0,d.useState)(!1),2),G=H[0],B=H[1],F=me((0,d.useState)(!1),2),V=F[0],$=F[1],q=me((0,d.useState)(!1),2),W=q[0],Q=q[1],Y=me((0,d.useState)(!0),2),X=Y[0],K=Y[1],J=me((0,d.useState)(!0),2),ee=J[0],te=J[1],ne=me((0,d.useState)(!1),2),ae=ne[0],re=ne[1],oe=me((0,d.useState)(null===E||void 0===E||null===(t=E.get("oidc"))||void 0===t?void 0:t.toString()),2),ie=oe[0],le=oe[1],ue=me((0,d.useState)(null===E||void 0===E||null===(n=E.get("scim"))||void 0===n?void 0:n.toString()),2),fe=ue[0],pe=ue[1],ge=me((0,d.useState)(!1),2),ve=ge[0],he=ge[1],ye=(0,d.useRef)(null),Ee=(0,d.useRef)(null),be=(0,d.useRef)(null),Se=(0,d.useRef)(null),Ae=(0,d.useRef)(null),Ce=(0,d.useRef)(null),Ie=(0,d.useRef)(null),we=(0,d.useRef)(null),Te=(0,m.$G)().t;(0,d.useEffect)((function(){var e,t;O((null===E||void 0===E||null===(e=E.get("supportedByDefault"))||void 0===e?void 0:e.length)>0),T(null===E||void 0===E||null===(t=E.get("claimURI"))||void 0===t?void 0:t.toString())}),[E]),(0,d.useEffect)((function(){if(!ee||!X){var e=Ee.current.children[0].children[1].children[0];e.focus(),e.blur(),K(!0),te(!0)}}),[ee,X]);var Pe=function(e,t){t.current=setTimeout((function(){return e(!0)}),500)},Re=function(e,t){clearTimeout(t.current),e(!1)};return d.createElement(c.Forms,{onSubmit:function(e){var t,n,a,r,o,i,l={claimURI:b+"/"+e.get("claimURI").toString().trim(),description:null===(t=e.get("description"))||void 0===t?void 0:t.toString(),displayName:e.get("name").toString(),displayOrder:e.get("displayOrder")?parseInt(null===(n=e.get("displayOrder"))||void 0===n?void 0:n.toString()):"0",readOnly:(null===(a=e.get("readOnly"))||void 0===a?void 0:a.length)>0,regEx:null===(r=e.get("regularExpression"))||void 0===r?void 0:r.toString(),required:(null===(o=e.get("required"))||void 0===o?void 0:o.length)>0,supportedByDefault:(null===(i=e.get("supportedByDefault"))||void 0===i?void 0:i.length)>0};if(_.attributeConfig.localAttributes.createWizard.customWIzard){if(ae)return;if(""===ie)return;""!==fe&&e.set("scim",fe),e.set("oidc",ie)}X&&ee&&!S&&h(l,e)},submitState:g},d.createElement(y.Z,null,_.attributeConfig.localAttributes.createWizard.customWIzard&&d.createElement(d.Fragment,null,d.createElement(y.Z.Row,{columns:1},d.createElement(y.Z.Column,{width:8},d.createElement(c.Field,{type:"text",name:"claimURI",label:Te("console:manage.features.claims.local.forms.attributeID.label"),className:"mb-1",required:!0,requiredErrorMessage:Te("console:manage.features.claims.local.forms.attributeID.requiredErrorMessage"),placeholder:Te("console:manage.features.claims.local.forms.attributeID.placeholder"),value:null===E||void 0===E||null===(a=E.get("claimURI"))||void 0===a?void 0:a.toString(),maxLength:30,loading:S,listen:function(e){T(e.get("claimURI").toString()),le(e.get("claimURI").toString().replace(/\./g,"")),pe(e.get("claimURI").toString().replace(/\./g,"")),he(!1)},onMouseOver:function(){Pe(M,Ce)},onMouseOut:function(){Re(M,Ce)},validation:function(e,t){if(""===e)return K(!0),void te(!0);var n=!0;return(!e.match(/^\w+$/)||e.length>30)&&(n=!1),n?X&&ee?(A(!0),void(_.attributeConfig.localAttributes.createWizard.checkOIDCAvailability&&_.attributeConfig.localAttributes.checkAttributeNameAvailability(e,"BOTH").then((function(e){A(!1),e.has("SCIM")&&te(e.get("SCIM")),e.has("OIDC")&&K(e.get("OIDC"))})))):(t.isValid=!1,void t.errorMessages.push(Te("console:manage.features.claims.dialects.forms.fields.attributeName.validation.alreadyExists"))):(t.isValid=!1,void t.errorMessages.push(Te("console:manage.features.claims.dialects.forms.fields.attributeName.validation.invalid")))},ref:Ee,"data-testid":"".concat(C,"-form-claim-uri-input")}),d.createElement(v.Z,{content:Te("console:manage.features.claims.local.forms.attributeHint"),inverted:!0,open:Z,onClose:function(){Re(M,Ce)},position:"bottom left",context:Ee}),d.createElement(ce.Z,{className:"mb-3 ml-0"},d.createElement("em",null,"Attribute URI"),":\xa0","".concat(b,"/").concat(w||""))),d.createElement(y.Z.Column,{width:16},d.createElement(se.Z,{fluid:!0},d.createElement(se.Z.Content,null,d.createElement(se.Z.Header,{className:"mb-2"},Te("extensions:manage.attributes.generatedAttributeMapping.title")),d.createElement(se.Z.Meta,{className:"mb-5"},Te("extensions:manage.attributes.generatedAttributeMapping.description")),d.createElement(se.Z.Description,{className:"mt-1 mb-1"},W&&d.createElement(s.Message,{className:"mb-4",size:"tiny",type:"error",content:"The SCIM mapping value entered contains illegal characters. Only alphabets, numbers, `_` are allowed."}),V&&d.createElement(s.Message,{className:"mb-4",size:"tiny",type:"error",content:"The OpenID Connect mapping value entered contains illegal characters. Only alphabets, numbers, `#`, and `_` are allowed."}),d.createElement(y.Z,{verticalAlign:"middle"},d.createElement(y.Z.Row,{columns:2},d.createElement(y.Z.Column,{width:5},d.createElement(s.GenericIcon,{transparent:!0,verticalAlign:"middle",rounded:!0,icon:(0,N.r2)().oidc,spaced:"right",size:"micro",floated:"left"}),d.createElement("span",null,Te("extensions:manage.attributes.generatedAttributeMapping.OIDCProtocol"))),d.createElement(y.Z.Column,{width:11},d.createElement(s.InlineEditInput,{maxLength:30,text:ie,validation:"^[A-za-z0-9#_]+$",errorHandler:function(e){$(e)},onEdit:function(e){re(e)},onChangesSaved:function(){var e=de(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}return le(t),e.next=4,_.attributeConfig.localAttributes.checkAttributeNameAvailability(t,"OIDC").then((function(e){K(e.get("OIDC"))}));case 4:$(!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}))),!ve&&d.createElement(y.Z.Row,{columns:3},d.createElement(y.Z.Column,{width:3},d.createElement(s.GenericIcon,{transparent:!0,verticalAlign:"middle",rounded:!0,icon:(0,N.r2)().scim,spaced:"right",size:"micro",floated:"left"}),d.createElement("span",null,Te("extensions:manage.attributes.generatedAttributeMapping.SCIMProtocol"))),d.createElement(y.Z.Column,{width:11},d.createElement(s.InlineEditInput,{maxLength:30,textPrefix:"urn:scim:wso2:schema:",validation:"^[a-zA-Z0-9_-]*$",errorHandler:function(e){Q(e)},onEdit:function(e){re(e)},onChangesSaved:function(){var e=de(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}return pe(t),e.next=4,_.attributeConfig.localAttributes.checkAttributeNameAvailability(t,"SCIM").then((function(e){te(e.get("SCIM"))}));case 4:Q(!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),text:fe})),d.createElement(y.Z.Column,{width:2},fe?d.createElement(v.Z,{trigger:d.createElement(p.Z,{name:"trash alternate",link:!0,onClick:function(){pe(""),he(!0)}}),content:"Remove Mapping",position:"top center",size:"mini",hideOnScroll:!0,inverted:!0}):null))))))))),d.createElement(y.Z.Row,{columns:_.attributeConfig.localAttributes.createWizard.customWIzard?1:2},d.createElement(y.Z.Column,{width:8},d.createElement(c.Field,{onMouseOver:function(){Pe(D,Ae)},onMouseOut:function(){Re(D,Ae)},type:"text",name:"name",label:Te("console:manage.features.claims.local.forms.name.label"),required:!0,requiredErrorMessage:Te("console:manage.features.claims.local.forms.name.requiredErrorMessage"),placeholder:Te("console:manage.features.claims.local.forms.name.placeholder"),value:null===E||void 0===E||null===(r=E.get("name"))||void 0===r?void 0:r.toString(),maxLength:30,ref:ye,"data-testid":"".concat(C,"-form-name-input")}),d.createElement(v.Z,{content:Te("console:manage.features.claims.local.forms.nameHint"),inverted:!0,open:U,trigger:d.createElement("span",null),onClose:function(){Re(D,Ae)},position:"bottom left",context:ye}),_.attributeConfig.localAttributes.createWizard.customWIzard&&d.createElement(s.Hint,null,Te("extensions:manage.attributes.displayNameHint"))),!_.attributeConfig.localAttributes.createWizard.customWIzard&&d.createElement(y.Z.Column,{width:8},d.createElement(c.Field,{type:"text",name:"claimURI",label:Te("console:manage.features.claims.local.forms.attributeID.label"),required:!0,requiredErrorMessage:Te("console:manage.features.claims.local.forms.attributeID.requiredErrorMessage"),placeholder:Te("console:manage.features.claims.local.forms.attributeID.placeholder"),value:null===E||void 0===E||null===(o=E.get("claimURI"))||void 0===o?void 0:o.toString(),maxLength:30,listen:function(e){T(e.get("claimURI").toString())},onMouseOver:function(){Pe(M,Ce)},onMouseOut:function(){Re(M,Ce)},ref:Ee,"data-testid":"".concat(C,"-form-claim-uri-input")}),d.createElement(v.Z,{content:Te("console:manage.features.claims.local.forms.attributeHint"),inverted:!0,open:Z,trigger:d.createElement("p",null),onClose:function(){Re(M,Ce)},position:"bottom left",context:Ee}),w?d.createElement(ce.Z,null,d.createElement("em",null,"Attribute URI"),":\xa0",b+"/"+w):null)),d.createElement(y.Z.Row,{columns:2},!_.attributeConfig.localAttributes.createWizard.showOnlyMandatory&&d.createElement(y.Z.Column,{width:8},d.createElement(c.Field,{type:"textarea",name:"description",label:Te("console:manage.features.claims.local.forms.description.label"),required:!1,requiredErrorMessage:"",placeholder:Te("console:manage.features.claims.local.forms.description.placeholder"),value:null===E||void 0===E||null===(i=E.get("description"))||void 0===i?void 0:i.toString(),"data-testid":"".concat(C,"-form-description-input")})),!_.attributeConfig.localAttributes.createWizard.showOnlyMandatory||_.attributeConfig.localAttributes.createWizard.showRegularExpression&&d.createElement(y.Z.Column,{width:8},d.createElement(c.Field,{type:"text",name:"regularExpression",label:Te("console:manage.features.claims.local.forms.regEx.label"),required:!1,requiredErrorMessage:"",placeholder:Te("console:manage.features.claims.local.forms.regEx.placeholder"),value:null===E||void 0===E||null===(l=E.get("regularExpression"))||void 0===l?void 0:l.toString(),onMouseOver:function(){Pe(z,Ie)},onMouseOut:function(){Re(z,Ie)},ref:be,"data-testid":"".concat(C,"-form-regex-input")}),d.createElement(v.Z,{content:Te("console:manage.features.claims.local.forms.regExHint"),inverted:!0,open:j,trigger:d.createElement("span",null),onClose:function(){Re(z,Ie)},position:"bottom left",context:be}))),!_.attributeConfig.localAttributes.createWizard.showOnlyMandatory&&d.createElement(y.Z.Row,{columns:1},d.createElement(y.Z.Column,{width:16},d.createElement(c.Field,{type:"checkbox",name:"supportedByDefault",required:!1,requiredErrorMessage:"",children:[{label:Te("console:manage.features.claims.local.forms.supportedByDefault.label"),value:"Support"}],value:null===E||void 0===E?void 0:E.get("supportedByDefault"),listen:function(e){O((null===e||void 0===e?void 0:e.get("supportedByDefault").length)>0)},"data-testid":"".concat(C,"-form-supported-by-default-checkbox")}))),R&&_.attributeConfig.localAttributes.createWizard.showDisplayOrder&&d.createElement(y.Z.Row,{columns:16},d.createElement(y.Z.Column,{width:8},d.createElement(c.Field,{type:"number",min:"0",name:"displayOrder",label:Te("console:manage.features.claims.local.forms.displayOrder.label"),required:!1,requiredErrorMessage:"",placeholder:Te("console:manage.features.claims.local.forms.displayOrder.placeholder"),value:null!==(u=null===E||void 0===E||null===(f=E.get("displayOrder"))||void 0===f?void 0:f.toString())&&void 0!==u?u:"0",onMouseOver:function(){Pe(B,we)},onMouseOut:function(){Re(B,we)},ref:Se,"data-testid":"".concat(C,"-form-display-order-input")}),d.createElement(v.Z,{content:Te("console:manage.features.claims.local.forms.displayOrderHint"),inverted:!0,open:G,trigger:d.createElement("span",null),onClose:function(){Re(B,we)},position:"bottom left",context:Se}))),!_.attributeConfig.localAttributes.createWizard.showOnlyMandatory&&d.createElement(y.Z.Row,{columns:1},d.createElement(y.Z.Column,{width:16},d.createElement(c.Field,{type:"checkbox",name:"required",required:!1,requiredErrorMessage:"",children:[{label:Te("console:manage.features.claims.local.forms.required.label"),value:"Required"}],value:null===E||void 0===E?void 0:E.get("required"),"data-testid":"".concat(C,"-form-required-checkbox")}))),!_.attributeConfig.localAttributes.createWizard.showOnlyMandatory||_.attributeConfig.localAttributes.createWizard.showReadOnlyAttribute&&d.createElement(y.Z.Row,{column:1},d.createElement(y.Z.Column,null,d.createElement(c.Field,{type:"checkbox",name:"readOnly",required:!1,requiredErrorMessage:"",children:[{label:Te("console:manage.features.claims.local.forms.readOnly.label"),value:"ReadOnly"}],value:null===E||void 0===E?void 0:E.get("readOnly"),"data-testid":"".concat(C,"-form-readonly-checkbox")})))))};function ge(e){return function(e){if(Array.isArray(e))return ye(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||he(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ve(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(o.push(a.value),!t||o.length!==t);i=!0);}catch(e){l=!0,r=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||he(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function he(e,t){if(e){if("string"===typeof e)return ye(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ye(e,t):void 0}}function ye(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}pe.defaultProps={currentStep:0,"data-testid":"local-claim-basic-details-form"};var Ee=function(e){var t=e.onSubmit,n=e.submitState,a=e.values,o=e["data-testid"],i=ve((0,d.useState)([]),2),l=i[0],s=i[1],u=(0,f.v9)((function(e){return e.config.ui.hiddenUserStores})),p=(0,m.$G)().t;return(0,d.useEffect)((function(){var e=[];_.attributeConfig.localAttributes.createWizard.showPrimaryUserStore&&e.push({description:"",enabled:!0,id:"PRIMARY",name:"PRIMARY",self:""}),(0,r.getUserStoreList)(N.h.getState().config.endpoints.userStores).then((function(t){u&&u.length>0?t.data.map((function(t){u.length>0&&!u.includes(t.name)&&e.push(t)})):e.push.apply(e,ge(t.data)),s(e)})).catch((function(){s(e)}))}),[]),d.createElement(y.Z,{"data-testid":o},d.createElement(y.Z.Row,{columns:1},d.createElement(y.Z.Column,{width:14},d.createElement("h4",null,p("console:manage.features.claims.local.wizard.steps.mapAttributes")),d.createElement("p",null,p("console:manage.features.claims.local.mappedAttributes.hint")),d.createElement(D.Z,{hidden:!0}),d.createElement(D.Z,{hidden:!0}),d.createElement(c.Forms,{submitState:n,onSubmit:function(e){var n={attributeMapping:Array.from(e).map((function(e){var t=ve(e,2),n=t[0];return{mappedAttribute:t[1],userstore:n}}))};t(n,e)}},d.createElement(y.Z,null,l.map((function(e,t){var n;return d.createElement(d.Fragment,null,(null===e||void 0===e?void 0:e.enabled)&&d.createElement(y.Z.Row,{columns:2,key:t},d.createElement(y.Z.Column,{className:"centered-text",width:4},e.name),d.createElement(y.Z.Column,{width:12},d.createElement(c.Field,{type:"text",name:e.name,placeholder:p("console:manage.features.claims.local.forms.attribute.placeholder"),required:!0,requiredErrorMessage:p("console:manage.features.claims.local.forms.attribute.requiredErrorMessage"),value:null===a||void 0===a||null===(n=a.get(e.name))||void 0===n?void 0:n.toString(),"data-testid":"".concat(o,"-form-store-name-input")}))))})))))))};Ee.defaultProps={"data-testid":"mapped-attributes"};var be=n(22946),Se=n(58704),Ae=function(e){var t,n=e.data,a=e["data-testid"],r=(0,m.$G)().t,o=function(e,t){return d.createElement(y.Z.Row,{className:"summary-field",columns:2},d.createElement(y.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},d.createElement("div",{className:"label"},e)),d.createElement(y.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},d.createElement("div",{className:"value"},t)))},i=function(e){return d.createElement(be.Z.Item,null,d.createElement(ce.Z,{basic:!0,circular:!0},e))};return d.createElement(y.Z,{className:"wizard-summary","data-testid":a},d.createElement(y.Z.Row,null,d.createElement(y.Z.Column,{mobile:16,tablet:16,computer:16,textAlign:"center"},d.createElement("div",{className:"general-details"},d.createElement("h3",null,n.displayName),d.createElement("div",{className:"description"},n.description)))),d.createElement(y.Z.Row,{columns:1},d.createElement(y.Z.Column,{textAlign:"center"},d.createElement(be.Z,null,n.supportedByDefault&&i(r("console:manage.features.claims.local.wizard.summary.supportedByDefault")),n.required&&i(r("console:manage.features.claims.local.wizard.summary.required")),n.readOnly&&i(r("console:manage.features.claims.local.wizard.summary.readOnly"))))),n.claimURI?o(r("console:manage.features.claims.local.wizard.summary.attributeURI"),d.createElement(U.Z.Field,null,d.createElement(s.CopyInputField,{value:n?null===n||void 0===n?void 0:n.claimURI:""}))):null,n.displayOrder?o(r("console:manage.features.claims.local.wizard.summary.displayOrder"),n.displayOrder):null,n.regEx?o(r("console:manage.features.claims.local.wizard.summary.regEx"),n.regEx):null,(null===(t=n.attributeMapping)||void 0===t?void 0:t.length)>0?o("Mapped attributes",d.createElement(Se.Z,null,d.createElement(Se.Z.Header,null,d.createElement(Se.Z.Row,null,d.createElement(Se.Z.HeaderCell,null,r("console:manage.features.claims.local.wizard.summary.userstore")),d.createElement(Se.Z.HeaderCell,null,r("console:manage.features.claims.local.wizard.summary.attribute")))),d.createElement(Se.Z.Body,null,n.attributeMapping.map((function(e,t){return d.createElement(Se.Z.Row,{key:t,columns:2},d.createElement(Se.Z.Cell,null,e.userstore),d.createElement(Se.Z.Cell,null,e.mappedAttribute))}))))):null)};Ae.defaultProps={"data-testid":"local-claims-summary"};var Ce=function(e){var t,n=e.submitState,a=e.onSubmit,r=e.values,o=e["data-testid"],i=(0,m.$G)().t;return d.createElement(c.Forms,{onSubmit:function(e){a(e)},submitState:n},d.createElement(c.Field,{type:"text",name:"dialectURI",label:i("console:manage.features.claims.dialects.forms.dialectURI.label"),required:!0,requiredErrorMessage:i("console:manage.features.claims.dialects.forms.dialectURI.requiredErrorMessage"),placeholder:i("console:manage.features.claims.dialects.forms.dialectURI.placeholder"),value:null===r||void 0===r||null===(t=r.get("dialectURI"))||void 0===t?void 0:t.toString(),"data-testid":"".concat(o,"-form-dialect-uri-input")}))};Ce.defaultProps={"data-testid":"dialect-details"};var Ie=n(87863),we=n(87289),Te=n(73881),Pe=n(97763),Re=n(19074);function Oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(n),!0).forEach((function(t){Ue(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ue(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function De(e,t,n,a,r,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(a,r)}function _e(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(o.push(a.value),!t||o.length!==t);i=!0);}catch(e){l=!0,r=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return xe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var Ne=function(e){var t=e.open,n=e.onClose,a=e.update,o=e.claimURIBase,u=e["data-testid"],g=_e((0,d.useState)(0),2),v=g[0],h=g[1],b=_e((0,d.useState)(null),2),S=b[0],A=b[1],C=_e((0,d.useState)(null),2),I=C[0],w=C[1],T=_e((0,d.useState)(null),2),P=T[0],R=T[1],O=_e((0,d.useState)(null),2),L=O[0],U=O[1],D=_e((0,d.useState)(!1),2),x=D[0],M=D[1],k=_e((0,d.useState)(!1),2),j=k[0],z=k[1],H=_e((0,d.useState)(!1),2),G=H[0],B=H[1],F=_e((0,d.useState)(!1),2),V=F[0],$=F[1],q=_e((0,d.useState)(!1),2),W=q[0],Q=q[1],Y=_e((0,d.useState)(null),2),X=Y[0],K=Y[1],J=(0,f.v9)((function(e){return e.config.ui.hiddenUserStores})),ee=_e((0,c.useTrigger)(),2),te=ee[0],ne=ee[1],ae=_e((0,c.useTrigger)(),2),re=ae[0],oe=ae[1],ie=(0,f.I0)(),ce=(0,m.$G)().t,se=_e((0,s.useWizardAlert)(),3),ue=se[0],de=se[1],me=se[2],fe=N.lD.getInstance();(0,d.useEffect)((function(){var e=!1;J&&J.length>0?_.attributeConfig.localAttributes.isUserStoresHidden(J).then((function(t){t.map((function(t){t.enabled&&(e=!0)})),M(t.length>0&&e)})):M(!0)}),[J]),(0,d.useEffect)((function(){W&&V&&X&&(Pe.m.push({pathname:Te.$x.getPaths().get("LOCAL_CLAIMS_EDIT").replace(":id",X),search:Z.Q.NEW_LOCAL_CLAIM_URL_SEARCH_PARAM}),z(!1),n(),a())}),[W,V,X]);var ge=function(){var e,t=(e=regeneratorRuntime.mark((function e(t,r,o){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!_.attributeConfig.localAttributes.createCustomDialect){e.next=3;break}return e.next=3,_.attributeConfig.localAttributes.isSCIMCustomDialectAvailable().then((function(e){""===e&&(0,E.CM)(_.attributeConfig.localAttributes.customDialectURI)}));case 3:z(!0),(0,E.ij)(t).then((function(e){if(fe.publish("manage-attribute-add-new-attribute"),ie((0,l.addAlert)({description:ce("console:manage.features.claims.local.notifications.addLocalClaim.success.description"),level:i.AlertLevels.SUCCESS,message:ce("console:manage.features.claims.local.notifications.addLocalClaim.success.message")})),_.attributeConfig.localAttributes.mapClaimToCustomDialect&&r?(o?$(!0):_.attributeConfig.localAttributes.isSCIMCustomDialectAvailable().then((function(e){(0,E.wg)(e,{claimURI:"".concat(_.attributeConfig.localAttributes.customDialectURI,":").concat(r.get("scim")),mappedLocalClaimURI:t.claimURI}).then((function(){ve()})).finally((function(){return $(!0)}))})),_.attributeConfig.localAttributes.getDialect(Z.Q.OIDC_MAPPING[0]).then((function(e){(0,E.wg)(e.id,{claimURI:"".concat(r.get("oidc")),mappedLocalClaimURI:t.claimURI}).finally((function(){return Q(!0)}))}))):(Q(!0),$(!0)),(0,we.Z)(e.headers.location))n(),a(),z(!1);else{var c=e.headers.location,s=c.substring(c.lastIndexOf("/")+1);K(s)}})).catch((function(e){z(!1),de({description:(null===e||void 0===e?void 0:e.description)||ce("console:manage.features.claims.local.notifications.addLocalClaim.genericError.description"),level:i.AlertLevels.ERROR,message:(null===e||void 0===e?void 0:e.message)||ce("console:manage.features.claims.local.notifications.addLocalClaim.genericError.message")})}));case 5:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function i(e){De(o,a,r,i,l,"next",e)}function l(e){De(o,a,r,i,l,"throw",e)}i(void 0)}))});return function(e,n,a){return t.apply(this,arguments)}}(),ve=function(){var e;ie((0,l.setProfileSchemaRequestLoadingStatus)(!0)),(0,r.getProfileSchemas)(null===(e=N.h.getState().config.endpoint)||void 0===e?void 0:e.schemas).then((function(e){ie((0,l.setSCIMSchemas)(e))})).catch((function(e){var t,n;null!==e&&void 0!==e&&null!==(t=e.response)&&void 0!==t&&null!==(n=t.data)&&void 0!==n&&n.description&&ie((0,l.addAlert)({description:e.response.data.description,level:i.AlertLevels.ERROR,message:ce("console:manage.notifications.getProfileSchema.error.message")})),ie((0,l.addAlert)({description:ce("console:manage.notifications.getProfileSchema.genericError.description"),level:i.AlertLevels.ERROR,message:ce("console:manage.notifications.getProfileSchema.genericError.message")}))})).finally((function(){ie((0,l.setProfileSchemaRequestLoadingStatus)(!1))}))},he=[{content:d.createElement(pe,{submitState:te,validateMapping:G,setValidateMapping:B,onSubmit:function(e,t){var n=Le(Le({},S),e),a=new Map,r=!1;A(n),w(t),t.has("scim")?a.set("scim",t.get("scim").toString()):r=!0,t.has("oidc")&&a.set("oidc",t.get("oidc").toString()),U(a),_.attributeConfig.localAttributes.createWizard.identifyAsCustomAttrib&&(n.properties&&n.properties.length>0?n.properties.push({key:"USER_CUSTOM_ATTRIBUTE",value:"TRUE"}):n.properties=[{key:"USER_CUSTOM_ATTRIBUTE",value:"TRUE"}]),x?h(1):(n.attributeMapping=[{mappedAttribute:n.claimURI.split("/").pop(),userstore:"PRIMARY"}],ge(n,a,r))},values:I,claimURIBase:o,"data-testid":"".concat(u,"-local-claims-basic-details")}),icon:(0,Re.kT)().general,title:ce("console:manage.features.claims.local.wizard.steps.general")},x?{content:d.createElement(Ee,{submitState:re,onSubmit:function(e,t){var n=Le(Le({},S),e);A(n),R(t),_.attributeConfig.localAttributes.createWizard.showPrimaryUserStore||n.attributeMapping.push({mappedAttribute:n.claimURI.split("/").pop(),userstore:"PRIMARY"}),_.attributeConfig.localAttributes.createWizard.showSummary?h(2):ge(n,L)},values:P,"data-testid":"".concat(u,"-mapped-attributes")}),icon:(0,Re.kT)().general,title:ce("console:manage.features.claims.local.wizard.steps.mapAttributes")}:void 0,_.attributeConfig.localAttributes.createWizard.showSummary?{content:d.createElement(Ae,{data:S,"data-testid":"".concat(u,"-local-claims-summary")}),icon:(0,Re.kT)().general,title:ce("console:manage.features.claims.local.wizard.steps.summary")}:void 0].filter((function(e){return void 0!==e})),ye=function(){if(1===he.length&&ne(),2===he.length)switch(v){case 0:ne();break;case 1:oe()}switch(v){case 0:ne();break;case 1:oe();break;case 2:ge(S)}};return d.createElement(le.Z,{dimmer:"blurring",size:"small",className:"wizard application-create-wizard",open:t,onClose:n,"data-testid":u,closeOnDimmerClick:!1},d.createElement(le.Z.Header,{className:"wizard-header"},ce("console:manage.features.claims.local.wizard.header"),I&&I.get("name")?" - "+I.get("name"):""),he.length>1&&d.createElement(le.Z.Content,{className:"steps-container","data-testid":"".concat(u,"-steps")},d.createElement(s.Steps.Group,{current:v},he.map((function(e,t){return d.createElement(s.Steps.Step,{key:t,icon:e.icon,title:e.title,"data-testid":"".concat(u,"-step-").concat(t)})})))),d.createElement(le.Z.Content,{className:"content-container",scrolling:!0},ue&&me,he[v].content),d.createElement(le.Z.Actions,null,d.createElement(y.Z,null,d.createElement(y.Z.Row,{column:1},d.createElement(y.Z.Column,{mobile:8,tablet:8,computer:8},d.createElement(s.LinkButton,{floated:"left",onClick:function(){return n()}},"Cancel")),d.createElement(y.Z.Column,{mobile:8,tablet:8,computer:8},v<he.length-1&&d.createElement(s.PrimaryButton,{floated:"right",onClick:ye,loading:G,"data-testid":"".concat(u,"-next-button")},ce("common:next")," ",d.createElement(p.Z,{name:"arrow right"})),v===he.length-1&&d.createElement(s.PrimaryButton,{floated:"right",onClick:ye,"data-testid":"".concat(u,"-finish-button"),loading:j||G,disabled:j},ce("common:finish")),v>0&&d.createElement(s.LinkButton,{floated:"right",onClick:function(){h(v-1)},"data-testid":"".concat(u,"-previous-button")},d.createElement(p.Z,{name:"arrow left"})," ",ce("common:previous")))))))};function Ze(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=ze(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw o}}}}function Me(e){return function(e){if(Array.isArray(e))return He(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ze(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ke(e,t,n,a,r,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(a,r)}function je(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(o.push(a.value),!t||o.length!==t);i=!0);}catch(e){l=!0,r=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||ze(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ze(e,t){if(e){if("string"===typeof e)return He(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?He(e,t):void 0}}function He(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}Ne.defaultProps={"data-testid":"add-local-claims-wizard"};var Ge=function(e){var t,n,a=e.dialectId,o=e.update,u=e.wizard,p=e.onSubmit,g=e.externalClaims,v=e.triggerSubmit,h=e.attributeType,b=e.claimDialectUri,S=e.mappedLocalClaims,A=e.cancel,C=e["data-testid"],I=je((0,d.useState)(),2),w=I[0],T=I[1],P=je((0,d.useState)(),2),R=P[0],O=P[1],L=je((0,d.useState)(),2),U=L[0],D=L[1],x=je((0,d.useState)([]),2),M=x[0],k=x[1],j=je((0,d.useState)(!1),2),z=j[0],H=j[1],G=je((0,d.useState)(""),2),B=G[0],F=G[1],V=je((0,d.useState)(!0),2),$=V[0],q=V[1],W=je((0,d.useState)(!1),2),Q=W[0],Y=W[1],K=je((0,d.useState)(!1),2),J=K[0],ee=K[1],te=je((0,d.useState)(!0),2),ne=te[0],ae=te[1],re=je((0,d.useState)(!1),2),oe=re[0],ie=re[1],le=je((0,c.useTrigger)(),2),se=le[0],ue=le[1],de=(0,f.I0)(),me=(0,m.$G)().t;(0,d.useEffect)((function(){"oidc"!==h&&b!==_.attributeConfig.localAttributes.customDialectURI&&(M&&R&&0!==M.length&&0!==R.length?ee(!1):ee(!0))}),[M,R]),(0,d.useEffect)((function(){_.SCIMConfigs.serverSupportedClaimsAvailable.includes(b)&&0===(null===M||void 0===M?void 0:M.length)?ie(!0):ie(!1),"oidc"!==h&&b!==_.attributeConfig.localAttributes.customDialectURI?M&&0!==M.length?R&&0!==R.length?ee(!1):ee(!0):ee(!1):"oidc"===h||b!==_.attributeConfig.localAttributes.customDialectURI||R&&0!==R.length?ee(!1):ee(!0)}),[M,R]),(0,d.useEffect)((function(){_.SCIMConfigs.serverSupportedClaimsAvailable.includes(b)?fe().finally():ae(!1)}),[]);var fe=function(){var e,t=(e=regeneratorRuntime.mark((function e(){var t,n,r,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ae(!0),e.prev=1,e.next=4,(0,E.jb)(a);case 4:t=e.sent,k(t.attributes),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),de((0,l.addAlert)({description:(null===e.t0||void 0===e.t0||null===(n=e.t0.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.description)||me("console:manage.features.claims.local.notifications.getClaims.genericError.description"),level:i.AlertLevels.ERROR,message:(null===e.t0||void 0===e.t0||null===(o=e.t0.response)||void 0===o||null===(c=o.data)||void 0===c?void 0:c.message)||me("console:manage.features.claims.local.notifications.getClaims.genericError.message")}));case 11:return e.prev=11,ae(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})),function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function i(e){ke(o,a,r,i,l,"next",e)}function l(e){ke(o,a,r,i,l,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}();(0,d.useEffect)((function(){if(g&&g.length&&!ne){var e=new Set(g.map((function(e){return e.claimURI})));k(Me((null!==M&&void 0!==M?M:[]).filter((function(t){return!e.has(t)}))))}}),[g,ne]),(0,d.useEffect)((function(){q(!0),(0,r.getAllLocalClaims)({"exclude-identity-claims":!0,filter:null,limit:null,offset:null,sort:null}).then((function(e){var t=e.sort((function(e,t){return e.displayName>t.displayName?1:-1}));T(t),D(t),q(!1)})).catch((function(e){var t,n,a,r;de((0,l.addAlert)({description:(null===e||void 0===e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.description)||me("console:manage.features.claims.local.notifications.getClaims.genericError.description"),level:i.AlertLevels.ERROR,message:(null===e||void 0===e||null===(a=e.response)||void 0===a||null===(r=a.data)||void 0===r?void 0:r.message)||me("console:manage.features.claims.local.notifications.getClaims.genericError.message")})),q(!1)}))}),[]),(0,d.useEffect)((function(){if(g&&w){var e=Me(w);null===S||void 0===S||S.forEach((function(t){e=Me(pe(t,e))})),D(e),O(e)}}),[g,z]),(0,d.useEffect)((function(){w&&H(!0)}),[w]);var pe=function(e,t){var n=t||w;return null===n||void 0===n?void 0:n.filter((function(t){return t.claimURI!==e}))};return $&&ne?d.createElement(s.ContentLoader,null):d.createElement(c.Forms,{onSubmit:function(e){u?(p(e),F(""),ue()):(Y(!0),(0,E.wg)(a,{claimURI:e.get("claimURI").toString(),mappedLocalClaimURI:e.get("localClaim").toString()}).then((function(){de((0,l.addAlert)({description:me("console:manage.features.claims.external.notifications.addExternalAttribute.success.description",{type:(0,X.i)(h)}),level:i.AlertLevels.SUCCESS,message:me("console:manage.features.claims.external.notifications.addExternalAttribute.success.message",{type:(0,X.i)(h,!0)})})),ue(),o(),!u&&A&&A()})).catch((function(e){de((0,l.addAlert)({description:(null===e||void 0===e?void 0:e.description)||me("console:manage.features.claims.external.notifications.addExternalAttribute.genericError.description",{type:(0,X.i)(h)}),level:i.AlertLevels.ERROR,message:(null===e||void 0===e?void 0:e.message)||me("console:manage.features.claims.external.notifications.addExternalAttribute.genericError.message")}))})).finally((function(){Y(!1)})))},resetState:se,submitState:v},d.createElement(y.Z,null,d.createElement(y.Z.Row,{columns:2},d.createElement(y.Z.Column,{width:8},_.SCIMConfigs.serverSupportedClaimsAvailable.includes(b)?d.createElement(c.Field,{name:"claimURI",label:me("console:manage.features.claims.external.forms.attributeURI.label",{type:(0,X.i)(h,!0)}),required:!0,requiredErrorMessage:me("console:manage.features.claims.external.forms.attributeURI.requiredErrorMessage",{type:(0,X.i)(h,!0)}),placeholder:me("console:manage.features.claims.external.forms.attributeURI.placeholder",{type:(0,X.i)(h)}),type:"dropdown","data-testid":"".concat(C,"-form-claim-uri-input"),listen:function(e){F(e.get("claimURI").toString())},validation:function(e,t){var n,a=Ze(g);try{for(a.s();!(n=a.n()).done;){if(n.value.claimURI===e){t.isValid=!1,t.errorMessages.push(me("console:manage.features.claims.external.forms.attributeURI.validationErrorMessages.duplicateName",{type:(0,X.i)(h)}));break}}}catch(e){a.e(e)}finally{a.f()}h===Z.Q.OIDC&&(e.toString().match(/^[A-za-z0-9#_]+$/)||(t.isValid=!1,t.errorMessages.push(me("console:manage.features.claims.external.forms.attributeURI.validationErrorMessages.invalidName",{type:(0,X.i)(h)}))))},children:null!==(t=null===M||void 0===M?void 0:M.map((function(e,t){return{key:t,text:e.split(":").pop(),value:e.split(":").pop()}})))&&void 0!==t?t:[]}):d.createElement(c.Field,{name:"claimURI",label:me("console:manage.features.claims.external.forms.attributeURI.label",{type:(0,X.i)(h,!0)}),required:!0,requiredErrorMessage:me("console:manage.features.claims.external.forms.attributeURI.requiredErrorMessage",{type:(0,X.i)(h,!0)}),placeholder:me("console:manage.features.claims.external.forms.attributeURI.placeholder",{type:(0,X.i)(h)}),type:"text",listen:function(e){F(e.get("claimURI").toString())},maxLength:30,"data-testid":"".concat(C,"-form-claim-uri-input"),validation:function(e,t){var n,a=Ze(g);try{for(a.s();!(n=a.n()).done;){if(n.value.claimURI===e){t.isValid=!1,t.errorMessages.push(me("console:manage.features.claims.external.forms.attributeURI.validationErrorMessages.duplicateName",{type:(0,X.i)(h)}));break}}}catch(e){a.e(e)}finally{a.f()}h===Z.Q.OIDC&&(e.toString().match(/^[A-za-z0-9#_]+$/)||(t.isValid=!1,t.errorMessages.push(me("console:manage.features.claims.external.forms.attributeURI.validationErrorMessages.invalidName",{type:(0,X.i)(h)}))))}})),d.createElement(y.Z.Column,{width:8},d.createElement(c.Field,{loading:$,type:"dropdown",name:"localClaim",label:me("console:manage.features.claims.external.forms.localAttribute.label"),required:!0,requiredErrorMessage:me("console:manage.features.claims.external.forms.localAttribute.requiredErrorMessage"),placeholder:me("console:manage.features.claims.external.forms.localAttribute.placeholder"),search:function(e){return e},onSearchChange:function(e,t){var n=t.searchQuery,a=R.filter((function(e){return e.displayName.toLowerCase().includes(n.toLowerCase())}));D(a)},onClose:function(){D(R)},children:null!==(n=null===U||void 0===U?void 0:U.map((function(e,t){return{key:t,text:d.createElement("div",{className:"multiline"},null===e||void 0===e?void 0:e.displayName,d.createElement(s.Code,{className:"description",compact:!0,withBackground:!1},e.claimURI)),value:e.claimURI}})))&&void 0!==n?n:[],"data-testid":"".concat(C,"-form-local-claim-dropdown")})),d.createElement(y.Z.Column,{width:16},h!==Z.Q.OIDC&&h!==Z.Q.OTHERS&&d.createElement(ce.Z,{className:"mb-3 mt-2 ml-0"},d.createElement("em",null,"Attribute URI"),":\xa0",B?"".concat(b,":\n                                                ").concat(B||""):""))),!$&&!ne&&(oe||J)&&d.createElement(y.Z.Row,{columns:1},d.createElement(y.Z.Column,{width:16,textAlign:"left",verticalAlign:"top"},d.createElement(s.Message,{visible:!0,type:"warning",content:d.createElement(d.Fragment,null,oe?d.createElement(m.cC,{i18nKey:"console:manage.features.claims.external.forms.emptyMessage"},"All the SCIM attributes are mapped to local claims."):d.createElement(d.Fragment,null,d.createElement(m.cC,{i18nKey:"console:manage.features.claims.external.forms.warningMessage"},"There are no local attributes available for mapping. Add new local attributes from"),d.createElement(s.Link,{external:!1,onClick:function(){return N.m8.push(N.$x.getPaths().get("LOCAL_CLAIMS"))}}," here"),"."))}))),u&&d.createElement(y.Z.Row,{columns:1},d.createElement(y.Z.Column,{width:16,textAlign:"right",verticalAlign:"top"},d.createElement(s.PrimaryButton,{type:"submit","data-testid":"".concat(C,"-form-submit-button"),loading:Q,disabled:Q||J||oe},me("console:manage.features.claims.external.forms.submit"))))))};function Be(e){return function(e){if(Array.isArray(e))return $e(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ve(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(o.push(a.value),!t||o.length!==t);i=!0);}catch(e){l=!0,r=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||Ve(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ve(e,t){if(e){if("string"===typeof e)return $e(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$e(e,t):void 0}}function $e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}Ge.defaultProps={attributeType:Z.Q.OTHERS,claimDialectUri:Z.Q.CUSTOM_MAPPING,"data-testid":"add-external-claims"};var qe=function(e){var t=e.open,n=e.onClose,a=e.update,r=e.attributeType,o=e["data-testid"],u=Fe((0,d.useState)(0),2),g=u[0],v=u[1],h=Fe((0,d.useState)(null),2),b=h[0],S=h[1],A=Fe((0,d.useState)([]),2),C=A[0],I=A[1],w=Fe((0,d.useState)(!1),2),T=w[0],P=w[1],R=Fe((0,c.useTrigger)(),2),O=R[0],L=R[1],U=Fe((0,c.useTrigger)(),2),D=U[0],_=U[1],x=(0,f.I0)(),N=(0,m.$G)().t,Z=Fe((0,s.useWizardAlert)(),3),M=Z[0],k=Z[1],j=Z[2],z=[{content:d.createElement(Ce,{submitState:O,onSubmit:function(e){v(1),S(e)},values:b,"data-testid":"".concat(o,"-dialect-details")}),icon:(0,Re.P2)().general,title:N("console:manage.features.claims.dialects.wizard.steps.dialectURI")},{content:d.createElement(Ke,{submitState:D,onSubmit:function(e){v(2),I(e)},values:C,onExternalClaimsChanged:function(e){I(Be(e))},"data-testid":"".concat(o,"-external-claims"),attributeType:r}),icon:(0,Re.P2)().general,title:N("console:manage.features.claims.dialects.wizard.steps.externalAttribute")},{content:d.createElement(et,{dialectURI:null===b||void 0===b?void 0:b.get("dialectURI").toString(),claims:C,"data-testid":"".concat(o,"-summary"),attributeType:r}),icon:(0,Re.P2)().general,title:N("console:manage.features.claims.dialects.wizard.steps.summary")}],H=function(){switch(g){case 0:L();break;case 1:_();break;case 2:P(!0),(0,E.CM)(null===b||void 0===b?void 0:b.get("dialectURI").toString()).then((function(){var e=window.btoa(null===b||void 0===b?void 0:b.get("dialectURI").toString()).replace(/=/g,""),t=[];C.forEach((function(n){t.push((0,E.wg)(e,n))})),Promise.all(t).then((function(){x((0,l.addAlert)({description:N("console:manage.features.claims.dialects.notifications.addDialect.success.description"),level:i.AlertLevels.SUCCESS,message:N("console:manage.features.claims.dialects.notifications.addDialect.success.message")}))})).catch((function(){x((0,l.addAlert)({description:N("console:manage.features.claims.dialects.notifications.addDialect.genericError.description"),level:i.AlertLevels.WARNING,message:N("console:manage.features.claims.dialects.notifications.addDialect.genericError.message")}))})).finally((function(){n(),a()}))})).catch((function(e){k({description:(null===e||void 0===e?void 0:e.description)||N("console:manage.features.claims.dialects.notifications.addDialect.error.description"),level:i.AlertLevels.ERROR,message:(null===e||void 0===e?void 0:e.message)||N("console:manage.features.claims.dialects.notifications.addDialect.error.message")})})).finally((function(){P(!1)}))}};return d.createElement(le.Z,{dimmer:"blurring",size:"small",className:"wizard application-create-wizard",open:t,onClose:n,"data-testid":o,closeOnDimmerClick:!1},d.createElement(le.Z.Header,{className:"wizard-header"},N("console:manage.features.claims.dialects.wizard.header"),b&&b.get("dialectURI")?" - "+b.get("dialectURI"):""),d.createElement(le.Z.Content,{className:"steps-container","data-testid":"".concat(o,"-steps")},d.createElement(s.Steps.Group,{current:g},z.map((function(e,t){return d.createElement(s.Steps.Step,{key:t,icon:e.icon,title:e.title,"data-testid":"".concat(o,"-step-").concat(t)})})))),d.createElement(le.Z.Content,{className:"content-container",scrolling:!0},M&&j,z[g].content),d.createElement(le.Z.Actions,null,d.createElement(y.Z,null,d.createElement(y.Z.Row,{column:1},d.createElement(y.Z.Column,{mobile:8,tablet:8,computer:8},d.createElement(s.LinkButton,{floated:"left",onClick:function(){return n()},"data-testid":"".concat(o,"-cancel-button")},N("common:cancel"))),d.createElement(y.Z.Column,{mobile:8,tablet:8,computer:8},g<z.length-1&&d.createElement(s.PrimaryButton,{floated:"right",onClick:H,"data-testid":"".concat(o,"-next-button")},N("common:next")," ",d.createElement(p.Z,{name:"arrow right"})),g===z.length-1&&d.createElement(s.PrimaryButton,{floated:"right",onClick:H,"data-testid":"".concat(o,"-finish-button"),loading:T,disabled:T},N("common:finish")),g>0&&d.createElement(s.LinkButton,{floated:"right",onClick:function(){v(g-1)},"data-testid":"".concat(o,"-previous-button")},d.createElement(p.Z,{name:"arrow left"})," ",N("common:previous")))))))};function We(e){return function(e){if(Array.isArray(e))return Xe(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ye(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(o.push(a.value),!t||o.length!==t);i=!0);}catch(e){l=!0,r=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||Ye(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ye(e,t){if(e){if("string"===typeof e)return Xe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xe(e,t):void 0}}function Xe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}qe.defaultProps={attributeType:Z.Q.OTHERS,"data-testid":"add-dialect-wizard"};var Ke=function(e){var t=e.onSubmit,n=e.submitState,a=e.values,r=e.onExternalClaimsChanged,o=e.shouldShowInitialValues,i=e.attributeType,l=e.claimDialectUri,c=e.wizard,f=e.dialectId,p=e.mappedLocalClaims,g=e.onClaimListChange,v=e["data-testid"],h=Qe((0,d.useState)([]),2),E=h[0],b=h[1],S=Qe((0,d.useState)([]),2),A=S[0],C=S[1],I=Qe((0,d.useState)([]),2),w=I[0],T=I[1],P=(0,d.useRef)(!0),R=(0,d.useRef)(!0),O=(0,m.$G)().t;(0,d.useEffect)((function(){T(p)}),[p]),(0,d.useEffect)((function(){P.current?P.current=!1:t(L())}),[n]),(0,d.useEffect)((function(){a&&(b(a),R.current&&(C(a),R.current=!1))}),[a]),(0,d.useEffect)((function(){"function"===typeof g&&(E.length===A.length?g(!0):g(!1))}),[E]);var L=function(){return o?E:(0,Ie.Z)(E,A,u.Z)};return d.createElement(y.Z,null,d.createElement(y.Z.Row,{columns:2},d.createElement(y.Z.Column,{width:16},d.createElement(Ge,{wizard:!0,onSubmit:function(e){var t={claimURI:"scim"===i?"".concat(l,":").concat(e.get("claimURI").toString()):e.get("claimURI").toString(),mappedLocalClaimURI:e.get("localClaim").toString()},n=[].concat(We(E),[t]);T((function(e){return[].concat(We(e),[t.mappedLocalClaimURI])})),b(n),r&&r(n)},externalClaims:E,"data-testid":"".concat(v,"-add-external-claims"),attributeType:i,claimDialectUri:l,dialectId:f,mappedLocalClaims:w}),d.createElement(D.Z,{hidden:!0}),L().length>0?d.createElement(ct,{isLoading:!1,list:L(),localClaim:rt.ADD_EXTERNAL,onEdit:function(e,t){var n,a=We(E),o=function(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Ye(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw o}}}}(a);try{for(o.s();!(n=o.n()).done;){var i=n.value;(0,u.Z)(e,i)&&(Z.Q.CLAIM_URI_ATTRIBUTE_KEY in e&&(i.claimURI=t.get("claimURI").toString(),i.mappedLocalClaimURI=t.get("localClaim").toString()))}}catch(e){o.e(e)}finally{o.f()}b(a),r&&r(a)},onDelete:function(e){var t=e,n=E.filter((function(t){return!(0,u.Z)(e,t)}));b(n),T(w.filter((function(e){return e!==t.mappedLocalClaimURI}))),r&&r(n)},"data-testid":"".concat(v,"-list"),attributeType:i,isEditable:!1}):c&&d.createElement(s.EmptyPlaceholder,{title:O("console:manage.features.claims.external.placeholders.empty.title",{type:(0,X.i)(i,!0)}),subtitle:[O("console:manage.features.claims.external.placeholders.empty.subtitle",{type:(0,X.i)(i)})],image:(0,N.jF)().emptyList,imageSize:"tiny","data-testid":"".concat(v,"-empty-placeholder")}))))};Ke.defaultProps={attributeType:Z.Q.OTHERS,"data-testid":"external-claims",mappedLocalClaims:[],shouldShowInitialValues:!0,wizard:!0};var Je=n(10148),et=function(e){var t=e.dialectURI,n=e.claims,a=e.attributeType,r=e["data-testid"],o=(0,m.$G)().t;return d.createElement(y.Z,{className:"wizard-summary","data-testid":r},d.createElement(y.Z.Row,{columns:1},d.createElement(y.Z.Column,{mobile:16,tablet:16,computer:16,textAlign:"center"},d.createElement("div",{className:"general-details"},d.createElement("h3",null,t)))),d.createElement(y.Z.Row,{columns:1},d.createElement(y.Z.Column,{width:16},d.createElement(Se.Z,null,d.createElement(Se.Z.Header,null,d.createElement(Se.Z.Row,null,d.createElement(Se.Z.HeaderCell,null),d.createElement(Se.Z.HeaderCell,null,o("console:manage.features.claims.dialects.wizard.summary.externalAttribute",{type:(0,X.i)(a,!0)})),d.createElement(Se.Z.HeaderCell,null,o("console:manage.features.claims.dialects.wizard.summary.mappedAttribute")))),d.createElement(Se.Z.Body,null,n.map((function(e,t){return d.createElement(Se.Z.Row,{key:t,columns:2},d.createElement(Se.Z.Cell,null,d.createElement(Je.Z,{floated:"left",verticalAlign:"middle",rounded:!0,centered:!0,size:"mini"},d.createElement(s.AnimatedAvatar,null),d.createElement("span",{className:"claims-letter"},function(e){var t=e.replace("http://","").split("/");return t[t.length-1][0].toLocaleUpperCase()}(e.claimURI)))),d.createElement(Se.Z.Cell,null,e.claimURI),d.createElement(Se.Z.Cell,null,e.mappedLocalClaimURI))})),0===n.length&&d.createElement(Se.Z.Row,null,d.createElement(Se.Z.Cell,{colSpan:3,textAlign:"center"},d.createElement(s.Message,{type:"warning",content:o("console:manage.features.claims.dialects.wizard.summary.notFound")}))))))))};function tt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(o.push(a.value),!t||o.length!==t);i=!0);}catch(e){l=!0,r=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return nt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}et.defaultProps={attributeType:Z.Q.OTHERS,"data-testid":"add-dialect-summary"};var at=function(e){var t,n,a,r,u,g=e.attributeType,v=e.attributeUri,h=e.mappedLocalClaims,b=e.updateMappedClaims,S=e["data-testid"],A=(0,m.$G)().t,C=[{key:0,text:A("console:manage.features.claims.external.attributes.attributeURI",{type:(0,X.i)(g,!0,!0)}),value:"claimURI"},{key:1,text:A("console:manage.features.claims.external.attributes.mappedClaim"),value:"mappedLocalClaimURI"}],I=(0,f.v9)((function(e){return e.config.ui.features})),w=(0,f.v9)((function(e){var t;return null===e||void 0===e||null===(t=e.auth)||void 0===t?void 0:t.allowedScopes})),T=tt((0,d.useState)(0),2),P=T[0],R=T[1],O=tt((0,d.useState)(N.ru.DEFAULT_RESOURCE_LIST_ITEM_LIMIT),2),L=O[0],U=O[1],x=tt((0,d.useState)([]),2),Z=x[0],M=x[1],k=tt((0,d.useState)(C[0]),2),j=k[0],z=k[1],H=tt((0,d.useState)(!0),2),G=H[0],B=H[1],F=tt((0,d.useState)(!1),2),V=F[0],$=F[1],q=tt((0,d.useState)(""),2),W=q[0],Q=q[1],Y=tt((0,d.useState)(!1),2),K=Y[0],J=Y[1],ee=tt((0,d.useState)(!0),2),te=ee[0],ne=ee[1],ae=tt((0,d.useState)(!1),2),re=ae[0],oe=ae[1],ce=tt((0,c.useTrigger)(),2),se=ce[0],ue=ce[1],de=tt((0,c.useTrigger)(),2),me=de[0],fe=de[1],pe=(0,f.I0)(),ge=e.dialectID,ve=e.claims,he=e.update,ye=e.isLoading,Ee=N.lD.getInstance();(0,d.useEffect)((function(){ve&&(M(ve),Se())}),[ve]),(0,d.useEffect)((function(){M((0,N.fS)(Z,j.value,G))}),[j,G]);var be=function(e){try{var t=(0,N.gQ)(ve,e,j.value,G);M(t),Q(e),R(0),fe()}catch(e){pe((0,l.addAlert)({description:null===e||void 0===e?void 0:e.message,level:i.AlertLevels.ERROR,message:A("console:manage.features.claims.external.advancedSearch.error")}))}},Se=function(){J(!K),Q(""),M(ve)};return d.createElement(s.ListLayout,{advancedSearch:d.createElement(N.nC,{onFilter:be,filterAttributeOptions:[{key:0,text:A("console:manage.features.claims.external.attributes.attributeURI",{type:(0,X.i)(g,!0,!0)}),value:"claimURI"},{key:1,text:A("console:manage.features.claims.external.attributes.mappedClaim"),value:"mappedLocalClaimURI"}],filterAttributePlaceholder:A("console:manage.features.claims.external.advancedSearch.form.inputs.filterAttribute.placeholder",{type:(0,X.i)(g,!0,!0)}),filterConditionsPlaceholder:A("console:manage.features.claims.external.advancedSearch.form.inputs.filterCondition.placeholder",{type:(0,X.i)(g,!0,!0)}),filterValuePlaceholder:A("console:manage.features.claims.external.advancedSearch.form.inputs.filterValue.placeholder"),placeholder:A("console:manage.features.claims.external.advancedSearch.placeholder",{type:(0,X.i)(g,!0,!0)}),defaultSearchAttribute:"claimURI",defaultSearchOperator:"co",triggerClearQuery:K,"data-testid":"".concat(S,"-list-advanced-search")}),currentListSize:L,listItemLimit:L,onItemsPerPageDropdownChange:function(e,t){U(t.value)},onPageChange:function(e,t){R((t.activePage-1)*L)},onSortStrategyChange:function(e,t){z(C.filter((function(e){return e.value===t.value}))[0])},onSortOrderChange:function(e){B(e)},resetPagination:me,showPagination:!0,sortOptions:C,sortStrategy:j,showTopActionPanel:ye||!(!W&&(null===Z||void 0===Z?void 0:Z.length)<=0),totalPages:Math.ceil((null===Z||void 0===Z?void 0:Z.length)/L),totalListSize:null===Z||void 0===Z?void 0:Z.length,rightActionPanel:(null===_.attributeConfig||void 0===_.attributeConfig||null===(t=_.attributeConfig.editAttributeMappings)||void 0===t?void 0:t.showAddExternalAttributeButton(ge))&&(0,o.hasRequiredScopes)(null===I||void 0===I?void 0:I.attributeDialects,null===I||void 0===I||null===(n=I.attributeDialects)||void 0===n||null===(a=n.scopes)||void 0===a?void 0:a.create,w)&&d.createElement(s.PrimaryButton,{loading:ve&&v!==(null===(r=ve[0])||void 0===r?void 0:r.claimDialectURI),onClick:function(){var e;v===(null===(e=ve[0])||void 0===e?void 0:e.claimDialectURI)&&$(!0)},disabled:V||ve&&v!==(null===(u=ve[0])||void 0===u?void 0:u.claimDialectURI),"data-testid":"".concat(S,"-list-layout-add-button")},d.createElement(p.Z,{name:"add"}),A("console:manage.features.claims.external.pageLayout.edit.primaryAction",{type:(0,X.i)(g,!0)})),"data-testid":"".concat(S,"-list-layout")},V&&d.createElement(le.Z,{open:V,onClose:function(){$(!1)},dimmer:"blurring",size:"small","data-testid":"".concat(S,"-add-external-claim-modal"),closeOnDimmerClick:!1},d.createElement(le.Z.Header,null,A("console:manage.features.claims.external.pageLayout.edit.header",{type:(0,X.i)(g,!0)})),d.createElement(le.Z.Content,{scrolling:!0,className:"edit-attribute-mapping"},d.createElement(Ke,{"data-testid":"".concat(S,"-add-external-claims"),onSubmit:function(e){!function(e){var t=e.map((function(e){return(0,E.wg)(ge,{claimURI:e.claimURI,mappedLocalClaimURI:e.mappedLocalClaimURI})}));oe(!0),Promise.all(t).then((function(){pe((0,l.addAlert)({description:A("console:manage.features.claims.external.notifications.addExternalAttribute.success.description"),level:i.AlertLevels.SUCCESS,message:A("console:manage.features.claims.external.notifications.addExternalAttribute.success.message")})),he(),b(!0)})).catch((function(e){pe((0,l.addAlert)({description:(null===e||void 0===e?void 0:e.description)||A("console:manage.features.claims.external.notifications.addExternalAttribute.genericError.description"),level:i.AlertLevels.ERROR,message:(null===e||void 0===e?void 0:e.message)||A("console:manage.features.claims.external.notifications.addExternalAttribute.genericError.message")}))})).finally((function(){oe(!1),$(!1)}))}(e)},submitState:se,values:ve,shouldShowInitialValues:!1,attributeType:g,claimDialectUri:v,dialectId:ge,wizard:!1,mappedLocalClaims:h,onClaimListChange:function(e){ne(e)}})),d.createElement(le.Z.Actions,null,d.createElement(s.LinkButton,{onClick:function(){$(!1)},"data-testid":"".concat(S,"-add-external-claim-modal-cancel-button")},A("common:cancel")),d.createElement(s.PrimaryButton,{disabled:te||re,loading:re,onClick:function(){Ee.publish("manage-attribute-mappings-add-new-attribute",{type:(0,ie.Z)(g)}),ue()},"data-testid":"".concat(S,"-add-external-claim-modal-save-button")},A("common:save")))),d.createElement(y.Z,{columns:1},d.createElement(y.Z.Column,{width:16},d.createElement(D.Z,{hidden:!0}),d.createElement(ct,{advancedSearch:d.createElement(N.nC,{onFilter:be,filterAttributeOptions:[{key:0,text:A("console:manage.features.claims.external.attributes.attributeURI",{type:(0,X.i)(g,!0,!0)}),value:"claimURI"},{key:1,text:A("console:manage.features.claims.external.attributes.mappedClaim"),value:"mappedLocalClaimURI"}],filterAttributePlaceholder:A("console:manage.features.claims.external.advancedSearch.form.inputs.filterAttribute.placeholder",{type:(0,X.i)(g,!0,!0)}),filterConditionsPlaceholder:A("console:manage.features.claims.external.advancedSearch.form.inputs.filterCondition.placeholder"),filterValuePlaceholder:A("console:manage.features.claims.external.advancedSearch.form.inputs.filterValue.placeholder"),placeholder:A("console:manage.features.claims.external.advancedSearch.placeholder",{type:(0,X.i)(g,!0,!0)}),defaultSearchAttribute:"claimURI",defaultSearchOperator:"co",triggerClearQuery:K,"data-testid":"".concat(S,"-list-advanced-search")}),showTableHeaders:!0,isLoading:ye,list:function(e,t,n){return null===e||void 0===e?void 0:e.slice(n,n+t)}(Z,L,P),localClaim:rt.EXTERNAL,update:function(){return he()},dialectID:ge,onEmptyListPlaceholderActionClick:function(){return $(!0)},onSearchQueryClear:Se,searchQuery:W,"data-testid":"".concat(S,"-list"),attributeType:g,featureConfig:I,updateMappedClaims:b}))))};at.defaultProps={attributeType:Z.Q.OTHERS,"data-testid":"edit-external-claims",isLoading:!0};var rt,ot=n(12558);function it(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(o.push(a.value),!t||o.length!==t);i=!0);}catch(e){l=!0,r=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return lt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}!function(e){e[e.LOCAL=0]="LOCAL",e[e.EXTERNAL=1]="EXTERNAL",e[e.DIALECT=2]="DIALECT",e[e.ADD_EXTERNAL=3]="ADD_EXTERNAL"}(rt||(rt={}));var ct=function(e){var t=e.showTableHeaders,n=e.advancedSearch,y=e.defaultListItemLimit,b=e.featureConfig,S=e.list,A=e.localClaim,C=e.update,I=e.dialectID,w=e.onEdit,T=e.onDelete,P=e.isLoading,R=e.onEmptyListPlaceholderActionClick,O=e.onListItemClick,L=e.onSearchQueryClear,U=e.selection,D=e.searchQuery,x=e.attributeType,M=e.showListItemActions,k=e.isEditable,j=e.updateMappedClaims,z=e["data-testid"],H=it((0,d.useState)(!1),2),G=H[0],B=H[1],F=it((0,d.useState)(null),2),V=F[0],$=F[1],q=it((0,d.useState)(null),2),W=q[0],Q=q[1],Y=it((0,d.useState)([]),2),X=Y[0],K=Y[1],J=it((0,d.useState)(""),2),ee=J[0],te=J[1],ne=it((0,d.useState)(void 0),2),ae=ne[0],re=ne[1],ie=(0,f.v9)((function(e){var t;return null===e||void 0===e||null===(t=e.auth)||void 0===t?void 0:t.allowedScopes})),le=(0,f.I0)(),ce=it((0,c.useTrigger)(),2),se=ce[0],ue=ce[1],de=(0,d.useRef)([]),me=(0,d.useRef)([]),fe=(0,m.$G)().t,pe=it((0,s.useConfirmationModalAlert)(),3),ge=pe[0],ve=pe[1],he=pe[2],ye="oidc";null===S||void 0===S||S.forEach((function(e,t){de.current.push(de.current[t]||d.createRef()),me.current.push(me.current[t]||d.createRef())})),(0,d.useEffect)((function(){Ee(S)&&(0,ot.GN)(null).then((function(e){K(e)})).catch((function(e){var t,n;le((0,l.addAlert)({description:null!==(t=null===e||void 0===e?void 0:e.description)&&void 0!==t?t:fe("console:manage.features.userstores.notifications.fetchUserstores.genericError.description"),level:i.AlertLevels.ERROR,message:null!==(n=null===e||void 0===e?void 0:e.message)&&void 0!==n?n:fe("console:manage.features.userstores.notifications.fetchUserstores.genericError.message")}))}))}),[JSON.stringify(S)]);var Ee=function(e){return A===rt.LOCAL},be=function(e){return A===rt.DIALECT},Se=function(e){return A===rt.EXTERNAL},Ae=function(){B(!1),Q(null),$(null)},Ce=function(e){(0,E.wf)(e).then((function(){C(),Ae(),j(!0),le((0,l.addAlert)({description:fe("console:manage.features.claims.local.notifications.deleteClaim.success.description"),level:i.AlertLevels.SUCCESS,message:fe("console:manage.features.claims.local.notifications.deleteClaim.success.message")}))})).catch((function(e){le(ve({description:(null===e||void 0===e?void 0:e.description)||fe("console:manage.features.claims.local.notifications.deleteClaim.genericError.description"),level:i.AlertLevels.ERROR,message:(null===e||void 0===e?void 0:e.message)||fe("console:manage.features.claims.local.notifications.deleteClaim.genericError.message")}))}))},Ie=function(e,t){(0,E.q)(e,t).then((function(){C(),_.attributeConfig.localAttributes.isSCIMCustomDialectAvailable().then((function(){we()})),j(!0),Ae(),le((0,l.addAlert)({description:fe("console:manage.features.claims.external.notifications.deleteExternalClaim.success.description"),level:i.AlertLevels.SUCCESS,message:fe("console:manage.features.claims.external.notifications.deleteExternalClaim.success.message")}))})).catch((function(e){le((0,l.addAlert)({description:(null===e||void 0===e?void 0:e.description)||fe("console:manage.features.claims.external.notifications.deleteExternalClaim.genericError.description"),level:i.AlertLevels.ERROR,message:(null===e||void 0===e?void 0:e.message)||fe("console:manage.features.claims.external.notifications.deleteExternalClaim.genericError.message")}))}))},we=function(){var e;le((0,l.setProfileSchemaRequestLoadingStatus)(!0)),(0,r.getProfileSchemas)(null===(e=N.h.getState().config.endpoint)||void 0===e?void 0:e.schemas).then((function(e){le((0,l.setSCIMSchemas)(e))})).catch((function(e){var t,n;null!==e&&void 0!==e&&null!==(t=e.response)&&void 0!==t&&null!==(n=t.data)&&void 0!==n&&n.description&&le((0,l.addAlert)({description:e.response.data.description,level:i.AlertLevels.ERROR,message:fe("console:manage.notifications.getProfileSchema.error.message")})),le((0,l.addAlert)({description:fe("console:manage.notifications.getProfileSchema.genericError.description"),level:i.AlertLevels.ERROR,message:fe("console:manage.notifications.getProfileSchema.genericError.message")}))})).finally((function(){le((0,l.setProfileSchemaRequestLoadingStatus)(!1))}))},Te=function(e){(0,E.Nx)(e).then((function(){C(),Ae(),le((0,l.addAlert)({description:fe("console:manage.features.claims.dialects.notifications.deleteDialect.success.description"),level:i.AlertLevels.SUCCESS,message:fe("console:manage.features.claims.dialects.notifications.deleteDialect.success.message")}))})).catch((function(e){le((0,l.addAlert)({description:(null===e||void 0===e?void 0:e.description)||fe("console:manage.features.claims.dialects.notifications.deleteDialect.genericError.description"),level:i.AlertLevels.ERROR,message:(null===e||void 0===e?void 0:e.message)||fe("console:manage.features.claims.dialects.notifications.deleteDialect.genericError.message")}))}))},Pe=function(e,t){$(e),Q(t),B(!0)},Re=function(){return D?d.createElement(s.EmptyPlaceholder,{action:d.createElement(s.LinkButton,{onClick:L},fe("console:manage.placeholders.emptySearchResult.action")),image:(0,N.jF)().emptySearch,imageSize:"tiny",title:fe("console:manage.placeholders.emptySearchResult.title"),subtitle:[fe("console:manage.placeholders.emptySearchResult.subtitles.0",{query:D}),fe("console:manage.placeholders.emptySearchResult.subtitles.1")],"data-testid":"".concat(z,"-empty-search-placeholder")}):0===(null===S||void 0===S?void 0:S.length)?d.createElement(s.EmptyPlaceholder,{action:_.attributeConfig.attributesPlaceholderAddButton(x)&&d.createElement(a.di,{when:a.TA.SCOPE_WRITE},d.createElement(s.PrimaryButton,{onClick:R},d.createElement(p.Z,{name:"add"}),Ee(S)?fe("console:manage.features.claims.list.placeholders.emptyList.action.local"):be()?fe("console:manage.features.claims.list.placeholders.emptyList.action.dialect"):fe("console:manage.features.claims.list.placeholders.emptyList.action.external"))),image:(0,N.jF)().newList,imageSize:"tiny",title:Ee(S)?fe("console:manage.features.claims.list.placeholders.emptyList.title.local"):be()?fe("console:manage.features.claims.list.placeholders.emptyList.title.dialect"):fe("console:manage.features.claims.list.placeholders.emptyList.title.external"),subtitle:[],"data-testid":"".concat(z,"-empty-placeholder")}):null},Oe=function(e){var t=e.claimURI.split("/");return t[t.length-1]};return d.createElement(d.Fragment,null,G?function(){var e;return e=Ee(W)?{assertion:W.displayName,delete:Ce,message:fe("console:manage.features.claims.list.confirmation.local.message"),name:fe("console:manage.features.claims.list.confirmation.local.name")}:be()?{assertion:W.dialectURI,delete:Te,message:fe("console:manage.features.claims.list.confirmation.dialect.message"),name:fe("console:manage.features.claims.list.confirmation.dialect.name")}:{assertion:W.claimURI,delete:Ie,message:fe("console:manage.features.claims.list.confirmation.external.message")+(x&&x===ye?"If this attribute is attached to any scope, this action will also remove the attribute from the relevant scope.":Z.Q.EMPTY_STRING),name:fe("console:manage.features.claims.list.confirmation.external.name")},d.createElement(s.ConfirmationModal,{onClose:Ae,type:"negative",open:G,assertionHint:fe("console:manage.features.claims.list.confirmation.hint"),assertionType:"checkbox",primaryAction:fe("console:manage.features.claims.list.confirmation.action"),secondaryAction:fe("common:cancel"),onSecondaryActionClick:function(){B(!1),ve(null)},onPrimaryActionClick:function(){V===rt.EXTERNAL?e.delete(I,W.id):e.delete(W.id)},"data-testid":"".concat(z,"-delete-confirmation-modal"),closeOnDimmerClick:!1},d.createElement(s.ConfirmationModal.Header,{"data-testid":"".concat(z,"-delete-confirmation-modal-header")},fe("console:manage.features.claims.list.confirmation.header")),d.createElement(s.ConfirmationModal.Message,{attached:!0,negative:!0,"data-testid":"".concat(z,"-delete-confirmation-modal-message")},fe("console:manage.features.claims.list.confirmation.message",{name:e.name})),d.createElement(s.ConfirmationModal.Content,{"data-testid":"".concat(z,"-delete-confirmation-modal-content")},d.createElement("div",{className:"modal-alert-wrapper"}," ",ge&&he),fe("console:manage.features.claims.list.confirmation.content",{message:e.message})))}():null,d.createElement(s.DataTable,{className:"external-dialects-list",externalSearch:n,isLoading:P,loadingStateOptions:{count:null!==y&&void 0!==y?y:N.ru.DEFAULT_RESOURCE_LIST_ITEM_LIMIT,imageType:"square"},actions:function(){if(M)return Ee(S)?[{icon:function(){var e,t;return(0,o.hasRequiredScopes)(null===b||void 0===b?void 0:b.attributeDialects,null===b||void 0===b||null===(e=b.attributeDialects)||void 0===e||null===(t=e.scopes)||void 0===t?void 0:t.update,ie)?"pencil alternate":"eye"},onClick:function(e,t){N.m8.push(N.$x.getPaths().get("LOCAL_CLAIMS_EDIT").replace(":id",null===t||void 0===t?void 0:t.id))},popupText:function(){var e,t;return(0,o.hasRequiredScopes)(null===b||void 0===b?void 0:b.attributeDialects,null===b||void 0===b||null===(e=b.attributeDialects)||void 0===e||null===(t=e.scopes)||void 0===t?void 0:t.update,ie)?fe("common:edit"):fe("common:view")},renderer:"semantic-icon"},_.attributeConfig.attributes.deleteAction&&{hidden:function(){var e,t;return!(0,o.hasRequiredScopes)(null===b||void 0===b?void 0:b.attributeDialects,null===b||void 0===b||null===(e=b.attributeDialects)||void 0===e||null===(t=e.scopes)||void 0===t?void 0:t.delete,ie)},icon:function(){return"trash alternate"},onClick:function(e,t){return Pe(rt.LOCAL,t)},popupText:function(){return fe("common:delete")},renderer:"semantic-icon"}]:be()?[{hidden:function(){var e,t;return!(0,o.hasRequiredScopes)(null===b||void 0===b?void 0:b.attributeDialects,null===b||void 0===b||null===(e=b.attributeDialects)||void 0===e||null===(t=e.scopes)||void 0===t?void 0:t.create,ie)},icon:function(){return"pencil alternate"},onClick:function(e,t){N.m8.push(N.$x.getPaths().get("EXTERNAL_DIALECT_EDIT").replace(":id",t.id))},popupText:function(){return fe("common:edit")},renderer:"semantic-icon"},_.attributeConfig.attributeMappings.deleteAction&&{hidden:function(){var e,t;return!(0,o.hasRequiredScopes)(null===b||void 0===b?void 0:b.attributeDialects,null===b||void 0===b||null===(e=b.attributeDialects)||void 0===e||null===(t=e.scopes)||void 0===t?void 0:t.delete,ie)},icon:function(){return"trash alternate"},onClick:function(e,t){return Pe(rt.DIALECT,t)},popupText:function(){return fe("common:delete")},renderer:"semantic-icon"}]:Se()?[{hidden:function(e){return ee!==(null===e||void 0===e?void 0:e.id)},icon:function(){return"check"},onClick:function(){return ue()},popupText:function(){return fe("common:update")},renderer:"semantic-icon"},_.attributeConfig.externalAttributes.showActions(I)&&{hidden:function(){var e,t;return _.attributeConfig.externalAttributes.isAttributeEditable?!(0,o.hasRequiredScopes)(null===b||void 0===b?void 0:b.attributeDialects,null===b||void 0===b||null===(e=b.attributeDialects)||void 0===e||null===(t=e.scopes)||void 0===t?void 0:t.create,ie):!_.attributeConfig.externalAttributes.isAttributeEditable},icon:function(e){return _.attributeConfig.externalAttributes.getEditIcon(e,ee)},link:function(e){return _.attributeConfig.externalAttributes.isEditActionClickable(e)},onClick:function(e,t){return _.attributeConfig.externalAttributes.editAttribute(t,ee,te)},popupText:function(e){return _.attributeConfig.externalAttributes.getEditPopupText(e,ee)},renderer:"semantic-icon"},_.attributeConfig.externalAttributes.showDeleteIcon(I,S)&&{hidden:function(e){var t,n;if(!(0,o.hasRequiredScopes)(null===b||void 0===b?void 0:b.attributeDialects,null===b||void 0===b||null===(t=b.attributeDialects)||void 0===t||null===(n=t.scopes)||void 0===n?void 0:n.delete,ie)||_.attributeConfig.externalAttributes.hideDeleteIcon(e))return!0;if(_.attributeConfig.defaultScimMapping&&Object.keys(_.attributeConfig.defaultScimMapping).length>0){var a=_.attributeConfig.defaultScimMapping[e.claimDialectURI];return!(!a||!a.get(e.claimURI))}},icon:function(){return"trash alternate"},onClick:function(e,t){return Pe(rt.EXTERNAL,t)},popupText:function(){return fe("common:delete")},renderer:"semantic-icon"}]:[{hidden:function(e){return!(0,u.Z)(ae,e)},icon:function(){return"check"},onClick:function(){return ue()},popupText:function(){return fe("common:update")},renderer:"semantic-icon"},{hidden:function(){return!k},icon:function(e){return(0,u.Z)(ae,e)?"times":"pencil alternate"},onClick:function(e,t){re(ae?void 0:t)},popupText:function(){return fe("common:edit")},renderer:"semantic-icon"},{icon:function(){return"trash alternate"},onClick:function(e,t){return T(t)},popupText:function(){return fe("common:delete")},renderer:"semantic-icon"}]}(),columns:function(){if(Ee(S))return[{allowToggleVisibility:!1,dataIndex:"displayName",id:"displayName",key:"displayName",render:function(e){var t=function(e){var t,n,a=[];return null===X||void 0===X||X.forEach((function(t){var n,r;null!==(n=null===e||void 0===e||null===(r=e.attributeMapping)||void 0===r?void 0:r.find((function(e){return e.userstore.toLowerCase()===t.name.toLowerCase()})))&&void 0!==n||a.push(t.name)})),null!==(t=null===e||void 0===e||null===(n=e.attributeMapping)||void 0===n?void 0:n.find((function(e){return"PRIMARY"===e.userstore})))&&void 0!==t||a.push("Primary"),a}(e),n=t.length>0;return d.createElement(g.Z,{as:"h6",image:!0},d.createElement(d.Fragment,null,_.attributeConfig.attributes.showUserstoreMappingWarningIcon&&n&&d.createElement(v.Z,{trigger:d.createElement(p.Z,{className:"notification-icon",name:"warning circle",size:"small",color:"red"}),content:d.createElement("div",null,fe("console:manage.features.claims.list.warning"),d.createElement("ul",null,t.map((function(e,t){return d.createElement("li",{key:t},e)})))),inverted:!0}),d.createElement(s.AppAvatar,{image:d.createElement(s.AnimatedAvatar,{name:Oe(e),size:"mini","data-testid":"".concat(z,"-item-image-inner")}),size:"mini",spaced:"right","data-testid":"".concat(z,"-item-image")})),d.createElement(g.Z.Content,null,e.displayName,d.createElement(g.Z.Subheader,null,d.createElement("code",{className:"inline-code compact transparent"},e.claimURI))))},title:fe("console:manage.features.claims.list.columns.name")},{allowToggleVisibility:!1,dataIndex:"action",id:"actions",key:"actions",textAlign:"right",title:Z.Q.EMPTY_STRING}];if(be())return[{allowToggleVisibility:!1,dataIndex:"dialectURI",id:"dialectURI",key:"dialectURI",render:function(e){return d.createElement(g.Z,{image:!0,as:"h6",className:"header-with-icon","data-testid":"".concat(z,"-item-heading")},d.createElement(s.AppAvatar,{image:d.createElement(s.AnimatedAvatar,{name:e.dialectURI,size:"mini","data-testid":"".concat(z,"-item-image-inner")}),size:"mini",spaced:"right","data-testid":"".concat(z,"-item-image")}),d.createElement(g.Z.Content,null,e.dialectURI))},title:fe("console:manage.features.claims.list.columns.dialectURI")},{allowToggleVisibility:!1,dataIndex:"action",id:"actions",key:"actions",textAlign:"right",title:Z.Q.EMPTY_STRING}];if(Se()){return[{allowToggleVisibility:!1,dataIndex:"claimURI",id:"claimURI",key:"claimURI",render:function(e){return d.createElement(g.Z,{image:!0,as:"h6",className:"header-with-icon","data-testid":"".concat(z,"-item-heading")},d.createElement(s.AppAvatar,{image:d.createElement(s.AnimatedAvatar,{name:e.claimURI,size:"mini","data-testid":"".concat(z,"-item-image-inner")}),size:"mini",spaced:"right","data-testid":"".concat(z,"-item-image")}),d.createElement(g.Z.Content,null,e.claimURI))},title:x&&x===ye?"Name":fe("console:manage.features.claims.list.columns.claimURI")},{allowToggleVisibility:!1,dataIndex:"dialectURI",id:"dialectURI",key:"dialectURI",render:function(e){return ee===(null===e||void 0===e?void 0:e.id)?d.createElement(oe,{claimID:e.id,dialectID:I,update:function(){te(""),C()},submit:se,claimURI:e.claimURI,externalClaims:S,"data-testid":"".concat(z,"-edit-external-claim"),attributeType:x}):d.createElement("code",null,e.mappedLocalClaimURI)},title:fe("console:manage.features.claims.list.columns.dialectURI")},function(){var e,t,n,a,r=_.attributeConfig.externalAttributes.showActions(I)&&_.attributeConfig.externalAttributes.isAttributeEditable&&(0,o.hasRequiredScopes)(null===b||void 0===b?void 0:b.attributeDialects,null===b||void 0===b||null===(e=b.attributeDialects)||void 0===e||null===(t=e.scopes)||void 0===t?void 0:t.create,ie),i=_.attributeConfig.externalAttributes.showDeleteIcon(I,S)&&(0,o.hasRequiredScopes)(null===b||void 0===b?void 0:b.attributeDialects,null===b||void 0===b||null===(n=b.attributeDialects)||void 0===n||null===(a=n.scopes)||void 0===a?void 0:a.delete,ie);return r||i}()?{allowToggleVisibility:!1,dataIndex:"action",id:"actions",key:"actions",textAlign:"right",title:Z.Q.EMPTY_STRING}:null].filter(Boolean)}return[{allowToggleVisibility:!1,dataIndex:"claimURI",id:"claimURI",key:"claimURI",render:function(e){return e?(0,u.Z)(ae,e)?d.createElement(oe,{dialectID:I,update:function(){re(void 0)},submit:se,claimURI:e.claimURI,onSubmit:function(t){w(e,t)},wizard:!0,addedClaim:e,externalClaims:S}):d.createElement(g.Z,{image:!0,as:"h6",className:"header-with-icon","data-testid":"".concat(z,"-item-heading")},d.createElement(s.AppAvatar,{name:e.claimURI,image:d.createElement(s.AnimatedAvatar,{name:e.claimURI,size:"mini","data-testid":"".concat(z,"-item-image-inner")}),size:"mini",spaced:"right","data-testid":"".concat(z,"-item-image")}),d.createElement(g.Z.Content,null,e.claimURI,d.createElement(g.Z.Subheader,null,e.mappedLocalClaimURI))):null},title:fe("console:manage.features.claims.list.columns.dialectURI")},{allowToggleVisibility:!1,dataIndex:"action",id:"actions",key:"actions",textAlign:"right",title:Z.Q.EMPTY_STRING}]}(),data:S,onRowClick:function(e,t){var n,a;if((0,o.hasRequiredScopes)(null===b||void 0===b?void 0:b.attributeDialects,null===b||void 0===b||null===(n=b.attributeDialects)||void 0===n||null===(a=n.scopes)||void 0===a?void 0:a.create,ie)){if(Ee(S))N.m8.push(N.$x.getPaths().get("LOCAL_CLAIMS_EDIT").replace(":id",t.id));else if(be())N.m8.push(N.$x.getPaths().get("EXTERNAL_DIALECT_EDIT").replace(":id",t.id));else if(Se()&&_.attributeConfig.externalAttributes.isRowClickable(I,h.Z))_.attributeConfig.externalAttributes.isAttributeEditable&&te(ee?"":t.id);else{if(!k)return;re(t)}O&&O(e,t)}},placeholders:Re(),selectable:U,showHeader:t,transparent:!P&&null!==Re(),"data-testid":z,isRowSelectable:function(e){return _.attributeConfig.isRowSelectable(e)}}))};ct.defaultProps={attributeType:Z.Q.OTHERS,"data-testid":"claims-list",selection:!0,showListItemActions:!0,showTableHeaders:!1}},19074:function(e,t,n){"use strict";n.d(t,{P2:function(){return o},kT:function(){return i},q2:function(){return a}});var a=function(e){return{claims:"".concat(e,"/api/server/v1/claim-dialects"),externalClaims:"".concat(e,"/api/server/v1/claim-dialects/{}/claims"),localClaims:"".concat(e,"/api/server/v1/claim-dialects/local/claims")}},r=n(64408),o=function(){return{general:r.r}},i=function(){return{general:r.r}}},95745:function(e,t,n){"use strict";n.d(t,{Q:function(){return l}});var a=n(25460);function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function o(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=o((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}));i(l,"CLAIM_URI_ATTRIBUTE_KEY","claimURI"),i(l,"DIALECT_STATE_URL_SEARCH_PARAM_KEY","state"),i(l,"NEW_DIALECT_URL_SEARCH_PARAM","?".concat(l.DIALECT_STATE_URL_SEARCH_PARAM_KEY,"=new")),i(l,"LOCAL_CLAIM_STATE_URL_SEARCH_PARAM_KEY","state"),i(l,"NEW_LOCAL_CLAIM_URL_SEARCH_PARAM","?".concat(l.LOCAL_CLAIM_STATE_URL_SEARCH_PARAM_KEY,"=new")),i(l,"ADD_DIALECT_REQUEST_INVALID_STATUS_CODE_ERROR","Received an invalid status code while adding a new dialect."),i(l,"ADD_LOCAL_CLAIM_REQUEST_INVALID_STATUS_CODE_ERROR","Received an invalid status code while adding a new dialect."),i(l,"ATTRIBUTE_DIALECT_IDS",(new Map).set("AXSCHEMA","aHR0cDovL2F4c2NoZW1hLm9yZw").set("EIDAS_LEGAL","aHR0cDovL2VpZGFzLmV1cm9wYS5ldS9hdHRyaWJ1dGVzL2xlZ2FscGVyc29u").set("EIDAS_NATURAL","aHR0cDovL2VpZGFzLmV1cm9wYS5ldS9hdHRyaWJ1dGVzL25hdHVyYWxwZXJzb24").set("OPENID_NET","aHR0cDovL3NjaGVtYS5vcGVuaWQubmV0LzIwMDcvMDUvY2xhaW1z").set("XML_SOAP","aHR0cDovL3NjaGVtYXMueG1sc29hcC5vcmcvd3MvMjAwNS8wNS9pZGVudGl0eQ").set("LOCAL","local").set("OIDC","aHR0cDovL3dzbzIub3JnL29pZGMvY2xhaW0").set("SCIM2_SCHEMAS_CORE","dXJuOmlldGY6cGFyYW1zOnNjaW06c2NoZW1hczpjb3JlOjIuMA").set("SCIM2_SCHEMAS_CORE_USER","dXJuOmlldGY6cGFyYW1zOnNjaW06c2NoZW1hczpjb3JlOjIuMDpVc2Vy").set("SCIM2_SCHEMAS_EXT_ENT_USER","dXJuOmlldGY6cGFyYW1zOnNjaW06c2NoZW1hczpleHRlbnNpb246ZW50ZXJwcmlzZToyLjA6VXNlcg").set("SCIM_SCHEMAS_CORE","dXJuOnNjaW06c2NoZW1hczpjb3JlOjEuMA")),i(l,"DEFAULT_DIALECTS",[l.ATTRIBUTE_DIALECT_IDS.get("AXSCHEMA"),l.ATTRIBUTE_DIALECT_IDS.get("EIDAS_LEGAL"),l.ATTRIBUTE_DIALECT_IDS.get("EIDAS_NATURAL"),l.ATTRIBUTE_DIALECT_IDS.get("OPENID_NET"),l.ATTRIBUTE_DIALECT_IDS.get("LOCAL"),l.ATTRIBUTE_DIALECT_IDS.get("OIDC"),l.ATTRIBUTE_DIALECT_IDS.get("SCIM2_SCHEMAS_CORE"),l.ATTRIBUTE_DIALECT_IDS.get("SCIM2_SCHEMAS_CORE_USER"),l.ATTRIBUTE_DIALECT_IDS.get("SCIM2_SCHEMAS_EXT_ENT_USER"),l.ATTRIBUTE_DIALECT_IDS.get("SCIM_SCHEMAS_CORE")]),i(l,"CUSTOM_MAPPING",a.SCIMConfigs.custom),i(l,"OIDC_MAPPING",[a.SCIMConfigs.oidc]),i(l,"OIDC","oidc"),i(l,"SCIM","scim"),i(l,"OTHERS","others"),i(l,"SCIM_TABS",[{name:"Core Schema",uri:"urn:ietf:params:scim:schemas:core:2.0"},{name:"User Schema",uri:"urn:ietf:params:scim:schemas:core:2.0:User"},{name:"Enterprise Schema",uri:"urn:ietf:params:scim:schemas:extension:enterprise:2.0:User"},{name:"Core 1.0 Schema",uri:"urn:scim:schemas:core:1.0"}]),i(l,"USER_ID_CLAIM_URI","http://wso2.org/claims/userid"),i(l,"USER_NAME_CLAIM_URI","http://wso2.org/claims/username"),i(l,"GROUPS_CLAIM_URI","http://wso2.org/claims/groups"),i(l,"LOCATION_CLAIM_URI","http://wso2.org/claims/location"),i(l,"EMPTY_STRING","")},92138:function(e,t,n){"use strict";n.r(t),n.d(t,{AttributeMappings:function(){return A}});var a=n(3844),r=n(88742),o=n(26278),i=n(96462),l=n(72932),c=n.n(l),s=n(68905),u=n(64805),d=n(83913),m=n(10148),f=n(43264),p=n(67897),g=n(12847),v=(n(55654),n(95745)),h=n(66900);function y(e){return function(e){if(Array.isArray(e))return S(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||b(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(o.push(a.value),!t||o.length!==t);i=!0);}catch(e){l=!0,r=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||b(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){if(e){if("string"===typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(e,t):void 0}}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var A=function(e){var t,n,l=e["data-testid"],b=e.match.params.type,S=(0,d.I0)(),A=(0,d.v9)((function(e){return e.config.ui.listAllAttributeDialects})),C=(0,u.$G)().t,I=(0,i.useDocumentation)().getLink,w=E((0,s.useState)(!0),2),T=w[0],P=w[1],R=E((0,s.useState)(null),2),O=R[0],L=R[1],U=E((0,s.useState)([]),2),D=U[0],_=U[1],x=E((0,s.useState)(!0),2),N=x[0],Z=x[1];(0,s.useEffect)((function(){j()}),[]),(0,s.useEffect)((function(){O&&O.length>0&&N&&(M(O.map((function(e){return e.id}))),Z(!1))}),[O,N]);var M=function(e,t,n,i,l){var s=[];e.forEach((function(e){s.push((0,a.getAllExternalClaims)(e,{filter:l,limit:t,offset:n,sort:i}))})),c().all(s).then((function(e){var t=[];e.forEach((function(e){var n=p.attributeConfig.attributeMappings.getExternalAttributes(b,e);t.push.apply(t,y(n.map((function(e){return e.mappedLocalClaimURI}))))})),_(t)})).catch((function(e){var t,n,a,i,l,c;S((0,o.addAlert)({description:(null===(t=e[0])||void 0===t||null===(n=t.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.description)||C("console:manage.features.claims.dialects.notifications.fetchExternalClaims.genericError.description",{type:(0,h.i)(b)}),level:r.AlertLevels.ERROR,message:(null===(i=e[0])||void 0===i||null===(l=i.response)||void 0===l||null===(c=l.data)||void 0===c?void 0:c.message)||C("console:manage.features.claims.dialects.notifications.fetchExternalClaims.genericError.message")}))})).finally((function(){return P(!1)}))},k=function(){switch(b){case v.Q.OIDC:return C("console:manage.features.claims.attributeMappings.oidc.heading");case v.Q.SCIM:return C("console:manage.features.claims.attributeMappings.scim.heading");default:return C("console:manage.features.claims.attributeMappings.custom.heading")}},j=function(e,t,n,i){P(!0),(0,a.getDialects)({filter:i,limit:e,offset:t,sort:n}).then((function(e){var t=e.filter((function(e){return A?"local"!==e.id:e.id!=v.Q.ATTRIBUTE_DIALECT_IDS.get("LOCAL")&&e.id!=v.Q.ATTRIBUTE_DIALECT_IDS.get("AXSCHEMA")&&e.id!=v.Q.ATTRIBUTE_DIALECT_IDS.get("EIDAS_LEGAL")&&e.id!=v.Q.ATTRIBUTE_DIALECT_IDS.get("EIDAS_NATURAL")&&e.id!=v.Q.ATTRIBUTE_DIALECT_IDS.get("OPENID_NET")&&e.id!=v.Q.ATTRIBUTE_DIALECT_IDS.get("XML_SOAP")&&(p.attributeConfig.attributeMappings.showSCIMCore1||"urn:scim:schemas:core:1.0"!==e.dialectURI)})),n=[];t.forEach((function(e){v.Q.OIDC_MAPPING.includes(e.dialectURI)?b===v.Q.OIDC&&n.push(e):Object.values(v.Q.SCIM_TABS).map((function(e){return e.uri})).includes(e.dialectURI)?b===v.Q.SCIM&&n.push(e):b===v.Q.OTHERS&&n.push(e)})),b===v.Q.SCIM&&p.attributeConfig.showCustomDialectInSCIM&&t.filter((function(e){return e.dialectURI===p.attributeConfig.localAttributes.customDialectURI})).length>0&&n.push(t.filter((function(e){return e.dialectURI===p.attributeConfig.localAttributes.customDialectURI}))[0]),L(n)})).catch((function(e){var t,n,a,i;S((0,o.addAlert)({description:(null===e||void 0===e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.description)||C("console:manage.features.claims.dialects.notifications.fetchDialects.genericError.description"),level:r.AlertLevels.ERROR,message:(null===e||void 0===e||null===(a=e.response)||void 0===a||null===(i=a.data)||void 0===i?void 0:i.message)||C("console:manage.features.claims.dialects.notifications.fetchDialects.genericError.message")}))})).finally((function(){P(!1)}))};return s.createElement(i.PageLayout,{isLoading:T,title:k(),pageTitle:k(),description:function(){switch(b){case v.Q.OIDC:return s.createElement(s.Fragment,null,C("console:manage.features.claims.attributeMappings.oidc.description"),s.createElement(i.DocumentationLink,{link:I("manage.attributes.oidcAttributes.learnMore")},C("common:learnMore")));case v.Q.SCIM:return s.createElement(s.Fragment,null,C("console:manage.features.claims.attributeMappings.scim.description"),s.createElement(i.DocumentationLink,{link:I("manage.attributes.scimAttributes.learnMore")},C("common:learnMore")));default:return C("console:manage.features.claims.attributeMappings.custom.description")}}(),"data-testid":"".concat(l,"-page-layout"),image:function(){switch(b){case v.Q.OIDC:return s.createElement(i.GenericIcon,{verticalAlign:"middle",rounded:!0,icon:(0,g.r2)().oidc,spaced:"right",size:"tiny",floated:"left",transparent:!0});case v.Q.SCIM:return s.createElement(i.GenericIcon,{verticalAlign:"middle",rounded:!0,icon:(0,g.r2)().scim,spaced:"right",size:"tiny",floated:"left"});default:return s.createElement(m.Z,{floated:"left",verticalAlign:"middle",rounded:!0,centered:!0,size:"tiny"},s.createElement(i.AnimatedAvatar,null),s.createElement("span",{className:"claims-letter"},"C"))}}(),backButton:{onClick:function(){g.m8.push(g.$x.getPaths().get("CLAIM_DIALECTS"))},text:C("console:manage.features.claims.local.pageLayout.local.back")}},(null===O||void 0===O?void 0:O.length)>1?s.createElement(i.ResourceTab,{panes:function(){if(b===v.Q.SCIM){var e=[];if(v.Q.SCIM_TABS.forEach((function(t){if(!p.SCIMConfigs.hideCore1Schema||p.SCIMConfigs.scim.core1Schema!==t.uri){var n=null===O||void 0===O?void 0:O.find((function(e){return e.dialectURI===t.uri}));n&&e.push({menuItem:t.name,render:function(){return s.createElement(i.ResourceTab.Pane,{controlledSegmentation:!0,attached:!1},s.createElement(f.default,{id:n.id,attributeUri:t.uri,attributeType:b,mappedLocalClaims:D,updateMappedClaims:Z}))}})}})),p.attributeConfig.showCustomDialectInSCIM){var t=null===O||void 0===O?void 0:O.find((function(e){return e.dialectURI===p.attributeConfig.localAttributes.customDialectURI}));t&&e.push({menuItem:"Custom Schema",render:function(){return s.createElement(i.ResourceTab.Pane,{controlledSegmentation:!0,attached:!1},s.createElement(f.default,{id:t.id,attributeType:b,attributeUri:t.dialectURI,mappedLocalClaims:D,updateMappedClaims:Z}))}})}return e}return null===O||void 0===O?void 0:O.map((function(e){return{menuItem:e.dialectURI,render:function(){return s.createElement(i.ResourceTab.Pane,{controlledSegmentation:!0,attached:!1},s.createElement(f.default,{id:e.id,attributeType:b,attributeUri:e.dialectURI,mappedLocalClaims:D,updateMappedClaims:Z}))}}}))}(),"data-testid":"".concat(l,"-tabs")}):s.createElement(f.default,{id:O&&(null===(t=O[0])||void 0===t?void 0:t.id),attributeType:b,attributeUri:O&&(null===(n=O[0])||void 0===n?void 0:n.dialectURI),mappedLocalClaims:D,updateMappedClaims:Z}))};A.defaultProps={"data-testid":"edit-attribute-mappings"},t.default=A},25703:function(e,t,n){"use strict";n.r(t);var a=n(69883),r=n(3844),o=n(8890),i=n(88742),l=n(26278),c=n(96462),s=n(68905),u=n(64805),d=n(83913),m=n(70515),f=n(82791),p=n(5554),g=n(22946),v=n(23177),h=n(7626),y=n(10148),E=n(67897),b=n(12847),S=n(55654),A=n(95745);function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(o.push(a.value),!t||o.length!==t);i=!0);}catch(e){l=!0,r=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var w=function(e){var t,n,I,w,T,P,R,O,L,U,D,_,x,N,Z=e["data-testid"],M=(0,u.$G)().t,k=(0,d.v9)((function(e){return e.config.ui.features})),j=C((0,s.useState)(!1),2),z=j[0],H=j[1],G=C((0,s.useState)(!0),2),B=G[0],F=G[1],V=C((0,s.useState)([]),2),$=V[0],q=V[1],W=C((0,s.useState)([]),2),Q=W[0],Y=W[1],X=C((0,s.useState)([]),2),K=X[0],J=X[1],ee=(0,d.v9)((function(e){var t;return null===e||void 0===e||null===(t=e.auth)||void 0===t?void 0:t.allowedScopes})),te=(0,d.I0)(),ne=(0,d.v9)((function(e){return e.config.ui.listAllAttributeDialects})),ae=function(e,t,n,a){F(!0),(0,r.getDialects)({filter:a,limit:e,offset:t,sort:n}).then((function(e){var t=e.filter((function(e){return ne?"local"!==e.id:e.id!=A.Q.ATTRIBUTE_DIALECT_IDS.get("LOCAL")&&e.id!=A.Q.ATTRIBUTE_DIALECT_IDS.get("AXSCHEMA")&&e.id!=A.Q.ATTRIBUTE_DIALECT_IDS.get("EIDAS_LEGAL")&&e.id!=A.Q.ATTRIBUTE_DIALECT_IDS.get("EIDAS_NATURAL")&&e.id!=A.Q.ATTRIBUTE_DIALECT_IDS.get("OPENID_NET")&&e.id!=A.Q.ATTRIBUTE_DIALECT_IDS.get("XML_SOAP")})),n=[],a=[],r=[];t.forEach((function(e){A.Q.OIDC_MAPPING.includes(e.dialectURI)?n.push(e):Object.values(A.Q.SCIM_TABS).map((function(e){return e.uri})).includes(e.dialectURI)?a.push(e):E.attributeConfig.showCustomDialectInSCIM?e.dialectURI!==E.attributeConfig.localAttributes.customDialectURI&&r.push(e):r.push(e)})),q(n),Y(a),J(r)})).catch((function(e){var t,n,a,r;te((0,l.addAlert)({description:(null===e||void 0===e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.description)||M("console:manage.features.claims.dialects.notifications.fetchDialects.genericError.description"),level:i.AlertLevels.ERROR,message:(null===e||void 0===e||null===(a=e.response)||void 0===a||null===(r=a.data)||void 0===r?void 0:r.message)||M("console:manage.features.claims.dialects.notifications.fetchDialects.genericError.message")}))})).finally((function(){F(!1)}))};return(0,s.useEffect)((function(){ae()}),[]),s.createElement(s.Fragment,null,E.attributeConfig.addAttributeMapping&&z&&s.createElement(S.$E,{open:z,onClose:function(){H(!1)},update:ae,"data-testid":"".concat(Z,"-add-dialect-wizard")}),s.createElement(c.PageLayout,{pageTitle:"Attributes",action:E.attributeConfig.addAttributeMapping&&s.createElement(a.di,{when:a.TA.ATTRIBUTE_WRITE},s.createElement(c.PrimaryButton,{disabled:B,loading:B,onClick:function(){H(!0)},"data-testid":"".concat(Z,"-list-layout-add-button")},s.createElement(m.Z,{name:"add"}),M("console:manage.features.claims.dialects.pageLayout.list.primaryAction"))),title:M("console:manage.features.claims.dialects.pageLayout.list.title"),description:M("console:manage.features.claims.dialects.pageLayout.list.description"),"data-testid":"".concat(Z,"-page-layout")},s.createElement(c.GridLayout,{isLoading:B,showTopActionPanel:!1},(0,o.hasRequiredScopes)(null===k||void 0===k?void 0:k.attributeDialects,null===k||void 0===k||null===(t=k.attributeDialects)||void 0===t||null===(n=t.scopes)||void 0===n?void 0:n.read,ee)&&s.createElement(s.Fragment,null,s.createElement(f.Z,{as:"h4"},M("console:manage.features.claims.dialects.sections.manageAttributes.heading")),s.createElement(p.Z,{hidden:!0}),s.createElement(c.EmphasizedSegment,{onClick:function(){b.m8.push(b.$x.getPaths().get("LOCAL_CLAIMS"))},className:"clickable","data-testid":"".concat(Z,"-local-dialect-container")},s.createElement(g.Z,null,s.createElement(g.Z.Item,null,s.createElement(v.Z,null,s.createElement(v.Z.Row,{columns:2},s.createElement(v.Z.Column,{width:12},s.createElement(c.GenericIcon,{verticalAlign:"middle",fill:"primary",transparent:!0,rounded:!0,icon:(0,b.Uz)().claims,spaced:"right",size:"mini",floated:"left"}),s.createElement(g.Z.Header,null,M("console:manage.features.claims.dialects.sections.manageAttributes.attributes.heading")),s.createElement(g.Z.Description,{"data-testid":"".concat(Z,"-local-dialect")},M("console:manage.features.claims.dialects.sections.manageAttributes.attributes.description"))),s.createElement(v.Z.Column,{width:4,verticalAlign:"middle",textAlign:"right","data-testid":"".concat(Z,"-local-dialect-")+"attributes-edit-icon"},s.createElement(h.Z,{content:(0,o.hasRequiredScopes)(null===k||void 0===k?void 0:k.attributeDialects,null===k||void 0===k||null===(I=k.attributeDialects)||void 0===I||null===(w=I.scopes)||void 0===w?void 0:w.create,ee)?M("common:edit"):M("common:view"),trigger:(0,o.hasRequiredScopes)(null===k||void 0===k?void 0:k.attributeDialects,null===k||void 0===k||null===(T=k.attributeDialects)||void 0===T||null===(P=T.scopes)||void 0===P?void 0:P.create,ee)?s.createElement(m.Z,{color:"grey",name:"pencil"}):s.createElement(m.Z,{color:"grey",name:"eye"}),inverted:!0})))))))),s.createElement(p.Z,{hidden:!0}),s.createElement(p.Z,{hidden:!0}),s.createElement(p.Z,null),s.createElement(p.Z,{hidden:!0}),s.createElement(f.Z,{as:"h4"},M("console:manage.features.claims.dialects.sections.manageAttributeMappings.heading")),s.createElement(p.Z,{hidden:!0}),(null===$||void 0===$?void 0:$.length)>0&&s.createElement(c.EmphasizedSegment,{className:"clickable","data-testid":"".concat(Z,"-oidc-dialect-container")},s.createElement(g.Z,null,s.createElement(g.Z.Item,{onClick:function(){b.m8.push(b.$x.getPaths().get("ATTRIBUTE_MAPPINGS").replace(":type",A.Q.OIDC))}},s.createElement(v.Z,null,s.createElement(v.Z.Row,{columns:2},s.createElement(v.Z.Column,{width:12},s.createElement(c.GenericIcon,{transparent:!0,verticalAlign:"middle",rounded:!0,icon:(0,b.r2)().oidc,spaced:"right",size:"mini",floated:"left"}),s.createElement(g.Z.Header,null,M("console:manage.features.claims.dialects.sections.manageAttributeMappings.oidc.heading")),s.createElement(g.Z.Description,{"data-testid":"".concat(Z,"-local-dialect")},M("console:manage.features.claims.attributeMappings.oidc.description"))),s.createElement(v.Z.Column,{width:4,verticalAlign:"middle",textAlign:"right"},s.createElement(h.Z,{content:(0,o.hasRequiredScopes)(null===k||void 0===k?void 0:k.attributeDialects,null===k||void 0===k||null===(R=k.attributeDialects)||void 0===R||null===(O=R.scopes)||void 0===O?void 0:O.create,ee)?M("common:edit"):M("common:view"),trigger:(0,o.hasRequiredScopes)(null===k||void 0===k?void 0:k.attributeDialects,null===k||void 0===k||null===(L=k.attributeDialects)||void 0===L||null===(U=L.scopes)||void 0===U?void 0:U.create,ee)?s.createElement(m.Z,{color:"grey",name:"pencil"}):s.createElement(m.Z,{color:"grey",name:"eye"}),inverted:!0}))))))),(null===Q||void 0===Q?void 0:Q.length)>0&&s.createElement(c.EmphasizedSegment,{onClick:function(){b.m8.push(b.$x.getPaths().get("ATTRIBUTE_MAPPINGS").replace(":type",A.Q.SCIM))},className:"clickable","data-testid":"".concat(Z,"-scim-dialect-container")},s.createElement(g.Z,null,s.createElement(g.Z.Item,null,s.createElement(v.Z,null,s.createElement(v.Z.Row,{columns:2},s.createElement(v.Z.Column,{width:12},s.createElement(c.GenericIcon,{verticalAlign:"middle",rounded:!0,icon:(0,b.r2)().scim,spaced:"right",size:"mini",floated:"left"}),s.createElement(g.Z.Header,null,M("console:manage.features.claims.dialects.sections.manageAttributeMappings.scim.heading")),s.createElement(g.Z.Description,{"data-testid":"".concat(Z,"-local-dialect")},M("console:manage.features.claims.attributeMappings.scim.description"))),s.createElement(v.Z.Column,{width:4,verticalAlign:"middle",textAlign:"right"},s.createElement(h.Z,{content:E.attributeConfig.isSCIMEditable?M("common:edit"):M("common:view"),trigger:s.createElement(m.Z,{color:"grey",name:E.attributeConfig.isSCIMEditable?"pencil":"eye"}),inverted:!0}))))))),!E.attributeConfig.showCustomDialectInSCIM&&(null===K||void 0===K?void 0:K.length)>0&&s.createElement(c.EmphasizedSegment,{onClick:function(){b.m8.push(b.$x.getPaths().get("ATTRIBUTE_MAPPINGS").replace(":type",A.Q.OTHERS))},className:"clickable","data-testid":"".concat(Z,"-other-dialect-container")},s.createElement(g.Z,null,s.createElement(g.Z.Item,null,s.createElement(v.Z,null,s.createElement(v.Z.Row,{columns:2},s.createElement(v.Z.Column,{width:12},s.createElement(y.Z,{floated:"left",verticalAlign:"middle",rounded:!0,centered:!0,size:"mini"},s.createElement(c.AnimatedAvatar,null),s.createElement("span",{className:"claims-letter"},"C")),s.createElement(g.Z.Header,null,M("console:manage.features.claims.dialects.sections.manageAttributeMappings.custom.heading")),s.createElement(g.Z.Description,{"data-testid":"".concat(Z,"-local-dialect")},M("console:manage.features.claims.attributeMappings.custom.description"))),s.createElement(v.Z.Column,{width:4,verticalAlign:"middle",textAlign:"right"},s.createElement(h.Z,{content:(0,o.hasRequiredScopes)(null===k||void 0===k?void 0:k.attributeDialects,null===k||void 0===k||null===(D=k.attributeDialects)||void 0===D||null===(_=D.scopes)||void 0===_?void 0:_.create,ee)?M("common:edit"):M("common:view"),trigger:s.createElement(m.Z,{color:"grey",name:(0,o.hasRequiredScopes)(null===k||void 0===k?void 0:k.attributeDialects,null===k||void 0===k||null===(x=k.attributeDialects)||void 0===x||null===(N=x.scopes)||void 0===N?void 0:N.create,ee)?"pencil":"eye"}),inverted:!0}))))))))))};w.defaultProps={"data-testid":"attribute-dialects"},t.default=w},43264:function(e,t,n){"use strict";n.r(t);var a=n(69883),r=n(3844),o=n(88742),i=n(26278),l=n(96462),c=n(68905),s=n(64805),u=n(83913),d=n(23177),m=n(82791),f=n(2120),p=n(5554),g=n(67897),v=n(12847),h=n(20688),y=n(55654),E=n(95745),b=n(66900);function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(o.push(a.value),!t||o.length!==t);i=!0);}catch(e){l=!0,r=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var C=function(e){var t=e.attributeType,n=e.attributeUri,E=e.mappedLocalClaims,A=e.updateMappedClaims,C=e["data-testid"],I=e.id,w=S((0,c.useState)(null),2),T=w[0],P=w[1],R=S((0,c.useState)(void 0),2),O=R[0],L=R[1],U=S((0,c.useState)(!0),2),D=U[0],_=U[1],x=S((0,c.useState)(!1),2),N=x[0],Z=x[1],M=(0,u.I0)(),k=(0,s.$G)().t,j=function(e){(0,h.vR)(null!==e&&void 0!==e?e:I).then((function(e){P(e)})).catch((function(e){M((0,i.addAlert)({description:(null===e||void 0===e?void 0:e.description)||k("console:manage.features.claims.dialects.notifications.fetchADialect.genericError.description"),level:o.AlertLevels.ERROR,message:(null===e||void 0===e?void 0:e.message)||k("console:manage.features.claims.dialects.notifications.fetchADialect.genericError.message")}))}))};(0,c.useEffect)((function(){I&&j()}),[I]);var z=function(e,n,a,l){I&&_(!0),I&&L(void 0),I&&(0,r.getAllExternalClaims)(I,{filter:l,limit:e,offset:n,sort:a}).then((function(e){var n=g.attributeConfig.attributeMappings.getExternalAttributes(t,e);L((0,v.fS)(n,"claimURI",!0))})).catch((function(e){var n,a,r,l;M((0,i.addAlert)({description:(null===e||void 0===e||null===(n=e.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.description)||k("console:manage.features.claims.dialects.notifications.fetchExternalClaims.genericError.description",{type:(0,b.i)(t)}),level:o.AlertLevels.ERROR,message:(null===e||void 0===e||null===(r=e.response)||void 0===r||null===(l=r.data)||void 0===l?void 0:l.message)||k("console:manage.features.claims.dialects.notifications.fetchExternalClaims.genericError.message")}))})).finally((function(){_(!1)}))};(0,c.useEffect)((function(){z()}),[I]);var H=function(e){(0,h.Nx)(e).then((function(){v.m8.push(v.$x.getPaths().get("CLAIM_DIALECTS")),M((0,i.addAlert)({description:k("console:manage.features.claims.dialects.notifications.deleteDialect.success.description",{type:(0,b.i)(t,!0)}),level:o.AlertLevels.SUCCESS,message:k("console:manage.features.claims.dialects.notifications.deleteDialect.success.message")}))})).catch((function(e){M((0,i.addAlert)({description:(null===e||void 0===e?void 0:e.description)||k("console:manage.features.claims.dialects.notifications.deleteDialect.genericError.description",{type:(0,b.i)(t,!0)}),level:o.AlertLevels.ERROR,message:(null===e||void 0===e?void 0:e.message)||k("console:manage.features.claims.dialects.notifications.deleteDialect.genericError.message")}))}))};return c.createElement(c.Fragment,null,g.attributeConfig.attributeMappings.editAttributeMappingDetails&&c.createElement(c.Fragment,null,c.createElement(d.Z,null,c.createElement(d.Z.Row,{columns:1},c.createElement(d.Z.Column,{width:16},c.createElement(m.Z,{as:"h4"},k("console:manage.features.claims.dialects.pageLayout.edit.updateDialectURI",{type:(0,b.i)(t,!0)})),c.createElement(l.EmphasizedSegment,null,D?c.createElement(f.Z,null,c.createElement(f.Z.Line,{length:"short"}),c.createElement(f.Z.Line,{length:"medium"})):c.createElement(y.T8,{dialect:T,"data-testid":"".concat(C,"-edit-dialect-details"),attributeType:t,onUpdate:function(e){j(e)}}))))),c.createElement(p.Z,{hidden:!0}),c.createElement(d.Z,{columns:1},c.createElement(d.Z.Column,{width:16},c.createElement(m.Z,{as:"h4"},k("console:manage.features.claims.dialects.pageLayout.edit.updateExternalAttributes",{type:(0,b.i)(t,!0)})))),c.createElement(p.Z,{hidden:!0}),c.createElement(p.Z,{hidden:!0})),c.createElement(y._v,{dialectID:I,isLoading:D,claims:O,update:z,"data-testid":"".concat(C,"-edit-external-claims"),attributeType:t,attributeUri:n,mappedLocalClaims:E,updateMappedClaims:A}),c.createElement(p.Z,{hidden:!0}),g.attributeConfig.attributeMappings.showDangerZone&&c.createElement(d.Z,null,c.createElement(d.Z.Row,{columns:1},c.createElement(d.Z.Column,{width:16},c.createElement(a.di,{when:a.TA.SCOPE_DELETE},c.createElement(l.DangerZoneGroup,{sectionHeader:k("common:dangerZone"),"data-testid":"".concat(C,"-danger-zone-group")},c.createElement(l.DangerZone,{actionTitle:k("console:manage.features.claims.dialects.dangerZone.actionTitle",{type:(0,b.i)(t,!0,!0)}),header:k("console:manage.features.claims.dialects.dangerZone.header",{type:(0,b.i)(t,!0)}),subheader:k("console:manage.features.claims.dialects.dangerZone.subheader",{type:(0,b.i)(t)}),onActionClick:function(){return Z(!0)},"data-testid":"".concat(C,"-dialect-delete-danger-zone")})))))),g.attributeConfig.attributeMappings.showDangerZone&&N&&c.createElement(l.ConfirmationModal,{onClose:function(){return Z(!1)},type:"negative",open:N,assertion:T.dialectURI,assertionHint:c.createElement("p",null,c.createElement(s.cC,{i18nKey:"console:manage.features.claims.dialects.confirmations.hint"},"Please type ",c.createElement("strong",null,{confirm:T.dialectURI})," to confirm.")),assertionType:"input",primaryAction:k("console:manage.features.claims.dialects.confirmations.action"),secondaryAction:k("common:cancel"),onSecondaryActionClick:function(){return Z(!1)},onPrimaryActionClick:function(){return H(T.id)},"data-testid":"".concat(C,"-delete-confirmation-modal"),closeOnDimmerClick:!1},c.createElement(l.ConfirmationModal.Header,{"data-testid":"".concat(C,"-delete-confirmation-modal-header")},k("console:manage.features.claims.dialects.confirmations.header")),c.createElement(l.ConfirmationModal.Message,{attached:!0,negative:!0,"data-testid":"".concat(C,"-delete-confirmation-modal-message")},k("console:manage.features.claims.dialects.confirmations.message")),c.createElement(l.ConfirmationModal.Content,{"data-testid":"".concat(C,"-delete-confirmation-modal-content")},k("console:manage.features.claims.dialects.confirmations.content"))))};C.defaultProps={attributeType:E.Q.OTHERS,"data-testid":"external-dialect-edit"},t.default=C},99152:function(e,t,n){"use strict";n.r(t);var a=n(88742),r=n(26278),o=n(96462),i=n(68905),l=n(64805),c=n(83913),s=n(10148),u=n(67897),d=n(12847),m=n(20688),f=n(55654);function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(o.push(a.value),!t||o.length!==t);i=!0);}catch(e){l=!0,r=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var v=function(e){var t=e.match,n=e["data-testid"],g=t.params.id,v=p((0,i.useState)(null),2),h=v[0],y=v[1],E=p((0,i.useState)(!1),2),b=E[0],S=E[1],A=(0,c.I0)(),C=(0,l.$G)().t,I=function(){S(!0),(0,m.IG)(g).then((function(e){y(e)})).catch((function(e){A((0,r.addAlert)({description:(null===e||void 0===e?void 0:e.description)||C("console:manage.features.claims.local.notifications.getAClaim.genericError.description"),level:a.AlertLevels.ERROR,message:(null===e||void 0===e?void 0:e.message)||C("console:manage.features.claims.local.notifications.getAClaim.genericError.message")}))})).finally((function(){S(!1)}))};(0,i.useEffect)((function(){I()}),[]);var w=[{menuItem:C("console:manage.features.claims.local.pageLayout.edit.tabs.general"),render:function(){return i.createElement(o.ResourceTab.Pane,{controlledSegmentation:!0},i.createElement(f.A4,{claim:h,update:I,"data-testid":"local-claims-basic-details-edit"}))}},{menuItem:C("console:manage.features.claims.local.pageLayout.edit.tabs.mappedAttributes"),render:function(){return i.createElement(o.ResourceTab.Pane,{controlledSegmentation:!0},i.createElement(f.AI,{claim:h,update:I,"data-testid":"".concat(n,"-edit-local-claims-mapped-attributes")}))}},{menuItem:C("console:manage.features.claims.local.pageLayout.edit.tabs.additionalProperties"),render:function(){return i.createElement(o.ResourceTab.Pane,{controlledSegmentation:!0},i.createElement(f.ZW,{claim:h,update:I,"data-testid":"".concat(n,"-edit-local-claims-additional-properties")}))}}];return i.createElement(o.PageLayout,{isLoading:b,image:i.createElement(s.Z,{floated:"left",verticalAlign:"middle",rounded:!0,centered:!0,size:"tiny"},i.createElement(o.AnimatedAvatar,null),i.createElement("span",{className:"claims-letter"},h&&function(e){var t,n,a=null===e||void 0===e||null===(t=e.replace("http://",""))||void 0===t?void 0:t.split("/");return null===(n=a[(null===a||void 0===a?void 0:a.length)-1][0])||void 0===n?void 0:n.toLocaleUpperCase()}(null===h||void 0===h?void 0:h.claimURI))),title:null===h||void 0===h?void 0:h.displayName,pageTitle:"Edit Attributes",description:C("console:manage.features.claims.local.pageLayout.edit.description"),backButton:{onClick:function(){d.m8.push(d.$x.getPaths().get("LOCAL_CLAIMS"))},text:C("console:manage.features.claims.local.pageLayout.edit.back")},titleTextAlign:"left",bottomMargin:!1,"data-testid":"".concat(n,"-page-layout")},u.attributeConfig.attributes.showEditTabs?i.createElement(o.ResourceTab,{panes:w,"data-testid":"".concat(n,"-tabs")}):i.createElement(f.A4,{claim:h,update:I,"data-testid":"local-claims-basic-details-edit"}))};v.defaultProps={"data-testid":"edit-local-claims"},t.default=v},21337:function(e,t,n){"use strict";n.r(t);var a=n(3844),r=n(8890),o=n(88742),i=n(26278),l=n(26776),c=n(96462),s=n(68905),u=n(64805),d=n(83913),m=n(70515),f=n(67897),p=n(12847),g=n(20688),v=n(55654);function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(o.push(a.value),!t||o.length!==t);i=!0);}catch(e){l=!0,r=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var E=function(e){var t,n,y=e["data-testid"],E=(0,u.$G)().t,b=(0,c.useDocumentation)().getLink,S=[{key:0,text:E("common:name"),value:"displayName"},{key:1,text:E("console:manage.features.claims.local.attributes.attributeURI"),value:"claimURI"}],A=(0,d.v9)((function(e){return e.config.ui.features})),C=(0,d.v9)((function(e){var t;return null===e||void 0===e||null===(t=e.auth)||void 0===t?void 0:t.allowedScopes})),I=h((0,s.useState)(null),2),w=I[0],T=I[1],P=h((0,s.useState)(0),2),R=P[0],O=P[1],L=h((0,s.useState)(p.ru.DEFAULT_RESOURCE_LIST_ITEM_LIMIT),2),U=L[0],D=L[1],_=h((0,s.useState)(!1),2),x=_[0],N=_[1],Z=h((0,s.useState)(""),2),M=Z[0],k=Z[1],j=h((0,s.useState)(null),2),z=j[0],H=j[1],G=h((0,s.useState)(S[0]),2),B=G[0],F=G[1],V=h((0,s.useState)(!0),2),$=V[0],q=V[1],W=h((0,s.useState)(""),2),Q=W[0],Y=W[1],X=h((0,s.useState)(!0),2),K=X[0],J=X[1],ee=h((0,s.useState)(!1),2),te=ee[0],ne=ee[1],ae=h((0,l.useTrigger)(),2),re=ae[0],oe=ae[1],ie=(0,d.I0)(),le=(0,s.useRef)(!0),ce=function(e,t,n,r,l){J(!0);var c={"exclude-identity-claims":l,filter:r||null,limit:e||null,offset:n||null,sort:t||null};(0,a.getAllLocalClaims)(c).then((function(e){T(e),H((0,p.fS)(e,B.value,$))})).catch((function(e){var t,n,a,r;ie((0,i.addAlert)({description:(null===e||void 0===e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.description)||E("console:manage.features.claims.local.notifications.getClaims.genericError.description"),level:o.AlertLevels.ERROR,message:(null===e||void 0===e||null===(a=e.response)||void 0===a||null===(r=a.data)||void 0===r?void 0:r.message)||E("console:manage.features.claims.local.notifications.getClaims.genericError.message")}))})).finally((function(){J(!1)}))};(0,s.useEffect)((function(){le.current?le.current=!1:H((0,p.fS)(z,B.value,$))}),[B,$]),(0,s.useEffect)((function(){ce(null,null,null,null,f.attributeConfig.attributes.excludeIdentityClaims),(0,g.vR)("local").then((function(e){k(e.dialectURI)})).catch((function(e){ie((0,i.addAlert)({description:(null===e||void 0===e?void 0:e.description)||E("console:manage.features.claims.local.notifications.getLocalDialect.genericError.message"),level:o.AlertLevels.ERROR,message:(null===e||void 0===e?void 0:e.message)||E("console:manage.features.claims.local.notifications.getLocalDialect.genericError.message")}))}))}),[]);var se=function(e){var t=(0,p.gQ)(w,e,B.value,$);H(t),Y(ue(e)),O(0),oe()},ue=function(e){var t=null===e||void 0===e?void 0:e.split(" "),n="";if(t)switch(t[1]){case"eq":n="".concat(t[0]," equals to ").concat(t[2]);break;case"co":n="".concat(t[0]," containing ").concat(t[2]);break;case"sw":n="".concat(t[0]," starting with ").concat(t[2]);break;case"ew":n="".concat(t[0]," ending with ").concat(t[2])}return n};return s.createElement(s.Fragment,null,x?s.createElement(v.C$,{open:x,onClose:function(){N(!1)},update:ce,claimURIBase:M,"data-testid":"".concat(y,"-add-local-claims-wizard")}):null,s.createElement(c.PageLayout,{action:(K||!(!Q&&(null===z||void 0===z?void 0:z.length)<=0))&&(0,r.hasRequiredScopes)(null===A||void 0===A?void 0:A.attributeDialects,null===A||void 0===A||null===(t=A.attributeDialects)||void 0===t||null===(n=t.scopes)||void 0===n?void 0:n.create,C)&&f.attributeConfig.attributes.addAttribute&&s.createElement(c.PrimaryButton,{onClick:function(){N(!0)},"data-testid":"".concat(y,"-list-layout-add-button")},s.createElement(m.Z,{name:"add"}),E("console:manage.features.claims.local.pageLayout.local.action")),isLoading:K,title:E("console:manage.features.claims.local.pageLayout.local.title"),pageTitle:E("console:manage.features.claims.local.pageLayout.local.title"),description:s.createElement(s.Fragment,null,E(f.attributeConfig.attributes.description),s.createElement(c.DocumentationLink,{link:b("manage.attributes.attributes.learnMore")},E("common:learnMore"))),backButton:{onClick:function(){p.m8.push(p.$x.getPaths().get("CLAIM_DIALECTS"))},text:E("console:manage.features.claims.local.pageLayout.local.back")},"data-testid":"".concat(y,"-page-layout")},s.createElement(c.ListLayout,{resetPagination:re,advancedSearch:s.createElement(p.nC,{onFilter:se,filterAttributeOptions:[{key:0,text:E("common:name"),value:"displayName"},{key:1,text:E("console:manage.features.claims.local.attributes.attributeURI"),value:"claimURI"}],filterAttributePlaceholder:E("console:manage.features.claims.local.advancedSearch.form.inputs.filterAttribute.placeholder"),filterConditionsPlaceholder:E("console:manage.features.claims.local.advancedSearch.form.inputs.filterCondition.placeholder"),filterValuePlaceholder:E("console:manage.features.claims.local.advancedSearch.form.inputs.filterValue.placeholder"),placeholder:E("console:manage.features.claims.local.advancedSearch.placeholder"),defaultSearchAttribute:"displayName",defaultSearchOperator:"co",triggerClearQuery:te,"data-testid":"".concat(y,"-list-advanced-search")}),currentListSize:U,listItemLimit:U,onItemsPerPageDropdownChange:function(e,t){D(t.value)},onPageChange:function(e,t){O((t.activePage-1)*U)},onSortStrategyChange:function(e,t){F(S.filter((function(e){return e.value===t.value}))[0])},leftActionPanel:null,showPagination:!0,sortOptions:S,sortStrategy:B,showTopActionPanel:K||!(!Q&&(null===z||void 0===z?void 0:z.length)<=0),totalPages:Math.ceil((null===z||void 0===z?void 0:z.length)/U),totalListSize:null===z||void 0===z?void 0:z.length,onSortOrderChange:function(e){q(e)},"data-testid":"".concat(y,"-list-layout")},s.createElement(v.Sf,{advancedSearch:s.createElement(p.nC,{onFilter:se,filterAttributeOptions:[{key:0,text:E("common:name"),value:"displayName"},{key:1,text:E("console:manage.features.claims.local.attributes.attributeURI"),value:"claimURI"}],filterAttributePlaceholder:E("console:manage.features.claims.local.advancedSearch.form.inputs.filterAttribute.placeholder"),filterConditionsPlaceholder:E("console:manage.features.claims.local.advancedSearch.form.inputs.filterCondition.placeholder"),filterValuePlaceholder:E("console:manage.features.claims.local.advancedSearch.form.inputs.filterValue.placeholder"),placeholder:E("console:manage.features.claims.local.advancedSearch.placeholder"),defaultSearchAttribute:"displayName",defaultSearchOperator:"co",triggerClearQuery:te,"data-testid":"".concat(y,"-list-advanced-search")}),showTableHeaders:!0,isLoading:K,list:function(e,t,n){return null===e||void 0===e?void 0:e.slice(n,n+t)}(z,U,R),localClaim:v.RH.LOCAL,update:ce,onEmptyListPlaceholderActionClick:function(){return N(!0)},onSearchQueryClear:function(){ne(!te),Y(""),H(w)},searchQuery:Q,"data-testid":"".concat(y,"-list"),featureConfig:A}))))};E.defaultProps={"data-testid":"local-claims"},t.default=E},66900:function(e,t,n){"use strict";n.d(t,{i:function(){return r}});var a=n(95745),r=function(e,t,n){switch(e){case a.Q.OIDC:return n?"OIDC":"OpenID Connect";case a.Q.SCIM:return"SCIM";default:return t?"Custom":"custom"}}},73206:function(e,t,n){"use strict";n.d(t,{YZ:function(){return c},ZY:function(){return p},sc:function(){return l},Fp:function(){return u},fU:function(){return m}});var a=n(19486),r=n(88742),o=n(26072),i=a.AsgardeoSPAClient.getInstance().httpRequest.bind(a.AsgardeoSPAClient.getInstance()).bind(a.AsgardeoSPAClient.getInstance()),l=function(){var e={headers:{Accept:"application/json","Access-Control-Allow-Origin":o.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:r.HttpMethods.GET,url:"".concat(o.h.getState().config.endpoints.userStores,"/primary")};return i(e).then((function(e){return 200!==e.status?Promise.reject("An error occurred. The server returned ".concat(e.status)):Promise.resolve(e.data)})).catch((function(e){var t;return Promise.reject(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.data)}))},c=function(e){var t={headers:{Accept:"application/json","Access-Control-Allow-Origin":o.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:r.HttpMethods.GET,url:"".concat(o.h.getState().config.endpoints.userStores,"/").concat(e)};return i(t).then((function(e){return 200!==e.status?Promise.reject("An error occurred. The server returned ".concat(e.status)):Promise.resolve(e.data)})).catch((function(e){var t;return Promise.reject(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.data)}))},s=a.AsgardeoSPAClient.getInstance().httpRequest.bind(a.AsgardeoSPAClient.getInstance()).bind(a.AsgardeoSPAClient.getInstance()),u=function(e,t,n,a,i){var l={headers:{"Access-Control-Allow-Origin":o.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:r.HttpMethods.GET,params:{attributes:a,count:e,domain:i,filter:n,startIndex:t},url:o.h.getState().config.endpoints.users};return s(l).then((function(e){return Promise.resolve(e.data)})).catch((function(e){return Promise.reject(e)}))},d=a.AsgardeoSPAClient.getInstance().httpRequest.bind(a.AsgardeoSPAClient.getInstance()).bind(a.AsgardeoSPAClient.getInstance()),m=function(e){var t={data:e,headers:{"Content-Type":"application/json"},method:r.HttpMethods.POST,url:o.h.getState().config.endpoints.bulk};return d(t).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},f=a.AsgardeoSPAClient.getInstance().httpRequest.bind(a.AsgardeoSPAClient.getInstance()).bind(a.AsgardeoSPAClient.getInstance()),p=function(){var e={headers:{Accept:"application/json","Access-Control-Allow-Origin":o.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:r.HttpMethods.GET,url:o.h.getState().config.endpoints.CORSOrigins};return f(e).then((function(e){return 200!==e.status?Promise.reject(new Error("Failed to fetch the CORS origins")):Promise.resolve(e.data)})).catch((function(e){return Promise.reject(e)}))}},46767:function(e,t,n){"use strict";n.d(t,{nC:function(){return E},av:function(){return we},IH:function(){return Le},iz:function(){return He},Us:function(){return I},$_:function(){return U},h4:function(){return Y},wv:function(){return te},xq:function(){return Ge},i1:function(){return ce},Xy:function(){return Ye},MN:function(){return Ne},Pj:function(){return Xe.P},e:function(){return Ee}});var a,r=n(95823),o=n(26776),i=n(96462),l=n(68905),c=n(64805),s=n(23177),u=n(44706),d=n(5554),m=n(67897),f=n(5091);function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(o.push(a.value),!t||o.length!==t);i=!0);}catch(e){l=!0,r=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var v="filterAttribute",h="filterCondition",y="filterValues",E=function(e){var t=e.defaultSearchAttribute,n=e.defaultSearchOperator,a=e.dropdownPosition,m=e.enableQuerySearch,g=e.fill,E=e.filterAttributeOptions,b=e.filterConditionOptions,S=e.filterConditionsPlaceholder,A=e.filterAttributePlaceholder,C=e.filterValuePlaceholder,I=e.onFilter,w=e.placeholder,T=e.resetButtonLabel,P=e.showResetButton,R=e.submitButtonLabel,O=e.triggerClearQuery,L=e["data-testid"],U=(0,c.$G)().t,D=p((0,l.useState)(!1),2),_=D[0],x=D[1],N=p((0,l.useState)(!1),2),Z=N[0],M=N[1],k=p((0,l.useState)(""),2),j=k[0],z=k[1],H=l.useContext(i.SessionTimedOutContext),G=[{text:U("common:startsWith"),value:"sw"},{text:U("common:endsWith"),value:"ew"},{text:U("common:contains"),value:"co"},{text:U("common:equals"),value:"eq"}];return l.createElement(i.AdvancedSearch,{aligned:"left",clearButtonPopupLabel:U("console:common.advancedSearch.popups.clear"),clearIcon:(0,f.S$)().clear,defaultSearchStrategy:t+" "+n,dropdownTriggerPopupLabel:U("console:common.advancedSearch.popups.dropdown"),fill:g,hintActionKeys:U("console:common.advancedSearch.hints.querySearch.actionKeys"),hintLabel:U("console:common.advancedSearch.hints.querySearch.label"),onExternalSearchQueryClear:function(){z("")},onSearchQuerySubmit:function(e,t){I(e?r.SearchUtils.buildSearchQuery(t):t)},placeholder:w,resetSubmittedState:function(){x(!1)},searchOptionsHeader:U("console:common.advancedSearch.options.header"),sessionTimedOut:H,enableQuerySearch:m,externalSearchQuery:j,submitted:_,dropdownPosition:a,triggerClearQuery:O,filterConditionOptions:b||G,filterAttributeOptions:E,"data-testid":L,"data-componentid":L},l.createElement(s.Z,null,l.createElement(s.Z.Row,{columns:1},l.createElement(s.Z.Column,{width:16},l.createElement(o.Forms,{onSubmit:function(e){return function(e){var t=e.get(v)+" "+e.get(h)+" "+e.get(y);z(t),I(t),x(!0)}(e)},resetState:Z,onChange:function(){return M(!1)}},l.createElement(o.Field,{children:E.map((function(e,t){return{key:t,text:e.text,value:e.value}})),label:U("console:common.advancedSearch.form.inputs.filterAttribute.label"),name:v,placeholder:A||U("console:common.advancedSearch.form.inputs.filterAttribute.placeholder"),required:!0,requiredErrorMessage:U("console:common.advancedSearch.form.inputs.filterAttribute.validations.empty"),type:"dropdown",value:t,"data-testid":"".concat(L,"-filter-attribute-dropdown"),"data-componentid":"".concat(L,"-filter-attribute-dropdown")}),l.createElement(u.Z.Group,{widths:"equal"},l.createElement(o.Field,{children:b?b.map((function(e,t){return{key:t,text:e.text,value:e.value}})):G.map((function(e,t){return{key:t,text:e.text,value:e.value}})),label:U("console:common.advancedSearch.form.inputs.filterCondition.label"),name:h,placeholder:S||U("console:common.advancedSearch.form.inputs.filterCondition.placeholder"),required:!0,requiredErrorMessage:U("console:common.advancedSearch.form.inputs.filterCondition.validations.empty"),type:"dropdown",value:n,"data-testid":"".concat(L,"-filter-condition-dropdown")}),l.createElement(o.Field,{label:U("console:common.advancedSearch.form.inputs.filterValue.label"),name:y,placeholder:C||U("console:common.advancedSearch.form.inputs.filterValue.placeholder"),required:!0,requiredErrorMessage:U("console:common.advancedSearch.form.inputs.filterValue.validations.empty"),type:"text","data-testid":"".concat(L,"-filter-value-input"),"data-componentid":"".concat(L,"-filter-value-input")})),l.createElement(d.Z,{hidden:!0}),l.createElement(u.Z.Group,{inline:!0},l.createElement(i.PrimaryButton,{size:"small",type:"submit","data-testid":"".concat(L,"-search-button"),"data-componentid":"".concat(L,"-search-button")},R||U("common:search")),P&&l.createElement(i.LinkButton,{size:"small",type:"reset","data-testid":"".concat(L,"-reset-button"),"data-componentid":"".concat(L,"-reset-button"),onClick:function(){M(!0)}},T||U("common:resetFilters"))))))))};E.defaultProps={"data-testid":"advanced-search",dropdownPosition:"bottom left",enableQuerySearch:null===m.commonConfig||void 0===m.commonConfig||null===(a=m.commonConfig.advancedSearchWithBasicFilters)||void 0===a?void 0:a.enableQuerySearch,showResetButton:!1};var b=n(80954);function S(e){return function(e){if(Array.isArray(e))return A(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function C(){return C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},C.apply(this,arguments)}var I=function(e){var t=e.accordionIndex,n=e.handleAccordionOnClick,a=e.globalActions,r=e.authenticators,o=e.accordionActiveIndexes,c=e.hideChevron,s=e.orderBy,u=e["data-testid"];return r?l.createElement(i.SegmentedAccordion,{fluid:!0,"data-testid":u},(0,b.Z)(r,s).map((function(e){return e.hidden?null:l.createElement(l.Fragment,{key:t},l.createElement(i.SegmentedAccordion.Title,{id:e.id,"data-testid":"".concat(u,"-").concat(e.id,"-title"),active:(null===o||void 0===o?void 0:o.includes(t))||!1,accordionIndex:t,onClick:!e.hideChevron&&n,content:l.createElement(l.Fragment,null,l.createElement(i.GenericIcon,C({floated:"left",size:"micro",spaced:"right","data-testid":"".concat(u,"-").concat(e.id,"-title-icon"),transparent:!0},e.icon)),e.title),actions:null!==e&&void 0!==e&&e.actions&&a?[].concat(S(null===e||void 0===e?void 0:e.actions),S(a)):e.actions||a,hideChevron:c||e.hideChevron}),l.createElement(i.SegmentedAccordion.Content,{active:(null===o||void 0===o?void 0:o.includes(t))||!1,"data-testid":"".concat(u,"-").concat(e.id,"-content")},e.content))}))):l.createElement(i.ContentLoader,null)};I.defaultProps={"data-testid":"authenticator-accordion",hideChevron:!1,orderBy:void 0};var w=n(22260),T=n(83913),P=n(73881),R=["currentLanguage","showLanguageSwitcher"];function O(){return O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},O.apply(this,arguments)}function L(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var U=function(e){var t,n,a,r=e.currentLanguage,o=e.showLanguageSwitcher,s=L(e,R),u=(0,c.$G)().t,d=(0,T.v9)((function(e){return e.config})),m=(0,T.v9)((function(e){return e.global.supportedI18nLanguages}));return l.createElement(i.Footer,O({currentLanguage:null!==r&&void 0!==r?r:null===(t=w.I18n.instance)||void 0===t?void 0:t.language,supportedLanguages:m,onLanguageChange:function(e){w.I18n.instance.changeLanguage(e).catch((function(t){throw new w.LanguageChangeException(e,t)}))},copyright:d.ui.appCopyright?d.ui.appCopyright:null,links:function(){var e,t,n=[];return null!==(e=d.ui)&&void 0!==e&&null!==(t=e.privacyPolicyConfigs)&&void 0!==t&&t.visibleOnFooter&&n.push({name:u("common:privacy"),to:P.$x.getPaths().get("PRIVACY")}),n}(),showLanguageSwitcher:null!==(n=null===(a=d.ui.i18nConfigs)||void 0===a?void 0:a.showLanguageSwitcher)&&void 0!==n?n:o},s))};U.defaultProps={fixed:"bottom",fluid:!0,showLanguageSwitcher:!0};var D=n(8890),_=n(68814),x=n(87289),N=n(30372),Z=n(86313),M=n(7882),k=n(11603),j=n(97763),z=n(78312),H=n(26072),G=n(5984),B=["activeView","fluid","onSidePanelToggleClick","data-testid"];function F(){return F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},F.apply(this,arguments)}function V(e){return function(e){if(Array.isArray(e))return W(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||q(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(o.push(a.value),!t||o.length!==t);i=!0);}catch(e){l=!0,r=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||q(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(e,t){if(e){if("string"===typeof e)return W(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?W(e,t):void 0}}function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function Q(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Y=function(e){var t,n,a,o,s,u,d,p,g=e.activeView,v=e.fluid,h=e.onSidePanelToggleClick,y=e["data-testid"],E=Q(e,B),S=(0,c.$G)().t,A=(0,T.I0)(),C=(0,T.v9)((function(e){return e.profile.profileInfo})),I=(0,T.v9)((function(e){return e.loaders.isProfileInfoRequestLoading})),w=(0,T.v9)((function(e){return e.config})),R=(0,T.v9)((function(e){return e.config.ui.isHeaderAvatarLabelAllowed})),O=(0,T.v9)((function(e){return e.config.ui.showAppSwitchButton})),L=(0,T.v9)((function(e){return e.config.deployment.accountApp.path})),U=(0,T.v9)((function(e){return e.config.deployment.appHomePath})),q=(0,T.v9)((function(e){return e.global.activeView})),W=(0,T.v9)((function(e){var t;return null===e||void 0===e||null===(t=e.auth)||void 0===t?void 0:t.tenantDomain})),Y=(0,T.v9)((function(e){var t;return null===e||void 0===e||null===(t=e.auth)||void 0===t?void 0:t.tenants})),X=(0,T.v9)((function(e){return e.config.deployment.accountApp.tenantQualifiedPath})),K=(0,T.v9)((function(e){return e.auth.isPrivilegedUser})),J=(0,T.v9)((function(e){return e.accessControl.isDevelopAllowed})),ee=(0,T.v9)((function(e){return e.accessControl.isManageAllowed})),te=$((0,l.useState)(void 0),2),ne=te[0],ae=te[1],re=G.lD.getInstance();(0,l.useEffect)((function(){((0,x.Z)(r.LocalStorageUtils.getValueFromLocalStorage("IsAppsAvailable"))||"true"!==r.LocalStorageUtils.getValueFromLocalStorage("IsAppsAvailable"))&&(0,M.AY)(null,null,null).then((function(e){r.LocalStorageUtils.setValueInLocalStorage("IsAppsAvailable",e.totalResults>0?"true":"false")})).catch((function(){}))}),[]),(0,l.useEffect)((function(){q||A((0,H.uG)(g))}),[g]),(0,l.useEffect)((function(){var e,t,n;(0,x.Z)(w)||null!==w&&void 0!==w&&null!==(e=w.ui)&&void 0!==e&&e.announcements&&(null===w||void 0===w||null===(t=w.ui)||void 0===t?void 0:t.announcements)instanceof Array&&!((null===w||void 0===w||null===(n=w.ui)||void 0===n?void 0:n.announcements.length)<1)&&ae(r.CommonUtils.getValidAnnouncement(w.ui.announcements,G.DN.getSeenAnnouncements()))}),[w]);var oe=function(e){var t,n,a=[],o=null===m.commonConfig||void 0===m.commonConfig||null===(t=m.commonConfig.header)||void 0===t?void 0:t.getHeaderSubPanelExtensions(),c=[J&&{component:function(){return l.createElement(N.Z.Item,{name:w.deployment.developerApp.displayName,active:q===z.e.DEVELOP,className:"secondary-panel-item portal-switch",onClick:function(){re.publish("console-click-develop-menu-item"),j.m.push(w.deployment.developerApp.path),A((0,H.uG)(z.e.DEVELOP))},"data-testid":"".concat(y,"-developer-portal-switch")})},floated:"left",order:1},ee&&{component:function(){return l.createElement(N.Z.Item,{name:w.deployment.adminApp.displayName,active:q===z.e.MANAGE,className:"secondary-panel-item portal-switch",onClick:function(){re.publish("console-click-manage-menu-item"),j.m.push(w.deployment.adminApp.path),A((0,H.uG)(z.e.MANAGE))},"data-testid":"".concat(y,"-admin-portal-switch")})},floated:"left",order:2}];return 0===(null===(n=o[0])||void 0===n?void 0:n.order)&&"true"===r.LocalStorageUtils.getValueFromLocalStorage("IsAppsAvailable")&&(o[0].component=function(e,t){return l.createElement(N.Z.Item,{active:e===m.commonConfig.header.headerQuickstartMenuItem,className:"secondary-panel-item quickstart-page-switch",onClick:function(){j.m.push("".concat(P.$x.getMainViewBasePath(),"/getting-started")),t&&t(m.commonConfig.header.headerQuickstartMenuItem)},"data-testid":"app-header-quick-start-switch"},l.createElement(i.GenericIcon,{defaultIcon:!0,transparent:!0,size:"x22",hoverable:!1,icon:(0,f.dB)().homeIcon}))}),(0,b.Z)([].concat(V(o),c),["order"]).filter((function(t){if(t.floated===e){var n=t.component;a.push(n(q,(function(e){A((0,H.uG)(e))})))}})),a.length>0?l.createElement(N.Z,{floated:"right"===e?"right":void 0,className:"inner-menu"},a):null};return l.createElement(i.Header,F({announcement:ne&&l.createElement(i.Announcement,{message:ne.message,onDismiss:function(){G.DN.setSeenAnnouncements(ne.id);var e=r.CommonUtils.getValidAnnouncement(w.ui.announcements,G.DN.getSeenAnnouncements());ae(e||null)},color:ne.color}),brand:l.createElement(i.ProductBrand,{appName:w.ui.appName,style:{marginTop:0},logo:l.createElement(i.Logo,{className:"portal-logo",image:(0,D.resolveAppLogoFilePath)(window.AppUtils.getConfig().ui.appLogoPath,"".concat(window.AppUtils.getConfig().clientOrigin,"/")+"".concat(window.AppUtils.getConfig().appBase,"/libs/themes/")+w.ui.theme.name)}),version:null===(t=w.ui.productVersionConfig)||void 0===t?void 0:t.productVersion,versionUISettings:{allowSnapshot:null===(n=w.ui.productVersionConfig)||void 0===n?void 0:n.allowSnapshot,labelColor:null===(a=w.ui.productVersionConfig)||void 0===a?void 0:a.labelColor,labelPosition:"absolute",textCase:null===(o=w.ui.productVersionConfig)||void 0===o?void 0:o.textCase}}),brandLink:w.deployment.appHomePath,basicProfileInfo:C,extensions:(0,_.Z)([].concat(V(null===m.commonConfig||void 0===m.commonConfig||null===(s=m.commonConfig.header)||void 0===s?void 0:s.getHeaderExtensions()),[O&&(null===m.commonConfig||void 0===m.commonConfig||null===(u=m.commonConfig.header)||void 0===u?void 0:u.renderAppSwitcherAsDropdown)&&{component:l.createElement(N.Z.Item,{className:"app-switch-button-wrapper",key:"app-switch-trigger","data-testid":"app-switch-trigger"},l.createElement(i.AppSwitcher,{enabled:O,tooltip:S("console:common.header.appSwitch.tooltip"),apps:[{"data-testid":"app-switch-console",description:S("console:common.header.appSwitch.console.description"),enabled:!0,icon:(0,f.Zk)().console,name:S("console:common.header.appSwitch.console.name"),onClick:function(){re.publish("console-click-visit-console"),window.open(U,"_self")}},{"data-testid":"app-switch-myaccount",description:S("console:common.header.appSwitch.myAccount.description"),enabled:!0,icon:(0,f.Zk)().myAccount,name:S("console:common.header.appSwitch.myAccount.name"),onClick:function(){re.publish("console-click-visit-my-account"),window.open(K?X:L,"_blank","noopener")}}]})),floated:"right"},{component:l.createElement(k.Z,null),floated:"left"}])),fluid:v,isProfileInfoLoading:I,userDropdownLinks:(0,_.Z)([!(null!==m.commonConfig&&void 0!==m.commonConfig&&null!==(d=m.commonConfig.header)&&void 0!==d&&d.renderAppSwitcherAsDropdown)&&{category:"APPS",categoryLabel:S("common:apps"),links:[{"data-testid":"app-switch-myaccount",icon:(0,f.Zk)().myAccount,name:S("console:manage.features.header.links.userPortalNav"),onClick:function(){re.publish("console-click-visit-my-account"),window.open(K?X:L,"_blank","noopener")}}]}].concat(V(null===m.commonConfig||void 0===m.commonConfig||null===(p=m.commonConfig.header)||void 0===p?void 0:p.getUserDropdownLinkExtensions(W,Y)),[{category:"GENERAL",categoryLabel:null,links:[{"data-testid":"app-header-dropdown-link-Logout",name:S("common:logout"),onClick:function(){re.publish("console-click-logout"),j.m.push(window.AppUtils.getConfig().routes.logout)}}]}])),profileInfo:C,showUserDropdown:!0,showUserDropdownTriggerLabel:void 0!==R&&R,onSidePanelToggleClick:h,onAvatarClick:function(){window.open(window.AppUtils.getConfig().accountApp.path,"_blank","noopener")},"data-testid":y},E),(J||ee)&&l.createElement("div",{className:"secondary-panel","data-testid":"".concat(y,"-secondary-panel")},l.createElement(Z.Z,{fluid:v},oe("left"),oe("right"))))};Y.defaultProps={"data-testid":"app-header",fluid:!0};var X=n(85027);function K(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(o.push(a.value),!t||o.length!==t);i=!0);}catch(e){l=!0,r=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return J(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return J(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function ee(){return ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ee.apply(this,arguments)}var te=function(e){var t;return l.createElement(X.Z,ee({},e,{className:"modal-with-side-panel ".concat(null!==(t=e.className)&&void 0!==t?t:"")}),l.createElement("div",{className:"panels"},null===e||void 0===e?void 0:e.children))};te.MainPanel=function(e){var t;return l.createElement("div",{className:"main-panel ".concat(null!==(t=null===e||void 0===e?void 0:e.className)&&void 0!==t?t:"")},null===e||void 0===e?void 0:e.children)},te.SidePanel=function(e){var t,n=K((0,l.useState)(!0),2),a=n[0],r=n[1];return l.createElement("div",{className:"side-panel ".concat(null!==(t=null===e||void 0===e?void 0:e.className)&&void 0!==t?t:""," ").concat(a?"":"closed")},l.createElement("div",{className:"side-panel-content ".concat(a?"visible":"hidden")},null===e||void 0===e?void 0:e.children),l.createElement("div",{className:"toggle-button-column ".concat(a?"":"closed")},l.createElement("div",{className:"toggle-button",onClick:function(){r(!a)}},l.createElement(i.GenericIcon,{hoverable:!0,hoverType:"circular",background:!1,transparent:!0,link:!0,icon:a?(0,f.km)().caretLeft:(0,f.km)().caretRight}))))},te.Header=function(e){var t;return l.createElement(l.Fragment,null,l.createElement("div",{className:"modal-header ".concat(null!==(t=null===e||void 0===e?void 0:e.className)&&void 0!==t?t:"")},null===e||void 0===e?void 0:e.children))},te.Content=function(e){var t;return l.createElement("div",{className:"modal-content ".concat(null!==(t=null===e||void 0===e?void 0:e.className)&&void 0!==t?t:"")},null===e||void 0===e?void 0:e.children)},te.Actions=function(e){var t;return l.createElement(l.Fragment,null,l.createElement("div",{className:"modal-actions ".concat(null!==(t=null===e||void 0===e?void 0:e.className)&&void 0!==t?t:"")},null===e||void 0===e?void 0:e.children))};var ne=n(57002),ae=n(72540),re=n(61316),oe=["component"];function ie(){return ie=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ie.apply(this,arguments)}function le(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var ce=function(e){var t=e.component,n=le(e,oe),a=(0,T.v9)((function(e){return e.auth.isAuthenticated}));return window.location.pathname!==P.$x.getAppLoginPath()&&window.location.pathname!==P.$x.getPaths().get("UNAUTHORIZED")&&window.location.pathname!==P.$x.getPaths().get("PAGE_NOT_FOUND")&&window.location.pathname!==P.$x.getPaths().get("STORING_DATA_DISABLED")?r.AuthenticateUtils.updateAuthenticationCallbackUrl(ne.AppConstants.CONSOLE_APP,window.location.pathname+window.location.hash):r.AuthenticateUtils.updateAuthenticationCallbackUrl(ne.AppConstants.CONSOLE_APP,P.$x.getAppHomePath()),l.createElement(ae.Z,ie({render:function(e){return a?t?l.createElement(t,e):null:l.createElement(re.Z,{to:P.$x.getAppLoginPath()})}},n))},se=n(46904),ue=n(65395),de=n(75153),me=n(84504),fe=n(70515),pe=n(5556),ge=n(25179);function ve(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(o.push(a.value),!t||o.length!==t);i=!0);}catch(e){l=!0,r=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return he(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return he(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function he(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function ye(){var e=this;return new Promise((function(t){var n=new FileReader;n.onload=function(){t(n.result)},n.readAsArrayBuffer(e)}))}"File"in self&&(File.prototype.arrayBuffer=File.prototype.arrayBuffer||ye),Blob.prototype.arrayBuffer=Blob.prototype.arrayBuffer||ye;var Ee=function(e){var t=e.submit,n=e.triggerSubmit,a=e.nameData,o=e.pemData,s=e.fileDecodedData,m=e.fileData,p=e.forgeCertificateData,g=e.hideAliasInput,v=e.setShowFinishButton,h=e["data-testid"],y=ve((0,l.useState)(""),2),E=y[0],b=y[1],S=ve((0,l.useState)(null),2),A=S[0],C=S[1],I=ve((0,l.useState)(""),2),w=I[0],T=I[1],P=ve((0,l.useState)(!1),2),R=P[0],O=P[1],L=ve((0,l.useState)(!1),2),U=L[0],D=L[1],_=ve((0,l.useState)(!1),2),x=_[0],N=_[1],Z=ve((0,l.useState)(""),2),M=Z[0],k=Z[1],j=ve((0,l.useState)(!1),2),z=j[0],H=j[1],G=ve((0,l.useState)(0),2),B=G[0],F=G[1],V=ve((0,l.useState)(!1),2),$=V[0],q=V[1],W=ve((0,l.useState)(null),2),Q=W[0],Y=W[1],X=(0,l.useRef)(null),K=(0,l.useRef)(!0),J=(0,c.$G)().t;(0,l.useEffect)((function(){K.current?K.current=!1:te()}),[n]),(0,l.useEffect)((function(){a&&b(a)}),[a]),(0,l.useEffect)((function(){m&&C(m)}),[m]),(0,l.useEffect)((function(){M&&k(s)}),[s]),(0,l.useEffect)((function(){o&&T(o)}),[o]),(0,l.useEffect)((function(){E&&O(!1)}),[E]),(0,l.useEffect)((function(){A&&D(!1)}),[A]),(0,l.useEffect)((function(){v&&v(!(!A&&!w))}),[A,w]),(0,l.useEffect)((function(){p&&Y(p)}),[p]),(0,l.useEffect)((function(){var e,t;null!==(e=window.matchMedia("(prefers-color-scheme:dark)"))&&void 0!==e&&e.matches&&q(!0);var n=function(e){e.matches?q(!0):q(!1)};return null!==(t=window.matchMedia("(prefers-color-scheme:dark)"))&&void 0!==t&&t.addEventListener&&window.matchMedia("(prefers-color-scheme:dark)").addEventListener("change",n),function(){var e;null!==(e=window.matchMedia("(prefers-color-scheme:dark)"))&&void 0!==e&&e.addEventListener&&window.matchMedia("(prefers-color-scheme:dark)").removeEventListener("change",n)}}),[]);var ee=function(e){var t=r.CertificateManagementUtils.enclosePem(e);try{var n=(new se.X509).readCertFromPEM(t);return Y(n),{certificate:n,value:r.CertificateManagementUtils.stripPem(e)}}catch(e){try{var a=ue.pki.certificateFromPem(t),o=ue.pki.certificateToPem(a),i=new se.X509;return i.readCertPEM(o),{certificate:i,value:r.CertificateManagementUtils.stripPem(o)}}catch(e){return D(!0),null}}},te=function(){!A&&!w&&N(!0);var e,n,a=ne();if(g){if(!A&&!w||U||!a)return}else if(!E&&O(!0),!E||!A&&!w||U||!a)return;"string"===typeof a?(e=a,n=Q):(e=null===a||void 0===a?void 0:a.value,n=a.certificate),t({alias:E,certificate:e},E,w,M,A,n)},ne=function(){return M&&w?0===B?M:ee(w):M||ee(w)},ae=[{menuItem:J("console:manage.features.certificates.keystore.wizard.panes.upload"),render:function(){return A?l.createElement(de.Z,{placeholder:!0},l.createElement(de.Z,{textAlign:"center",basic:!0},l.createElement(i.GenericIcon,{inline:!0,transparent:!0,size:"auto",icon:(0,f._5)().file}),l.createElement("p",{className:"file-name"},A.name),l.createElement(fe.Z,{name:"trash alternate",link:!0,onClick:function(){C(null),D(!1),k("")}}))):l.createElement("div",{onDrop:function(e){if(e.preventDefault(),e.stopPropagation(),H(!1),e.dataTransfer.files[0]){var t=e.dataTransfer.files[0];re(t)}},onDragOver:function(e){e.preventDefault(),e.stopPropagation(),H(!0)},onDragLeave:function(){H(!1)},"data-testid":"".concat(h,"-certificate-upload-dropzone")},l.createElement(de.Z,{placeholder:!0,className:"drop-zone ".concat(z?"drag-over":"")},l.createElement("div",{className:"certificate-upload-placeholder"},l.createElement(i.GenericIcon,{inline:!0,transparent:!0,size:"mini",icon:(0,f._5)().uploadPlaceholder}),l.createElement("p",{className:"description"},J("console:manage.features.certificates.keystore.wizard.dropZone.description")),l.createElement("p",{className:"description"},"\u2013 or \u2013")),l.createElement(me.Z,{basic:!0,primary:!0,onClick:function(e){e.preventDefault(),X.current.click()}},J("console:manage.features.certificates.keystore.wizard.dropZone.action"))))}},{menuItem:J("console:manage.features.certificates.keystore.wizard.panes.paste"),render:function(){return l.createElement(u.Z,null,l.createElement(pe.Z,{rows:13,placeholder:J("console:manage.features.certificates.keystore.wizard.pastePlaceholder"),value:w,onChange:function(e){T(e.target.value),N(!1),D(!1)},spellCheck:!1,className:"certificate-editor ".concat($?"dark":"light"),"data-testid":"".concat(h,"-certificate-content-textarea")}))}}],re=function(e){var t;null===(t=function(e){return e.arrayBuffer().then((function(e){try{var t=Array.prototype.map.call(new Uint8Array(e),(function(e){return("00"+e.toString(16)).slice(-2)})).join(""),n=new se.X509;n.readCertHex(t);var a=new se.KJUR.asn1.x509.Certificate(n.getParam()).getPEM();return Y(n),Promise.resolve(r.CertificateManagementUtils.stripPem(a))}catch(t){var o=ue.util.createBuffer(e);try{var i=ue.asn1.fromDer(o),l=ue.pki.certificateFromAsn1(i),c=ue.pki.certificateToPem(l),s=new se.X509;return s.readCertPEM(c),Y(s),Promise.resolve(r.CertificateManagementUtils.stripPem(c))}catch(e){try{var u=new se.X509;u.readCertPEM(o.data);var d=new se.KJUR.asn1.x509.Certificate(u.getParam()).getPEM();return Y(u),Promise.resolve(r.CertificateManagementUtils.stripPem(d))}catch(e){var m=ue.pki.certificateFromPem(o.data),f=ue.pki.certificateToPem(m),p=new se.X509;return p.readCertPEM(f),Y(p),Promise.resolve(r.CertificateManagementUtils.stripPem(f))}}}})).catch((function(e){return Promise.reject(e)}))}(e))||void 0===t||t.then((function(t){C(e),N(!1),D(!1);var n=e.name.split(".");n.pop(),!E&&b(n.join(".")),k(t)})).catch((function(){D(!0)}))};return l.createElement(l.Fragment,null,l.createElement("input",{ref:X,type:"file",accept:".pem, .cer, .crt, .cert",hidden:!0,onChange:function(e){var t=e.target.files[0];e.target.value=null,re(t)},"data-testid":"".concat(h,"-file-upload-input")}),!g&&l.createElement(l.Fragment,null,l.createElement(u.Z,null,l.createElement(u.Z.Input,{fluid:!0,type:"text",placeholder:J("console:manage.features.certificates.keystore.forms.alias.placeholder"),label:J("console:manage.features.certificates.keystore.forms.alias.label"),required:!0,error:!!R&&{content:J("console:manage.features.certificates.keystore.forms.alias.requiredErrorMessage")},value:E,onChange:function(e){b(e.target.value)},"data-testid":"".concat(h,"-alias-input")})),l.createElement(d.Z,{hidden:!0})),l.createElement(ge.Z,{className:"tabs resource-tabs",menu:{pointing:!0,secondary:!0},panes:ae,activeIndex:B,onTabChange:function(e,t){var n=t.activeIndex;F(parseInt(n.toString()))},"data-testid":"".concat(h,"-certificate-upload-tab")}),(U||x)&&l.createElement(i.Message,{type:"error","data-testid":"".concat(h,"-error-message"),content:J(U?"console:manage.features.certificates.keystore.errorCertificate":"console:manage.features.certificates.keystore.errorEmpty")}))};Ee.defaultProps={"data-testid":"upload-certificate",hideAliasInput:!1};var be=n(92303);function Se(e){return function(e){if(Array.isArray(e))return Ie(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ce(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ae(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(o.push(a.value),!t||o.length!==t);i=!0);}catch(e){l=!0,r=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||Ce(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ce(e,t){if(e){if("string"===typeof e)return Ie(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ie(e,t):void 0}}function Ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var we=function(e){var t,n,a,r,s=e.initialValues,u=e.triggerSubmit,d=e.onSubmit,m=e.handleGroupListChange,f=e.handleTempListChange,p=e.handleInitialTempListChange,g=e.handleInitialGroupListChange,v=(0,c.$G)().t,h=Ae((0,l.useState)([]),2),y=h[0],E=h[1],b=Ae((0,l.useState)([]),2),S=b[0],A=b[1],C=Ae((0,l.useState)(!1),2),I=C[0],w=C[1],T=Ae((0,l.useState)(!1),2),P=T[0],R=T[1];(0,l.useEffect)((function(){A(P?null===s||void 0===s?void 0:s.tempGroupList:[])}),[P]),(0,l.useEffect)((function(){E(I?null===s||void 0===s?void 0:s.groupList:[])}),[I]);var O=function(e){var t=e.split("/");return t.length>1?{labelColor:"teal",labelText:t[0].toString()}:{labelColor:"olive",labelText:"Primary"}};return l.createElement(o.Forms,{onSubmit:function(){d({groups:null===s||void 0===s?void 0:s.tempGroupList})},submitState:u},l.createElement(i.TransferComponent,{searchPlaceholder:v("console:manage.features.transferList.searchPlaceholder",{type:"groups"}),addItems:function(){var e=Se(null===s||void 0===s?void 0:s.tempGroupList);(null===y||void 0===y?void 0:y.length)>0&&y.map((function(t){var n;null!==s&&void 0!==s&&null!==(n=s.tempGroupList)&&void 0!==n&&n.includes(t)||e.push(t)})),f(e),p(e),m(null===s||void 0===s?void 0:s.groupList.filter((function(t){return!(null!==e&&void 0!==e&&e.includes(t))}))),g(null===s||void 0===s?void 0:s.groupList.filter((function(t){return!(null!==e&&void 0!==e&&e.includes(t))}))),w(!1)},removeItems:function(){var e,t,n=Se(null===s||void 0===s?void 0:s.groupList);(null===S||void 0===S?void 0:S.length)>0&&S.map((function(e){var t;null!==s&&void 0!==s&&null!==(t=s.groupList)&&void 0!==t&&t.includes(e)||n.push(e)})),m(n),g(n),f(null===s||void 0===s||null===(e=s.tempGroupList)||void 0===e?void 0:e.filter((function(e){return!n.includes(e)}))),p(null===s||void 0===s||null===(t=s.tempGroupList)||void 0===t?void 0:t.filter((function(e){return!n.includes(e)}))),E([]),R(!1)},handleUnelectedListSearch:function(e,t){var n=t.value,a=[];if((0,x.Z)(n))m(null===s||void 0===s?void 0:s.initialGroupList);else{var r=new RegExp((0,be.Z)(n),"i");s.groupList&&s.groupList.map((function(e){r.test(e.displayName)&&(a.push(e),m(a))}))}},handleSelectedListSearch:function(e,t){var n=t.value,a=[];if((0,x.Z)(n))f(null===s||void 0===s?void 0:s.initialTempGroupList);else{var r=new RegExp((0,be.Z)(n),"i");s.tempGroupList&&s.tempGroupList.map((function(e){r.test(e.displayName)&&(a.push(e),f(a))}))}},"data-testid":"user-mgt-add-user-wizard-modal"},l.createElement(i.TransferList,{isListEmpty:!((null===s||void 0===s||null===(t=s.groupList)||void 0===t?void 0:t.length)>0),listType:"unselected",listHeaders:[v("console:manage.features.transferList.list.headers.0"),v("console:manage.features.transferList.list.headers.1"),""],handleHeaderCheckboxChange:function(){w(!I)},isHeaderCheckboxChecked:I,emptyPlaceholderContent:v("console:manage.features.transferList.list.emptyPlaceholders.roles.unselected",{type:"groups"}),"data-testid":"user-mgt-add-user-wizard-modal-unselected-groups-select-all-checkbox",emptyPlaceholderDefaultContent:v("console:manage.features.transferList.list.emptyPlaceholders.default")},null===s||void 0===s||null===(n=s.groupList)||void 0===n?void 0:n.map((function(e,t){var n,a=null===e||void 0===e||null===(n=e.displayName)||void 0===n?void 0:n.split("/");return l.createElement(i.TransferListItem,{handleItemChange:function(){return function(e){var t=Se(y);null!==t&&void 0!==t&&t.includes(e)?(t.splice(t.indexOf(e),1),E(t)):(t.push(e),E(t))}(e)},key:t,listItem:(null===a||void 0===a?void 0:a.length)>1?a[1]:null===e||void 0===e?void 0:e.displayName,listItemId:e.id,listItemIndex:t,listItemTypeLabel:O(null===e||void 0===e?void 0:e.displayName),isItemChecked:y.includes(e),showSecondaryActions:!1,"data-testid":"user-mgt-add-user-wizard-modal-unselected-groups"})}))),l.createElement(i.TransferList,{isListEmpty:!((null===s||void 0===s||null===(a=s.tempGroupList)||void 0===a?void 0:a.length)>0),listType:"selected",listHeaders:[v("console:manage.features.transferList.list.headers.0"),v("console:manage.features.transferList.list.headers.1")],handleHeaderCheckboxChange:function(){R(!P)},isHeaderCheckboxChecked:P,emptyPlaceholderContent:v("console:manage.features.transferList.list.emptyPlaceholders.roles.selected",{type:"groups"}),"data-testid":"user-mgt-add-user-wizard-modal-selected-groups-select-all-checkbox",emptyPlaceholderDefaultContent:v("console:manage.features.transferList.list.emptyPlaceholders.default")},null===s||void 0===s||null===(r=s.tempGroupList)||void 0===r?void 0:r.map((function(e,t){var n,a=null===e||void 0===e||null===(n=e.displayName)||void 0===n?void 0:n.split("/");return l.createElement(i.TransferListItem,{handleItemChange:function(){return function(e){var t=Se(S);null!==t&&void 0!==t&&t.includes(e)?(t.splice(t.indexOf(e),1),A(t)):(t.push(e),A(t))}(e)},key:t,listItem:(null===a||void 0===a?void 0:a.length)>1?a[1]:null===e||void 0===e?void 0:e.displayName,listItemId:e.id,listItemIndex:t,listItemTypeLabel:O(null===e||void 0===e?void 0:e.displayName),isItemChecked:S.includes(e),showSecondaryActions:!1,"data-testid":"user-mgt-add-user-wizard-modal-selected-groups"})})))))};function Te(e){return function(e){if(Array.isArray(e))return Oe(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Re(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(o.push(a.value),!t||o.length!==t);i=!0);}catch(e){l=!0,r=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||Re(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Re(e,t){if(e){if("string"===typeof e)return Oe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Oe(e,t):void 0}}function Oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var Le=function(e){var t,n,a,r,s=e.initialValues,u=e.triggerSubmit,d=e.onSubmit,m=e.handleRoleListChange,f=e.handleTempListChange,p=e.handleInitialTempListChange,g=e.handleInitialRoleListChange,v=e.handleSetRoleId,h=(0,c.$G)().t,y=Pe((0,l.useState)([]),2),E=y[0],b=y[1],S=Pe((0,l.useState)([]),2),A=S[0],C=S[1],I=Pe((0,l.useState)(!1),2),w=I[0],T=I[1],P=Pe((0,l.useState)(!1),2),R=P[0],O=P[1];(0,l.useEffect)((function(){C(R?null===s||void 0===s?void 0:s.tempRoleList:[])}),[R]),(0,l.useEffect)((function(){b(w?null===s||void 0===s?void 0:s.roleList:[])}),[w]);var L=function(e){var t=e.split("/");if(t.length>0)return"Application"==t[0]?{labelColor:null,labelText:"Application",name:"application-label"}:{labelColor:null,labelText:"Internal",name:"internal-label"}};return l.createElement(l.Fragment,null,l.createElement(o.Forms,{onSubmit:function(){d({roles:null===s||void 0===s?void 0:s.tempRoleList})},submitState:u},l.createElement(i.TransferComponent,{searchPlaceholder:h("console:manage.features.transferList.searchPlaceholder",{type:"Roles"}),addItems:function(){var e=Te(s.tempRoleList);(null===E||void 0===E?void 0:E.length)>0&&E.map((function(t){var n;null!==s&&void 0!==s&&null!==(n=s.tempRoleList)&&void 0!==n&&n.includes(t)||e.push(t)})),f(e),p(e),m(null===s||void 0===s?void 0:s.roleList.filter((function(t){return!(null!==e&&void 0!==e&&e.includes(t))}))),g(null===s||void 0===s?void 0:s.roleList.filter((function(t){return!(null!==e&&void 0!==e&&e.includes(t))}))),T(!1)},removeItems:function(){var e,t,n=Te(null===s||void 0===s?void 0:s.roleList);(null===A||void 0===A?void 0:A.length)>0&&A.map((function(e){var t;null!==s&&void 0!==s&&null!==(t=s.roleList)&&void 0!==t&&t.includes(e)||n.push(e)})),m(n),g(n),f(null===s||void 0===s||null===(e=s.tempRoleList)||void 0===e?void 0:e.filter((function(e){return!(null!==n&&void 0!==n&&n.includes(e))}))),p(null===s||void 0===s||null===(t=s.tempRoleList)||void 0===t?void 0:t.filter((function(e){return!(null!==n&&void 0!==n&&n.includes(e))}))),b([]),O(!1)},handleUnelectedListSearch:function(e,t){var n=t.value,a=[];if((0,x.Z)(n))m(null===s||void 0===s?void 0:s.initialRoleList);else{var r=new RegExp((0,be.Z)(n),"i");s.roleList&&s.roleList.map((function(e){r.test(e.displayName)&&(a.push(e),m(a))}))}},handleSelectedListSearch:function(e,t){var n=t.value,a=[];if((0,x.Z)(n))f(null===s||void 0===s?void 0:s.initialTempRoleList);else{var r=new RegExp((0,be.Z)(n),"i");s.tempRoleList&&s.tempRoleList.map((function(e){r.test(e.displayName)&&(a.push(e),f(a))}))}},"data-testid":"user-mgt-add-user-wizard-modal"},l.createElement(i.TransferList,{isListEmpty:!((null===s||void 0===s||null===(t=s.roleList)||void 0===t?void 0:t.length)>0),listType:"unselected",listHeaders:[h("console:manage.features.transferList.list.headers.0"),h("console:manage.features.transferList.list.headers.1"),""],handleHeaderCheckboxChange:function(){T(!w)},isHeaderCheckboxChecked:w,emptyPlaceholderContent:h("console:manage.features.transferList.list.emptyPlaceholders.groups.unselected",{type:"roles"}),"data-testid":"user-mgt-add-user-wizard-modal-unselected-roles-select-all-checkbox",emptyPlaceholderDefaultContent:h("console:manage.features.transferList.list.emptyPlaceholders.default")},null===s||void 0===s||null===(n=s.roleList)||void 0===n?void 0:n.map((function(e,t){var n,a=null===e||void 0===e||null===(n=e.displayName)||void 0===n?void 0:n.split("/");return l.createElement(i.TransferListItem,{handleItemChange:function(){return function(e){var t=Te(E);t.includes(e)?(t.splice(t.indexOf(e),1),b(t)):(t.push(e),b(t))}(e)},key:t,listItem:(null===a||void 0===a?void 0:a.length)>1?a[1]:null===e||void 0===e?void 0:e.displayName,listItemId:e.id,listItemIndex:t,listItemTypeLabel:L(null===e||void 0===e?void 0:e.displayName),isItemChecked:E.includes(e),showSecondaryActions:!0,handleOpenPermissionModal:function(){return v(e.id)},"data-testid":"user-mgt-add-user-wizard-modal-unselected-roles"})}))),l.createElement(i.TransferList,{isListEmpty:!((null===s||void 0===s||null===(a=s.tempRoleList)||void 0===a?void 0:a.length)>0),listType:"selected",listHeaders:[h("console:manage.features.transferList.list.headers.0"),h("console:manage.features.transferList.list.headers.1")],handleHeaderCheckboxChange:function(){O(!R)},isHeaderCheckboxChecked:R,emptyPlaceholderContent:h("console:manage.features.transferList.list.emptyPlaceholders.groups.selected",{type:"roles"}),"data-testid":"user-mgt-add-user-wizard-modal-selected-roles-select-all-checkbox",emptyPlaceholderDefaultContent:h("console:manage.features.transferList.list.emptyPlaceholders.default")},null===s||void 0===s||null===(r=s.tempRoleList)||void 0===r?void 0:r.map((function(e,t){var n=e.displayName.split("/");return l.createElement(i.TransferListItem,{handleItemChange:function(){return function(e){var t=Te(A);t.includes(e)?(t.splice(t.indexOf(e),1),C(t)):(t.push(e),C(t))}(e)},key:t,listItem:(null===n||void 0===n?void 0:n.length)>1?n[1]:null===e||void 0===e?void 0:e.displayName,listItemId:e.id,listItemIndex:t,listItemTypeLabel:L(e.displayName),isItemChecked:A.includes(e),showSecondaryActions:!1,"data-testid":"user-mgt-add-user-wizard-modal-selected-roles"})}))))))},Ue=n(29850),De=n(81229);function _e(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(o.push(a.value),!t||o.length!==t);i=!0);}catch(e){l=!0,r=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return xe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var Ne=function(e){var t=e.roleId,n=e.handleNavigateBack,a=e["data-testid"],r=(0,c.$G)().t,o=_e((0,l.useState)(!1),2),s=o[0],u=o[1],m=_e((0,l.useState)(),2),f=m[0],p=m[1];return(0,l.useEffect)((function(){t&&t&&(0,Ue.xQ)(t).then((function(e){u(!1),p(e.data)}))}),[t]),(0,l.useEffect)((function(){f&&u(!0)}),[f]),s&&l.createElement(l.Fragment,null,l.createElement(i.Heading,{as:"h5"},r("console:manage.features.user.updateUser.roles.viewPermissionModal.heading",{role:f.displayName})),l.createElement(d.Z,{hidden:!0}),l.createElement(i.LinkButton,{"data-testid":"".concat(a,"_back_button"),floated:"left",onClick:n},l.createElement(fe.Z,{name:"arrow left"}),r("console:manage.features.user.updateUser.roles.viewPermissionModal.backButton")),l.createElement(d.Z,{hidden:!0}),l.createElement(d.Z,{hidden:!0}),l.createElement(de.Z,{"data-testid":a},l.createElement("div",{className:"permissions-edit-container"},l.createElement(De.wB,{isEdit:!1,isRole:!0,roleObject:f}))))},Ze=n(43017);function Me(e){return function(e){if(Array.isArray(e))return ze(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||je(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ke(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(o.push(a.value),!t||o.length!==t);i=!0);}catch(e){l=!0,r=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||je(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function je(e,t){if(e){if("string"===typeof e)return ze(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ze(e,t):void 0}}function ze(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var He=function(e){var t=e["data-testid"],n=e.setAvailableExternalClaims,a=e.setInitialSelectedExternalClaims,r=e.selectedExternalClaims,o=e.availableExternalClaims,s=e.onUpdate,u=e.triggerSubmit,d=ke((0,l.useState)(!1),2),m=d[0],f=d[1],p=ke((0,l.useState)([]),2),g=p[0],v=p[1],h=ke((0,l.useState)([]),2),y=h[0],E=h[1],S=ke((0,l.useState)([]),2),A=S[0],C=S[1],I=(0,c.$G)().t,w=(0,l.useRef)(!0),T=(0,l.useRef)(!0),P=function(e){var t=e.filter((function(e){return!!e}));return function(e){return(null===t||void 0===t?void 0:t.findIndex((function(t){return t.id===e.id})))>=0?-1:1}};(0,l.useEffect)((function(){if(r.length>0){var e=(0,b.Z)((0,Ze.Z)(Me(r),Me(o)),P(r),"localClaimDisplayName");v(e),C(e),E(r)}else{var t=(0,b.Z)(o,P([]),"localClaimDisplayName");v(t),C(t)}}),[r,o]),(0,l.useEffect)((function(){w.current?w.current=!1:R()}),[u]);var R=function(){a(Me(y)),n(Me(g)),s()};(0,l.useEffect)((function(){T.current?T.current=!1:E(m?A:[])}),[m]);return l.createElement(i.TransferComponent,{selectionComponent:!0,searchPlaceholder:I("console:develop.features.applications.edit.sections.attributes.selection.addWizard.steps.select.transfer.searchPlaceholders.attribute"),handleHeaderCheckboxChange:function(){f(!m)},iconPosition:"left",isHeaderCheckboxChecked:m,handleUnelectedListSearch:function(e){var t=e.target.value;if(t.length>0){var n=g.filter((function(e){var n;return-1!==(null!==(n=e.localClaimDisplayName)&&void 0!==n?n:"").toLowerCase().indexOf(t.toLowerCase())})),a=g.filter((function(e){var n;return-1!==(null!==(n=e.claimURI)&&void 0!==n?n:"").toLowerCase().indexOf(t.toLowerCase())}));C((0,b.Z)((0,Ze.Z)(n,a),P(y),"localClaimDisplayName"))}else r.length>0?C((0,b.Z)((0,Ze.Z)(r,o),P(y),"localClaimDisplayName")):C((0,b.Z)(g,P(y),"localClaimDisplayName"))},"data-testid":"".concat(t,"-transfer-component"),selectAllCheckboxLabel:I("console:develop.features.applications.edit.sections.attributes.selection.selectAll")},l.createElement(i.TransferList,{selectionComponent:!0,isListEmpty:!(A.length>0),listType:"unselected","data-testid":"".concat(t,"-unselected-transfer-list"),emptyPlaceholderDefaultContent:I("console:manage.features.transferList.list.emptyPlaceholders.default")},null===A||void 0===A?void 0:A.map((function(e,n){return l.createElement(i.TransferListItem,{handleItemChange:function(){return function(e){var t=Me(y);null!==t&&void 0!==t&&t.includes(e)?(t.splice(t.indexOf(e),1),E(t)):(e.requested=!0,t.push(e),E(t))}(e)},key:e.claimURI,listItem:e.localClaimDisplayName,listItemId:e.id,listItemIndex:e.claimURI,isItemChecked:y.includes(e),showSecondaryActions:!1,showListSubItem:!0,listSubItem:l.createElement(i.Code,{compact:!0,withBackground:!1},e.claimURI),"data-testid":"".concat(t,"-unselected-transfer-list-item-").concat(n)})}))))};He.defaultProps={"data-testid":"attribute-select-list"};n(42189);var Ge=function(e){var t=e["data-componentid"];return l.createElement("div",{className:"pre-loader-wrapper"},l.createElement(i.ContentLoader,{dimmer:!0,"data-testid":t}))};Ge.defaultProps={"data-componentid":"pre-loader"};var Be=n(30032),Fe=n.n(Be),Ve=n(345),$e=n(87303),qe=n(57764);function We(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(o.push(a.value),!t||o.length!==t);i=!0);}catch(e){l=!0,r=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Qe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var Ye=function(e){var t=e.className,n=e.disabled,a=e.displayName,r=e.image,o=e.key,s=e.onClick,u=e.overlayOpacity,d=e.raised,m=e.showOption,f=e.iconClass,p=e["data-testid"],g=(0,c.$G)().t,v=Fe()("tech-selection basic-card",{"disabled no-hover":n},t),h=We((0,l.useState)(!1),2),y=h[0],E=h[1],b=We((0,l.useState)(!1),2),S=b[0],A=b[1];return l.createElement($e.Z,{as:"div",link:!1,key:o,raised:d,"data-testid":null!==p&&void 0!==p?p:"protocol-card-".concat((0,Ve.Z)(a)),className:v,onClick:m?function(){return A(!S)}:!n&&s,onMouseEnter:function(){return E(!0)},onMouseLeave:function(){return E(!1)}},n&&l.createElement(qe.Z,{className:"lighter",active:y},g("common:featureAvailable")),l.createElement($e.Z.Content,{textAlign:"center",style:{opacity:n?u:1}},l.createElement(i.GenericIcon,{defaultIcon:!0,transparent:!0,size:"mini",className:"mb-2 ".concat(f," "),icon:r}),l.createElement($e.Z.Description,null,a)))};Ye.defaultProps={"data-testid":"technology-card",showOption:!1};var Xe=n(60753)},60753:function(e,t,n){"use strict";n.d(t,{P:function(){return s}});var a=n(96462),r=n(68905),o=n(64805),i=n(85027),l=n(23177),c=n(10061),s=function(e){var t=e.description,n=e.message,s=e.openModal,u=e.handleModalClose,d=(0,o.$G)().t;return r.createElement(i.Z,{open:s,dimmer:"blurring",onClose:u,closeOnDimmerClick:!1,closeOnEscape:!0},r.createElement(i.Z.Content,null,r.createElement(a.EmptyPlaceholder,{image:(0,c.jF)().createError,imageSize:"tiny",subtitle:[t],title:n})),r.createElement(i.Z.Actions,null,r.createElement(l.Z,null,r.createElement(l.Z.Row,{column:1},r.createElement(l.Z.Column,{mobile:8,tablet:8,computer:8},r.createElement(a.LinkButton,{floated:"left",onClick:u},d("common:cancel")))))))};s.defaultProps={openModal:!1}},5091:function(e,t,n){"use strict";n.d(t,{Zk:function(){return M.Zk},De:function(){return O},ut:function(){return D},wB:function(){return q},S$:function(){return M.S$},dB:function(){return M.dB},SC:function(){return J},u_:function(){return X},ju:function(){return ee},_5:function(){return M._5},tc:function(){return Q},l9:function(){return $},jF:function(){return M.jF},YK:function(){return Y},cS:function(){return W},s_:function(){return M.s_},km:function(){return M.km},FL:function(){return M.FL},YT:function(){return M.YT},Lb:function(){return M.Lb},Uz:function(){return M.Uz},c3:function(){return M.c3},r2:function(){return M.r2}});var a=n(57002),r=n(88742),o=n(22260),i=n(24544),l=n(90862),c=n(68510),s=(n(20688),n(55654),n(19074)),u=(n(95745),n(25703),n(43264),n(21337),n(99152),n(92138),n(82092),n(61025),n(63209)),d=(n(89642),n(3604),n(85215),n(20731),n(73119),n(21207)),m=n(84857),f=n(88804),p=n(69626),g=n(6997),v=n(29391),h=n(26264),y=n(84519),E=n(34694),b=n(1581),S=n(12558),A=n(16159),C=n(73881),I=n(26072);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var O=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,w;return t=e,w=[{key:"resolveServerHost",value:function(){return g.F.isRootOrganization(I.h.getState().organization.organization)?window.AppUtils.getConfig().serverOriginWithTenant:"".concat(window.AppUtils.getConfig().serverOrigin,"/o/").concat(I.h.getState().organization.organization.id)}},{key:"getDeploymentConfig",value:function(){var e,t,n,o,i,l,c,s,u,d,m,f,p,g,v;return{accountApp:window.AppUtils.getConfig().accountApp,adminApp:window.AppUtils.getConfig().adminApp,allowMultipleAppProtocols:window.AppUtils.getConfig().allowMultipleAppProtocols,appBaseName:window.AppUtils.getConfig().appBaseWithTenant,appBaseNameWithoutTenant:window.AppUtils.getConfig().appBase,appHomePath:window.AppUtils.getConfig().routes.home,appLoginPath:window.AppUtils.getConfig().routes.login,appLogoutPath:window.AppUtils.getConfig().routes.logout,clientHost:window.AppUtils.getConfig().clientOriginWithTenant,clientID:window.AppUtils.getConfig().clientID,clientOrigin:window.AppUtils.getConfig().clientOrigin,customServerHost:window.AppUtils.getConfig().customServerHost,developerApp:window.AppUtils.getConfig().developerApp,docSiteURL:window.AppUtils.getConfig().docSiteUrl,documentation:{baseURL:null!==(e=null===(t=window.AppUtils.getConfig().documentation)||void 0===t?void 0:t.baseURL)&&void 0!==e?e:a.DocumentationConstants.GITHUB_API_BASE_URL,contentBaseURL:null!==(n=null===(o=window.AppUtils.getConfig().documentation)||void 0===o?void 0:o.contentBaseURL)&&void 0!==n?n:a.DocumentationConstants.DEFAULT_CONTENT_BASE_URL,githubOptions:{branch:null!==(i=null===(l=window.AppUtils.getConfig().documentation)||void 0===l||null===(c=l.githubOptions)||void 0===c?void 0:c.branch)&&void 0!==i?i:a.DocumentationConstants.DEFAULT_BRANCH},imagePrefixURL:null!==(s=null===(u=window.AppUtils.getConfig().documentation)||void 0===u?void 0:u.imagePrefixURL)&&void 0!==s?s:a.DocumentationConstants.DEFAULT_IMAGE_PREFIX_URL,provider:null!==(d=null===(m=window.AppUtils.getConfig().documentation)||void 0===m?void 0:m.provider)&&void 0!==d?d:r.DocumentationProviders.GITHUB,structureFileType:null!==(f=null===(p=window.AppUtils.getConfig().documentation)||void 0===p?void 0:p.structureFileType)&&void 0!==f?f:r.DocumentationStructureFileTypes.YAML,structureFileURL:null!==(g=null===(v=window.AppUtils.getConfig().documentation)||void 0===v?void 0:v.structureFileURL)&&void 0!==g?g:a.DocumentationConstants.DEFAULT_STRUCTURE_FILE_URL},extensions:window.AppUtils.getConfig().extensions,idpConfigs:window.AppUtils.getConfig().idpConfigs,loginCallbackUrl:window.AppUtils.getConfig().loginCallbackURL,serverHost:window.AppUtils.getConfig().serverOriginWithTenant,serverOrigin:window.AppUtils.getConfig().serverOrigin,superTenant:window.AppUtils.getConfig().superTenant,tenant:window.AppUtils.getConfig().tenant,tenantPath:window.AppUtils.getConfig().tenantPath,tenantPrefix:window.AppUtils.getConfig().tenantPrefix}}},{key:"generateModuleInitOptions",value:function(t){return{backend:{loadPath:function(n,a){var r;return(0,o.generateBackendPaths)(n,a,window.AppUtils.getConfig().appBase,null!==(r=e.getI18nConfig())&&void 0!==r?r:{langAutoDetectEnabled:C.bx.LANG_AUTO_DETECT_ENABLED,namespaceDirectories:C.bx.BUNDLE_NAMESPACE_DIRECTORIES,overrideOptions:C.bx.INIT_OPTIONS_OVERRIDE,resourcePath:"/resources/i18n",xhrBackendPluginEnabled:C.bx.XHR_BACKEND_PLUGIN_ENABLED},t)}},load:"currentOnly",ns:[C.bx.COMMON_NAMESPACE,C.bx.CONSOLE_PORTAL_NAMESPACE,C.bx.EXTENSIONS_NAMESPACE]}}},{key:"getI18nConfig",value:function(e){var t;return{initOptions:this.generateModuleInitOptions(e),langAutoDetectEnabled:null!==(t=window.AppUtils.getConfig().ui.i18nConfigs.langAutoDetectEnabled)&&void 0!==t?t:C.bx.LANG_AUTO_DETECT_ENABLED,namespaceDirectories:C.bx.BUNDLE_NAMESPACE_DIRECTORIES,overrideOptions:C.bx.INIT_OPTIONS_OVERRIDE,resourcePath:"/resources/i18n",xhrBackendPluginEnabled:C.bx.XHR_BACKEND_PLUGIN_ENABLED}}},{key:"getServiceResourceEndpoints",value:function(){return T(T(T(T(T(T(T(T(T(T(T(T(T(T(T(T(T({},(0,l.L)(this.resolveServerHost())),(0,A.fQ)(this.getDeploymentConfig().serverHost)),(0,s.q2)(this.getDeploymentConfig().serverHost)),(0,c.EM)(this.getDeploymentConfig().serverHost)),(0,m.eG)(this.resolveServerHost())),(0,u.Lg)(this.getDeploymentConfig().serverHost)),(0,h.c$)(this.resolveServerHost(),this.getDeploymentConfig().serverHost)),(0,E.Ky)(this.resolveServerHost())),(0,b.sl)(this.resolveServerHost())),(0,S.BN)(this.resolveServerHost())),(0,f.wB)(this.getDeploymentConfig().serverHost)),(0,d.XV)(this.resolveServerHost())),(0,v.Kk)(this.getDeploymentConfig().serverHost)),(0,y.d)(this.getDeploymentConfig().serverHost)),(0,i.getExtendedFeatureResourceEndpoints)(this.getDeploymentConfig().serverHost)),(0,p.U)(this.resolveServerHost(),this.getDeploymentConfig().serverHost)),{},{CORSOrigins:"".concat(this.getDeploymentConfig().serverHost,"/api/server/v1/cors/origins"),me:"".concat(this.getDeploymentConfig().serverHost,"/scim2/Me"),saml2Meta:"".concat(this.getDeploymentConfig().serverHost,"/identity/metadata/saml2"),wellKnown:"".concat(this.getDeploymentConfig().serverHost,"/oauth2/token/.well-known/openid-configuration")})}},{key:"getUIConfig",value:function(){return{announcements:window.AppUtils.getConfig().ui.announcements,appCopyright:window.AppUtils.getConfig().ui.appCopyright.replace("${copyright}","\xa9").replace("${year}",(new Date).getFullYear()),appName:window.AppUtils.getConfig().ui.appName,appTitle:window.AppUtils.getConfig().ui.appTitle,applicationTemplateLoadingStrategy:window.AppUtils.getConfig().ui.applicationTemplateLoadingStrategy,features:window.AppUtils.getConfig().ui.features,gravatarConfig:window.AppUtils.getConfig().ui.gravatarConfig,hiddenAuthenticators:window.AppUtils.getConfig().ui.hiddenAuthenticators,hiddenUserStores:window.AppUtils.getConfig().ui.hiddenUserStores,i18nConfigs:window.AppUtils.getConfig().ui.i18nConfigs,identityProviderTemplateLoadingStrategy:window.AppUtils.getConfig().ui.identityProviderTemplateLoadingStrategy,identityProviderTemplates:window.AppUtils.getConfig().ui.identityProviderTemplates,isClientSecretHashEnabled:window.AppUtils.getConfig().ui.isClientSecretHashEnabled,isCookieConsentBannerEnabled:window.AppUtils.getConfig().ui.isCookieConsentBannerEnabled,isDefaultDialectEditingEnabled:window.AppUtils.getConfig().ui.isDefaultDialectEditingEnabled,isDialectAddingEnabled:window.AppUtils.getConfig().ui.isDialectAddingEnabled,isGroupAndRoleSeparationEnabled:window.AppUtils.getConfig().ui.isGroupAndRoleSeparationEnabled,isHeaderAvatarLabelAllowed:window.AppUtils.getConfig().ui.isHeaderAvatarLabelAllowed,isLeftNavigationCategorized:window.AppUtils.getConfig().ui.isLeftNavigationCategorized,isRequestPathAuthenticationEnabled:window.AppUtils.getConfig().ui.isRequestPathAuthenticationEnabled,isSignatureValidationCertificateAliasEnabled:window.AppUtils.getConfig().ui.isSignatureValidationCertificateAliasEnabled,listAllAttributeDialects:window.AppUtils.getConfig().ui.listAllAttributeDialects,privacyPolicyConfigs:window.AppUtils.getConfig().ui.privacyPolicyConfigs,productName:window.AppUtils.getConfig().ui.productName,productVersionConfig:window.AppUtils.getConfig().ui.productVersionConfig,selfAppIdentifier:window.AppUtils.getConfig().ui.selfAppIdentifier,showAppSwitchButton:window.AppUtils.getConfig().ui.showAppSwitchButton,systemAppsIdentifiers:window.AppUtils.getConfig().ui.systemAppsIdentifiers,theme:window.AppUtils.getConfig().ui.theme}}}],(n=null)&&R(t.prototype,n),w&&R(t,w),Object.defineProperty(t,"prototype",{writable:!1}),e}();function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var D=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){U(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},(0,n(34849).getDocumentationLinksExtension)()),_=n(6841),x=n(6586),N=n(82011),Z=n(68905),M=n(10061),k=n(67897),j=n(62110),z=n(99343);function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach((function(t){B(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function F(e){return function(e){if(Array.isArray(e))return V(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return V(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return V(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var $=function(){var e=(0,N.Z)((0,x.Z)((0,_.Z)([{category:"console:develop.features.sidePanel.categories.application",children:[{component:(0,Z.lazy)((function(){return Promise.resolve().then(n.bind(n,69051))})),exact:!0,icon:{icon:(0,M.Uz)().childIcon},id:"applicationTemplate",name:"Application Templates",path:C.$x.getPaths().get("APPLICATION_TEMPLATES"),protected:!0,showOnSidePanel:!1},{component:(0,Z.lazy)((function(){return Promise.resolve().then(n.bind(n,93709))})),exact:!0,icon:{icon:(0,M.Uz)().childIcon},id:"applicationsEdit",name:"Application Edit",path:C.$x.getPaths().get("APPLICATION_EDIT"),protected:!0,showOnSidePanel:!1}],component:(0,Z.lazy)((function(){return Promise.resolve().then(n.bind(n,91739))})),exact:!0,icon:{icon:(0,M.Uz)().applications},id:"applications",name:"common:applications",order:1,path:C.$x.getPaths().get("APPLICATIONS"),protected:!0,showOnSidePanel:!0},{category:"console:develop.features.sidePanel.categories.identityProviders",children:[{component:(0,Z.lazy)((function(){return Promise.resolve().then(n.bind(n,51861))})),exact:!0,icon:{icon:(0,M.Uz)().childIcon},id:"identityProviderTemplate",name:"Identity Provider Templates",path:C.$x.getPaths().get("IDP_TEMPLATES"),protected:!0,showOnSidePanel:!1},{component:(0,Z.lazy)((function(){return Promise.resolve().then(n.bind(n,12662))})),exact:!0,icon:{icon:(0,M.Uz)().childIcon},id:"identityProvidersEdit",name:"Identity Providers Edit",path:C.$x.getPaths().get("IDP_EDIT"),protected:!0,showOnSidePanel:!1}],component:(0,Z.lazy)((function(){return Promise.resolve().then(n.bind(n,91140))})),exact:!0,icon:{icon:null!==k.identityProviderConfig&&void 0!==k.identityProviderConfig&&k.identityProviderConfig.useNewConnectionsView?(0,M.Uz)().connections:(0,M.Uz)().identityProviders},id:"identityProviders",name:null!==k.identityProviderConfig&&void 0!==k.identityProviderConfig&&k.identityProviderConfig.useNewConnectionsView?"console:develop.features.sidePanel.authenticationProviders":"console:develop.features.sidePanel.identityProviders",order:2,path:C.$x.getPaths().get("IDP"),protected:!0,showOnSidePanel:!0},{category:"console:develop.features.secrets.routes.category",children:[{component:(0,Z.lazy)((function(){return n.e(1294).then(n.bind(n,71294))})),exact:!1,icon:{icon:(0,M.Uz)().childIcon},id:"secretManagementEdit",name:"console:develop.features.secrets.routes.sidePanelChildrenNames.0",path:C.$x.getPaths().get("SECRET_EDIT"),protected:!0,showOnSidePanel:!1}],component:(0,Z.lazy)((function(){return n.e(6588).then(n.bind(n,96588))})),exact:!0,icon:{icon:(0,M.Uz)().secrets},id:"secretsManagement",name:"console:develop.features.secrets.routes.name",order:3,path:C.$x.getPaths().get("SECRETS"),protected:!0,showOnSidePanel:!0}],"id"),(0,_.Z)((0,k.EXTENSION_ROUTES)().develop,"id")));return e.push({component:null,icon:null,id:"404",name:"404",path:"*",protected:!0,redirectTo:C.$x.getPaths().get("PAGE_NOT_FOUND"),showOnSidePanel:!1}),e},q=function(){var e=(0,N.Z)((0,x.Z)((0,_.Z)([{category:"console:manage.features.sidePanel.categories.users",children:[{component:(0,Z.lazy)((function(){return Promise.resolve().then(n.bind(n,74217))})),exact:!0,icon:{icon:(0,M.Uz)().childIcon},id:"usersEdit",name:"console:manage.features.sidePanel.editUsers",path:C.$x.getPaths().get("USER_EDIT"),protected:!0,showOnSidePanel:!1}],component:(0,Z.lazy)((function(){return Promise.resolve().then(n.bind(n,75461))})),exact:!0,icon:{icon:(0,M.Uz)().users},id:"users",name:"console:manage.features.sidePanel.users",order:1,path:C.$x.getPaths().get("USERS"),protected:!0,showOnSidePanel:!0},{category:"console:manage.features.sidePanel.categories.users",children:[{component:(0,Z.lazy)((function(){return Promise.resolve().then(n.bind(n,89130))})),exact:!0,icon:{icon:(0,M.Uz)().childIcon},id:"groupsEdit",name:"console:manage.features.sidePanel.editGroups",path:C.$x.getPaths().get("GROUP_EDIT"),protected:!0,showOnSidePanel:!1}],component:(0,Z.lazy)((function(){return Promise.resolve().then(n.bind(n,62680))})),exact:!0,icon:{icon:(0,M.Uz)().groups},id:"groups",name:"console:manage.features.sidePanel.groups",order:2,path:C.$x.getPaths().get("GROUPS"),protected:!0,showOnSidePanel:!0},{category:"console:manage.features.sidePanel.categories.users",children:[{component:(0,Z.lazy)((function(){return Promise.resolve().then(n.bind(n,4337))})),exact:!0,icon:{icon:(0,M.Uz)().childIcon},id:"rolesEdit",name:"console:manage.features.sidePanel.editRoles",path:C.$x.getPaths().get("ROLE_EDIT"),protected:!0,showOnSidePanel:!1}],component:(0,Z.lazy)((function(){return Promise.resolve().then(n.bind(n,47435))})),exact:!0,icon:{icon:(0,M.Uz)().roles},id:"roles",name:"console:manage.features.sidePanel.roles",order:3,path:C.$x.getPaths().get("ROLES"),protected:!0,showOnSidePanel:!0},{category:"console:manage.features.sidePanel.categories.users",component:(0,Z.lazy)((function(){return Promise.resolve().then(n.bind(n,22194))})),exact:!0,icon:{icon:(0,M.Uz)().approvals},id:"approvals",name:"console:manage.features.sidePanel.approvals",order:4,path:C.$x.getPaths().get("APPROVALS"),protected:!0,showOnSidePanel:!0},{category:"console:manage.features.sidePanel.categories.attributes",children:[{component:(0,Z.lazy)((function(){return Promise.resolve().then(n.bind(n,99152))})),exact:!0,icon:{icon:(0,M.Uz)().childIcon},id:"editLocalClaims",name:"console:manage.features.sidePanel.editLocalClaims",path:C.$x.getPaths().get("LOCAL_CLAIMS_EDIT"),protected:!0,showOnSidePanel:!1},{component:(0,Z.lazy)((function(){return Promise.resolve().then(n.bind(n,21337))})),exact:!0,icon:{icon:(0,M.Uz)().childIcon},id:"localDialect",name:"console:manage.features.sidePanel.localDialect",path:C.$x.getPaths().get("LOCAL_CLAIMS"),protected:!0,showOnSidePanel:!1},{component:(0,Z.lazy)((function(){return Promise.resolve().then(n.bind(n,43264))})),exact:!0,icon:{icon:(0,M.Uz)().childIcon},id:"editExternalDialect",name:"console:manage.features.sidePanel.editExternalDialect",path:C.$x.getPaths().get("EXTERNAL_DIALECT_EDIT"),protected:!0,showOnSidePanel:!1},{component:(0,Z.lazy)((function(){return Promise.resolve().then(n.bind(n,92138))})),exact:!0,icon:{icon:(0,M.Uz)().childIcon},id:"attributeMappings",name:"console.manage.features.sidePanel.attributeMappings",path:C.$x.getPaths().get("ATTRIBUTE_MAPPINGS"),protected:!0,showOnSidePanel:!1}],component:(0,Z.lazy)((function(){return Promise.resolve().then(n.bind(n,25703))})),exact:!0,icon:{icon:(0,M.Uz)().claims},id:"attributeDialects",name:"console:manage.features.sidePanel.attributeDialects",order:6,path:C.$x.getPaths().get("CLAIM_DIALECTS"),protected:!0,showOnSidePanel:!0},{category:"console:manage.features.sidePanel.categories.attributes",children:[{component:(0,Z.lazy)((function(){return Promise.resolve().then(n.bind(n,74425))})),exact:!0,icon:{icon:(0,M.Uz)().childIcon},id:"oidcScopesEdit",name:"console:develop.features.sidePanel.oidcScopes",path:C.$x.getPaths().get("OIDC_SCOPES_EDIT"),protected:!0,showOnSidePanel:!1}],component:(0,Z.lazy)((function(){return Promise.resolve().then(n.bind(n,13628))})),exact:!0,icon:{icon:(0,M.Uz)().scopes},id:"oidcScopes",name:"console:develop.features.sidePanel.oidcScopes",order:7,path:C.$x.getPaths().get("OIDC_SCOPES"),protected:!0,showOnSidePanel:!0},{category:"console:manage.features.sidePanel.categories.userstores",children:[{component:(0,Z.lazy)((function(){return Promise.resolve().then(n.bind(n,81354))})),icon:{icon:(0,M.Uz)().childIcon},id:"edit-user-store",name:"console:manage.features.sidePanel.editUserstore",path:C.$x.getPaths().get("USERSTORES_EDIT"),protected:!0,showOnSidePanel:!1},{component:(0,Z.lazy)((function(){return Promise.resolve().then(n.bind(n,39737))})),icon:{icon:(0,M.Uz)().childIcon},id:"userstore-templates",name:"console:manage.features.sidePanel.userstoreTemplates",path:C.$x.getPaths().get("USERSTORE_TEMPLATES"),protected:!0,showOnSidePanel:!1}],component:(0,Z.lazy)((function(){return Promise.resolve().then(n.bind(n,94727))})),icon:{icon:(0,M.Uz)().userStore},id:"userStores",name:"console:manage.features.sidePanel.userstores",order:5,path:C.$x.getPaths().get("USERSTORES"),protected:!0,showOnSidePanel:!0},{category:"console:manage.features.sidePanel.categories.certificates",component:(0,Z.lazy)((function(){return Promise.resolve().then(n.bind(n,13521))})),icon:{icon:(0,M.Uz)().certificate},id:"certificates",name:"console:manage.features.sidePanel.certificates",order:8,path:C.$x.getPaths().get("CERTIFICATES"),protected:!0,showOnSidePanel:!0},{category:"console:manage.features.sidePanel.categories.configurations",children:[{component:(0,Z.lazy)((function(){return Promise.resolve().then(n.bind(n,73119))})),exact:!0,icon:{icon:(0,M.Uz)().childIcon},id:"emailTemplates",name:"console:manage.features.sidePanel.emailTemplates",path:C.$x.getPaths().get("EMAIL_TEMPLATES"),protected:!0,showOnSidePanel:!1},{component:(0,Z.lazy)((function(){return Promise.resolve().then(n.bind(n,85215))})),exact:!0,icon:{icon:(0,M.Uz)().childIcon},id:"emailTemplates",name:"console:manage.features.sidePanel.addEmailTemplate",path:C.$x.getPaths().get("EMAIL_TEMPLATE"),protected:!0,showOnSidePanel:!1},{component:(0,Z.lazy)((function(){return Promise.resolve().then(n.bind(n,85215))})),exact:!0,icon:{icon:(0,M.Uz)().childIcon},id:"emailTemplates",name:"console:manage.features.sidePanel.addEmailTemplateLocale",path:C.$x.getPaths().get("EMAIL_TEMPLATE_ADD"),protected:!0,showOnSidePanel:!1}],component:(0,Z.lazy)((function(){return Promise.resolve().then(n.bind(n,20731))})),exact:!0,icon:{icon:(0,M.Uz)().emailTemplates},id:"emailTemplates",name:"console:manage.features.sidePanel.emailTemplates",order:9,path:C.$x.getPaths().get("EMAIL_TEMPLATE_TYPES"),protected:!0,showOnSidePanel:!0},{category:"console:manage.features.sidePanel.categories.configurations",component:(0,Z.lazy)((function(){return Promise.resolve().then(n.bind(n,19212))})),exact:!0,icon:{icon:(0,M.Uz)().remoteFetch},id:"remoteFetchConfig",name:"Remote Configurations",order:10,path:C.$x.getPaths().get("REMOTE_REPO_CONFIG"),protected:!0,showOnSidePanel:!0},{component:(0,Z.lazy)((function(){return Promise.resolve().then(n.bind(n,67533))})),exact:!0,icon:null,id:"governanceConnectors",name:"console:manage.features.sidePanel.governanceConnectors",order:11,path:C.$x.getPaths().get("GOVERNANCE_CONNECTORS"),protected:!0,showOnSidePanel:!1},isOrganizationManagementEnabled&&{category:"console:manage.features.sidePanel.categories.organizations",children:[{component:(0,Z.lazy)((function(){return n.e(6586).then(n.bind(n,26586))})),exact:!0,icon:{icon:(0,M.Uz)().organization},id:"organization-edit",name:"organization Edit",path:C.$x.getPaths().get("ORGANIZATION_UPDATE"),protected:!0,showOnSidePanel:!1}],component:(0,Z.lazy)((function(){return n.e(46).then(n.bind(n,10046))})),exact:!0,icon:{icon:(0,M.Uz)().organization},id:"organizations",name:"console:manage.features.sidePanel.organizations",order:12,path:C.$x.getPaths().get("ORGANIZATIONS"),protected:!0,showOnSidePanel:!0},{category:"console:manage.features.sidePanel.categories.users",children:[{component:(0,Z.lazy)((function(){return n.e(7689).then(n.bind(n,87689))})),exact:!0,icon:{icon:(0,M.Uz)().roles},id:"organization-roles-edit",name:"organization Roles Edit",path:C.$x.getPaths().get("ORGANIZATION_ROLE_UPDATE"),protected:!0,showOnSidePanel:!1}],component:(0,Z.lazy)((function(){return n.e(3853).then(n.bind(n,73853))})),exact:!0,icon:{icon:(0,M.Uz)().roles},id:"organization-roles",name:"Organization Roles",order:13,path:C.$x.getPaths().get("ORGANIZATION_ROLES"),protected:!0,showOnSidePanel:!0}],"id"),(0,_.Z)((0,k.EXTENSION_ROUTES)().manage,"id")));return e.push({component:null,icon:null,id:"404",name:"404",path:"*",protected:!0,redirectTo:C.$x.getPaths().get("PAGE_NOT_FOUND"),showOnSidePanel:!1}),e},W=function(){var e=(0,N.Z)((0,x.Z)((0,_.Z)((0,k.EXTENSION_ROUTES)().fullscreen,"id")));return e.push({component:null,icon:null,id:"404",name:"404",path:"*",protected:!0,redirectTo:C.$x.getPaths().get("PAGE_NOT_FOUND"),showOnSidePanel:!1}),e},Q=function(){var e=(0,N.Z)((0,x.Z)((0,_.Z)((0,k.EXTENSION_ROUTES)().default,"id")));return e.push({component:(0,Z.lazy)((function(){return Promise.resolve().then(n.bind(n,67242))})),icon:null,id:"privacy",name:"console:common.sidePanel.privacy",path:C.$x.getPaths().get("PRIVACY"),protected:!0,showOnSidePanel:!1}),e},Y=function(){return[{component:(0,Z.lazy)((function(){return Promise.resolve().then(n.bind(n,63253))})),exact:!0,icon:null,id:"unauthorized",name:"Unauthorized",path:C.$x.getPaths().get("UNAUTHORIZED"),protected:!0,showOnSidePanel:!1},{component:(0,Z.lazy)((function(){return Promise.resolve().then(n.bind(n,13438))})),exact:!0,icon:null,id:"pageNotFound",name:"404",path:C.$x.getPaths().get("PAGE_NOT_FOUND"),protected:!0,showOnSidePanel:!1},{component:(0,Z.lazy)((function(){return Promise.resolve().then(n.bind(n,65189))})),exact:!0,icon:null,id:"storingDataDisabled",name:"storingDataDisabled",path:C.$x.getPaths().get("STORING_DATA_DISABLED"),protected:!1,showOnSidePanel:!1}]},X=function(){var e=(0,N.Z)((0,x.Z)((0,_.Z)((0,k.EXTENSION_ROUTES)().auth,"id")));return e.push({component:(0,Z.lazy)((function(){return Promise.resolve().then(n.bind(n,90984))})),icon:null,id:"authLayoutLogout",name:"Logout",path:C.$x.getPaths().get("LOGOUT"),protected:!1,showOnSidePanel:!1}),e},K=function(e,t){var n=F(e);return n=n.map((function(e){return G(G({},e),{},{component:t})}))},J=function(){return[].concat(F(K(X(),j.g1)),F(K(Q(),j.HQ)),F(K(Y(),j.YU)),[{component:z.Uq,icon:null,id:"full-screen-view",name:"Full Screen View",path:C.$x.getFullScreenViewBasePath(),protected:!1,showOnSidePanel:!1},{component:z._N,icon:null,id:"admin",name:"Admin",path:C.$x.getAdminViewBasePath(),protected:!1,showOnSidePanel:!1},{component:z.u7,icon:null,id:"developer",name:"Developer",path:C.$x.getDeveloperViewBasePath(),protected:!1,showOnSidePanel:!1},{component:null,icon:null,id:"404",name:"404",path:"*",protected:!0,redirectTo:C.$x.getPaths().get("PAGE_NOT_FOUND"),showOnSidePanel:!1}])},ee=function(){return[{component:j.LN,icon:null,id:"app",name:"App",path:C.$x.getPaths().get("ROOT"),protected:!1,showOnSidePanel:!1}]}},10061:function(e,t,n){"use strict";n.d(t,{r2:function(){return we},Uz:function(){return Te},c3:function(){return Pe},S$:function(){return Re},jF:function(){return Oe},YT:function(){return Le},km:function(){return Ue},_5:function(){return De},Lb:function(){return _e},FL:function(){return xe},Zk:function(){return Ne},s_:function(){return Ze},dB:function(){return Me}});var a=n(60609),r=n(89912),o=n(31027),i=n(95338),l=n(69144),c=n(18063),s=n(18886),u=n(37140),d=n(56286),m=n(43914),f=n(82754),p=n(6294),g=n(87047),v=n(73047),h=n(96572),y=n(28893),E=n(79810),b=n(35681),S=n(87751),A=n(47058),C=n(3194),I=n(8640),w=n(26533),T=n(28665),P=n(57167),R=n(81488),O=n(7878),L=n(26045),U=n(19722),D=n(42939),_=n(85244),x=n(61570),N=n(88619),Z=n(62408),M=n(44982),k=n(63889),j=n(44940),z=n(93234),H=n(72545),G=n(46069),B=n(94985),F=n(66604),V=n(83577),$=n(60714),q=n(18731),W=n(16091),Q=n(91689),Y=n(52173),X=n(12113),K=n(25588),J=n(1468),ee=n(30241),te=n(53604),ne=n(81805),ae=n(5989),re=n(66880),oe=n(18621),ie=n(53743),le=n(44775),ce=n(3891),se=n(1686),ue=n(50895),de=n(48804),me=n(82233),fe=n(64801),pe=n(17624),ge=n(54662),ve=n(67848),he=n(38205),ye=n(14518),Ee=n(38941),be=n(95078),Se=n(33924),Ae=n(42981),Ce=n(17036);function Ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var we=function(){return{android:le.r,angular:ce.r,apple:se.r,cSharp:ue.r,cordova:de.r,dotNet:me.r,html:fe.r,ios:pe.r,java:ge.r,javascript:ve.r,macos:he,nodejs:ye.r,oidc:re,openidconnect:ae,python:Ee.r,react:be.r,saml:oe,scim:ie,vue:Se.r,windows:Ae.r}},Te=function(){var e;return{appLogs:C.r,applications:P.r,approvals:N.r,certificate:u.r,childIcon:r.r,claims:d.r,connections:p.r,connectors:(e={},Ie(e,Ce.v.ACCOUNT_MANAGEMENT_CONNECTOR_CATEGORY_ID,T.r),Ie(e,Ce.v.USER_ONBOARDING_CONNECTOR_ID,_.r),Ie(e,Ce.v.LOGIN_ATTEMPT_SECURITY_CONNECTOR_CATEGORY_ID,D.r),Ie(e,Ce.v.IDENTITY_GOVERNANCE_PASSWORD_POLICIES_ID,L.r),Ie(e,Ce.v.OTHER_SETTINGS_CONNECTOR_CATEGORY_ID,x.r),Ie(e,"default",k.r),e),emailTemplates:Z.r,groups:W.r,identityProviders:O.r,organization:U.r,overview:h.r,remoteFetch:f.r,roles:i.r,scopes:j.r,secrets:L.r,serverConfigurations:S.r,userStore:y.r,users:Q.r}},Pe=function(){return{caretRight:c.r}},Re=function(){return{clear:v.r}},Oe=function(){return{alert:a.r,brokenPage:J.r,createError:ee.r,emptyList:te.r,emptySearch:ne.r,fileUpload:q.r,genericError:m.r,loginError:b.r,newList:te.r,pageNotFound:o.r,search:ne.r}},Le=function(){return{darkMode:H.r,drag:E.r,keyIcon:G.r,lightMode:B.r,maximize:A.r,minimize:I.r,openBookIcon:V.r}},Ue=function(){return{caretLeft:l.r,caretRight:c.r,close:v.r,pin:M.r,unpin:$.r}},De=function(){return{avatar:s.r,badge:Y.r,file:X.r,ribbon:K.r,uploadPlaceholder:q.r}},_e=function(){return{editingSecretIcon:z.r}},xe=function(){return{tenantIcon:U.r}},Ne=function(){return{console:g.Z,myAccount:w.Z}},Ze=function(){return{crossIcon:v.r,myAccountSolidIcon:F.r}},Me=function(){return{homeIcon:R.r}}},73881:function(e,t,n){"use strict";n.d(t,{$x:function(){return l},F$:function(){return d},bx:function(){return v},fo:function(){return I},ru:function(){return b}});var a=n(95823),r=n(62363);function o(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,i=[{key:"getAdminViewBasePath",value:function(){return window.AppUtils.getConfig().adminApp.basePath}},{key:"getAdminViewHomePath",value:function(){return window.AppUtils.getConfig().adminApp.path}},{key:"getFullScreenViewBasePath",value:function(){return this.getMainViewBasePath()+"/fullscreen"}},{key:"getDeveloperViewBasePath",value:function(){return window.AppUtils.getConfig().developerApp.basePath}},{key:"getDeveloperViewHomePath",value:function(){return window.AppUtils.getConfig().developerApp.path}},{key:"getMainViewBasePath",value:function(){return"/"!==this.getTenantQualifiedAppBasePath()?this.getTenantQualifiedAppBasePath():""}},{key:"getTenantQualifiedAppBasename",value:function(){return window.AppUtils.getConfig().appBaseWithTenant}},{key:"getTenantQualifiedAppBasePath",value:function(){return"/"+a.StringUtils.removeSlashesFromPath(this.getTenantQualifiedAppBasename())}},{key:"getAppBasename",value:function(){return window.AppUtils.getConfig().appBase}},{key:"getAppBasePath",value:function(){return"/"+a.StringUtils.removeSlashesFromPath(this.getAppBasename())}},{key:"getAppHomePath",value:function(){return window.AppUtils.getConfig().routes.home}},{key:"getAppLoginPath",value:function(){return window.AppUtils.getConfig().routes.login}},{key:"getAppLogoutPath",value:function(){return window.AppUtils.getConfig().routes.logout}},{key:"getClientID",value:function(){return window.AppUtils.getConfig().clientID}},{key:"getAppTheme",value:function(){var e;return null===(e=window.AppUtils.getConfig().ui)||void 0===e?void 0:e.theme}},{key:"getMyAccountPath",value:function(){return window.AppUtils.getConfig().accountApp.path}},{key:"getTenantPath",value:function(){return window.AppUtils.getConfig().tenantPath}},{key:"getTenant",value:function(){return window.AppUtils.getConfig().tenant}},{key:"getSuperTenant",value:function(){return window.AppUtils.getConfig().superTenant}},{key:"getClientOrigin",value:function(){return window.AppUtils.getConfig().clientOrigin}},{key:"getClientOriginWithTenant",value:function(){return window.AppUtils.getConfig().clientOriginWithTenant}},{key:"getPaths",value:function(){var t=null===r.identityProviderConfig||void 0===r.identityProviderConfig?void 0:r.identityProviderConfig.useNewConnectionsView;return(new Map).set("ADMIN_OVERVIEW","".concat(e.getAdminViewBasePath(),"/overview")).set("APPLICATIONS","".concat(e.getDeveloperViewBasePath(),"/applications")).set("APPLICATION_TEMPLATES","".concat(e.getDeveloperViewBasePath(),"/applications/templates")).set("APPLICATION_EDIT","".concat(e.getDeveloperViewBasePath(),"/applications/:id")).set("APPROVALS","".concat(e.getAdminViewBasePath(),"/approvals")).set("CERTIFICATES","".concat(e.getAdminViewBasePath(),"/certificates")).set("CLAIM_DIALECTS","".concat(e.getAdminViewBasePath(),"/attributes-and-mappings")).set("CONNECTIONS","".concat(e.getDeveloperViewBasePath(),"/connections")).set("CONNECTION_TEMPLATES","".concat(e.getDeveloperViewBasePath(),"/connections/templates")).set("CONNECTION_EDIT","".concat(e.getDeveloperViewBasePath(),"/connections/:id")).set("CUSTOMIZE","".concat(e.getMainViewBasePath(),"/customize")).set("DEVELOPER_OVERVIEW","".concat(e.getDeveloperViewBasePath(),"/overview")).set("EMAIL_TEMPLATE_TYPES","".concat(e.getAdminViewBasePath(),"/email-templates")).set("EMAIL_TEMPLATES","".concat(e.getAdminViewBasePath(),"/email-templates/:templateTypeId")).set("EMAIL_TEMPLATE","".concat(e.getAdminViewBasePath(),"/email-templates/:templateTypeId/:templateId")).set("EMAIL_TEMPLATE_ADD","".concat(e.getAdminViewBasePath(),"/email-templates/:templateTypeId/").concat(e.EMAIL_TEMPLATE_ADD_URL_PARAM)).set("EXTERNAL_DIALECT_EDIT","".concat(e.getAdminViewBasePath(),"/edit-attribute-mappings/:id")).set("GROUPS","".concat(e.getAdminViewBasePath(),"/groups")).set("GROUP_EDIT","".concat(e.getAdminViewBasePath(),"/groups/:id")).set("IDP","".concat(e.getDeveloperViewBasePath(),t?"/connections":"/identity-providers")).set("IDP_TEMPLATES","".concat(e.getDeveloperViewBasePath(),t?"/connections/templates":"/identity-providers/templates")).set("IDP_EDIT","".concat(e.getDeveloperViewBasePath(),t?"/identity-providers/:id":"/connections/:id")).set("LOCAL_CLAIMS","".concat(e.getAdminViewBasePath(),"/attributes")).set("LOCAL_CLAIMS_EDIT","".concat(e.getAdminViewBasePath(),"/edit-attributes/:id")).set("LOGIN",window.AppUtils.getConfig().routes.login).set("SCIM_MAPPING","".concat(e.getAdminViewBasePath(),"/attribute-mappings/scim")).set("LOGOUT",window.AppUtils.getConfig().routes.logout).set("OIDC_SCOPES","".concat(e.getAdminViewBasePath(),"/oidc-scopes")).set("OIDC_SCOPES_EDIT","".concat(e.getAdminViewBasePath(),"/oidc-scopes/:id")).set("PAGE_NOT_FOUND","".concat(e.getMainViewBasePath(),"/404")).set("PRIVACY","".concat(e.getMainViewBasePath(),"/privacy")).set("REMOTE_REPO_CONFIG","".concat(e.getAdminViewBasePath(),"/remote-repository-config")).set("ROLES","".concat(e.getAdminViewBasePath(),"/roles")).set("ROLE_EDIT","".concat(e.getAdminViewBasePath(),"/roles/:id")).set("ROOT","/").set("GOVERNANCE_CONNECTORS","".concat(e.getAdminViewBasePath(),"/governance-connectors/:id")).set("UNAUTHORIZED","".concat(e.getMainViewBasePath(),"/unauthorized")).set("USERS","".concat(e.getAdminViewBasePath(),"/users")).set("USER_EDIT","".concat(e.getAdminViewBasePath(),"/users/:id")).set("USERSTORES","".concat(e.getAdminViewBasePath(),"/user-stores")).set("USERSTORES_EDIT","".concat(e.getAdminViewBasePath(),"/edit-user-store/:id")).set("USERSTORE_TEMPLATES","".concat(e.getAdminViewBasePath(),"/userstore-templates")).set("STORING_DATA_DISABLED","".concat(e.getMainViewBasePath(),"/storing_data_disabled")).set("GOVERNANCE_CONNECTOR","".concat(e.getAdminViewBasePath(),"/connector/:id")).set("GOVERNANCE_CONNECTOR_EDIT","".concat(e.getAdminViewBasePath(),"/connector/:categoryId/:connectorId")).set("SECRETS","".concat(e.getDeveloperViewBasePath(),"/secrets")).set("SECRET_EDIT","".concat(e.getDeveloperViewBasePath(),"/secrets/:type/:name")).set("ATTRIBUTE_MAPPINGS","".concat(e.getAdminViewBasePath(),"/attribute-mappings/:type")).set("CREATE_TENANT","".concat(e.getMainViewBasePath(),"/create-tenant")).set("ORGANIZATIONS","".concat(e.getAdminViewBasePath(),"/organizations")).set("ORGANIZATION_UPDATE","".concat(e.getAdminViewBasePath(),"/organizations/:id")).set("ORGANIZATION_ROLES","".concat(e.getAdminViewBasePath(),"/organization-roles")).set("ORGANIZATION_ROLE_UPDATE","".concat(e.getAdminViewBasePath(),"/organization-roles/:id"))}}],(n=null)&&o(t.prototype,n),i&&o(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function c(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function s(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}i(l,"EMAIL_TEMPLATE_ADD_URL_PARAM","add-template"),i(l,"APP_CONFIG_FILE_NAME","app.config.json"),i(l,"USER_DENIED_CONSENT_SERVER_ERROR","User denied the consent"),i(l,"LOGIN_ERRORS",(new Map).set("NO_LOGIN_PERMISSION","no_login_permission").set("ACCESS_DENIED","access_denied").set("USER_DENIED_CONSENT","consent_denied")),i(l,"ORGANIZATION_ENABLED_ROUTES",["identityProviders","users","organizations","groups","organization-roles","applications"]),i(l,"ORGANIZATION_ONLY_ROUTES",["organization-roles"]),i(l,"PERMISSIONS_ROOT_NODE","All Permissions");var d=s((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}));u(d,"SEEN_ANNOUNCEMENTS_KEY","identityAppsSettings.adminPortal.announcements.seen"),u(d,"SESSION_STATE","session_state");var m=n(22260);function f(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function p(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=p((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}));function h(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function y(e,t,n){return t&&h(e.prototype,t),n&&h(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}g(v,"COMMON_NAMESPACE",m.I18nModuleConstants.COMMON_NAMESPACE),g(v,"CONSOLE_PORTAL_NAMESPACE",m.I18nModuleConstants.CONSOLE_PORTAL_NAMESPACE),g(v,"EXTENSIONS_NAMESPACE",m.I18nModuleConstants.EXTENSIONS_NAMESPACE),g(v,"BUNDLE_NAMESPACE_DIRECTORIES",new Map([[v.COMMON_NAMESPACE,"portals"],[v.CONSOLE_PORTAL_NAMESPACE,"portals"],[v.EXTENSIONS_NAMESPACE,"portals"]])),g(v,"INIT_OPTIONS_OVERRIDE",!1),g(v,"LANG_AUTO_DETECT_ENABLED",!0),g(v,"XHR_BACKEND_PLUGIN_ENABLED",!0),g(v,"DEFAULT_FALLBACK_LANGUAGE",m.I18nModuleConstants.DEFAULT_FALLBACK_LANGUAGE);var b=y((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}));function S(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function A(e,t,n){return t&&S(e.prototype,t),n&&S(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}E(b,"DEFAULT_HEADER_HEIGHT",59),E(b,"DEFAULT_FOOTER_HEIGHT",60),E(b,"DASHBOARD_LAYOUT_DESKTOP_CONTENT_TOP_SPACING",0),E(b,"ALERT_DISMISS_INTERVAL",15),E(b,"AJAX_TOP_LOADING_BAR_HEIGHT",3),E(b,"DEFAULT_RESOURCE_LIST_ITEM_LIMIT",10),E(b,"DEFAULT_RESOURCE_GRID_ITEM_LIMIT",18),E(b,"DEFAULT_STATS_LIST_ITEM_LIMIT",5),E(b,"DEFAULT_THEME","default"),E(b,"IS_DOC_URLS",(new Map).set("5.11.0","https://is.docs.wso2.com/en/5.11.0/")),E(b,"PAGE_SCROLL_TOP_PADDING",20);var I=A((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}));C(I,"PRIMARY_USER_STORE","Primary"),C(I,"READONLY_USER_STORE","ReadOnly"),C(I,"PRIMARY_USERSTORE_PROPERTY_VALUES",{PasswordJavaScriptRegEx:"^[\\S]{5,30}$",RolenameJavaScriptRegEx:"^[\\S]{3,30}$",UsernameJavaScriptRegEx:"^[\\S]{3,30}$"}),C(I,"USERSTORE_REGEX_PROPERTIES",{PasswordRegEx:"PasswordJavaScriptRegEx",RolenameRegEx:"RolenameJavaScriptRegEx",UsernameRegEx:"UsernameJavaScriptRegEx"})},97763:function(e,t,n){"use strict";n.d(t,{m:function(){return a}});var a=(0,n(16790).lX)({basename:window.AppUtils.getConfig().appBaseNameForHistoryAPI})},79949:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var a=n(19486),r=n(8100),o=["fallbackData"];function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var u=a.AsgardeoSPAClient.getInstance().httpRequest.bind(a.AsgardeoSPAClient.getInstance()),d={};function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.fallbackData,a=s(t,o),i=l(l({},d),a),c=(0,r.ZP)(e&&JSON.stringify(e),(function(){return u(e)}),l(l({revalidateOnFocus:!1},i),{},{fallbackData:n&&{config:e,data:n,headers:{},status:200,statusText:"InitialData"}})),m=c.data,f=c.error,p=c.isValidating,g=c.mutate;return{data:m&&m.data,error:f,isValidating:p,mutate:g,response:m}}},12847:function(e,t,n){"use strict";n.d(t,{nC:function(){return a.nC},$x:function(){return o.$x},Wj:function(){return f.Wj},av:function(){return a.av},IH:function(){return a.IH},iz:function(){return a.iz},Us:function(){return a.Us},De:function(){return r.De},lD:function(){return f.lD},$_:function(){return a.$_},h4:function(){return a.h4},Ob:function(){return f.Ob},wv:function(){return a.wv},xq:function(){return a.xq},i1:function(){return a.i1},MN:function(){return a.MN},DL:function(){return f.DL},fo:function(){return o.fo},w3:function(){return f.w3},ec:function(){return d.e},Pj:function(){return a.Pj},ru:function(){return o.ru},e:function(){return a.e},gQ:function(){return f.gQ},YZ:function(){return p.YZ},wB:function(){return r.wB},ZY:function(){return p.ZY},_5:function(){return r._5},tc:function(){return r.tc},l9:function(){return r.l9},jF:function(){return r.jF},cS:function(){return r.cS},s_:function(){return r.s_},FL:function(){return r.FL},YT:function(){return r.YT},Lb:function(){return r.Lb},Uz:function(){return r.Uz},c3:function(){return r.c3},r2:function(){return r.r2},Fp:function(){return p.Fp},m8:function(){return i.m},jQ:function(){return m.jQ},Mn:function(){return m.Mn},Hb:function(){return m.Hb},GU:function(){return m.GU},dv:function(){return m.dv},Ht:function(){return m.e},nD:function(){return m.nD},Aq:function(){return m.Aq},Lc:function(){return m.Lc},fS:function(){return f.fS},h:function(){return m.h},rq:function(){return m.rq},fU:function(){return p.fU},hs:function(){return u}});var a=n(46767),r=n(5091),o=n(73881),i=n(97763),l=n(68905);function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(o.push(a.value),!t||o.length!==t);i=!0);}catch(e){l=!0,r=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var u=function(){var e=c((0,l.useState)(o.ru.DEFAULT_HEADER_HEIGHT),2),t=e[0],n=e[1],a=c((0,l.useState)(o.ru.DEFAULT_FOOTER_HEIGHT),2),r=a[0],i=a[1],s=document.getElementById("app-header"),u=document.getElementById("app-footer");return(0,l.useEffect)((function(){t!==(null===s||void 0===s?void 0:s.offsetHeight)&&n((null===s||void 0===s?void 0:s.offsetHeight)-o.ru.AJAX_TOP_LOADING_BAR_HEIGHT)})),(0,l.useEffect)((function(){r!==(null===u||void 0===u?void 0:u.offsetHeight)&&i(null===u||void 0===u?void 0:u.offsetHeight)})),{headerHeight:t,footerHeight:r}},d=n(78312),m=(n(13438),n(63253),n(65189),n(67242),n(26072)),f=n(5984),p=n(73206)},78312:function(e,t,n){"use strict";var a;n.d(t,{e:function(){return a}}),function(e){e.DEVELOP="DEVELOP",e.MANAGE="MANAGE"}(a||(a={}))},13438:function(e,t,n){"use strict";n.r(t);var a=n(96462),r=n(68905),o=n(64805),i=n(83913),l=n(8062),c=n(84504),s=n(5091);t.default=function(){var e=(0,o.$G)().t,t=(0,i.v9)((function(e){return e.config}));return r.createElement(a.EmptyPlaceholder,{action:r.createElement(c.Z,{className:"link-button",as:l.Z,to:t.deployment.appHomePath},e("console:common.placeholders.404.action")),image:(0,s.jF)().pageNotFound,imageSize:"tiny",subtitle:[e("console:common.placeholders.404.subtitles.0"),e("console:common.placeholders.404.subtitles.1")],title:e("console:common.placeholders.404.title")})}},65189:function(e,t,n){"use strict";n.r(t);var a=n(96462),r=n(68905),o=n(64805),i=n(5091),l=n(73881),c=n(97763);t.default=function(){var e=(0,o.$G)().t;return(0,r.useEffect)((function(){try{sessionStorage&&c.m.push(l.$x.getAppHomePath())}catch(e){}}),[]),r.createElement(a.EmptyPlaceholder,{image:(0,i.jF)().loginError,imageSize:"tiny",subtitle:[e("console:common.placeholders.sessionStorageDisabled.subtitles.0"),e("console:common.placeholders.sessionStorageDisabled.subtitles.1")],title:e("console:common.placeholders.sessionStorageDisabled.title")})}},63253:function(e,t,n){"use strict";n.r(t);var a=n(96462),r=n(68905),o=n(64805),i=n(8062),l=n(5091),c=n(73881);t.default=function(e){var t=e.location,n=new URLSearchParams(t.search).get("error"),s=(0,o.$G)().t;return r.createElement(a.EmptyPlaceholder,{action:function(e){return e===c.$x.LOGIN_ERRORS.get("NO_LOGIN_PERMISSION")?r.createElement(a.LinkButton,{as:i.Z,to:window.AppUtils.getConfig().routes.logout},s("console:common.placeholders.loginError.action")):e===c.$x.LOGIN_ERRORS.get("ACCESS_DENIED")?r.createElement(a.LinkButton,{as:i.Z,to:window.AppUtils.getConfig().routes.logout},s("console:common.placeholders.accessDenied.action")):e===c.$x.LOGIN_ERRORS.get("USER_DENIED_CONSENT")?r.createElement(a.LinkButton,{as:i.Z,to:window.AppUtils.getConfig().routes.logout},s("console:common.placeholders.consentDenied.action")):r.createElement(a.LinkButton,{as:i.Z,to:window.AppUtils.getConfig().routes.logout},s("console:common.placeholders.unauthorized.action"))}(n),image:(0,l.jF)().loginError,imageSize:"tiny",subtitle:function(e){return e===c.$x.LOGIN_ERRORS.get("NO_LOGIN_PERMISSION")?[s("console:common.placeholders.loginError.subtitles.0"),s("console:common.placeholders.loginError.subtitles.1")]:e===c.$x.LOGIN_ERRORS.get("ACCESS_DENIED")?[s("console:common.placeholders.accessDenied.subtitles.0"),s("console:common.placeholders.accessDenied.subtitles.1")]:e===c.$x.LOGIN_ERRORS.get("USER_DENIED_CONSENT")?[s("console:common.placeholders.consentDenied.subtitles.0"),s("console:common.placeholders.consentDenied.subtitles.1")]:[s("console:common.placeholders.unauthorized.subtitles.0"),s("console:common.placeholders.unauthorized.subtitles.1")]}(n),title:function(e){return e===c.$x.LOGIN_ERRORS.get("NO_LOGIN_PERMISSION")?s("console:common.placeholders.loginError.title"):e===c.$x.LOGIN_ERRORS.get("ACCESS_DENIED")?s("console:common.placeholders.accessDenied.title"):e===c.$x.LOGIN_ERRORS.get("USER_DENIED_CONSENT")?s("console:common.placeholders.consentDenied.title"):s("console:common.placeholders.unauthorized.title")}(n)})}},67242:function(e,t,n){"use strict";n.r(t);var a=n(68905),r=n(64805),o=n(23177),i=n(82791),l=n(22946);t.default=function(){var e=(0,r.$G)().t;return a.createElement(o.Z,null,a.createElement(o.Z.Row,{columns:1},a.createElement(o.Z.Column,{width:16},a.createElement(i.Z,{as:"h4"},e("console:common.privacy.about.heading")),a.createElement("p",null,e("console:common.privacy.about.description")))),a.createElement(o.Z.Row,{columns:1},a.createElement(o.Z.Column,{width:16},a.createElement(i.Z,{as:"h2"},e("console:common.privacy.privacyPolicy.heading")),a.createElement("p",null,e("console:common.privacy.privacyPolicy.description.para1")),a.createElement("p",null,a.createElement(r.cC,{i18nKey:"console:common.privacy.privacyPolicy.description.para2"},"Please note that this policy is for reference only, and is applicable for the software as a product. WSO2 Inc. and its developers have no access to the information held within WSO2 IS. Please see the ",a.createElement("a",{href:"#disclaimer"},"disclaimer")," section for more information.")),a.createElement("p",null,e("console:common.privacy.privacyPolicy.description.para3")))),a.createElement(o.Z.Row,{columns:1},a.createElement(o.Z.Column,{width:16},a.createElement(i.Z,{as:"h3"},e("console:common.privacy.privacyPolicy.whatIsPersonalInfo.heading")),a.createElement("p",null,e("console:common.privacy.privacyPolicy.whatIsPersonalInfo.description.para1")),a.createElement(l.Z,{bulleted:!0},a.createElement(l.Z.Item,null,e("console:common.privacy.privacyPolicy.whatIsPersonalInfo.description.list1.0")),a.createElement(l.Z.Item,null,e("console:common.privacy.privacyPolicy.whatIsPersonalInfo.description.list1.1")),a.createElement(l.Z.Item,null,e("console:common.privacy.privacyPolicy.whatIsPersonalInfo.description.list1.2")),a.createElement(l.Z.Item,null,e("console:common.privacy.privacyPolicy.whatIsPersonalInfo.description.list1.3"))),a.createElement("p",null,a.createElement(r.cC,{i18nKey:"console:common.privacy.privacyPolicy.whatIsPersonalInfo.description.para2"},"However, WSO2 IS also collects the following information that is not considered personal information, but is used only for ",a.createElement("strong",null,"statistical")," purposes. The reason for this is that this information can not be used to track you.")),a.createElement(l.Z,{bulleted:!0},a.createElement(l.Z.Item,null,e("console:common.privacy.privacyPolicy.whatIsPersonalInfo.description.list2.0")),a.createElement(l.Z.Item,null,e("console:common.privacy.privacyPolicy.whatIsPersonalInfo.description.list2.1")),a.createElement(l.Z.Item,null,e("console:common.privacy.privacyPolicy.whatIsPersonalInfo.description.list2.2")),a.createElement(l.Z.Item,null,e("console:common.privacy.privacyPolicy.whatIsPersonalInfo.description.list2.3"))))),a.createElement(o.Z.Row,{columns:1},a.createElement(o.Z.Column,{width:16},a.createElement(i.Z,{as:"h3"},e("console:common.privacy.privacyPolicy.collectionOfPersonalInfo.heading")),a.createElement("p",null,e("console:common.privacy.privacyPolicy.collectionOfPersonalInfo.description.para1")),a.createElement(l.Z,{bulleted:!0},a.createElement(l.Z.Item,null,e("console:common.privacy.privacyPolicy.collectionOfPersonalInfo.description.list1.0")),a.createElement(l.Z.Item,null,e("console:common.privacy.privacyPolicy.collectionOfPersonalInfo.description.list1.1")),a.createElement(l.Z.Item,null,e("console:common.privacy.privacyPolicy.collectionOfPersonalInfo.description.list1.2"))),a.createElement(i.Z,{as:"h4"},e("console:common.privacy.privacyPolicy.collectionOfPersonalInfo.trackingTechnologies.heading")),a.createElement("p",null,e("console:common.privacy.privacyPolicy.collectionOfPersonalInfo.trackingTechnologies.description.para1")),a.createElement(l.Z,{bulleted:!0},a.createElement(l.Z.Item,null,e("console:common.privacy.privacyPolicy.collectionOfPersonalInfo.trackingTechnologies.description.list1.0")),a.createElement(l.Z.Item,null,e("console:common.privacy.privacyPolicy.collectionOfPersonalInfo.trackingTechnologies.description.list1.1")),a.createElement(l.Z.Item,null,e("console:common.privacy.privacyPolicy.collectionOfPersonalInfo.trackingTechnologies.description.list1.2"))))),a.createElement(o.Z.Row,{columns:1},a.createElement(o.Z.Column,{width:16},a.createElement(i.Z,{as:"h3"},e("console:common.privacy.privacyPolicy.useOfPersonalInfo.heading")),a.createElement("p",null,e("console:common.privacy.privacyPolicy.useOfPersonalInfo.description.para1")),a.createElement("p",null,e("console:common.privacy.privacyPolicy.useOfPersonalInfo.description.para2")),a.createElement(l.Z,{bulleted:!0},a.createElement(l.Z.Item,null,e("console:common.privacy.privacyPolicy.useOfPersonalInfo.description.list1.0")),a.createElement(l.Z.Item,null,e("console:common.privacy.privacyPolicy.useOfPersonalInfo.description.list1.1"),a.createElement(l.Z.List,null,e("console:common.privacy.privacyPolicy.useOfPersonalInfo.description.subList1.heading"),a.createElement(l.Z.List,null,a.createElement(l.Z.Item,null,e("console:common.privacy.privacyPolicy.useOfPersonalInfo.description.subList1.list.0")),a.createElement(l.Z.Item,null,e("console:common.privacy.privacyPolicy.useOfPersonalInfo.description.subList1.list.1")),a.createElement(l.Z.Item,null,e("console:common.privacy.privacyPolicy.useOfPersonalInfo.description.subList1.list.2"))))),a.createElement(l.Z.Item,null,e("console:common.privacy.privacyPolicy.useOfPersonalInfo.description.list1.2"),a.createElement(l.Z.List,null,e("console:common.privacy.privacyPolicy.useOfPersonalInfo.description.subList2.heading"),a.createElement(l.Z.List,null,a.createElement(l.Z.Item,null,e("console:common.privacy.privacyPolicy.useOfPersonalInfo.description.subList2.list.0")),a.createElement(l.Z.Item,null,e("console:common.privacy.privacyPolicy.useOfPersonalInfo.description.subList2.list.1")))))))),a.createElement(o.Z.Row,{columns:1},a.createElement(o.Z.Column,{width:16},a.createElement(i.Z,{as:"h3"},e("console:common.privacy.privacyPolicy.disclosureOfPersonalInfo.heading")),a.createElement("p",null,e("console:common.privacy.privacyPolicy.disclosureOfPersonalInfo.description")),a.createElement(i.Z,{as:"h4"},e("console:common.privacy.privacyPolicy.disclosureOfPersonalInfo.legalProcess.heading")),a.createElement("p",null,e("console:common.privacy.privacyPolicy.disclosureOfPersonalInfo.legalProcess.description")))),a.createElement(o.Z.Row,{columns:1},a.createElement(o.Z.Column,{width:16},a.createElement(i.Z,{as:"h3"},e("console:common.privacy.privacyPolicy.storageOfPersonalInfo.heading")),a.createElement(i.Z,{as:"h4"},e("console:common.privacy.privacyPolicy.storageOfPersonalInfo.where.heading")),a.createElement("p",null,e("console:common.privacy.privacyPolicy.storageOfPersonalInfo.where.description.para1")),a.createElement("p",null,e("console:common.privacy.privacyPolicy.storageOfPersonalInfo.where.description.para2")),a.createElement(i.Z,{as:"h4"},e("console:common.privacy.privacyPolicy.storageOfPersonalInfo.howLong.heading")),a.createElement("p",null,e("console:common.privacy.privacyPolicy.storageOfPersonalInfo.howLong.description.para1")),a.createElement("p",null,e("console:common.privacy.privacyPolicy.storageOfPersonalInfo.howLong.description.para2")),a.createElement(l.Z,{bulleted:!0},a.createElement(l.Z.Item,null,e("console:common.privacy.privacyPolicy.storageOfPersonalInfo.howLong.description.list1.0")),a.createElement(l.Z.Item,null,e("console:common.privacy.privacyPolicy.storageOfPersonalInfo.howLong.description.list1.1"))),a.createElement(i.Z,{as:"h4"},e("console:common.privacy.privacyPolicy.storageOfPersonalInfo.requestRemoval.heading")),a.createElement("p",null,e("console:common.privacy.privacyPolicy.storageOfPersonalInfo.requestRemoval.description.para1")),a.createElement("p",null,e("console:common.privacy.privacyPolicy.storageOfPersonalInfo.requestRemoval.description.para2")))),a.createElement(o.Z.Row,{columns:1},a.createElement(o.Z.Column,{width:16},a.createElement(i.Z,{as:"h3"},e("console:common.privacy.privacyPolicy.moreInfo.heading")),a.createElement(i.Z,{as:"h4"},e("console:common.privacy.privacyPolicy.moreInfo.changesToPolicy.heading")),a.createElement("p",null,e("console:common.privacy.privacyPolicy.moreInfo.changesToPolicy.description.para1")),a.createElement("p",null,e("console:common.privacy.privacyPolicy.moreInfo.changesToPolicy.description.para2")),a.createElement(i.Z,{as:"h4"},e("console:common.privacy.privacyPolicy.moreInfo.yourChoices.heading")),a.createElement("p",null,e("console:common.privacy.privacyPolicy.moreInfo.yourChoices.description.para1")),a.createElement("p",null,e("console:common.privacy.privacyPolicy.moreInfo.yourChoices.description.para2")),a.createElement(i.Z,{as:"h4"},e("console:common.privacy.privacyPolicy.moreInfo.contactUs.heading")),a.createElement("p",null,e("console:common.privacy.privacyPolicy.moreInfo.contactUs.description.para1")),a.createElement("a",{href:"https://wso2.com/contact/",rel:"noopener noreferrer",target:"_blank"},"https://wso2.com/contact/"))),a.createElement(o.Z.Row,{columns:1,id:"disclaimer"},a.createElement(o.Z.Column,{width:16},a.createElement(i.Z,{as:"h2"},e("console:common.privacy.privacyPolicy.disclaimer.heading")),a.createElement(l.Z,{ordered:!0},a.createElement(l.Z.Item,null,e("console:common.privacy.privacyPolicy.disclaimer.description.list1.0")),a.createElement("br",null),a.createElement(l.Z.Item,null,e("console:common.privacy.privacyPolicy.disclaimer.description.list1.1"))))))}},79814:function(e,t,n){"use strict";n.d(t,{uG:function(){return r},jQ:function(){return l},Mn:function(){return m},Hb:function(){return d},GU:function(){return u},dv:function(){return o},e:function(){return c},nD:function(){return s},Aq:function(){return p},Lc:function(){return f},rq:function(){return i}});var a=n(49818),r=function(e){return{payload:e,type:a.A5.SET_ACTIVE_VIEW}},o=function(e){return{payload:e,type:a.Nc.SET_HELP_PANEL_DOCS_CONTENT_URL}},i=function(e){return{payload:e,type:a.Nc.TOGGLE_HELP_PANEL_VISIBILITY}},l=function(e){return{payload:e,type:a.y$.SET_DEVELOPER_VISIBILITY}},c=function(e){return{payload:e,type:a.y$.SET_MANAGE_VISIBILITY}},s=function(e){return{payload:e,type:a.sw.SET_ORGANIZATION}},u=function(e){return{payload:e,type:a.sw.SET_GET_ORGANIZATION_LOADING}},d=function(e){return{payload:e,type:a.Zx.SET_FILTERED_MANAGE_ROUTES}},m=function(e){return{payload:e,type:a.Zx.SET_FILTERED_DEVELOP_ROUTES}},f=function(e){return{payload:e,type:a.Zx.SET_SANITIZED_MANAGE_ROUTES}},p=function(e){return{payload:e,type:a.Zx.SET_SANITIZED_DEVELOP_ROUTES}}},6607:function(e,t,n){"use strict";var a;n.d(t,{y:function(){return a}}),function(e){e.SET_DEVELOPER_VISIBILITY="SET_DEVELOPER_VISIBILITY",e.SET_MANAGE_VISIBILITY="SET_MANAGE_VISIBILITY"}(a||(a={}))},49818:function(e,t,n){"use strict";var a;n.d(t,{y$:function(){return l.y},A5:function(){return r},Nc:function(){return a},sw:function(){return o},Zx:function(){return i}}),function(e){e.SET_HELP_PANEL_DOCS_CONTENT_URL="SET_HELP_PANEL_DOCS_CONTENT_URL",e.SET_HELP_PANEL_DOC_STRUCTURE="SET_HELP_PANEL_DOC_STRUCTURE",e.TOGGLE_HELP_PANEL_VISIBILITY="TOGGLE_HELP_PANEL_VISIBILITY",e.SET_HELP_PANEL_ACTIVE_TAB_INDEX="SET_HELP_PANEL_ACTIVE_TAB_INDEX"}(a||(a={}));var r,o,i,l=n(6607);!function(e){e.SET_ACTIVE_VIEW="SET_ACTIVE_VIEW"}(r||(r={})),function(e){e.SET_ORGANIZATION="SET_ORGANIZATION",e.SET_GET_ORGANIZATION_LOADING="SET_GET_ORGANIZATION_LOADING"}(o||(o={})),function(e){e.SET_FILTERED_MANAGE_ROUTES="SET_FILTERED_MANAGE_ROUTES",e.SET_SANITIZED_MANAGE_ROUTES="SET_SANITIZED_MANAGE_ROUTES",e.SET_FILTERED_DEVELOP_ROUTES="SET_FILTERED_DEVELOP_ROUTES",e.SET_SANITIZED_DEVELOP_ROUTES="SET_SANITIZED_DEVELOP_ROUTES"}(i||(i={}))},26072:function(e,t,n){"use strict";n.d(t,{uG:function(){return z.uG},jQ:function(){return z.jQ},Mn:function(){return z.Mn},Hb:function(){return z.Hb},GU:function(){return z.GU},dv:function(){return z.dv},e:function(){return z.e},nD:function(){return z.nD},Aq:function(){return z.Aq},Lc:function(){return z.Lc},h:function(){return H},rq:function(){return z.rq}});var a=n(78086),r=n(57546),o=n(69640),i=n(26278),l=n(9706),c={deployment:{accountApp:{basePath:"",displayName:"",path:"",tenantQualifiedPath:""},adminApp:{basePath:"",displayName:"",path:"",tenantQualifiedPath:""},allowMultipleAppProtocols:void 0,appBaseName:"",appBaseNameWithoutTenant:"",appHomePath:"",appLoginPath:"",appLogoutPath:"",clientHost:"",clientID:"",clientOrigin:"",customServerHost:"",developerApp:{basePath:"",displayName:"",path:"",tenantQualifiedPath:""},docSiteURL:"",documentation:null,extensions:null,helpCenterURL:"",idpConfigs:null,loginCallbackUrl:"",serverHost:"",serverOrigin:"",superTenant:"",tenant:"",tenantPath:"",tenantPrefix:""},endpoints:{CORSOrigins:"",accountDisabling:"",accountLocking:"",accountRecovery:"",applications:"",authenticatorTags:"",authenticators:"",bulk:"",captchaForSSOLogin:"",certificates:"",claims:"",clientCertificates:"",createSecret:"",createSecretType:"",deleteSecret:"",deleteSecretType:"",externalClaims:"",getSecret:"",getSecretList:"",getSecretType:"",governanceConnectorCategories:"",groups:"",identityProviders:"",localAuthenticators:"",localClaims:"",loginPolicies:"",me:"",multiFactorAuthenticators:"",oidcScopes:"",organizations:"",passwordHistory:"",passwordPolicies:"",passwordPolicy:"",permission:"",publicCertificates:"",requestPathAuthenticators:"",roles:"",rolesWithoutOrgPath:"",rootOrganization:"",saml2Meta:"",schemas:"",selfSignUp:"",serverConfigurations:"",serverSupportedSchemas:"",updateSecret:"",updateSecretType:"",userSessions:"",userStores:"",users:"",wellKnown:""},features:{applications:null,approvals:null,attributeDialects:null,certificates:null,emailTemplates:null,governanceConnectors:null,groups:null,guestUser:null,identityProviders:null,oidcScopes:null,remoteFetchConfig:null,roles:null,secretsManagement:null,userStores:null,users:null},i18n:null,ui:{announcements:[],appCopyright:"",appName:"",appTitle:"",applicationTemplateLoadingStrategy:void 0,features:{applications:null,approvals:null,attributeDialects:null,certificates:null,emailTemplates:null,governanceConnectors:null,groups:null,guestUser:null,identityProviders:null,oidcScopes:null,remoteFetchConfig:null,roles:null,secretsManagement:null,userStores:null,users:null},gravatarConfig:{defaultImage:"",fallback:null,size:null},hiddenAuthenticators:[],hiddenUserStores:[],i18nConfigs:null,identityProviderTemplateLoadingStrategy:null,identityProviderTemplates:{enterpriseOIDC:{enabled:!1},enterpriseSAML:{enabled:!1},facebook:{enabled:!1},github:{enabled:!1},google:{enabled:!1}},isClientSecretHashEnabled:void 0,isCookieConsentBannerEnabled:void 0,isDefaultDialectEditingEnabled:void 0,isDialectAddingEnabled:void 0,isGroupAndRoleSeparationEnabled:void 0,isHeaderAvatarLabelAllowed:void 0,isLeftNavigationCategorized:void 0,isRequestPathAuthenticationEnabled:void 0,isSignatureValidationCertificateAliasEnabled:void 0,listAllAttributeDialects:void 0,privacyPolicyConfigs:null,productName:"",productVersionConfig:null,selfAppIdentifier:"",showAppSwitchButton:void 0,systemAppsIdentifiers:[],theme:{name:"",path:"",styleSheets:null}}},s=n(54924),u=n(49818);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p={activeView:null,alert:null,alertSystem:null,isAJAXTopLoaderVisible:!1,supportedI18nLanguages:null},g=(0,s.Z)(p,(0,i.commonGlobalReducer)(p),(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;return t.type===u.A5.SET_ACTIVE_VIEW?m(m({},e),{},{activeView:t.payload}):e}));function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E={activeTabIndex:0,docStructure:null,docURL:null,visibility:!1},b={isSCIMEnabled:!0,linkedAccounts:[],profileInfo:(0,n(88742).emptyProfileInfo)(),profileSchemas:[]},S=n(6607);function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){I(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w={isDevelopAllowed:!0,isManageAllowed:!0},T=n(58107);function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var L={getOrganizationLoading:!0,organization:{attributes:[],created:(new Date).toString(),description:"",domain:"",id:T.a5.ROOT_ORGANIZATION.id,lastModified:(new Date).toString(),name:T.a5.ROOT_ORGANIZATION.name,parent:{id:"",ref:""},status:"",type:""}};function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x={developeRoutes:{filteredRoutes:[],sanitizedRoutes:[]},manageRoutes:{filteredRoutes:[],sanitizedRoutes:[]}},N=n(55625),Z=n(15922),M=n(32070),k=n(34694),j=(0,a.UY)({accessControl:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S.y.SET_DEVELOPER_VISIBILITY:return C(C({},e),{},{isDevelopAllowed:t.payload});case S.y.SET_MANAGE_VISIBILITY:return C(C({},e),{},{isManageAllowed:t.payload});default:return e}},application:N.O0,auth:(0,i.commonAuthenticateReducer)(Z.T),config:(0,i.commonConfigReducer)(c),form:l.Z,global:g,governanceConnector:k.Md,helpPanel:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u.Nc.SET_HELP_PANEL_DOCS_CONTENT_URL:return h(h({},e),{},{docURL:t.payload});case u.Nc.SET_HELP_PANEL_DOC_STRUCTURE:return h(h({},e),{},{docStructure:t.payload});case u.Nc.TOGGLE_HELP_PANEL_VISIBILITY:return h(h({},e),{},{visibility:t.payload});case u.Nc.SET_HELP_PANEL_ACTIVE_TAB_INDEX:return h(h({},e),{},{activeTabIndex:t.payload});default:return e}},identityProvider:M.uS,loaders:(0,i.commonRequestLoadersReducer)({isProfileInfoRequestLoading:!1,isProfileSchemaRequestLoading:!1,isSignOutRequestLoading:!1,isTokenRequestLoading:!1,isTokenRevokeRequestLoading:!1}),organization:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u.sw.SET_ORGANIZATION:return R(R({},e),{},{organization:t.payload});case u.sw.SET_GET_ORGANIZATION_LOADING:return R(R({},e),{},{getOrganizationLoading:t.payload});default:return R({},e)}},profile:(0,i.commonProfileReducer)(b),routes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u.Zx.SET_FILTERED_DEVELOP_ROUTES:return D(D({},e),{},{developeRoutes:D(D({},e.developeRoutes),{},{filteredRoutes:t.payload})});case u.Zx.SET_FILTERED_MANAGE_ROUTES:return D(D({},e),{},{manageRoutes:D(D({},e.manageRoutes),{},{filteredRoutes:t.payload})});case u.Zx.SET_SANITIZED_MANAGE_ROUTES:return D(D({},e),{},{manageRoutes:D(D({},e.manageRoutes),{},{sanitizedRoutes:t.payload})});case u.Zx.SET_SANITIZED_DEVELOP_ROUTES:return D(D({},e),{},{developeRoutes:D(D({},e.developeRoutes),{},{sanitizedRoutes:t.payload})});default:return D({},e)}}}),z=n(79814),H=function(){var e=[o.Z],t=a.md.apply(void 0,e);return(0,a.MT)(j,(0,r.Uo)(t))}()},5984:function(e,t,n){"use strict";n.d(t,{Wj:function(){return g},DN:function(){return S},lD:function(){return D},Ob:function(){return N},DL:function(){return H},w3:function(){return Q},gQ:function(){return w},fS:function(){return I}});var a=n(57002),r=n(95823),o=n(25479),i=n(81771),l=n(87289),c=n(26072);function s(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var g=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,u;return t=e,u=[{key:"getUserPreferences",value:function(){var e=c.h.getState().config.deployment.tenant,t=c.h.getState().auth.username;if(e&&t){var n={};try{n=JSON.parse(r.LocalStorageUtils.getValueFromLocalStorage(e))}catch(e){n={}}return(0,i.Z)(n,t)}}},{key:"setUserPreferences",value:function(e){var t=c.h.getState().config.deployment.tenant,n=c.h.getState().auth.username;t&&n&&r.LocalStorageUtils.setValueInLocalStorage(t,JSON.stringify(m(m({},JSON.parse(r.LocalStorageUtils.getValueFromLocalStorage(t))),{},f({},n,e))))}},{key:"getHiddenRoutes",value:function(){var t,n,a,r,o=e.getUserPreferences();return(0,l.Z)(o)||(0,l.Z)(o)||(0,l.Z)(null===(t=o.identityAppsSettings)||void 0===t||null===(n=t.devPortal)||void 0===n?void 0:n.hiddenRoutes)?[]:null===(a=o.identityAppsSettings)||void 0===a||null===(r=a.devPortal)||void 0===r?void 0:r.hiddenRoutes}},{key:"setHiddenRoute",value:function(t){var n=e.getUserPreferences();if(!(0,l.Z)(n)){var a=this.getHiddenRoutes(),r=(0,o.Z)(n);r.identityAppsSettings.devPortal.hiddenRoutes=[].concat(s(a),[t]),this.setUserPreferences(r)}}},{key:"onChunkLoadError",value:function(){dispatchEvent(new Event(a.AppConstants.CHUNK_LOAD_ERROR_EVENT))}}],(n=null)&&p(t.prototype,n),u&&p(t,u),Object.defineProperty(t,"prototype",{writable:!1}),e}(),v=n(20803),h=n(73881);function y(e){return function(e){if(Array.isArray(e))return E(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function b(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var S=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,a;return t=e,a=[{key:"getSeenAnnouncements",value:function(){var e=g.getUserPreferences();if(!(0,l.Z)(e))return(0,i.Z)(e,h.F$.SEEN_ANNOUNCEMENTS_KEY,[])}},{key:"setSeenAnnouncements",value:function(e){var t=g.getUserPreferences();if(!(0,l.Z)(t)){var n=(0,o.Z)(t),a=(0,i.Z)(t,h.F$.SEEN_ANNOUNCEMENTS_KEY,[]);(0,v.Z)(n,h.F$.SEEN_ANNOUNCEMENTS_KEY,[].concat(y(a),[e])),g.setUserPreferences(n)}}}],(n=null)&&b(t.prototype,n),a&&b(t,a),Object.defineProperty(t,"prototype",{writable:!1}),e}();function A(e){return function(e){if(Array.isArray(e))return C(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var I=function(e,t,n){var a=e&&A(e);return null===a||void 0===a?void 0:a.sort((function(e,a){var r,o;return n?null===(r=e[t])||void 0===r?void 0:r.localeCompare(a[t]):null===(o=a[t])||void 0===o?void 0:o.localeCompare(e[t])}))},w=function(e,t,n,a){var r;if(!t)return I(e,n,a);var o=t.split(" "),i=o[0],l=o[1],c=null===(r=o[2])||void 0===r?void 0:r.toLowerCase(),s=e.filter((function(e){var t,n=null===(t=e[i])||void 0===t?void 0:t.toLowerCase();if(n)switch(l){case"eq":return n===c;case"co":return n.includes(c);case"sw":return n.startsWith(c);case"ew":return n.endsWith(c);default:return!1}return!1}));return I(s,n,a)},T=n(88742),P=n(26278),R=n(22260);var O=n(54547);function L(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var D=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),U(this,"compute",(function(e){O.analyticsConfig.EventPublisherExtension.compute&&O.analyticsConfig.EventPublisherExtension.compute(e)}))}var t,n,a;return t=e,a=[{key:"getInstance",value:function(){return this.publisherInstance||(this.publisherInstance=new e),this.publisherInstance}}],(n=[{key:"publish",value:function(e,t){t?O.analyticsConfig.EventPublisherExtension.publish&&O.analyticsConfig.EventPublisherExtension.publish(e,t):O.analyticsConfig.EventPublisherExtension.publish&&O.analyticsConfig.EventPublisherExtension.publish(e)}},{key:"record",value:function(e,t,n,a,r,o){o&&O.analyticsConfig.EventPublisherExtension.record&&O.analyticsConfig.EventPublisherExtension.record(e,t,n,a,r,o),O.analyticsConfig.EventPublisherExtension.record&&O.analyticsConfig.EventPublisherExtension.record(e,t,n,a,r)}},{key:"init",value:function(){O.analyticsConfig.EventPublisherExtension.init&&O.analyticsConfig.EventPublisherExtension.init()}}])&&L(t.prototype,n),a&&L(t,a),Object.defineProperty(t,"prototype",{writable:!1}),e}();U(D,"publisherInstance",void 0);var _=n(97763);function x(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var N=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,o=[{key:"onHttpRequestStart",value:function(){c.h.dispatch((0,P.showAJAXTopLoadingBar)())}},{key:"onHttpRequestSuccess",value:function(e){var t=e.config,n=(new Date).getTime()-(null===t||void 0===t?void 0:t.startTimeInMs);D.getInstance().record(new URL(e.config.url).pathname,t.startTimeInMs,n,null===e||void 0===e?void 0:e.status,!0)}},{key:"onHttpRequestError",value:function(e){var t,n,o,i=e.config,l=null,s=null;try{var u;s=new URL(null===e||void 0===e||null===(u=e.config)||void 0===u?void 0:u.url).pathname,l=(new Date).getTime()-(null===i||void 0===i?void 0:i.startTimeInMs)}catch(e){}D.getInstance().record(s,null===i||void 0===i?void 0:i.startTimeInMs,l,null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status,!1),e.response&&e.response.request&&e.response.request.responseURL&&e.response.request.responseURL===sessionStorage.getItem("token_endpoint")&&400===e.response.status?_.m.push(window.AppUtils.getConfig().routes.logout):r.AuthenticateUtils.hasLoginPermission(null===(n=c.h.getState())||void 0===n||null===(o=n.auth)||void 0===o?void 0:o.allowedScopes)?e.response&&401!==e.response.status||("SPA-WORKER_CORE-HR-SE01"===(null===e||void 0===e?void 0:e.code)&&dispatchEvent(new Event(a.AppConstants.NETWORK_ERROR_EVENT)),"SPA-AUTH_HELPER-HR-SE01"===(null===e||void 0===e?void 0:e.code)&&dispatchEvent(new Event(a.AppConstants.NETWORK_ERROR_EVENT))):_.m.push({pathname:h.$x.getPaths().get("UNAUTHORIZED"),search:"?error="+h.$x.LOGIN_ERRORS.get("NO_LOGIN_PERMISSION")})}},{key:"onHttpRequestFinish",value:function(){c.h.dispatch((0,P.hideAJAXTopLoadingBar)())}}],(n=null)&&x(t.prototype,n),o&&x(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Z=n(80954);function M(e){return function(e){if(Array.isArray(e))return j(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||k(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){if(e){if("string"===typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?j(e,t):void 0}}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function z(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var H=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,a;return t=e,a=[{key:"gracefullyHandleRouting",value:function(t,n,a){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(e.isOnlyPageNotFoundPresent(t)){if(e.isHomePath(n)){if(n===h.$x.getDeveloperViewBasePath())return void _.m.push(h.$x.getAdminViewHomePath());if(n===h.$x.getAdminViewBasePath())return void _.m.push(h.$x.getDeveloperViewHomePath())}if(r)return void _.m.push({pathname:h.$x.getPaths().get("UNAUTHORIZED"),search:"?error="+h.$x.LOGIN_ERRORS.get("ACCESS_DENIED")})}e.isRouteAvailable(n,a,t)||_.m.push((0,Z.Z)(t,"order")[0].path)}},{key:"isRouteAvailable",value:function(e,t,n){if(!e||!t||null===n||void 0===n||!n.length)return!1;var a,r,o=[],i=function(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=k(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw o}}}}(n);try{for(i.s();!(a=i.n()).done;){var l=a.value;if(l){var c=RegExp("^".concat((r=l.path)&&r.trim().length?r.split("/").map((function(e){return e&&e.startsWith(":")?/[\w~\-\\.!*'(), ]+/.source:null!==e&&void 0!==e?e:""})).join("/"):"")).exec(t);if(c&&c.length>0){o.push.apply(o,M(c));break}}}}catch(e){i.e(e)}finally{i.f()}return o.length>0}},{key:"isHomePath",value:function(e){var t;return e===h.$x.getAppHomePath()||(null===e||void 0===e?void 0:e.split("/")[0])===(null===(t=h.$x.getAppHomePath())||void 0===t?void 0:t.split("/")[0])}},{key:"isOnlyPageNotFoundPresent",value:function(e){return!(!e||!Array.isArray(e)||1!==e.length||e[0].redirectTo!==h.$x.getPaths().get("PAGE_NOT_FOUND"))}},{key:"isViewPresentable",value:function(t,n){var a=e.filterPresentableRoutes(t,n);return!(a&&Array.isArray(a)&&0===a.length||e.isOnlyPageNotFoundPresent(a))}},{key:"filterPresentableRoutes",value:function(e,t){return e.filter((function(e){return!!e.showOnSidePanel&&(t&&Array.isArray(t)?t.some((function(t){return e.path===t})):void 0)}))}},{key:"filterOrganizationEnabledRoutes",value:function(e){return e.filter((function(e){return h.$x.ORGANIZATION_ENABLED_ROUTES.includes(e.id)}))}},{key:"filterOutOrganizationOnlyRoutes",value:function(e){return e.filter((function(e){return!h.$x.ORGANIZATION_ONLY_ROUTES.includes(e.id)}))}}],(n=null)&&z(t.prototype,n),a&&z(t,a),Object.defineProperty(t,"prototype",{writable:!1}),e}(),G=n(3844),B=n(73206);function F(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return V(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return V(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw o}}}}function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function $(e,t,n,a,r,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(a,r)}function q(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function i(e){$(o,a,r,i,l,"next",e)}function l(e){$(o,a,r,i,l,"throw",e)}i(void 0)}))}}function W(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var Q=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,a;return t=e,n=null,a=[{key:"getUserStoreRegEx",value:function(){var e=q(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,G.getUserStoreList)(c.h.getState().config.endpoints.userStores).then((function(e){var a,r=null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.find((function(e){return e.name===t}));if(!(0,l.Z)(r))return(0,B.YZ)(r.id).then((function(e){var t;return null===(t=e.properties.find((function(e){return e.name===n})))||void 0===t?void 0:t.value}))})));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"validateInputAgainstRegEx",value:function(e,t){return new RegExp(t).test(e)}},{key:"getUserStoreIds",value:function(){var e=q(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=function(e){var t=[];return e.map((function(e){t.push(e.id)})),t},!t){e.next=3;break}return e.abrupt("return",n(t));case 3:return e.abrupt("return",(0,G.getUserStoreList)(c.h.getState().config.endpoints.userStores).then((function(e){return n(e.data)})).catch((function(){})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getPrimaryUserStore",value:function(){var e=q(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,B.sc)().then((function(e){return e})).catch((function(){c.h.dispatch((0,P.addAlert)({description:R.I18n.instance.t("console:develop.features.userstores.notifications.fetchUserstores.genericError.description"),level:T.AlertLevels.INFO,message:R.I18n.instance.t("console:develop.features.userstores.notifications.fetchUserstores.genericError.message")}))})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getReadOnlyUserStores",value:function(){var t=q(regeneratorRuntime.mark((function t(n){var a,r,o,i,l,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getUserStoreIds(n);case 2:return a=t.sent,t.next=5,e.getPrimaryUserStore();case 5:r=t.sent,o=[],r&&"true"===r.properties.find((function(e){return e.name===h.fo.READONLY_USER_STORE})).value&&o.push(r.name.toUpperCase()),i=F(a),t.prev=9,i.s();case 11:if((l=i.n()).done){t.next=17;break}return c=l.value,t.next=15,(0,B.YZ)(c).then((function(e){e.properties.map((function(t){t.name===h.fo.READONLY_USER_STORE&&"true"===t.value&&o.push(e.name.toUpperCase())}))}));case 15:t.next=11;break;case 17:t.next=22;break;case 19:t.prev=19,t.t0=t.catch(9),i.e(t.t0);case 22:return t.prev=22,i.f(),t.finish(22);case 25:return t.abrupt("return",o);case 26:case"end":return t.stop()}}),t,null,[[9,19,22,25]])})));return function(e){return t.apply(this,arguments)}}()}],n&&W(t.prototype,n),a&&W(t,a),Object.defineProperty(t,"prototype",{writable:!1}),e}()},82092:function(e,t,n){"use strict";n.d(t,{CF:function(){return m},FU:function(){return c},T9:function(){return s},ps:function(){return f},RR:function(){return u},OV:function(){return l},ij:function(){return d},RS:function(){return p}});var a=n(19486),r=n(88742),o=n(12847),i=a.AsgardeoSPAClient.getInstance().httpRequest.bind(a.AsgardeoSPAClient.getInstance()),l=function(){var e={headers:{"Access-Control-Allow-Origin":o.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:r.HttpMethods.GET,url:o.h.getState().config.endpoints.emailTemplateType};return i(e).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},c=function(e){var t={data:{displayName:e},headers:{"Access-Control-Allow-Origin":o.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:r.HttpMethods.POST,url:o.h.getState().config.endpoints.emailTemplateType};return i(t).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},s=function(e){var t={headers:{"Access-Control-Allow-Origin":o.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:r.HttpMethods.DELETE,url:o.h.getState().config.endpoints.emailTemplateType+"/"+e};return i(t).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},u=function(e){var t={headers:{"Access-Control-Allow-Origin":o.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:r.HttpMethods.GET,url:o.h.getState().config.endpoints.emailTemplateType+"/"+e};return i(t).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},d=function(e,t){var n={headers:{"Access-Control-Allow-Origin":o.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:r.HttpMethods.GET,url:o.h.getState().config.endpoints.emailTemplateType+"/"+e+"/templates/"+t};return i(n).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},m=function(e,t){var n={data:t,headers:{"Access-Control-Allow-Origin":o.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:r.HttpMethods.POST,url:o.h.getState().config.endpoints.emailTemplateType+"/"+e};return i(n).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},f=function(e,t){var n={headers:{"Access-Control-Allow-Origin":o.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:r.HttpMethods.DELETE,url:o.h.getState().config.endpoints.emailTemplateType+"/"+e+"/templates/"+t};return i(n).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},p=function(e,t,n){var a={data:n,headers:{"Access-Control-Allow-Origin":o.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:r.HttpMethods.PUT,url:o.h.getState().config.endpoints.emailTemplateType+"/"+e+"/templates/"+t};return i(a).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))}},61025:function(e,t,n){"use strict";n.d(t,{xQ:function(){return C},_3:function(){return _},CE:function(){return j},nb:function(){return B}});var a=n(88742),r=n(26278),o=n(26776),i=n(96462),l=n(81179),c=n(68905),s=n(64805),u=n(83913),d=n(23177),m=n(44706),f=n(84504),p=n(12847),g=n(82092),v=n(3604),h=n(89642);function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(o.push(a.value),!t||o.length!==t);i=!0);}catch(e){l=!0,r=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var b=function(e){var t=e.htmlContent,n=e.isReadOnly,a=e.updateHtmlContent,r=e.customClass,o=e.isPreviewOnly,l=e.isAddFlow,u=e.isSignature,d=e["data-testid"],m=(0,s.$G)().t,f=y((0,c.useState)(""),2),p=f[0],g=f[1],v=(0,c.useRef)(""),E=(0,c.useRef)();(0,c.useEffect)((function(){b()}),[v.current]),(0,c.useEffect)((function(){l&&u?(g(h.a.EMAIL_STARTER_TEMPLATE),v.current=h.a.EMAIL_STARTER_TEMPLATE):(g(t),v.current=t)}),[t]);var b=function(){var e,t,n,a=(null===E||void 0===E||null===(e=E.current)||void 0===e?void 0:e.contentDocument)||(null===E||void 0===E||null===(t=E.current)||void 0===t||null===(n=t.contentWindow)||void 0===n?void 0:n.document);a&&(a.open(),a.close(),a.body.innerHTML=v.current)};return c.createElement("div",{className:"email-code-editor "+r,"data-testid":d},o?c.createElement("div",{className:"render-view","data-testid":"".concat(d,"-preview-only-render-view")},c.createElement("iframe",{id:"iframe",ref:function(e){E.current=e,E.current&&b()}},c.createElement("p",{"data-testid":"".concat(d,"-iframe-unsupported-error")},m("console:manage.features.emailTemplates.notifications.iframeUnsupported.genericError.description")))):c.createElement(i.ResourceTab,{onTabChange:function(){a&&a(v.current)},defaultActiveTab:l?1:0,panes:[{menuItem:m("console:manage.features.emailTemplates.editor.tabs.preview.tabName"),render:function(){return c.createElement(i.ResourceTab.Pane,{className:"render-view",attached:!1,"data-testid":"preview-tab-pane"},c.createElement("iframe",{id:"iframe",ref:function(e){E.current=e,E.current&&b()}},c.createElement("p",{"data-testid":"".concat(d,"-iframe-unsupported-error")},m("console:manage.features.emailTemplates.notifications.iframeUnsupported.genericError.description"))))}},{menuItem:m("console:manage.features.emailTemplates.editor.tabs.code.tabName"),render:function(){return c.createElement(i.ResourceTab.Pane,{attached:!1,"data-testid":"html-code-tab-pane"},c.createElement(i.CodeEditor,{lint:!0,language:"htmlmixed",sourceCode:p,options:{lineWrapping:!0},onChange:function(e,t,n){v.current=n},onBlur:function(){a&&a(v.current)},readOnly:n,theme:"dark","data-testid":"".concat(d,"-code-editor")}))}}],"data-testid":"".concat(d,"-tabs")}))};function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(o.push(a.value),!t||o.length!==t);i=!0);}catch(e){l=!0,r=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}b.defaultProps={"data-testid":"email-template-editor",isPreviewOnly:!1};var C=function(e){var t=e.mode,n=e.templateId,h=e.templateTypeId,y=e["data-testid"],E=(0,u.I0)(),A=(0,s.$G)().t,C=S((0,c.useState)([]),2),I=C[0],w=C[1],T=S((0,c.useState)(""),2),P=T[0],R=T[1],O=S((0,c.useState)(""),2),L=O[0],U=O[1],D=S((0,c.useState)(""),2),_=D[0],x=D[1],N=S((0,c.useState)(""),2),Z=N[0],M=N[1],k=S((0,c.useState)(!1),2),j=k[0],z=k[1],H=S((0,c.useState)(!1),2),G=H[0],B=H[1],F=S((0,c.useState)(!1),2),V=F[0],$=F[1],q=S((0,c.useState)(!1),2),W=q[0],Q=q[1];(0,c.useEffect)((function(){var e=l.getLocales(!0),t=[];e.forEach((function(e,n){var a=e.split("-")[1],r=e.split("-")[0],o=l.getLanguage(r).name,i=l.getCountry(a).name;t.push({flag:a.toLowerCase(),key:n,text:i?o+" ("+i+")":o,value:e})})),w(t)}),[]),(0,c.useEffect)((function(){n&&t!==v.a.ADD&&(0,g.ij)(h,n).then((function(e){if(200===e.status){var t=e.data;U(t.id),R(t.subject),x(t.body),M(t.footer)}})).catch((function(){}))}),[n,t]);return c.createElement(o.Forms,{onSubmit:function(e){n&&t!==v.a.ADD?function(e){var t={body:_,contentType:"text/html",footer:Z,id:n,subject:e.get("emailSubject").toString()};Q(!0),(0,g.RS)(h,n,t).then((function(e){200===e.status&&E((0,r.addAlert)({description:A("console:manage.features.emailTemplates.notifications.updateTemplate.success.description"),level:a.AlertLevels.SUCCESS,message:A("console:manage.features.emailTemplates.notifications.updateTemplate.success.message")}))})).catch((function(e){E((0,r.addAlert)({description:e.response.data.description,level:a.AlertLevels.ERROR,message:A("console:manage.features.emailTemplates.notifications.updateTemplate.genericError.message")}))})).finally((function(){Q(!1)}))}(e):_&&Z?(!function(e){var t={body:_,contentType:"text/html",footer:Z,id:L,subject:e.get("emailSubject").toString()};Q(!0),(0,g.CF)(h,t).then((function(e){201===e.status&&(E((0,r.addAlert)({description:A("console:manage.features.emailTemplates.notifications.createTemplate.success.description"),level:a.AlertLevels.SUCCESS,message:A("console:manage.features.emailTemplates.notifications.createTemplate.success.message")})),p.m8.push(p.$x.getPaths().get("EMAIL_TEMPLATES").replace(":templateTypeId",h)))})).catch((function(e){E((0,r.addAlert)({description:e.response.data.description,level:a.AlertLevels.ERROR,message:A("console:manage.features.emailTemplates.notifications.createTemplate.genericError.message")}))})).finally((function(){Q(!1)}))}(e),z(!1)):(z(!0),B(!_),$(!Z))},onSubmitError:function(){z(!0),B(!_),$(!Z)},error:j&&(G||V)},c.createElement(d.Z,null,t===v.a.ADD&&c.createElement(d.Z.Row,{columns:1},c.createElement(d.Z.Column,{mobile:12,tablet:12,computer:4},c.createElement(m.Z.Field,null,c.createElement(o.Field,{type:"dropdown",placeholder:A("console:manage.features.emailLocale.forms.addLocale.fields.locale.placeholder"),label:A("console:manage.features.emailLocale.forms.addLocale.fields.locale.label"),name:"locale",requiredErrorMessage:A("console:manage.features.emailLocale.forms.addLocale.fields.locale.validations.empty"),required:!0,children:I?I.map((function(e){return{"data-testid":e.value,key:e.key,text:e.text,value:e.value}})):[],listen:function(e){U(e.get("locale").toString())},search:!0,value:L,selection:!0,fluid:!0,scrolling:!0,"data-testid":"".concat(y,"-locale-select")})))),c.createElement(d.Z.Row,{columns:1},c.createElement(d.Z.Column,{mobile:12,tablet:12,computer:4},c.createElement(o.Field,{name:"emailSubject",label:A("console:manage.features.emailLocale.forms.addLocale.fields.subject.label"),required:!0,requiredErrorMessage:A("console:manage.features.emailLocale.forms.addLocale.fields.subject.validations.empty"),placeholder:A("console:manage.features.emailLocale.forms.addLocale.fields.subject.placeholder"),type:"text",value:P,"data-testid":"".concat(y,"-subject-input")}))),c.createElement(d.Z.Row,{columns:1},c.createElement(d.Z.Column,{mobile:12,tablet:12,computer:12},c.createElement(m.Z.Field,null,c.createElement("label",null,A("console:manage.features.emailLocale.forms.addLocale.fields.bodyEditor.label")),c.createElement(b,{htmlContent:_,isReadOnly:!1,isSignature:!0,isAddFlow:""===n,updateHtmlContent:function(e){x(e),B(!e)},"data-testid":"".concat(y,"-email-template-body-editor")}),j&&G&&c.createElement(i.Message,{attached:!0,type:"error",content:A("console:manage.features.emailLocale.forms.addLocale.fields.bodyEditor.validations.empty")})))),c.createElement(d.Z.Row,{columns:1},c.createElement(d.Z.Column,{mobile:12,tablet:12,computer:12},c.createElement(m.Z.Field,null,c.createElement("label",null,A("console:manage.features.emailLocale.forms.addLocale.fields.signatureEditor.label")),c.createElement(b,{htmlContent:Z,isReadOnly:!1,isSignature:!1,isAddFlow:""===n,customClass:"mail-signature",updateHtmlContent:function(e){M(e),$(!e)},"data-testid":"".concat(y,"-email-template-footer-editor")}),j&&V&&c.createElement(i.Message,{attached:!0,type:"error",content:A("console:manage.features.emailLocale.forms.addLocale.fields.signatureEditor.validations.empty")})))),c.createElement(d.Z.Row,{columns:1},c.createElement(d.Z.Column,{mobile:16,tablet:16,computer:8},c.createElement(f.Z,{primary:!0,type:"submit",size:"small",loading:W,disabled:W,className:"form-button","data-testid":"".concat(y,"-submit-button")},A(""===n?"console:manage.features.emailLocale.buttons.addLocaleTemplate":"console:manage.features.emailLocale.buttons.saveChanges"))))))};C.defaultProps={"data-testid":"add-locale-template-form"};var I=n(87780),w=n(86715),T=function(e){var t=e.onSubmit,n=e.triggerSubmit,a=e["data-testid"],r=(0,s.$G)().t;return c.createElement(o.Forms,{onSubmit:function(e){t(function(e){return{templateType:e.get("templatetype").toString()}}(e))},submitState:n},c.createElement(d.Z,null,c.createElement(I.Z,{columns:2},c.createElement(w.Z,{mobile:16,tablet:16,computer:8},c.createElement(o.Field,{type:"text",name:"templatetype",label:r("console:manage.features.emailTemplateTypes.forms.addTemplateType.fields.type.label"),placeholder:r("console:manage.features.emailTemplateTypes.forms.addTemplateType.fields.type.placeholder"),required:!0,requiredErrorMessage:r("console:manage.features.emailTemplateTypes.forms.addTemplateType.fields.type.validations.empty"),"data-testid":"".concat(a,"-type-input")})))))};T.defaultProps={"data-testid":"add-email-template-type-form"};var P=n(70515),R=n(50306),O=n(85027),L=n(63209);function U(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(o.push(a.value),!t||o.length!==t);i=!0);}catch(e){l=!0,r=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var _=function(e){var t=e.onCloseHandler,n=e["data-testid"],l=(0,u.I0)(),m=(0,s.$G)().t,f=U((0,c.useState)(0),2),v=f[0],h=(f[1],U((0,c.useState)(!1),2)),y=h[0],E=h[1],b=U((0,o.useTrigger)(),2),S=b[0],A=b[1],C=U((0,i.useWizardAlert)(),3),I=C[0],w=C[1],P=C[2],R=[{content:c.createElement(T,{onSubmit:function(e){return function(e){D(e.templateType)}(e)},triggerSubmit:S,"data-testid":"".concat(n,"-form")}),icon:(0,L.UY)().general,title:m("console:manage.features.emailTemplateTypes.wizards.addTemplateType.steps.templateType.heading")}],D=function(e){E(!0),(0,g.FU)(e).then((function(e){var n;201===e.status&&l((0,r.addAlert)({description:m("console:manage.features.emailTemplateTypes.notifications.createTemplateType.success.description"),level:a.AlertLevels.SUCCESS,message:m("console:manage.features.emailTemplateTypes.notifications.createTemplateType.success.message")})),p.m8.push(p.$x.getPaths().get("EMAIL_TEMPLATES").replace(":templateTypeId",null===(n=e.data)||void 0===n?void 0:n.id)),t()})).catch((function(e){w({description:e.response.data.description,level:a.AlertLevels.ERROR,message:m("console:manage.features.emailTemplateTypes.notifications.createTemplateType.genericError.message")})})).finally((function(){E(!1)}))};return c.createElement(O.Z,{open:!0,className:"wizard create-template-type-wizard",dimmer:"blurring",size:"small",onClose:t,closeOnDimmerClick:!1,closeOnEscape:!1,"data-testid":n},c.createElement(O.Z.Header,{className:"wizard-header template-type-wizard"},m("console:manage.features.emailTemplateTypes.wizards.addTemplateType.heading"),c.createElement(i.Heading,{as:"h6"},m("console:manage.features.emailTemplateTypes.wizards.addTemplateType.subHeading"))),c.createElement(O.Z.Content,{className:"content-container",scrolling:!0},I&&P,R[v].content),c.createElement(O.Z.Actions,null,c.createElement(d.Z,null,c.createElement(d.Z.Row,{column:1},c.createElement(d.Z.Column,{mobile:8,tablet:8,computer:8},c.createElement(i.LinkButton,{floated:"left",onClick:function(){t()},"data-testid":"".concat(n,"-cancel-button")},m("cancel"))),c.createElement(d.Z.Column,{mobile:8,tablet:8,computer:8},c.createElement(i.PrimaryButton,{floated:"right",onClick:A,"data-testid":"".concat(n,"-create-button"),loading:y,disabled:y},m("console:manage.features.emailTemplateTypes.buttons.createTemplateType")))))))};function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(o.push(a.value),!t||o.length!==t);i=!0);}catch(e){l=!0,r=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return N(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}_.defaultProps={"data-testid":"email-template-type-add-wizard"};var Z=function(e){var t=e.onCloseHandler,n=e.onEditHandler,a=e.templateTypeId,r=e.templateId,o=e["data-testid"],l=(0,s.$G)().t,u=x((0,c.useState)(null),2),m=u[0],f=u[1];(0,c.useEffect)((function(){(0,g.ij)(a,r).then((function(e){200===e.status&&f(e.data)})).catch((function(){}))}),[void 0!==m]);var p=[{content:null!==m&&void 0!==m&&m.body?c.createElement(b,{htmlContent:m.body,isPreviewOnly:!0,isReadOnly:!0,isAddFlow:!1,isSignature:!1,"data-testid":"".concat(o,"-email-template-editor")}):c.createElement(i.ContentLoader,null),icon:(0,L.sr)().general}];return c.createElement(O.Z,{open:!0,className:"wizard create-template-type-wizard",dimmer:"blurring",size:"small",onClose:t,closeOnDimmerClick:!1,closeOnEscape:!1,"data-testid":"".concat(o,"-modal")},c.createElement(O.Z.Header,{className:"wizard-header template-type-wizard"},null===m||void 0===m?void 0:m.subject,c.createElement(i.Heading,{as:"h6"},l("console:manage.features.emailTemplates.viewTemplate.heading"))),c.createElement(O.Z.Content,{className:"content-container template-view-content",scrolling:!0},p[0].content),c.createElement(O.Z.Actions,null,c.createElement(d.Z,null,c.createElement(d.Z.Row,{column:1},c.createElement(d.Z.Column,{mobile:8,tablet:8,computer:8},c.createElement(i.LinkButton,{floated:"left",onClick:function(){t()},"data-testid":"".concat(o,"-modal-cancel-button")},l("common:cancel"))),c.createElement(d.Z.Column,{mobile:8,tablet:8,computer:8},c.createElement(i.PrimaryButton,{floated:"right",onClick:function(){n()},"data-testid":"".concat(o,"-modal-edit-button")},l("console:manage.features.emailTemplates.buttons.editTemplate")))))))};function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(o.push(a.value),!t||o.length!==t);i=!0);}catch(e){l=!0,r=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}Z.defaultProps={"data-testid":"view-locale-template"};var j=function(e){var t=e.advancedSearch,n=e.defaultListItemLimit,a=e.isLoading,r=e.onEmptyListPlaceholderActionClick,o=e.onDelete,u=e.templateList,d=e.templateTypeId,m=e.selection,f=e.showListItemActions,g=e["data-testid"],v=(0,s.$G)().t,h=M((0,c.useState)(!1),2),y=h[0],E=h[1],b=M((0,c.useState)(""),2),S=b[0],A=b[1],C=M((0,c.useState)(!1),2),I=C[0],w=C[1],T=M((0,c.useState)(void 0),2),O=T[0],L=T[1],U=function(e,t){p.m8.push(p.$x.getPaths().get("EMAIL_TEMPLATE").replace(":templateTypeId",e).replace(":templateId",t))},D=function(){return 0===(null===u||void 0===u?void 0:u.length)?c.createElement(i.EmptyPlaceholder,{action:c.createElement(i.PrimaryButton,{onClick:r},c.createElement(P.Z,{name:"add"}),v("console:manage.features.emailTemplates.placeholders.emptyList.action")),title:v("console:manage.features.emailTemplates.placeholders.emptyList.title"),subtitle:[v("console:manage.features.emailTemplates.placeholders.emptyList.subtitles.0"),v("console:manage.features.emailTemplates.placeholders.emptyList.subtitles.1"),v("console:manage.features.emailTemplates.placeholders.emptyList.subtitles.2")],image:(0,p.jF)().newList,imageSize:"tiny","data-testid":"".concat(g,"-empty-placeholder")}):null};return c.createElement(c.Fragment,null,c.createElement(i.DataTable,{className:"email-templates-table",externalSearch:t,isLoading:a,loadingStateOptions:{count:null!==n&&void 0!==n?n:p.ru.DEFAULT_RESOURCE_LIST_ITEM_LIMIT,imageType:"square"},actions:f?[{"data-testid":"".concat(g,"-item-view-button"),icon:function(){return"eye"},onClick:function(e,t){A(t.id),E(!0)},popupText:function(){return v("console:manage.features.emailTemplates.buttons.viewTemplate")},renderer:"semantic-icon"},{"data-testid":"".concat(g,"-item-edit-button"),icon:function(){return"pencil alternate"},onClick:function(e,t){return U(d,t.id)},popupText:function(){return v("console:manage.features.emailTemplates.buttons.editTemplate")},renderer:"semantic-icon"},{"data-testid":"".concat(g,"-item-delete-button"),icon:function(){return"trash alternate"},onClick:function(e,t){L(t),w(!0)},popupText:function(){return v("console:manage.features.emailTemplates.buttons.deleteTemplate")},renderer:"semantic-icon"}]:[],columns:[{allowToggleVisibility:!1,dataIndex:"name",id:"name",key:"name",render:function(e){var t="",n="";-1!==e.id.indexOf("_")?(t=e.id.split("_")[1],n=e.id.split("_")[0]):(t=e.id.split("-")[1],n=e.id.split("-")[0]);var a=l.getLanguage(n).name,r=l.getCountry(t).name;return c.createElement("div",{"data-testid":"".concat(g,"-item-heading")},c.createElement(R.Z,{className:"email-template-flag",name:t.toLowerCase(),"data-testid":"".concat(g,"-flag-image")}),r?a+" ("+r+")":a)},title:v("console:manage.features.emailTemplates.list.name")},{allowToggleVisibility:!1,dataIndex:"action",id:"actions",key:"actions",textAlign:"right",title:v("console:manage.features.emailTemplates.list.actions")}],data:u,onRowClick:function(e,t){U(d,t.id)},placeholders:D(),selectable:m,showHeader:!1,transparent:!a&&null!==D(),"data-testid":g}),y&&c.createElement(Z,{templateTypeId:d,templateId:S,onCloseHandler:function(){return E(!1)},onEditHandler:function(){return U(d,S)},"data-testid":"".concat(g,"-view-locale-template")}),I&&c.createElement(i.ConfirmationModal,{onClose:function(){return w(!1)},type:"negative",open:I,assertion:O.id,assertionHint:c.createElement("p",null,c.createElement(s.cC,{i18nKey:"console:manage.features.emailTemplates.confirmations.deleteTemplate.assertionHint",tOptions:{id:O.id}},"Please type ",c.createElement("strong",null,O.id)," to confirm.")),assertionType:"input",primaryAction:v("common:confirm"),secondaryAction:v("common:cancel"),onSecondaryActionClick:function(){return w(!1)},onPrimaryActionClick:function(){o(d,O.id),w(!1)},"data-testid":"".concat(g,"-delete-confirmation-modal"),closeOnDimmerClick:!1},c.createElement(i.ConfirmationModal.Header,{"data-testid":"".concat(g,"-delete-confirmation-modal-header")},v("console:manage.features.emailTemplates.confirmations.deleteTemplate.header")),c.createElement(i.ConfirmationModal.Message,{attached:!0,negative:!0,"data-testid":"".concat(g,"-delete-confirmation-modal-message")},v("console:manage.features.emailTemplates.confirmations.deleteTemplate.message")),c.createElement(i.ConfirmationModal.Content,{"data-testid":"".concat(g,"-delete-confirmation-modal-content")},v("console:manage.features.emailTemplates.confirmations.deleteTemplate.content"))))};j.defaultProps={"data-testid":"email-template-list",selection:!0,showListItemActions:!0};var z=n(82791);function H(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(o.push(a.value),!t||o.length!==t);i=!0);}catch(e){l=!0,r=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return G(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var B=function(e){var t=e.advancedSearch,n=e.defaultListItemLimit,a=e.isLoading,r=e.templateTypeList,o=e.onDelete,l=e.onEmptyListPlaceholderActionClick,u=e.onSearchQueryClear,d=e.selection,m=e.searchQuery,f=e.showListItemActions,g=e["data-testid"],v=(0,s.$G)().t,h=H((0,c.useState)(!1),2),y=h[0],E=h[1],b=H((0,c.useState)(void 0),2),S=b[0],A=b[1],C=function(e){p.m8.push(p.$x.getPaths().get("EMAIL_TEMPLATES").replace(":templateTypeId",e))},I=function(){return m?c.createElement(i.EmptyPlaceholder,{action:c.createElement(i.LinkButton,{onClick:u},v("console:manage.placeholders.emptySearchResult.action")),image:(0,p.jF)().emptySearch,imageSize:"tiny",title:v("console:manage.placeholders.emptySearchResult.title"),subtitle:[v("console:manage.placeholders.emptySearchResult.subtitles.0",{query:m}),v("console:manage.placeholders.emptySearchResult.subtitles.1")],"data-testid":"".concat(g,"-empty-search-placeholder")}):0===(null===r||void 0===r?void 0:r.length)?c.createElement(i.EmptyPlaceholder,{action:c.createElement(i.PrimaryButton,{onClick:l},c.createElement(P.Z,{name:"add"}),v("console:manage.features.emailTemplateTypes.placeholders.emptyList.action")),title:v("console:manage.features.emailTemplateTypes.placeholders.emptyList.title"),subtitle:[v("console:manage.features.emailTemplateTypes.placeholders.emptyList.subtitles.0"),v("console:manage.features.emailTemplateTypes.placeholders.emptyList.subtitles.1"),v("console:manage.features.emailTemplateTypes.placeholders.emptyList.subtitles.2")],image:(0,p.jF)().newList,imageSize:"tiny","data-testid":"".concat(g,"-empty-placeholder")}):null};return c.createElement(c.Fragment,null,c.createElement(i.DataTable,{className:"email-template-types-table",externalSearch:t,isLoading:a,loadingStateOptions:{count:null!==n&&void 0!==n?n:p.ru.DEFAULT_RESOURCE_LIST_ITEM_LIMIT,imageType:"square"},actions:f?[{"data-testid":"".concat(g,"-item-edit-button"),icon:function(){return"pencil alternate"},onClick:function(e,t){return C(t.id)},popupText:function(){return v("console:manage.features.emailTemplateTypes.buttons.editTemplate")},renderer:"semantic-icon"},{"data-testid":"".concat(g,"-item-delete-button"),icon:function(){return"trash alternate"},onClick:function(e,t){A(t),E(!0)},popupText:function(){return v("console:manage.features.emailTemplateTypes.buttons.deleteTemplate")},renderer:"semantic-icon"}]:[],columns:[{allowToggleVisibility:!1,dataIndex:"name",id:"name",key:"name",render:function(e){return c.createElement(z.Z,{image:!0,as:"h6",className:"header-with-icon","data-testid":"".concat(g,"-item-heading")},c.createElement(i.AppAvatar,{name:e.displayName,image:c.createElement(i.AnimatedAvatar,{name:e.displayName,size:"mini","data-testid":"".concat(g,"-item-image")}),size:"mini",spaced:"right","data-testid":"".concat(g,"-item-image")}),c.createElement(z.Z.Content,{"data-testid":"".concat(g,"-item-heading")},e.displayName))},title:v("console:manage.features.emailTemplateTypes.list.name")},{allowToggleVisibility:!1,dataIndex:"action",id:"actions",key:"actions",textAlign:"right",title:v("console:manage.features.emailTemplateTypes.list.actions")}],data:r,onRowClick:function(e,t){C(null===t||void 0===t?void 0:t.id)},placeholders:I(),selectable:d,showHeader:!1,transparent:!a&&null!==I(),"data-testid":g}),y&&c.createElement(i.ConfirmationModal,{onClose:function(){return E(!1)},type:"negative",open:y,assertion:S.displayName,assertionHint:c.createElement("p",null,c.createElement(s.cC,{i18nKey:"console:manage.features.emailTemplateTypes.confirmations.deleteTemplateType.assertionHint",tOptions:{id:S.displayName}},"Please type ",c.createElement("strong",null,S.displayName)," to confirm.")),assertionType:"input",primaryAction:v("common:confirm"),secondaryAction:v("common:cancel"),onSecondaryActionClick:function(){return E(!1)},onPrimaryActionClick:function(){o(S.id),E(!1)},"data-testid":"".concat(g,"-delete-confirmation-modal"),closeOnDimmerClick:!1},c.createElement(i.ConfirmationModal.Header,{"data-testid":"".concat(g,"-delete-confirmation-modal-header")},v("console:manage.features.emailTemplateTypes.confirmations.deleteTemplateType.header")),c.createElement(i.ConfirmationModal.Message,{attached:!0,negative:!0,"data-testid":"".concat(g,"-delete-confirmation-modal-message")},v("console:manage.features.emailTemplateTypes.confirmations.deleteTemplateType.message")),c.createElement(i.ConfirmationModal.Content,{"data-testid":"".concat(g,"-delete-confirmation-modal-content")},v("console:manage.features.emailTemplateTypes.confirmations.deleteTemplateType.content"))))};B.defaultProps={"data-testid":"email-template-types-list",selection:!0,showListItemActions:!0}},63209:function(e,t,n){"use strict";n.d(t,{UY:function(){return o},Lg:function(){return a},sr:function(){return i}});var a=function(e){return{emailTemplateType:"".concat(e,"/api/server/v1/email/template-types")}},r=n(64408),o=function(){return{general:r.r}},i=function(){return{general:r.r}}},89642:function(e,t,n){"use strict";function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function r(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}n.d(t,{a:function(){return c}});var o,i,l,c=r((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}));l="<!DOCTYPE html>\n        <html>\n            <head>\n                <title>HTML Email Template</title>\n            </head>\n            <body>\n                <p>Hello {{user.claim.givenname}}!</p>\n            </body>\n        </html>",(i="EMAIL_STARTER_TEMPLATE")in(o=c)?Object.defineProperty(o,i,{value:l,enumerable:!0,configurable:!0,writable:!0}):o[i]=l},3604:function(e,t,n){"use strict";var a;n.d(t,{a:function(){return a}}),function(e){e.ADD="ADD",e.EDIT="EDIT"}(a||(a={}))},85215:function(e,t,n){"use strict";n.r(t);var a=n(88742),r=n(26278),o=n(96462),i=n(81179),l=n(68905),c=n(64805),s=n(83913),u=n(12847),d=n(82092),m=n(61025),f=n(3604);function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(o.push(a.value),!t||o.length!==t);i=!0);}catch(e){l=!0,r=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var v=function(e){var t,n,g=e.match,v=e["data-testid"],h=null===g||void 0===g||null===(t=g.params)||void 0===t?void 0:t.templateTypeId,y=null===g||void 0===g||null===(n=g.params)||void 0===n?void 0:n.templateId,E=(0,s.I0)(),b=(0,c.$G)().t,S=p((0,l.useState)(""),2),A=(S[0],S[1]),C=p((0,l.useState)(f.a.ADD),2),I=C[0],w=C[1],T=p((0,l.useState)(void 0),2),P=T[0],R=T[1],O=p((0,l.useState)(""),2),L=O[0],U=O[1];(0,l.useEffect)((function(){if(h&&y)if(!h||y&&y!==u.$x.EMAIL_TEMPLATE_ADD_URL_PARAM){w(f.a.EDIT);var e="",t="";-1!==y.indexOf("_")&&(e=y.split("_")[1],t=y.split("_")[0]);var n=i.getLanguage(t).name,o=i.getCountry(e).name;A(o?n+" ("+o+")":n),(0,d.RR)(h).then((function(e){if(200===e.status)return R(e.data),void U(e.data.displayName);E((0,r.addAlert)({description:b("console:manage.features.emailTemplates.notifications.getTemplateDetails.genericError.description"),level:a.AlertLevels.SUCCESS,message:b("console:manage.features.emailTemplates.notifications.getTemplateDetails.genericError.message")}))})).catch((function(e){e.response&&e.response.data&&e.response.data.description?E((0,r.addAlert)({description:e.response.data.description,level:a.AlertLevels.ERROR,message:b("console:manage.features.emailTemplates.notifications.getTemplateDetails.error.message")})):E((0,r.addAlert)({description:b("console:manage.features.emailTemplates.notifications.getTemplateDetails.genericError.description"),level:a.AlertLevels.SUCCESS,message:b("console:manage.features.emailTemplates.notifications.getTemplateDetails.genericError.message")}))}))}else w(f.a.ADD)}),[h,y]);return l.createElement(o.PageLayout,{title:I===f.a.EDIT?b("console:manage.pages.editTemplate.title",{template:null===P||void 0===P?void 0:P.displayName}):b("console:manage.pages.addEmailTemplate.title"),pageTitle:I===f.a.EDIT?b("console:manage.pages.editTemplate.title",{template:null===P||void 0===P?void 0:P.displayName}):b("console:manage.pages.addEmailTemplate.title"),backButton:{onClick:function(){u.m8.push(u.$x.getPaths().get("EMAIL_TEMPLATES").replace(":templateTypeId",h))},text:I===f.a.EDIT?b("console:manage.pages.editTemplate.backButton",{name:L}):b("console:manage.pages.addEmailTemplate.backButton",{name:L})},titleTextAlign:"left",bottomMargin:!1,"data-testid":I===f.a.EDIT?"".concat(v,"-edit-page-layout"):"".concat(v,"-add-page-layout")},l.createElement(m.xQ,{mode:I,templateId:y,templateTypeId:h,"data-testid":"".concat(v,"-form")}))};v.defaultProps={"data-testid":"email-template"},t.default=v},20731:function(e,t,n){"use strict";n.r(t);var a=n(88742),r=n(26278),o=n(26776),i=n(96462),l=n(68905),c=n(64805),s=n(83913),u=n(70515),d=n(12847),m=n(82092),f=n(61025);function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(o.push(a.value),!t||o.length!==t);i=!0);}catch(e){l=!0,r=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var v=function(e){var t=e["data-testid"],n=(0,s.I0)(),g=(0,c.$G)().t,v=[{key:0,text:g("common:name"),value:"displayName"}],h=p((0,l.useState)(d.ru.DEFAULT_RESOURCE_LIST_ITEM_LIMIT),2),y=h[0],E=h[1],b=p((0,l.useState)(0),2),S=b[0],A=b[1],C=p((0,l.useState)(!1),2),I=C[0],w=C[1],T=p((0,l.useState)([]),2),P=T[0],R=T[1],O=p((0,l.useState)(!1),2),L=O[0],U=O[1],D=p((0,l.useState)(""),2),_=D[0],x=D[1],N=p((0,l.useState)(!1),2),Z=N[0],M=N[1],k=p((0,l.useState)([]),2),j=k[0],z=k[1],H=p((0,l.useState)(v[0]),2),G=H[0],B=H[1],F=p((0,l.useState)(!0),2),V=F[0],$=F[1],q=p((0,o.useTrigger)(),2),W=q[0],Q=q[1];(0,l.useEffect)((function(){J()}),[]),(0,l.useEffect)((function(){z((0,d.fS)(j,G.value,V))}),[G,V]);var Y,X,K,J=function(){U(!0),(0,m.OV)().then((function(e){if(200===e.status)return R(e.data),void z(e.data);n((0,r.addAlert)({description:g("console:manage.features.emailTemplateTypes.notifications.getTemplateTypes.genericError.description"),level:a.AlertLevels.SUCCESS,message:g("console:manage.features.emailTemplateTypes.notifications.getTemplateTypes.genericError.message")}))})).catch((function(e){e.response&&e.response.data&&e.response.data.description?n((0,r.addAlert)({description:e.response.data.description,level:a.AlertLevels.ERROR,message:g("console:manage.features.emailTemplateTypes.notifications.getTemplateTypes.error.message")})):n((0,r.addAlert)({description:g("console:manage.features.emailTemplateTypes.notifications.getTemplateTypes.genericError.description"),level:a.AlertLevels.SUCCESS,message:g("console:manage.features.emailTemplateTypes.notifications.getTemplateTypes.genericError.message")}))})).finally((function(){U(!1)}))},ee=function(){M(!Z),x(""),z(P)};return l.createElement(i.PageLayout,{action:(L||(null===P||void 0===P?void 0:P.length)>0)&&l.createElement(i.PrimaryButton,{onClick:function(){return w(!0)},"data-testid":"".concat(t,"-list-layout-add-button")},l.createElement(u.Z,{name:"add"}),g("console:manage.features.emailTemplateTypes.buttons.newType")),isLoading:L,title:g("console:manage.pages.emailTemplateTypes.title"),pageTitle:g("console:manage.pages.emailTemplateTypes.title"),description:g("console:manage.pages.emailTemplateTypes.subTitle"),"data-testid":"".concat(t,"-page-layout")},l.createElement(i.ListLayout,{advancedSearch:l.createElement(d.nC,{onFilter:function(e){z((0,d.gQ)(P,e,"displayName",!0)),x(e),A(0),Q()},filterAttributeOptions:[{key:0,text:g("common:name"),value:"displayName"}],filterAttributePlaceholder:g("console:manage.features.emailTemplateTypes.advancedSearch.form.inputs.filterAttribute.placeholder"),filterConditionsPlaceholder:g("console:manage.features.emailTemplateTypes.advancedSearch.form.inputs.filterCondition.placeholder"),filterValuePlaceholder:g("console:manage.features.emailTemplateTypes.advancedSearch.form.inputs.filterValue.placeholder"),placeholder:g("console:manage.features.emailTemplateTypes.advancedSearch.placeholder"),defaultSearchAttribute:"displayName",defaultSearchOperator:"co",triggerClearQuery:Z,"data-testid":"".concat(t,"-advanced-search")}),currentListSize:y,listItemLimit:y,onItemsPerPageDropdownChange:function(e,t){E(t.value)},onPageChange:function(e,t){var n=(t.activePage-1)*y;A(n)},showPagination:!0,resetPagination:W,totalPages:Math.ceil((null===j||void 0===j?void 0:j.length)/y),totalListSize:null===j||void 0===j?void 0:j.length,showTopActionPanel:L||!(!_&&(null===j||void 0===j?void 0:j.length)<=0),"data-testid":"".concat(t,"-list-layout"),onSearchQueryClear:ee,onSortStrategyChange:function(e,t){B(v.filter((function(e){return e.value===t.value}))[0])},onSortOrderChange:function(e){$(e)},sortOptions:v,sortStrategy:G},l.createElement(f.nb,{isLoading:L,onDelete:function(e){(0,m.T9)(e).then((function(e){if(204===e.status)return n((0,r.addAlert)({description:g("console:manage.features.emailTemplateTypes.notifications.deleteTemplateType.success.description"),level:a.AlertLevels.SUCCESS,message:g("console:manage.features.emailTemplateTypes.notifications.deleteTemplateType.success.message")})),void J();n((0,r.addAlert)({description:g("console:manage.features.emailTemplateTypes.notifications.deleteTemplateType.genericError.description"),level:a.AlertLevels.ERROR,message:g("console:manage.features.emailTemplateTypes.notifications.deleteTemplateType.genericError.message")}))})).catch((function(e){e.response&&e.response.data&&e.response.data.description?n((0,r.addAlert)({description:e.response.data.description,level:a.AlertLevels.ERROR,message:g("console:manage.features.emailTemplateTypes.notifications.deleteTemplateType.error.message")})):n((0,r.addAlert)({description:g("console:manage.features.emailTemplateTypes.notifications.deleteTemplateType.genericError.description"),level:a.AlertLevels.ERROR,message:g("console:manage.features.emailTemplateTypes.notifications.deleteTemplateType.genericError.message")}))}))},onEmptyListPlaceholderActionClick:function(){return w(!0)},templateTypeList:(Y=j,X=S,K=y,Y.slice(X,K+X)),"data-testid":"".concat(t,"-list"),searchQuery:_,onSearchQueryClear:ee}),I&&l.createElement(f._3,{onCloseHandler:function(){J(),w(!1)},"data-testid":"".concat(t,"-add-wizard")})))};v.defaultProps={"data-testid":"email-template-types"},t.default=v},73119:function(e,t,n){"use strict";n.r(t);var a=n(88742),r=n(26278),o=n(96462),i=n(68905),l=n(64805),c=n(83913),s=n(70515),u=n(12847),d=n(82092),m=n(61025);function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(o.push(a.value),!t||o.length!==t);i=!0);}catch(e){l=!0,r=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var g=function(e){var t,n=e.match,p=e["data-testid"],g=null===n||void 0===n||null===(t=n.params)||void 0===t?void 0:t.templateTypeId,v=(0,c.I0)(),h=(0,l.$G)().t,y=f((0,i.useState)(u.ru.DEFAULT_RESOURCE_LIST_ITEM_LIMIT),2),E=y[0],b=y[1],S=f((0,i.useState)(0),2),A=S[0],C=S[1],I=f((0,i.useState)(void 0),2),w=I[0],T=I[1],P=f((0,i.useState)([]),2),R=P[0],O=P[1],L=f((0,i.useState)([]),2),U=L[0],D=L[1],_=f((0,i.useState)(!1),2),x=_[0],N=_[1];(0,i.useEffect)((function(){g&&Z(g,E,A)}),[A,E,g]);var Z=function(e,t,n){N(!0),(0,d.RR)(e).then((function(e){if(200===e.status)return T(e.data),void(e.data.templates instanceof Array&&0!==e.data.templates.length&&(O(e.data.templates),M(e.data.templates,n,t)));v((0,r.addAlert)({description:h("console:manage.features.emailTemplates.notifications.getTemplates.genericError.description"),level:a.AlertLevels.ERROR,message:h("console:manage.features.emailTemplates.notifications.getTemplates.genericError.message")}))})).catch((function(e){e.response&&e.response.data&&e.response.data.description?v((0,r.addAlert)({description:e.response.data.description,level:a.AlertLevels.ERROR,message:h("console:manage.features.emailTemplates.notifications.getTemplates.error.message")})):v((0,r.addAlert)({description:h("console:manage.features.emailTemplates.notifications.getTemplates.genericError.description"),level:a.AlertLevels.ERROR,message:h("console:manage.features.emailTemplates.notifications.getTemplates.genericError.message")}))})).finally((function(){N(!1)}))},M=function(e,t,n){D(e.slice(t,n+t))},k=function(){u.m8.push(u.$x.getPaths().get("EMAIL_TEMPLATE_ADD").replace(":templateTypeId",g))};return i.createElement(o.PageLayout,{action:(x||(null===R||void 0===R?void 0:R.length)>0)&&i.createElement(o.PrimaryButton,{onClick:k,"data-testid":"".concat(p,"-list-layout-add-button")},i.createElement(s.Z,{name:"add"}),h("console:manage.features.emailTemplates.buttons.newTemplate")),isLoading:x,title:w&&w.displayName?h("console:manage.pages.emailTemplatesWithDisplayName.title",{displayName:w.displayName}):h("console:manage.pages.emailTemplates.title"),pageTitle:w&&w.displayName?h("console:manage.pages.emailTemplatesWithDisplayName.title",{displayName:w.displayName}):h("console:manage.pages.emailTemplates.title"),backButton:{onClick:function(){u.m8.push(u.$x.getPaths().get("EMAIL_TEMPLATE_TYPES"))},text:h("console:manage.pages.emailTemplates.backButton")},titleTextAlign:"left",bottomMargin:!1,"data-testid":"".concat(p,"-page-layout")},i.createElement(o.ListLayout,{currentListSize:E,listItemLimit:E,onItemsPerPageDropdownChange:function(e,t){b(t.value),M(R,A,t.value)},onPageChange:function(e,t){var n=(t.activePage-1)*E;C(n),M(R,n,E)},showPagination:!0,totalPages:Math.ceil((null===R||void 0===R?void 0:R.length)/E),totalListSize:null===R||void 0===R?void 0:R.length,"data-testid":"".concat(p,"-list-layout"),showTopActionPanel:!1},i.createElement(m.CE,{isLoading:x,onEmptyListPlaceholderActionClick:function(){return k()},onDelete:function(e,t){(0,d.ps)(e,t).then((function(t){if(204===t.status)return v((0,r.addAlert)({description:h("console:manage.features.emailTemplates.notifications.deleteTemplate.success.description"),level:a.AlertLevels.SUCCESS,message:h("console:manage.features.emailTemplates.notifications.deleteTemplate.success.message")})),void Z(e,E,A);v((0,r.addAlert)({description:h("console:manage.features.emailTemplates.notifications.deleteTemplate.genericError.description"),level:a.AlertLevels.ERROR,message:h("console:manage.features.emailTemplates.notifications.deleteTemplate.genericError.message")}))})).catch((function(e){e.response&&e.response.data&&e.response.data.description?v((0,r.addAlert)({description:e.response.data.description,level:a.AlertLevels.ERROR,message:h("console:manage.features.emailTemplates.notifications.deleteTemplate.error.message")})):v((0,r.addAlert)({description:h("console:manage.features.emailTemplates.notifications.deleteTemplate.genericError.description"),level:a.AlertLevels.ERROR,message:h("console:manage.features.emailTemplates.notifications.deleteTemplate.genericError.message")}))}))},templateTypeId:g,templateList:U,"data-testid":"".concat(p,"-list")})))};g.defaultProps={"data-testid":"email-templates"},t.default=g},42463:function(e,t,n){"use strict";n.d(t,{sS:function(){return m},yq:function(){return d},VL:function(){return c},hI:function(){return l},tN:function(){return u},fF:function(){return s}});var a=n(19486),r=n(88742),o=n(12847),i=(n(79949),a.AsgardeoSPAClient.getInstance().httpRequest.bind(a.AsgardeoSPAClient.getInstance()).bind(a.AsgardeoSPAClient.getInstance())),l=function(e,t){var n={headers:{"Access-Control-Allow-Origin":o.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:r.HttpMethods.GET,params:{domain:e,excludedAttributes:t},url:o.h.getState().config.endpoints.groups};return i(n).then((function(e){if(200==e.status)return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},c=function(e,t){var n={headers:{"Access-Control-Allow-Origin":o.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:r.HttpMethods.GET,params:{excludedAttributes:t},url:o.h.getState().config.endpoints.groups+"/"+e};return i(n).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},s=function(e,t){var n={data:t,headers:{"Access-Control-Allow-Origin":o.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:r.HttpMethods.PATCH,url:o.h.getState().config.endpoints.groups+"/"+e};return i(n).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},u=function(e){var t={data:e,headers:{"Access-Control-Allow-Origin":o.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:r.HttpMethods.POST,url:o.h.getState().config.endpoints.groups+"/.search"};return i(t).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},d=function(e){var t={headers:{"Access-Control-Allow-Origin":o.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:r.HttpMethods.DELETE,url:o.h.getState().config.endpoints.groups+"/"+e};return i(t).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},m=function(e){var t={data:e,headers:{"Access-Control-Allow-Origin":o.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:r.HttpMethods.POST,url:o.h.getState().config.endpoints.groups};return i(t).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))}},76466:function(e,t,n){"use strict";n.d(t,{Qn:function(){return de},cv:function(){return b}});var a=n(69883),r=n(8890),o=n(95823),i=n(96462),l=n(68905),c=n(64805),s=n(83913),u=n(99104),d=n(70515),m=n(82791),f=n(12847);function p(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function g(e,t,n){return t&&p(e.prototype,t),n&&p(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=g((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}));function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(o.push(a.value),!t||o.length!==t);i=!0);}catch(e){l=!0,r=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}v(h,"GROUP_VIEW_PATH","/groups/"),v(h,"FEATURE_DICTIONARY",(new Map).set("GROUP_CREATE","groups.create").set("GROUP_UPDATE","groups.update").set("GROUP_DELETE","groups.delete").set("GROUP_READ","groups.read")),v(h,"ALL_GROUPS","All user stores");var b=function(e){var t=e.advancedSearch,n=e.defaultListItemLimit,p=e.handleGroupDelete,g=e.isLoading,v=e.readOnlyUserStores,E=e.featureConfig,b=e.onEmptyListPlaceholderActionClick,S=e.onListItemClick,A=e.onSearchQueryClear,C=e.groupList,I=e.selection,w=e.searchQuery,T=e.showListItemActions,P=e.showMetaContent,R=e["data-testid"],O=(0,c.$G)().t,L=(0,s.v9)((function(e){var t;return null===e||void 0===e||null===(t=e.auth)||void 0===t?void 0:t.allowedScopes})),U=y((0,l.useState)(!1),2),D=U[0],_=U[1],x=y((0,l.useState)(),2),N=x[0],Z=x[1],M=function(e){f.m8.push(f.$x.getPaths().get("GROUP_EDIT").replace(":id",e))},k=function(){return w?l.createElement(i.EmptyPlaceholder,{"data-testid":"".concat(R,"-search-empty-placeholder"),action:l.createElement(i.LinkButton,{"data-testid":"".concat(R,"-search-empty-placeholder-clear-button"),onClick:A},O("console:manage.features.roles.list.emptyPlaceholders.search.action")),image:(0,f.jF)().emptySearch,imageSize:"tiny",title:O("console:manage.features.roles.list.emptyPlaceholders.search.title"),subtitle:[O("console:manage.features.roles.list.emptyPlaceholders.search.subtitles.0",{searchQuery:w}),O("console:manage.features.roles.list.emptyPlaceholders.search.subtitles.1")]}):0===(null===C||void 0===C?void 0:C.length)?l.createElement(i.EmptyPlaceholder,{"data-testid":"".concat(R,"-empty-list-empty-placeholder"),action:l.createElement(a.di,{when:a.TA.GROUP_WRITE},l.createElement(i.PrimaryButton,{"data-testid":"".concat(R,"-empty-list-empty-placeholder-add-button"),onClick:b},l.createElement(d.Z,{name:"add"}),O("console:manage.features.roles.list.emptyPlaceholders.emptyRoleList.action",{type:"Group"}))),image:(0,f.jF)().newList,imageSize:"tiny",title:O("console:manage.features.roles.list.emptyPlaceholders.emptyRoleList.title",{type:"group"}),subtitle:[O("console:manage.features.roles.list.emptyPlaceholders.emptyRoleList.subtitles.0",{type:"groups"}),O("console:manage.features.roles.list.emptyPlaceholders.emptyRoleList.subtitles.1",{type:"group"}),O("console:manage.features.roles.list.emptyPlaceholders.emptyRoleList.subtitles.2",{type:"group"})]}):null};return l.createElement(l.Fragment,null,l.createElement(i.DataTable,{className:"groups-list",externalSearch:t,isLoading:g,loadingStateOptions:{count:null!==n&&void 0!==n?n:f.ru.DEFAULT_RESOURCE_LIST_ITEM_LIMIT,imageType:"square"},actions:function(){if(T){var e=[{hidden:function(){return!(0,r.isFeatureEnabled)(null===E||void 0===E?void 0:E.groups,h.FEATURE_DICTIONARY.get("GROUP_READ"))},icon:function(e){var t,n,a,o,i=(null===e||void 0===e||null===(t=e.displayName)||void 0===t?void 0:t.split("/").length)>1?null===e||void 0===e||null===(n=e.displayName)||void 0===n?void 0:n.split("/")[0]:"PRIMARY";return!(0,r.isFeatureEnabled)(null===E||void 0===E?void 0:E.groups,h.FEATURE_DICTIONARY.get("GROUP_UPDATE"))||!(0,r.hasRequiredScopes)(null===E||void 0===E?void 0:E.groups,null===E||void 0===E||null===(a=E.groups)||void 0===a||null===(o=a.scopes)||void 0===o?void 0:o.update,L)||null!==v&&void 0!==v&&v.includes(i.toString())?"eye":"pencil alternate"},onClick:function(e,t){return M(t.id)},popupText:function(e){var t,n,a,o,i=(null===e||void 0===e||null===(t=e.displayName)||void 0===t?void 0:t.split("/").length)>1?null===e||void 0===e||null===(n=e.displayName)||void 0===n?void 0:n.split("/")[0]:"PRIMARY";return!(0,r.isFeatureEnabled)(null===E||void 0===E?void 0:E.groups,h.FEATURE_DICTIONARY.get("GROUP_UPDATE"))||!(0,r.hasRequiredScopes)(null===E||void 0===E?void 0:E.groups,null===E||void 0===E||null===(a=E.groups)||void 0===a||null===(o=a.scopes)||void 0===o?void 0:o.update,L)||null!==v&&void 0!==v&&v.includes(i.toString())?O("common:view"):O("common:edit")},renderer:"semantic-icon"}];return e.push({hidden:function(e){var t,n,a,o,i=(null===e||void 0===e||null===(t=e.displayName)||void 0===t?void 0:t.split("/").length)>1?null===e||void 0===e||null===(n=e.displayName)||void 0===n?void 0:n.split("/")[0]:"PRIMARY";return!(0,r.hasRequiredScopes)(null===E||void 0===E?void 0:E.groups,null===E||void 0===E||null===(a=E.groups)||void 0===a||null===(o=a.scopes)||void 0===o?void 0:o.delete,L)||(null===v||void 0===v?void 0:v.includes(i.toString()))},icon:function(){return"trash alternate"},onClick:function(e,t){Z(t),_(!D)},popupText:function(){return O("console:manage.features.roles.list.popups.delete",{type:"Group"})},renderer:"semantic-icon"}),e}}(),columns:[{allowToggleVisibility:!1,dataIndex:"name",id:"name",key:"name",render:function(e){return l.createElement(m.Z,{image:!0,as:"h6",className:"header-with-icon","data-testid":"".concat(R,"-item-heading")},l.createElement(i.AppAvatar,{image:l.createElement(i.AnimatedAvatar,{name:e.displayName,size:"mini","data-testid":"".concat(R,"-item-image-inner")}),size:"mini",spaced:"right","data-testid":"".concat(R,"-item-image")}),l.createElement(m.Z.Content,null,-1!==(t=e.displayName).indexOf("/")?l.createElement(l.Fragment,null,l.createElement(u.Z,{"data-testid":"".concat(R,"-group-").concat(t.split("/")[0],"-label"),content:t.split("/")[0],size:"mini",color:"olive",className:"group-label"})," / "+t.split("/")[1]):l.createElement(l.Fragment,null,l.createElement(u.Z,{"data-testid":"".concat(R,"-group-").concat(t,"-label"),content:"Primary",size:"mini",color:"teal",className:"primary-label"})," / "+t)));var t},title:O("console:manage.features.groups.list.columns.name")},{allowToggleVisibility:!1,dataIndex:"lastModified",hidden:!P,id:"lastModified",key:"lastModified",render:function(e){return o.CommonUtils.humanizeDateDifference(e.meta.created)},title:O("console:manage.features.groups.list.columns.lastModified")},{allowToggleVisibility:!1,dataIndex:"action",id:"actions",key:"actions",textAlign:"right",title:O("console:manage.features.groups.list.columns.actions")}],data:C,onRowClick:function(e,t){M(null===t||void 0===t?void 0:t.id),S&&S(e,t)},placeholders:k(),selectable:I,showHeader:!1,transparent:!g&&null!==k(),"data-testid":R}),D&&l.createElement(i.ConfirmationModal,{"data-testid":"".concat(R,"-delete-item-confirmation-modal"),onClose:function(){return _(!1)},type:"negative",open:D,assertionHint:O("console:manage.features.roles.list.confirmations.deleteItem.assertionHint"),assertionType:"checkbox",primaryAction:"Confirm",secondaryAction:"Cancel",onSecondaryActionClick:function(){return _(!1)},onPrimaryActionClick:function(){p(N),_(!1)},closeOnDimmerClick:!1},l.createElement(i.ConfirmationModal.Header,null,O("console:manage.features.roles.list.confirmations.deleteItem.header")),l.createElement(i.ConfirmationModal.Message,{attached:!0,negative:!0},O("console:manage.features.roles.list.confirmations.deleteItem.message",{type:"group"})),l.createElement(i.ConfirmationModal.Content,null,O("console:manage.features.roles.list.confirmations.deleteItem.content",{type:"group"}))))};b.defaultProps={selection:!0,showListItemActions:!0,showMetaContent:!0};n(790);var S=n(88742),A=n(26278),C=n(26776),I=n(23177),w=n(44706),T=n(84504),P=n(5554),R=n(42463);function O(e,t,n,a,r,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(a,r)}function L(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function i(e){O(o,a,r,i,l,"next",e)}function l(e){O(o,a,r,i,l,"throw",e)}i(void 0)}))}}function U(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(o.push(a.value),!t||o.length!==t);i=!0);}catch(e){l=!0,r=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var _=function(e){var t,n,a=(0,c.$G)().t,r=(0,s.I0)(),o=e.groupId,u=e.groupObject,d=e.onGroupUpdate,m=e.isGroup,p=e.isReadOnly,g=e["data-testid"],v=U((0,l.useState)(!1),2),h=v[0],y=v[1],E=U((0,l.useState)(""),2),b=E[0],O=E[1],D=U((0,l.useState)(""),2),_=D[0],x=D[1],N=U((0,l.useState)(!1),2),Z=N[0],M=N[1],k=U((0,l.useState)(!1),2),j=k[0],z=k[1],H=(null===u||void 0===u||null===(t=u.displayName)||void 0===t||null===(n=t.split("/"))||void 0===n?void 0:n.length)>1?u.displayName.split("/")[0]:f.fo.PRIMARY_USER_STORE;(0,l.useEffect)((function(){u&&-1!==u.displayName.indexOf("/")?(x(u.displayName.split("/")[1]),O(u.displayName.split("/")[0])):u&&x(u.displayName)}),[u]);var G=function(){var e=L(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t="",H===f.fo.PRIMARY_USER_STORE){e.next=6;break}return e.next=4,f.w3.getUserStoreRegEx(H,f.fo.USERSTORE_REGEX_PROPERTIES.RolenameRegEx).then((function(e){M(!0),t=e}));case 4:e.next=8;break;case 6:return e.next=8,f.w3.getPrimaryUserStore().then((function(e){var n;(M(!0),e&&e.properties)&&(t=null===e||void 0===e||null===(n=e.properties)||void 0===n?void 0:n.filter((function(e){return"RolenameJavaScriptRegEx"===e.name}))[0].value)}));case 8:return M(!1),e.abrupt("return",new Promise((function(e,n){""!==t?e(t):n("")})));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=function(e){r((0,A.addAlert)(e))};return l.createElement(l.Fragment,null,l.createElement(i.EmphasizedSegment,{padded:"very"},l.createElement(C.Forms,{onSubmit:function(e){!function(e){var t,n=null===e||void 0===e||null===(t=e.get("groupName"))||void 0===t?void 0:t.toString(),r={Operations:[{op:"replace",path:"displayName",value:b?b+"/"+n:n}],schemas:["urn:ietf:params:scim:api:messages:2.0:PatchOp"]};z(!0),(0,R.fF)(u.id,r).then((function(){d(),B({description:a("console:manage.features.groups.notifications.updateGroup.success.description"),level:S.AlertLevels.SUCCESS,message:a("console:manage.features.groups.notifications.updateGroup.success.message")})})).catch((function(){B({description:a("console:manage.features.groups.notifications.updateGroup.error.description"),level:S.AlertLevels.ERROR,message:a("console:manage.features.groups.notifications.updateGroup.error.message")})})).finally((function(){z(!1)}))}(e)}},l.createElement(I.Z,{className:"form-container with-max-width"},l.createElement(I.Z.Row,{columns:1},l.createElement(I.Z.Column,{mobile:16,tablet:16,computer:16},l.createElement(w.Z.Field,null,l.createElement("label",{"data-testid":"".concat(g,"-group-name-label")},a(m?"console:manage.features.groups.edit.basics.fields.groupName.name":"console:manage.features.roles.edit.basics.fields.groupName.name")),l.createElement(C.Field,{required:!0,name:"groupName",label:""!==b?b+" /":null,requiredErrorMessage:a(m?"console:manage.features.groups.edit.basics.fields.groupName.required":"console:manage.features.roles.edit.basics.fields.groupName.required"),placeholder:a(m?"console:manage.features.groups.edit.basics.fields.groupName.placeholder":"console:manage.features.roles.edit.basics.fields.groupName.placeholder"),value:_,validation:function(){var e=L(regeneratorRuntime.mark((function e(t,n){var i,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=8;break}return i=!0,e.next=4,G().then((function(e){i=f.w3.validateInputAgainstRegEx(t,e)}));case 4:return i||(n.isValid=!1,n.errorMessages.push(a("console:manage.features.roles.addRoleWizard.forms.roleBasicDetails.roleName.validations.invalid",{type:"group"}))),l={filter:"displayName eq  ".concat(H,"/").concat(t),schemas:["urn:ietf:params:scim:api:messages:2.0:SearchRequest"],startIndex:1},e.next=8,(0,R.tN)(l).then((function(e){var t,r;0!==(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.totalResults)&&((null===(r=e.data.Resources[0])||void 0===r?void 0:r.id)!==o&&(n.isValid=!1,n.errorMessages.push(a("console:manage.features.roles.addRoleWizard.forms.roleBasicDetails.roleName.validations.duplicate",{type:"Group"}))))})).catch((function(){r((0,A.addAlert)({description:a("console:manage.features.groups.notifications.fetchGroups.genericError.description"),level:S.AlertLevels.ERROR,message:a("console:manage.features.groups.notifications.fetchGroups.genericError.message")}))}));case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),type:"text","data-testid":"".concat(g,m?"-group-name-input":"-role-name-input"),loading:Z,readOnly:p})))),l.createElement(I.Z.Row,{columns:1},l.createElement(I.Z.Column,{mobile:16,tablet:16,computer:16},!p&&l.createElement(T.Z,{primary:!0,type:"submit",size:"small",loading:j,className:"form-button","data-testid":"".concat(g,m?"-group-update-button":"-role-update-button"),disabled:Z||j},a("console:manage.features.roles.edit.basics.buttons.update"))))))),l.createElement(P.Z,{hidden:!0}),!p&&l.createElement(i.DangerZoneGroup,{sectionHeader:"Danger Zone"},l.createElement(i.DangerZone,{actionTitle:a("console:manage.features.roles.edit.basics.dangerZone.actionTitle",m?{type:"Group"}:{type:"Role"}),header:a("console:manage.features.roles.edit.basics.dangerZone.header",m?{type:"group"}:{type:"role"}),subheader:a("console:manage.features.roles.edit.basics.dangerZone.subheader",m?{type:"group"}:{type:"role"}),onActionClick:function(){return y(!h)},"data-testid":"".concat(g,m?"-group-danger-zone":"-role-danger-zone")})),h&&l.createElement(i.ConfirmationModal,{onClose:function(){return y(!1)},type:"negative",open:h,assertionHint:a("console:manage.features.roles.edit.basics.confirmation.assertionHint"),assertionType:"checkbox",primaryAction:"Confirm",secondaryAction:"Cancel",onSecondaryActionClick:function(){return y(!1)},onPrimaryActionClick:function(){return e=u.id,void(0,R.yq)(e).then((function(){B({description:a("console:manage.features.groups.notifications.deleteGroup.success.description"),level:S.AlertLevels.SUCCESS,message:a("console:manage.features.groups.notifications.deleteGroup.success.message")}),m?f.m8.push(f.$x.getPaths().get("GROUPS")):f.m8.push(f.$x.getPaths().get("ROLES"))}));var e},"data-testid":"".concat(g,m?"-group-confirmation-modal":"-role-confirmation-modal")},l.createElement(i.ConfirmationModal.Header,null,a("console:manage.features.roles.edit.basics.confirmation.header")),l.createElement(i.ConfirmationModal.Message,{attached:!0,negative:!0},a("console:manage.features.roles.edit.basics.confirmation.message",{type:m?"group.":"role."})),l.createElement(i.ConfirmationModal.Content,null,a("console:manage.features.roles.edit.basics.confirmation.content",{type:m?"group":"role"}))))},x=n(92303),N=n(88650),Z=n(49798),M=n(87289),k=n(85027),j=n(1410),z=n(58704),H=n(7626),G=n(50714),B=n(6997),F=n(26264),V=n(1581),$=n(86791);function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){Q(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Y(e){return function(e){if(Array.isArray(e))return J(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||K(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function X(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(o.push(a.value),!t||o.length!==t);i=!0);}catch(e){l=!0,r=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||K(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(e,t){if(e){if("string"===typeof e)return J(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?J(e,t):void 0}}function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var ee=function(e){var t=e.group,n=e.isReadOnly,a=e.onGroupUpdate,r=(0,c.$G)().t,o=(0,s.I0)(),m=X((0,l.useState)(!1),2),p=m[0],g=m[1],v=X((0,l.useState)([]),2),h=v[0],y=v[1],E=X((0,l.useState)([]),2),b=E[0],C=E[1],w=X((0,l.useState)([]),2),R=w[0],O=w[1],L=X((0,l.useState)([]),2),U=L[0],D=L[1],_=X((0,l.useState)(void 0),2),q=_[0],Q=_[1],K=X((0,l.useState)(!1),2),J=K[0],ee=K[1],te=X((0,l.useState)(void 0),2),ne=te[0],ae=te[1],re=X((0,l.useState)([]),2),oe=re[0],ie=re[1],le=X((0,l.useState)([]),2),ce=le[0],se=le[1],ue=X((0,l.useState)(!1),2),de=ue[0],me=ue[1],fe=X((0,l.useState)(!1),2),pe=fe[0],ge=fe[1],ve=X((0,l.useState)(!1),2),he=ve[0],ye=ve[1],Ee=X((0,l.useState)(""),2),be=Ee[0],Se=Ee[1],Ae=X((0,l.useState)(!1),2),Ce=Ae[0],Ie=Ae[1],we=X((0,l.useState)(!1),2),Te=we[0],Pe=we[1],Re=X((0,l.useState)(),2),Oe=Re[0],Le=Re[1],Ue=X((0,l.useState)(!1),2),De=Ue[0],_e=Ue[1],xe=X((0,l.useState)([]),2),Ne=xe[0],Ze=xe[1],Me=(0,s.v9)((function(e){return e.organization.organization})),ke=(0,l.useMemo)((function(){return B.F.isRootOrganization(Me)}),[Me]),je=X((0,i.useWizardAlert)(),3),ze=je[0],He=je[1],Ge=je[2];(0,l.useEffect)((function(){be&&Ce&&nt()}),[Ce]),(0,l.useEffect)((function(){Oe&&De&&Pe(!0)}),[De]),(0,l.useEffect)((function(){se(pe?b:[])}),[pe]),(0,l.useEffect)((function(){ie(de?h:[])}),[de]),(0,l.useEffect)((function(){t&&(Be(),Ze(t.roles))}),[]),(0,l.useEffect)((function(){t&&(Be(),Ze(t.roles))}),[t]),(0,l.useEffect)((function(){ke?(0,F.Sd)(null).then((function(e){Q(e.data.Resources)})):(0,G.Sr)(Me.id,null,100,null).then((function(e){Q(e.Resources)}))}),[]);var Be=function(){var e=new Map;t.roles&&t.roles instanceof Array?((0,Z.Z)(t.roles,(function(t){t.display.split("/").length>=1&&e.set(t.display,t.value)})),ae(e)):ae(void 0)},Fe=function(e,t){var n=[];t.map((function(e){n.push(e.id)}));var i,l={Operations:[],failOnErrors:1,schemas:["urn:ietf:params:scim:api:messages:2.0:BulkRequest"]},c={data:{Operations:[{op:"add",path:"groups",value:[{value:e.id}]}]},method:"PATCH"},s=[],u=[],d=[],m=[];(ne&&(d=Y(ne.values())),(null===n||void 0===n?void 0:n.length)>0&&n.map((function(e){var t;null!==(t=d)&&void 0!==t&&t.includes(e)?d.splice(d.indexOf(e),1):m.push(e)})),d&&d.length>0)&&(d.map((function(t){var n={data:{Operations:[{op:"remove",path:"groups[value eq ".concat(e.id,"]")}]},method:"PATCH",path:"/Roles/"+t};s.push(n)})),(i=l.Operations).push.apply(i,s));m&&(null===m||void 0===m?void 0:m.length)>0&&(m.map((function(e){c=W(W({},c),{path:"/Roles/"+e}),u.push(c)})),u.map((function(e){l.Operations.push(e)}))),ee(!0),(0,f.fU)(l).then((function(){o((0,A.addAlert)({description:r("console:manage.features.groups.notifications.updateGroup.success.description"),level:S.AlertLevels.SUCCESS,message:r("console:manage.features.groups.notifications.updateGroup.success.message")})),g(!1),a(e.id)})).catch((function(e){var t,n,a,o,i,l;404!==(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)&&(null!==e&&void 0!==e&&e.response&&null!==e&&void 0!==e&&null!==(n=e.response)&&void 0!==n&&n.data&&null!==e&&void 0!==e&&null!==(a=e.response)&&void 0!==a&&null!==(o=a.data)&&void 0!==o&&o.description?He({description:null===(i=e.response)||void 0===i||null===(l=i.data)||void 0===l?void 0:l.description,level:S.AlertLevels.ERROR,message:r("console:manage.features.groups.notifications.updateGroup.error.message")}):He({description:r("console:manage.features.groups.notifications.updateGroup.genericError.description"),level:S.AlertLevels.ERROR,message:r("console:manage.featuresgroups.notifications.updateGroup.genericError.message")}))})).finally((function(){ee(!1)}))},Ve=function(e,t){var n=t.value,a=[];if((0,M.Z)(n))y(R);else{var r=new RegExp((0,x.Z)(n),"i");h&&h.map((function(e){r.test(e.displayName)&&(a.push(e),y(a))}))}},$e=function(e,t){var n=t.value,a=[];if((0,M.Z)(n))C(U);else{var r=new RegExp((0,x.Z)(n),"i");b&&(null===b||void 0===b||b.map((function(e){r.test(e.displayName)&&(a.push(e),C(a))})))}},qe=function(){me(!de)},We=function(){ge(!pe)},Qe=function(){var e=Y(b);(null===oe||void 0===oe?void 0:oe.length)>0&&oe.map((function(t){null!==b&&void 0!==b&&b.includes(t)||e.push(t)})),C(e),D(e),y(h.filter((function(t){return!(null!==e&&void 0!==e&&e.includes(t))}))),O(h.filter((function(t){return!(null!==e&&void 0!==e&&e.includes(t))}))),me(!1)},Ye=function(){var e=Y(h);(null===ce||void 0===ce?void 0:ce.length)>0&&ce.map((function(t){null!==h&&void 0!==h&&h.includes(t)||e.push(t)})),y(e),O(e),C(null===b||void 0===b?void 0:b.filter((function(t){return!(null!==e&&void 0!==e&&e.includes(t))}))),D(null===b||void 0===b?void 0:b.filter((function(t){return!(null!==e&&void 0!==e&&e.includes(t))}))),se(ce.filter((function(t){return!(null!==e&&void 0!==e&&e.includes(t))}))),ie([]),ge(!1)},Xe=function(){!function(){var e=q?Y(q):[],t=[];if(e&&ne){var n=Array.from(null===ne||void 0===ne?void 0:ne.values());(0,N.Z)(e,(function(e){null!==n&&void 0!==n&&n.includes(e.id)&&t.push(e)}))}C(t),D(t),y(e.filter((function(e){return!(null!==t&&void 0!==t&&t.includes(e))}))),O(e.filter((function(e){return!(null!==t&&void 0!==t&&t.includes(e))})))}(),g(!0)},Ke=function(){g(!1)},Je=function(e){var t=e.split("/");if(t.length>0)return"Application"==t[0]?{labelColor:null,labelText:"Application",name:"application-label"}:{labelColor:null,labelText:"Internal",name:"internal-label"}},et=function(){Pe(!Te),_e(!1)},tt=function(){ye(!1),Ie(!1)},nt=function(){ye(!0)};return l.createElement(l.Fragment,null,l.createElement(i.Heading,{as:"h4"},r("console:manage.features.user.updateUser.roles.editRoles.heading")),l.createElement(i.Heading,{subHeading:!0,ellipsis:!0,as:"h6"},r("console:manage.features.groups.edit.roles.subHeading")),l.createElement(P.Z,{hidden:!0}),l.createElement(I.Z,null,l.createElement(I.Z.Row,null,l.createElement(I.Z.Column,{computer:8},(null===ne||void 0===ne?void 0:ne.size)>0?l.createElement(i.EmphasizedSegment,{"data-testid":"group-mgt-roles-list",className:"user-role-edit-header-segment"},l.createElement(I.Z.Row,null,l.createElement(I.Z.Column,null,l.createElement(j.Z,{"data-testid":"group-mgt-roles-list-search-input",icon:l.createElement(d.Z,{name:"search"}),onChange:function(e,n){var a=n.value,r=[];if((0,M.Z)(a))Ze(t.roles);else{var o=new RegExp((0,x.Z)(a),"i");Ne&&(null===Ne||void 0===Ne||Ne.map((function(e){e.display.split("/").length>1&&o.test(e.display)&&(r.push(e),Ze(r))})))}},placeholder:r("console:manage.features.user.updateUser.roles.editRoles.searchPlaceholder"),floated:"left",size:"small"}),!n&&l.createElement(T.Z,{"data-testid":"group-mgt-roles-list-update-button",size:"medium",icon:"pencil",floated:"right",onClick:Xe}))),l.createElement(I.Z.Row,null,l.createElement(z.Z,{singleLine:!0,compact:!0},l.createElement(z.Z.Header,null,l.createElement(z.Z.Row,null,l.createElement(z.Z.HeaderCell,null,l.createElement("strong",null,r("console:manage.features.user.updateUser.roles.editRoles.roleList.headers.0"))),l.createElement(z.Z.HeaderCell,null,l.createElement("strong",null,r("console:manage.features.user.updateUser.roles.editRoles.roleList.headers.1"))),l.createElement(z.Z.HeaderCell,null))),l.createElement(z.Z.Body,null,null===Ne||void 0===Ne?void 0:Ne.map((function(e){var t=e.display.split("/");if(t.length>=1)return l.createElement(z.Z.Row,null,t[0]==F.Fn?l.createElement(z.Z.Cell,null,l.createElement(u.Z,{className:"application-label"},F.Fn)):l.createElement(z.Z.Cell,null,l.createElement(u.Z,{className:"internal-label"},F.eT)),l.createElement(z.Z.Cell,{width:8},1==t.length?t[0]:t[1]),l.createElement(z.Z.Cell,{textAlign:"center"},l.createElement(H.Z,{content:"View permissions",trigger:l.createElement(d.Z,{"data-testid":"group-mgt-roles-list-\n                                                                                        ".concat(t[1],"-\n                                                                                        permissions-button"),color:"grey",name:"key",onClick:function(){return function(e){Se(e),Ie(!0)}(e.value)}})})))})))))):l.createElement(i.EmphasizedSegment,null,l.createElement(i.EmptyPlaceholder,{"data-testid":"group-mgt-group-empty-roles-list",title:r("console:manage.features.user.updateUser.roles.editRoles.roleList.emptyListPlaceholder.title"),subtitle:[r("console:manage.features.user.updateUser.roles.editRoles.roleList.emptyListPlaceholder.subTitle.0"),r("console:manage.features.user.updateUser.roles.editRoles.roleList.emptyListPlaceholder.subTitle.1"),r("console:manage.features.user.updateUser.roles.editRoles.roleList.emptyListPlaceholder.subTitle.2")],action:!n&&l.createElement(i.PrimaryButton,{"data-testid":"group-mgt-group-empty-roles-list-assign-group-button",onClick:Xe},l.createElement(d.Z,{name:"plus"}),"Assign Role"),image:(0,f.jF)().emptyList,imageSize:"tiny"})))),l.createElement($.r,{"data-testid":"group-mgt-roles-list-roles-permission-modal",openRolePermissionModal:he,handleCloseRolePermissionModal:tt,roleId:be}),l.createElement(k.Z,{"data-testid":"group-mgt-update-roles-modal",open:p,size:"small",className:"group-roles"},l.createElement(k.Z.Header,null,r("console:manage.features.groups.edit.roles.addRolesModal.heading"),l.createElement(i.Heading,{subHeading:!0,ellipsis:!0,as:"h6"},r("console:manage.features.groups.edit.roles.addRolesModal.subHeading"))),Te?l.createElement(l.Fragment,null,l.createElement(k.Z.Content,null,ze&&Ge,l.createElement(V.MN,{"data-testid":"user-mgt-update-roles-modal-unselected-role-permissions",handleNavigateBack:et,roleId:Oe})),l.createElement(P.Z,{hidden:!0})):l.createElement(k.Z.Content,{image:!0},ze&&Ge,l.createElement(i.TransferComponent,{searchPlaceholder:r("console:manage.features.transferList.searchPlaceholder",{type:"Roles"}),addItems:Qe,removeItems:Ye,handleUnelectedListSearch:Ve,handleSelectedListSearch:$e,"data-testid":"group-mgt-update-roles-modal"},l.createElement(i.TransferList,{isListEmpty:!(h.length>0),listType:"unselected",listHeaders:[r("console:manage.features.transferList.list.headers.0"),r("console:manage.features.transferList.list.headers.1"),""],handleHeaderCheckboxChange:qe,isHeaderCheckboxChecked:de,emptyPlaceholderContent:r("console:manage.features.transferList.list.emptyPlaceholders.users.roles.unselected",{type:"roles"}),"data-testid":"group-mgt-update-roles-modal-unselected-roles-select-all-checkbox",emptyPlaceholderDefaultContent:r("console:manage.features.transferList.list.emptyPlaceholders.default")},null===h||void 0===h?void 0:h.map((function(e,t){var n,a=null===(n=e.displayName)||void 0===n?void 0:n.split("/");if(a.length>=1)return l.createElement(i.TransferListItem,{handleItemChange:function(){return function(e){var t=Y(oe);null!==t&&void 0!==t&&t.includes(e)?(t.splice(t.indexOf(e),1),ie(t)):(t.push(e),ie(t))}(e)},key:t,listItem:1==a.length?a[0]:a[1],listItemId:e.id,listItemIndex:t,listItemTypeLabel:Je(null===e||void 0===e?void 0:e.displayName),isItemChecked:oe.includes(e),showSecondaryActions:!0,handleOpenPermissionModal:function(){return function(e){Le(e),_e(!0)}(e.id)},"data-testid":"group-mgt-update-roles-modal-unselected-roles"})}))),l.createElement(i.TransferList,{isListEmpty:!(b.length>0),listType:"selected",listHeaders:[r("console:manage.features.transferList.list.headers.0"),r("console:manage.features.transferList.list.headers.1")],handleHeaderCheckboxChange:We,isHeaderCheckboxChecked:pe,emptyPlaceholderContent:r("console:manage.features.transferList.list.emptyPlaceholders.users.roles.selected",{type:"roles"}),"data-testid":"group-mgt-update-roles-modal-selected-roles-select-all-checkbox",emptyPlaceholderDefaultContent:r("console:manage.features.transferList.list.emptyPlaceholders.default")},null===b||void 0===b?void 0:b.map((function(e,t){var n=e.displayName.split("/");if(n.length>=1)return l.createElement(i.TransferListItem,{handleItemChange:function(){return function(e){var t=Y(ce);null!==t&&void 0!==t&&t.includes(e)?(t.splice(t.indexOf(e),1),se(t)):(t.push(e),se(t))}(e)},key:t,listItem:1==n.length?n[0]:n[1],listItemId:e.id,listItemIndex:t,listItemTypeLabel:Je(null===e||void 0===e?void 0:e.displayName),isItemChecked:ce.includes(e),showSecondaryActions:!1,"data-testid":"group-mgt-update-roles-modal-selected-roles"})}))))),l.createElement(k.Z.Actions,null,l.createElement(I.Z,null,l.createElement(I.Z.Row,{column:2},l.createElement(I.Z.Column,{mobile:8,tablet:8,computer:8},l.createElement(i.LinkButton,{"data-testid":"group-mgt-update-roles-modal-cancel-button",floated:"left",onClick:Ke},r("common:cancel"))),l.createElement(I.Z.Column,{mobile:8,tablet:8,computer:8},l.createElement(i.PrimaryButton,{"data-testid":"group-mgt-update-roles-modal-save-button",floated:"right",onClick:function(){return Fe(t,b)},loading:J,disabled:J},r("common:save")))))))))};function te(e){return function(e){if(Array.isArray(e))return re(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ae(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ne(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(o.push(a.value),!t||o.length!==t);i=!0);}catch(e){l=!0,r=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||ae(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ae(e,t){if(e){if("string"===typeof e)return re(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?re(e,t):void 0}}function re(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var oe=function(e){var t=e.isReadOnly,n=e.group,r=e.onGroupUpdate,o=e.users,u=e.isLoading,p=e.selectedUsers,g=e["data-testid"],v=(0,c.$G)().t,h=(0,s.I0)(),y=ne((0,i.useWizardAlert)(),3),E=y[0],b=y[1],C=y[2],w=ne((0,l.useState)(o),2),T=w[0],P=w[1],O=ne((0,l.useState)(p),2),L=O[0],U=O[1],D=ne((0,l.useState)(o),2),_=D[0],N=D[1],Z=ne((0,l.useState)(!1),2),G=Z[0],B=Z[1],F=ne((0,l.useState)([]),2),V=F[0],$=F[1],q=ne((0,l.useState)(!1),2),W=q[0],Q=q[1],Y=ne((0,l.useState)(!1),2),X=Y[0],K=Y[1];(0,l.useEffect)((function(){P(o)}),[o]),(0,l.useEffect)((function(){U(p)}),[p]);var J=function(){$(G?[]:T),B(!G)},ee=function(e,t,n,a){var r=[];if(!(0,M.Z)(t)){var o=new RegExp((0,x.Z)(t),"i");return n&&n.map((function(e){o.test(e.userName)&&r.push(e)})),void a(r)}a(n)},re=function(){N(T),$(p),B((null===p||void 0===p?void 0:p.length)===(null===T||void 0===T?void 0:T.length)),Q(!0)},oe=function(){N(T),$([]),B(!1),Q(!1)},ie=function(e){var t,a=[],o=function(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=ae(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw o}}}}(e);try{for(o.s();!(t=o.n()).done;){var i=t.value;a.push({display:i.userName,value:i.id})}}catch(e){o.e(e)}finally{o.f()}var l={Operations:[{op:"replace",value:{members:a}}],schemas:["urn:ietf:params:scim:api:messages:2.0:PatchOp"]};(0,R.fF)(n.id,l).then((function(){h((0,A.addAlert)({description:v("console:manage.features.groups.notifications.updateGroup.success.description"),level:S.AlertLevels.SUCCESS,message:v("console:manage.features.groups.notifications.updateGroup.success.message")})),r(n.id)})).catch((function(){b({description:v("console:manage.features.groups.notifications.updateGroup.error.description"),level:S.AlertLevels.ERROR,message:v("console:manage.features.groups.notifications.updateGroup.error.message")})})).finally((function(){K(!1)}))},le=function(e){var t,n=e.name&&void 0!==e.name.givenName?e.name.givenName+" "+(e.name.familyName?e.name.familyName:""):void 0,r=(null===(t=e.userName.split("/"))||void 0===t?void 0:t.length)>1?e.userName.split("/")[1]:e.userName.split("/")[0];return l.createElement(z.Z.Row,{key:e.id},l.createElement(z.Z.Cell,null,l.createElement(m.Z,{image:!0,as:"h6",className:"header-with-icon","data-testid":"".concat(g,"-item-heading")},l.createElement(i.UserAvatar,{"data-testid":"".concat(g,"-users-list-").concat(e.userName,"-avatar"),name:r,spaced:"right",size:"mini",floated:"left",image:e.profileUrl}),l.createElement(m.Z.Content,null,null!==n&&void 0!==n?n:r,l.createElement(m.Z.Subheader,{"data-testid":"".concat(g,"-item-sub-heading")},n&&r)))),l.createElement(z.Z.Cell,{textAlign:"right"},l.createElement(a.di,{when:a.TA.GROUP_EDIT},l.createElement(H.Z,{trigger:l.createElement(d.Z,{link:!0,"data-testid":"".concat(g,"-user-delete-button"),className:"list-icon pr-4",size:"large",color:"grey",name:"trash alternate",onClick:function(){!function(e){var t=(0,M.Z)(L)?[]:te(L);t.includes(e)&&(t.splice(t.indexOf(e),1),U(t),ie(t))}(e)}}),position:"top right",content:v("common:remove"),inverted:!0}))))};return l.createElement(I.Z,null,(null===p||void 0===p?void 0:p.length)>0?l.createElement(l.Fragment,null,l.createElement(I.Z.Row,null,l.createElement(I.Z.Column,{mobile:16,tablet:16,computer:12},l.createElement(j.Z,{"data-testid":"".concat(g,"-users-list-search-input"),icon:l.createElement(d.Z,{name:"search"}),onChange:function(e,t){var n=t.value;ee(0,n,p,U)},placeholder:v("console:manage.features.roles.addRoleWizard.users.assignUserModal.list.searchPlaceholder"),floated:"left",size:"small"}),!t&&l.createElement(i.Button,{"data-testid":"".concat(g,"-users-list-edit-button"),size:"medium",icon:"pencil",floated:"right",onClick:re}))),l.createElement(I.Z.Row,null,l.createElement(I.Z.Column,{mobile:16,tablet:16,computer:12},l.createElement(z.Z,{singleLine:!0,compact:!0},l.createElement(z.Z.Body,null,null===L||void 0===L?void 0:L.map((function(e){return le(e)}))))))):u?l.createElement(i.ContentLoader,null):l.createElement(I.Z.Row,null,l.createElement(I.Z.Column,{mobile:16,tablet:16,computer:12},l.createElement(i.EmphasizedSegment,null,l.createElement(i.EmptyPlaceholder,{title:v("console:manage.features.roles.edit.users.list.emptyPlaceholder.title"),subtitle:[v("console:manage.features.roles.edit.users.list.emptyPlaceholder.subtitles",{type:"group"})],action:!t&&l.createElement(i.PrimaryButton,{"data-testid":"".concat(g,"-users-list-empty-assign-users-button"),onClick:re},l.createElement(d.Z,{name:"plus"}),v("console:manage.features.roles.edit.users.list.emptyPlaceholder.action")),image:(0,f.jF)().emptyList,imageSize:"tiny"})))),l.createElement(k.Z,{"data-testid":"".concat(g,"-assign-user-wizard-modal"),dimmer:"blurring",open:W,size:"small",className:"user-roles"},l.createElement(k.Z.Header,null,v("console:manage.features.roles.addRoleWizard.users.assignUserModal.heading",{type:"Group"}),l.createElement(i.Heading,{subHeading:!0,ellipsis:!0,as:"h6"},v("console:manage.features.roles.addRoleWizard.users.assignUserModal.subHeading",{type:"group"}))),l.createElement(k.Z.Content,{image:!0},E&&C,l.createElement(i.TransferComponent,{compact:!0,basic:!0,bordered:!0,className:"one-column-selection",selectionComponent:!0,searchPlaceholder:v("console:manage.features.roles.addRoleWizard.users.assignUserModal.list.searchPlaceholder"),isLoading:u,handleHeaderCheckboxChange:J,isHeaderCheckboxChecked:G,handleUnelectedListSearch:function(e,t){var n=t.value;ee(0,n,T,N)},showSelectAllCheckbox:!u&&(null===o||void 0===o?void 0:o.length)>0,"data-testid":"".concat(g,"-user-list-transfer")},l.createElement(i.TransferList,{selectionComponent:!0,isListEmpty:!((null===o||void 0===o?void 0:o.length)>0),isLoading:u,listType:"unselected",selectAllCheckboxLabel:"Select all users","data-testid":"".concat(g,"-unselected-transfer-list"),emptyPlaceholderContent:v("console:manage.features.transferList.list.emptyPlaceholders.groups.selected",{type:"users"}),emptyPlaceholderDefaultContent:v("console:manage.features.transferList.list.emptyPlaceholders.default")},null===_||void 0===_?void 0:_.map((function(e,t){var n,a=e.name&&void 0!==e.name.givenName?e.name.givenName+" "+(e.name.familyName?e.name.familyName:""):void 0,r=(null===(n=e.userName.split("/"))||void 0===n?void 0:n.length)>1?e.userName.split("/")[1]:e.userName.split("/")[0];return l.createElement(i.TransferListItem,{handleItemChange:function(){return function(e){var t=(0,M.Z)(V)?[]:te(V);t.includes(e)?(t.splice(t.indexOf(e),1),$(t)):(t.push(e),$(t)),B((null===_||void 0===_?void 0:_.length)===(null===t||void 0===t?void 0:t.length))}(e)},key:t,listItem:null!==a&&void 0!==a?a:r,listItemId:e.id,listItemIndex:t,isItemChecked:V&&V.includes(e),showSecondaryActions:!1,showListSubItem:!0,listSubItem:a&&l.createElement(i.Code,{compact:!0,withBackground:!1},r),"data-testid":"".concat(g,"-unselected-transfer-list-item-").concat(t)})}))))),l.createElement(k.Z.Actions,null,l.createElement(I.Z,null,l.createElement(I.Z.Row,{columns:2},l.createElement(I.Z.Column,{mobile:8,tablet:8,computer:8},l.createElement(i.LinkButton,{"data-testid":"".concat(g,"-assign-user-wizard-modal-cancel-button"),onClick:oe,floated:"left"},v("common:cancel"))),l.createElement(I.Z.Column,{mobile:8,tablet:8,computer:8},l.createElement(i.PrimaryButton,{"data-testid":"".concat(g,"-assign-user-wizard-modal-save-button"),onClick:function(){K(!0),ie(V),Q(!1)},floated:"right",loading:X,disabled:X},v("common:save"))))))))},ie=n(53988);function le(e){return function(e){if(Array.isArray(e))return ue(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||se(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ce(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(o.push(a.value),!t||o.length!==t);i=!0);}catch(e){l=!0,r=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||se(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function se(e,t){if(e){if("string"===typeof e)return ue(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ue(e,t):void 0}}function ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var de=function(e){var t=e.groupId,n=e.group,a=e.onGroupUpdate,o=e.featureConfig,u=e.readOnlyUserStores,d=(0,c.$G)().t,m=(0,s.v9)((function(e){var t;return null===e||void 0===e||null===(t=e.auth)||void 0===t?void 0:t.allowedScopes})),f=ce((0,l.useState)(!0),2),p=f[0],g=f[1],v=ce((0,l.useState)([]),2),y=v[0],E=v[1],b=ce((0,l.useState)([]),2),S=b[0],A=b[1],C=ce((0,l.useState)(!1),2),I=C[0],w=C[1],T=(0,s.v9)((function(e){return e.organization.organization})),P=(0,l.useMemo)((function(){return B.F.isRootOrganization(T)}),[T]);(0,l.useEffect)((function(){R()}),[n]),(0,l.useEffect)((function(){var e,t;if(n){var a=null===n||void 0===n?void 0:n.displayName.split("/");(!(0,r.isFeatureEnabled)(null===o||void 0===o?void 0:o.groups,h.FEATURE_DICTIONARY.get("GROUP_UPDATE"))||null!==u&&void 0!==u&&u.includes(null===a||void 0===a?void 0:a.toString())||!(0,r.hasRequiredScopes)(null===o||void 0===o?void 0:o.groups,null===o||void 0===o||null===(e=o.groups)||void 0===e||null===(t=e.scopes)||void 0===t?void 0:t.update,m))&&w(!0)}}),[n,u]);var R=function(){var e,t,a=-1===(null===n||void 0===n||null===(e=n.displayName)||void 0===e?void 0:e.indexOf("/"))?"primary":null===n||void 0===n||null===(t=n.displayName)||void 0===t?void 0:t.split("/")[0];g(!0),(0,ie.Fp)(null,null,null,null,a).then((function(e){E(e.Resources),A(O(le(e.Resources)))})).finally((function(){g(!1)}))},O=function(e){if(null!==n&&void 0!==n&&n.members&&Array.isArray(n.members)&&!(n.members.length<1)){var t=[];return e.slice().reverse().forEach((function(a){n.members.forEach((function(n){a.id===n.value&&(t.push(a),e.splice(e.indexOf(a),1))}))})),t.sort((function(e,t){var n,a,r;return null===(n=e.name)||void 0===n||null===(a=n.givenName)||void 0===a?void 0:a.localeCompare(null===(r=t.name)||void 0===r?void 0:r.givenName)})),t}};return l.createElement(i.ResourceTab,{panes:[{menuItem:d("console:manage.features.roles.edit.menuItems.basic"),render:function(){return l.createElement(i.ResourceTab.Pane,{controlledSegmentation:!0,attached:!1},l.createElement(_,{"data-testid":"group-mgt-edit-group-basic",groupId:t,isGroup:!0,groupObject:n,onGroupUpdate:a,isReadOnly:I}))}},{menuItem:d("console:manage.features.roles.edit.menuItems.users"),render:function(){return l.createElement(i.ResourceTab.Pane,{controlledSegmentation:!0,attached:!1,loading:p},l.createElement(oe,{"data-testid":"group-mgt-edit-group-users",isGroup:!0,group:n,users:y,selectedUsers:S,isLoading:p,onGroupUpdate:a,isReadOnly:I}))}},P?{menuItem:d("console:manage.features.roles.edit.menuItems.roles"),render:function(){return l.createElement(i.ResourceTab.Pane,{controlledSegmentation:!0,attached:!1},l.createElement(ee,{"data-testid":"group-mgt-edit-group-roles",group:n,onGroupUpdate:a,isReadOnly:I}))}}:null]})}},790:function(e,t,n){"use strict";n.d(t,{ew:function(){return J}});var a=n(3844),r=n(88742),o=n(26278),i=n(26776),l=n(96462),c=n(68905),s=n(64805),u=n(83913),d=n(23177),m=n(87780),f=n(86715),p=n(92303),g=n(87289),v=n(85027),h=n(1410),y=n(70515),E=n(58704),b=n(12847);function S(e){return function(e){if(Array.isArray(e))return I(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||C(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(o.push(a.value),!t||o.length!==t);i=!0);}catch(e){l=!0,r=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||C(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){if(e){if("string"===typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?I(e,t):void 0}}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var w=function(e){var t=e.triggerSubmit,n=e.onSubmit,a=e.assignedUsers,r=e.isEdit,o=e.initialValues,u=e.userStore,m=e["data-testid"],f=(0,s.$G)().t,I=A((0,c.useState)([]),2),w=I[0],T=I[1],P=A((0,c.useState)([]),2),R=P[0],O=P[1],L=A((0,c.useState)([]),2),U=L[0],D=L[1],_=A((0,c.useState)([]),2),x=_[0],N=_[1],Z=A((0,c.useState)(0),2),M=Z[0],k=Z[1],j=A((0,c.useState)(void 0),2),z=j[0],H=j[1],G=A((0,c.useState)(!1),2),B=G[0],F=G[1],V=A((0,c.useState)(!1),2),$=V[0],q=V[1],W=A((0,c.useState)([]),2),Q=W[0],Y=W[1],X=A((0,c.useState)([]),2),K=X[0],J=X[1],ee=A((0,c.useState)(!1),2),te=ee[0],ne=ee[1];(0,c.useEffect)((function(){Y(B?R:[])}),[B]),(0,c.useEffect)((function(){J($?w:[])}),[$]);var ae=function(){F(!B)},re=function(){q(!$)};(0,c.useEffect)((function(){k(b.ru.DEFAULT_RESOURCE_LIST_ITEM_LIMIT),H(new Map([["name","name"],["emails","emails"],["name","name"],["userName","userName"],["id",""],["profileUrl","profileUrl"],["meta.lastModified","meta.lastModified"],["meta.created",""]]))}),[]);var oe=function(e){var t,n=[],a=function(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=C(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw o}}}}(e[Symbol.iterator]());try{for(a.s();!(t=a.n()).done;){var r=t.value;""!==r&&n.push(r)}}catch(e){a.e(e)}finally{a.f()}return n.toString()};(0,c.useEffect)((function(){if(z){var e=oe(z.values());!function(e,t,n,r,i){(0,b.Fp)(e,t,n,r,i).then((function(e){var t=e.Resources;if(t.sort((function(e,t){var n,a,r;return null===(n=e.name)||void 0===n||null===(a=n.givenName)||void 0===a?void 0:a.localeCompare(null===(r=t.name)||void 0===r?void 0:r.givenName)})),O(t),D(t),a&&0!==a.length){var n=[];t&&t instanceof Array&&(t.slice().reverse().forEach((function(e){a.forEach((function(a){e.id===a.value&&(n.push(e),t.splice(t.indexOf(e),1))}))})),n.sort((function(e,t){var n,a,r;return null===(n=e.name)||void 0===n||null===(a=n.givenName)||void 0===a?void 0:a.localeCompare(null===(r=t.name)||void 0===r?void 0:r.givenName)})),N(n),T(n))}if(o&&o instanceof Array){var r=[];t&&t instanceof Array&&(t.forEach((function(e){o.forEach((function(t){e.id===t.id&&r.push(e)}))})),r.sort((function(e,t){var n,a,r;return null===(n=e.name)||void 0===n||null===(a=n.givenName)||void 0===a?void 0:a.localeCompare(null===(r=t.name)||void 0===r?void 0:r.givenName)})),O(t.filter((function(e){return-1==r.indexOf(e)}))),N(r),T(r))}}))}(M,0,null,e,u)}}),[M]);var ie=function(e){var t=S(Q);t.includes(e)?(t.splice(t.indexOf(e),1),Y(t)):(t.push(e),Y(t))},le=function(e,t){var n=t.value,a=[];if((0,g.Z)(n))O(U);else{var r=new RegExp((0,p.Z)(n),"i");R&&R.map((function(e){r.test(e.userName)&&(a.push(e),O(a))}))}},ce=function(e){var t=S(K);t.includes(e)?(t.splice(t.indexOf(e),1),J(t)):(t.push(e),J(t))},se=function(){var e=S(w);(null===Q||void 0===Q?void 0:Q.length)>0&&Q.map((function(t){w.includes(t)||e.push(t)})),O(R.filter((function(e){return-1===Q.indexOf(e)}))),T(e),F(!1)},ue=function(){var e=S(w);(null===K||void 0===K?void 0:K.length)>0&&(K.map((function(t){e.splice(e.indexOf(t),1),R.push(t)})),O(R),T(e),J([]))},de=function(){ne(!0)},me=function(){T(x),ne(!1)};return c.createElement(c.Fragment,null,r?c.createElement(d.Z,null,c.createElement(d.Z.Row,null,c.createElement(d.Z.Column,{computer:8},(null===x||void 0===x?void 0:x.length)>0?c.createElement(l.EmphasizedSegment,{className:"user-role-edit-header-segment"},c.createElement(d.Z.Row,null,c.createElement(d.Z.Column,null,c.createElement(h.Z,{"data-testid":"".concat(m,"-users-list-search-input"),icon:c.createElement(y.Z,{name:"search"}),onChange:function(e,t){var n=t.value,a=[];if((0,g.Z)(n))N(U);else{var r=new RegExp((0,p.Z)(n),"i");x&&x.map((function(e){r.test(e.userName)&&(a.push(e),N(a))}))}},placeholder:f("console:manage.features.roles.addRoleWizard.users.assignUserModal.list.searchPlaceholder"),floated:"left",size:"small"}),c.createElement(l.Button,{"data-testid":"".concat(m,"-users-list-edit-button"),size:"medium",icon:"pencil",floated:"right",onClick:de}))),c.createElement(d.Z.Row,null,c.createElement(E.Z,{singleLine:!0,compact:!0},c.createElement(E.Z.Header,null,c.createElement(E.Z.Row,null,c.createElement(E.Z.HeaderCell,null),c.createElement(E.Z.HeaderCell,null,f("console:manage.features.roles.edit.users.list.header")))),c.createElement(E.Z.Body,null,null===x||void 0===x?void 0:x.map((function(e){return c.createElement(E.Z.Row,{key:e.id},c.createElement(E.Z.Cell,{collapsing:!0},c.createElement(l.UserAvatar,{"data-testid":"".concat(m,"-users-list-\n                                                                                        ").concat(e.userName,"-avatar"),name:e.userName,size:"mini",floated:"left",image:e.profileUrl})),c.createElement(E.Z.Cell,null,e.userName))})))))):c.createElement(l.EmphasizedSegment,null,c.createElement(l.EmptyPlaceholder,{title:f("console:manage.features.roles.edit.users.list.emptyPlaceholder.title"),subtitle:[f("console:manage.features.roles.edit.users.list.emptyPlaceholder.subtitles",{type:"group"})],action:c.createElement(l.PrimaryButton,{"data-testid":"".concat(m,"-users-list-empty-assign-users-button"),onClick:de,icon:"plus"},f("console:manage.features.roles.edit.users.list.emptyPlaceholder.action")),image:(0,b.jF)().emptyList,imageSize:"tiny"})))),c.createElement(v.Z,{"data-testid":"".concat(m,"-assign-user-wizard-modal"),dimmer:"blurring",open:te,size:"small",className:"user-roles"},c.createElement(v.Z.Header,null,f("console:manage.features.roles.addRoleWizard.users.assignUserModal.heading",{type:"Group"}),c.createElement(l.Heading,{subHeading:!0,ellipsis:!0,as:"h6"},f("console:manage.features.roles.addRoleWizard.users.assignUserModal.subHeading",{type:"group"}))),c.createElement(v.Z.Content,{image:!0},c.createElement(l.TransferComponent,{"data-testid":"".concat(m,"-user-list-transfer"),searchPlaceholder:f("console:manage.features.roles.addRoleWizard.users.assignUserModal.list.searchPlaceholder"),addItems:se,removeItems:ue,handleUnelectedListSearch:le,handleSelectedListSearch:le},c.createElement(l.TransferList,{isListEmpty:!((null===R||void 0===R?void 0:R.length)>0),listType:"unselected",listHeaders:[f("console:manage.features.roles.addRoleWizard.users.assignUserModal.list.listHeader")],handleHeaderCheckboxChange:ae,isHeaderCheckboxChecked:B,"data-testid":"".concat(m,"-unselected-users-select-all-checkbox"),emptyPlaceholderContent:f("console:manage.features.transferList.list.emptyPlaceholders.groups.unselected",{type:"users"}),emptyPlaceholderDefaultContent:f("console:manage.features.transferList.list.emptyPlaceholders.default")},null===R||void 0===R?void 0:R.map((function(e,t){return c.createElement(l.TransferListItem,{handleItemChange:function(){return ie(e)},key:t,listItem:e.userName,listItemId:e.id,listItemIndex:t,isItemChecked:null===Q||void 0===Q?void 0:Q.includes(e),showSecondaryActions:!1,"data-testid":"".concat(m,"-unselected-users")})}))),c.createElement(l.TransferList,{isListEmpty:!((null===w||void 0===w?void 0:w.length)>0),listType:"selected",listHeaders:[f("console:manage.features.roles.addRoleWizard.users.assignUserModal.list.listHeader")],handleHeaderCheckboxChange:re,isHeaderCheckboxChecked:$,"data-testid":"".concat(m,"-selected-users-select-all-checkbox"),emptyPlaceholderContent:f("console:manage.features.transferList.list.emptyPlaceholders.groups.selected",{type:"users"}),emptyPlaceholderDefaultContent:f("console:manage.features.transferList.list.emptyPlaceholders.default")},null===w||void 0===w?void 0:w.map((function(e,t){return c.createElement(l.TransferListItem,{handleItemChange:function(){return ce(e)},key:t,listItem:e.userName,listItemId:e.id,listItemIndex:t,isItemChecked:null===K||void 0===K?void 0:K.includes(e),showSecondaryActions:!1,"data-testid":"".concat(m,"-selected-users")})}))))),c.createElement(v.Z.Actions,null,c.createElement(l.LinkButton,{"data-testid":"".concat(m,"-assign-user-wizard-modal-cancel-button"),onClick:me},f("common:cancel")),c.createElement(l.PrimaryButton,{"data-testid":"".concat(m,"-assign-user-wizard-modal-save-button"),onClick:function(){n(w),N(w),ne(!1)}},f("common:save"))))):c.createElement(i.Forms,{onSubmit:function(){n(w)},submitState:t},c.createElement(d.Z,null,c.createElement(d.Z.Row,{columns:2},c.createElement(l.TransferComponent,{"data-testid":"".concat(m,"-update-user-list-transfer"),searchPlaceholder:f("console:manage.features.roles.addRoleWizard.users.assignUserModal.list.searchPlaceholder"),addItems:se,removeItems:ue,handleUnelectedListSearch:le,handleSelectedListSearch:le},c.createElement(l.TransferList,{isListEmpty:!((null===R||void 0===R?void 0:R.length)>0),listType:"unselected",listHeaders:[f("console:manage.features.roles.addRoleWizard.users.assignUserModal.list.listHeader")],handleHeaderCheckboxChange:ae,isHeaderCheckboxChecked:B,"data-testid":"".concat(m,"-update-unselected-users-select-all-checkbox"),emptyPlaceholderContent:f("console:manage.features.transferList.list.emptyPlaceholders.groups.unselected",{type:"users"}),emptyPlaceholderDefaultContent:f("console:manage.features.transferList.list.emptyPlaceholders.default")},null===R||void 0===R?void 0:R.map((function(e,t){return c.createElement(l.TransferListItem,{handleItemChange:function(){return ie(e)},key:t,listItem:e.userName,listItemId:e.id,listItemIndex:t,isItemChecked:null===Q||void 0===Q?void 0:Q.includes(e),showSecondaryActions:!1,"data-testid":"".concat(m,"-update-unselected-users")})}))),c.createElement(l.TransferList,{isListEmpty:!((null===w||void 0===w?void 0:w.length)>0),listType:"selected",listHeaders:[f("console:manage.features.roles.addRoleWizard.users.assignUserModal.list.listHeader")],handleHeaderCheckboxChange:re,isHeaderCheckboxChecked:$,"data-testid":"".concat(m,"-update-selected-users-select-all-checkbox"),emptyPlaceholderContent:f("console:manage.features.transferList.list.emptyPlaceholders.groups.selected",{type:"users"}),emptyPlaceholderDefaultContent:f("console:manage.features.transferList.list.emptyPlaceholders.default")},null===w||void 0===w?void 0:w.map((function(e,t){return c.createElement(l.TransferListItem,{handleItemChange:function(){return ce(e)},key:t,listItem:e.userName,listItemId:e.id,listItemIndex:t,isItemChecked:null===K||void 0===K?void 0:K.includes(e),showSecondaryActions:!1,"data-testid":"".concat(m,"-update-selected-users")})}))))),r&&c.createElement(d.Z.Row,{columns:1},c.createElement(d.Z.Column,{mobile:16,tablet:16,computer:8},c.createElement(l.Button,{"data-testid":"".concat(m,"-update-user-list-button"),primary:!0,type:"submit",size:"small",className:"form-button"},f("common.update")))))))},T=n(73881),P=n(5984),R=n(10783),O=n(6997),L=n(99267),U=n(42463);function D(e,t,n,a,r,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(a,r)}function _(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function i(e){D(o,a,r,i,l,"next",e)}function l(e){D(o,a,r,i,l,"throw",e)}i(void 0)}))}}function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(o.push(a.value),!t||o.length!==t);i=!0);}catch(e){l=!0,r=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return N(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var Z,M=function(e){var t,n,p,g,v=e.onSubmit,h=e.triggerSubmit,y=e.initialValues,E=e["data-testid"],S=(0,s.$G)().t,A=(0,u.I0)(),C=x((0,c.useState)([]),2),I=C[0],D=C[1],N=x((0,c.useState)(),2),Z=N[0],M=N[1],k=x((0,c.useState)(!1),2),j=k[0],z=k[1],H=x((0,c.useState)(null),2),G=H[0],B=H[1],F=x((0,c.useState)(null),2),V=F[0],$=F[1],q=(0,c.useRef)();(0,c.useEffect)((function(){Q()}),[]),(0,c.useEffect)((function(){G&&V&&v({basicDetails:G,userList:V})}),[G,V]);T.fo.PRIMARY_USER_STORE,T.fo.PRIMARY_USER_STORE,L.Fn,L.Fn,L.eT,L.eT;(0,c.useEffect)((function(){var e;if(Z&&null!==y&&void 0!==y&&null!==(e=y.basicDetails)&&void 0!==e&&e.groupName){var t=q.current.children[0].children[1].children[0];t.focus(),t.blur()}}),[Z]);var W=function(){var e=_(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(O.F.isCurrentOrganizationRoot()){e.next=2;break}return e.abrupt("return",Promise.resolve(".*"));case 2:if(t="",!Z||Z===T.fo.PRIMARY_USER_STORE.toLocaleLowerCase()){e.next=8;break}return e.next=6,P.w3.getUserStoreRegEx(Z,T.fo.USERSTORE_REGEX_PROPERTIES.RolenameRegEx).then((function(e){z(!0),t=e}));case 6:e.next=10;break;case 8:return e.next=10,P.w3.getPrimaryUserStore().then((function(e){var n;(z(!0),e&&e.properties)&&(t=null===e||void 0===e||null===(n=e.properties)||void 0===n?void 0:n.filter((function(e){return"RolenameJavaScriptRegEx"===e.name}))[0].value)}));case 10:return z(!1),e.abrupt("return",new Promise((function(e,n){""!==t?e(t):n("")})));case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Q=function(){var e=[{key:-1,text:"Primary",value:"primary"}],t={key:null,text:"",value:""};M(e[0].value),O.F.isCurrentOrganizationRoot()&&(0,a.getUserStoreList)(b.h.getState().config.endpoints.userStores).then((function(n){e===[]&&e.push(t),n.data.map((function(n,a){t={key:a,text:n.name,value:n.name},e.push(t)})),D(e)})),D(e)};return c.createElement(c.Fragment,null,c.createElement(i.Forms,{"data-testid":E,onSubmit:function(e){B(function(e){return{domain:e.get("domain").toString(),groupName:e.get("groupName").toString()}}(e))},submitState:h},c.createElement(d.Z,null,c.createElement(m.Z,{columns:2},c.createElement(R.Yr,null,c.createElement(f.Z,{mobile:16,tablet:16,computer:8},c.createElement(i.Field,{"data-testid":"".concat(E,"-domain-dropdown"),type:"dropdown",label:S("console:manage.features.roles.addRoleWizard.forms.roleBasicDetails.domain.label.group"),name:"domain",children:I,placeholder:S("console:manage.features.roles.addRoleWizard.forms.roleBasicDetails.domain.placeholder"),requiredErrorMessage:S("console:manage.features.roles.addRoleWizard.forms.roleBasicDetails.domain.validation.empty.group"),required:!0,element:c.createElement("div",null),listen:function(e){var t=e.get("domain").toString();M(t)},value:null!==(t=null===y||void 0===y||null===(n=y.basicDetails)||void 0===n?void 0:n.domain)&&void 0!==t?t:null===(p=I[0])||void 0===p?void 0:p.value}))),c.createElement(f.Z,{mobile:16,tablet:16,computer:8},c.createElement(i.Field,{ref:q,"data-testid":"".concat(E,"-role-name-input"),type:"text",name:"groupName",label:S("console:manage.features.roles.addRoleWizard.forms.roleBasicDetails.roleName.label",{type:"Group"}),placeholder:S("console:manage.features.roles.addRoleWizard.forms.roleBasicDetails.roleName.placeholder",{type:"Group"}),required:!0,requiredErrorMessage:S("console:manage.features.roles.addRoleWizard.forms.roleBasicDetails.roleName.validations.empty",{type:"Group"}),validation:function(){var e=_(regeneratorRuntime.mark((function e(t,n){var a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=8;break}return a=!0,e.next=4,W().then((function(e){a=P.w3.validateInputAgainstRegEx(t,e)}));case 4:return a||(n.isValid=!1,n.errorMessages.push(S("console:manage.features.roles.addRoleWizard.forms.roleBasicDetails.roleName.validations.invalid",{type:"group"}))),i={filter:"displayName eq  ".concat(null!==Z&&void 0!==Z?Z:T.fo.PRIMARY_USER_STORE,"/").concat(t),schemas:["urn:ietf:params:scim:api:messages:2.0:SearchRequest"],startIndex:1},e.next=8,(0,U.tN)(i).then((function(e){var t;0!==(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.totalResults)&&(n.isValid=!1,n.errorMessages.push(S("console:manage.features.roles.addRoleWizard.forms.roleBasicDetails.roleName.validations.duplicate",{type:"Group"})))})).catch((function(){A((0,o.addAlert)({description:S("console:manage.features.groups.notifications.fetchGroups.genericError.description"),level:r.AlertLevels.ERROR,message:S("console:manage.features.groups.notifications.fetchGroups.genericError.message")}))}));case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),value:null===y||void 0===y||null===(g=y.basicDetails)||void 0===g?void 0:g.groupName,loading:j}))))),c.createElement(l.Heading,{size:"tiny"},S("console:manage.features.roles.addRoleWizard.wizardSteps.2")),c.createElement(w,{"data-testid":"new-group",isEdit:!1,triggerSubmit:h,userStore:null!==Z&&void 0!==Z?Z:T.fo.PRIMARY_USER_STORE,initialValues:null===y||void 0===y?void 0:y.userList,onSubmit:function(e){return $(e)}}))},k=n(99104),j=n(12558),z=function(e){var t=e.summary,n=e.triggerSubmit,a=e.onSubmit,r=e["data-testid"],o=(0,s.$G)().t;return(0,c.useEffect)((function(){n&&a(t)}),[n]),c.createElement(d.Z,{className:"wizard-summary"},(null===t||void 0===t?void 0:t.BasicDetails)&&c.createElement(c.Fragment,null,t.BasicDetails.domain!==j.XS&&c.createElement(d.Z.Row,{className:"summary-field",columns:2},c.createElement(d.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},c.createElement("div",{"data-testid":"".concat(r,"-domain-label"),className:"label"},o("console:manage.features.roles.addRoleWizard.summary.labels.domain.group"))),c.createElement(d.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},c.createElement("div",{"data-testid":"".concat(r,"-domain-value"),className:"value url"},t.BasicDetails.domain))),c.createElement(d.Z.Row,{className:"summary-field",columns:2},c.createElement(d.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},c.createElement("div",{"data-testid":"".concat(r,"-role-name-label"),className:"label"},o("console:manage.features.roles.addRoleWizard.summary.labels.roleName",{type:"Group"}))),c.createElement(d.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},c.createElement("div",{"data-testid":"".concat(r,"-role-name-value"),className:"value url"},t.BasicDetails.groupName)))),null!==t&&void 0!==t&&t.PermissionList&&t.PermissionList instanceof Array&&t.PermissionList.length>0?c.createElement(d.Z.Row,{className:"summary-field",columns:2},c.createElement(d.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},c.createElement("div",{"data-testid":"".concat(r,"-permissions-label"),className:"label"},o("console:manage.features.roles.addRoleWizard.summary.labels.permissions"))),c.createElement(d.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},c.createElement(k.Z.Group,null,t.PermissionList.map((function(e,t){return c.createElement(k.Z,{"data-testid":"".concat(r,"-permissions-").concat(t,"-label"),key:t,basic:!0,circular:!0},e.label)}))))):null,null!==t&&void 0!==t&&t.GroupUserList&&t.GroupUserList instanceof Array&&t.GroupUserList.length>0?c.createElement(d.Z.Row,{className:"summary-field",columns:2},c.createElement(d.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},c.createElement("div",{"data-testid":"".concat(r,"-users-label"),className:"label"},o("console:manage.features.roles.addRoleWizard.summary.labels.users"))),c.createElement(d.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},c.createElement(k.Z.Group,null,t.GroupUserList.map((function(e,t){return c.createElement("div",{key:t,className:"role-summary-user"},c.createElement(l.UserAvatar,{name:e.userName,size:"mini",floated:"left",image:e.profileUrl}),e.userName)}))))):null)},H=n(84504),G=n(50714),B=n(58107),F=n(29850),V=n(45947);function $(e){return function(e){if(Array.isArray(e))return K(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||X(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){Q(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(o.push(a.value),!t||o.length!==t);i=!0);}catch(e){l=!0,r=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||X(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function X(e,t){if(e){if("string"===typeof e)return K(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?K(e,t):void 0}}function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}!function(e){e.BASIC_DETAILS="BasicDetails",e.USER_LIST="UserList",e.ROLE_LIST="RoleList",e.SUMMARY="summary"}(Z||(Z={}));var J=function(e){var t,n,a=e.closeWizard,m=e.initStep,f=e["data-testid"],p=(0,s.$G)().t,g=(0,u.I0)(),h=Y((0,c.useState)(m),2),E=h[0],S=h[1],A=Y((0,c.useState)(void 0),2),C=A[0],I=A[1],w=Y((0,c.useState)(void 0),2),T=w[0],P=w[1],R=Y((0,c.useState)(""),2),L=(R[0],R[1]),D=Y((0,c.useState)(!1),2),_=D[0],x=D[1],N=Y((0,i.useTrigger)(),2),k=N[0],j=N[1],q=Y((0,i.useTrigger)(),2),K=q[0],J=q[1],ee=Y((0,i.useTrigger)(),2),te=ee[0],ne=ee[1],ae=Y((0,c.useState)(!1),2),re=ae[0],oe=ae[1],ie=Y((0,c.useState)(!1),2),le=ie[0],ce=ie[1],se=Y((0,c.useState)(),2),ue=se[0],de=se[1],me=Y((0,c.useState)([]),2),fe=me[0],pe=me[1],ge=Y((0,c.useState)([]),2),ve=ge[0],he=ge[1],ye=Y((0,c.useState)([]),2),Ee=ye[0],be=ye[1],Se=Y((0,c.useState)([]),2),Ae=Se[0],Ce=Se[1],Ie=Y((0,c.useState)(!1),2),we=Ie[0],Te=Ie[1],Pe=(0,u.v9)((function(e){return e.organization.organization})),Re=(0,c.useMemo)((function(){return O.F.isRootOrganization(Pe)}),[Pe]),Oe=Y((0,l.useWizardAlert)(),3),Le=Oe[0],Ue=Oe[1],De=Oe[2];(0,c.useEffect)((function(){void 0!==C&&(S(E-1),I(void 0))}),[C]),(0,c.useEffect)((function(){ue&&le&&oe(!0)}),[le]),(0,c.useEffect)((function(){fe.length<1&&(Re?(0,F.Sd)(null).then((function(e){pe(e.data.Resources)})):(0,G.Sr)(Pe.id,null,100,null).then((function(e){if(e.Resources){var t=e.Resources.filter((function(e){return e.displayName!==B.Rw.ORG_CREATOR_ROLE_NAME}));pe(t)}})))}),[]),(0,c.useEffect)((function(){we&&T&&T[Z.BASIC_DETAILS]&&T[Z.USER_LIST]&&_e(T)}),[T&&T[Z.BASIC_DETAILS]&&T[Z.USER_LIST]]);var _e=function(e){var t,n,i,l="";l="primary"!==(null===e||void 0===e?void 0:e.domain)?null!==e&&void 0!==e&&e.BasicDetails?(null===e||void 0===e||null===(t=e.BasicDetails)||void 0===t?void 0:t.domain)+"/"+(null===e||void 0===e||null===(n=e.BasicDetails)||void 0===n?void 0:n.groupName):(null===e||void 0===e?void 0:e.domain)+"/"+(null===e||void 0===e?void 0:e.groupName):null!==e&&void 0!==e&&e.BasicDetails?null===e||void 0===e||null===(i=e.BasicDetails)||void 0===i?void 0:i.groupName:null===e||void 0===e?void 0:e.groupName;var c=[],s=null===e||void 0===e?void 0:e.UserList;(null===s||void 0===s?void 0:s.length)>0&&(null===s||void 0===s||s.forEach((function(e){null===c||void 0===c||c.push({display:e.userName,value:e.id})})));var u={displayName:l,members:c,schemas:["urn:ietf:params:scim:schemas:core:2.0:Group"]};x(!0),(0,U.sS)(u).then((function(t){if(201===t.status){var n,i,l=t.data,c=[];if(null!==e&&void 0!==e&&null!==(n=e.RoleList)&&void 0!==n&&n.roles)null===e||void 0===e||null===(i=e.RoleList)||void 0===i||i.roles.forEach((function(e){null===c||void 0===c||c.push(e.id)}));var s={Operations:[{op:"add",value:{groups:[{display:l.displayName,value:l.id}]}}],schemas:["urn:ietf:params:scim:api:messages:2.0:PatchOp"]};if(c&&c.length>0){var u,d=function(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=X(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw o}}}}(c);try{for(d.s();!(u=d.n()).done;){var m=u.value;(0,F.ul)(m,s).catch((function(e){e.response&&401!==e.response.status?e.response&&e.response.data.detail?Ue({description:p("console:manage.features.groups.notifications.createPermission.error.description",{description:e.response.data.detail}),level:r.AlertLevels.ERROR,message:p("console:manage.features.groups.notifications.createPermission.error.message")}):Ue({description:p("console:manage.features.groups.notifications.createPermission.genericError.description"),level:r.AlertLevels.ERROR,message:p("console:manage.features.groups.notifications.createPermission.genericError.message")}):Ue({description:p("console:manage.features.groups.notifications.createPermission.error.description"),level:r.AlertLevels.ERROR,message:p("console:manage.features.groups.notifications.createPermission.error.message")})}))}}catch(e){d.e(e)}finally{d.f()}}g((0,o.addAlert)({description:p("console:manage.features.groups.notifications.createGroup.success.description"),level:r.AlertLevels.SUCCESS,message:p("console:manage.features.groups.notifications.createGroup.success.message")}))}a(),b.m8.push(b.$x.getPaths().get("GROUP_EDIT").replace(":id",t.data.id))})).catch((function(e){e.response&&401!==e.response.status?e.response&&e.response.data.detail?(a(),g((0,o.addAlert)({description:p("console:manage.features.groups.notifications.createGroup.error.description",{description:e.response.data.detail}),level:r.AlertLevels.ERROR,message:p("console:manage.features.groups.notifications.createGroup.error.message")}))):(a(),g((0,o.addAlert)({description:p("console:manage.features.groups.notifications.createGroup.genericError.description"),level:r.AlertLevels.ERROR,message:p("console:manage.features.groups.notifications.createGroup.genericError.message")}))):(a(),g((0,o.addAlert)({description:p("console:manage.features.groups.notifications.createGroup.error.description"),level:r.AlertLevels.ERROR,message:p("console:manage.features.groups.notifications.createGroup.error.message")})))})).finally((function(){x(!1)}))},xe=function(e,t){var n;(Z.BASIC_DETAILS===t&&L(e.basicDetails.domain),we||S(E+1),Z.BASIC_DETAILS!==t)?P(W(W({},T),{},Q({},t,e))):P(W(W({},T),{},(Q(n={},Z.BASIC_DETAILS,e.basicDetails),Q(n,Z.USER_LIST,e.userList),n)))},Ne=[{content:c.createElement(M,{"data-testid":"add-group-form",triggerSubmit:k,initialValues:T&&{basicDetails:T[Z.BASIC_DETAILS],userList:T[Z.USER_LIST]},onSubmit:function(e){return xe(e,Z.BASIC_DETAILS)}}),icon:(0,V.i)().general,title:p("console:manage.features.roles.addRoleWizard.wizardSteps.0")},{content:re?c.createElement(b.MN,{"data-testid":"".concat(f,"-group-permission"),handleNavigateBack:function(){oe(!re),ce(!1)},roleId:ue}):c.createElement(b.IH,{triggerSubmit:K,onSubmit:function(e){return xe(e,Z.ROLE_LIST)},initialValues:{initialRoleList:Ee,initialTempRoleList:Ae,roleList:fe,tempRoleList:ve},handleRoleListChange:function(e){return function(e){pe(e)}(e)},handleTempListChange:function(e){he(e)},handleInitialTempListChange:function(e){Ce(e)},handleInitialRoleListChange:function(e){return function(e){be(e)}(e)},handleSetRoleId:function(e){return function(e){de(e),ce(!0)}(e)}}),icon:(0,V.i)().roles,title:p("console:manage.features.roles.addRoleWizard.wizardSteps.5")},{content:c.createElement(z,{"data-testid":"add-group-summary",triggerSubmit:te,onSubmit:function(){_e(T)},summary:function(){if(T)return T}()}),icon:(0,V.i)().summary,title:p("console:manage.features.roles.addRoleWizard.wizardSteps.3")}],Ze=O.F.isCurrentOrganizationRoot()?[].concat(Ne):[].concat($(Ne.slice(0,1)),$(Ne.slice(2))),Me=function(){switch(E){case 0:j();break;case 1:O.F.isCurrentOrganizationRoot()?J():ne();break;case 2:ne()}};return c.createElement(v.Z,{open:!0,className:"wizard create-role-wizard",dimmer:"blurring",size:"small",onClose:a,closeOnDimmerClick:!1,closeOnEscape:!1,"data-testid":f},c.createElement(v.Z.Header,{className:"wizard-header"},p("console:manage.features.roles.addRoleWizard.heading",{type:"Group"}),T&&null!==(t=T[Z.BASIC_DETAILS])&&void 0!==t&&t.groupName?" - "+(null===(n=T[Z.BASIC_DETAILS])||void 0===n?void 0:n.groupName):"",c.createElement(l.Heading,{as:"h6"},p("console:manage.features.roles.addRoleWizard.subHeading",{type:"group"}))),c.createElement(v.Z.Content,{className:"steps-container"},c.createElement(l.Steps.Group,{current:E},Ze.map((function(e,t){return c.createElement(l.Steps.Step,{key:t,icon:e.icon,title:e.title})})))),c.createElement(v.Z.Content,{className:"content-container",scrolling:!0},Le&&De,Ze[E].content),c.createElement(v.Z.Actions,null,c.createElement(d.Z,null,c.createElement(d.Z.Row,{column:1},c.createElement(d.Z.Column,{mobile:8,tablet:8,computer:8},c.createElement(l.LinkButton,{floated:"left",onClick:function(){return a()},"data-testid":"".concat(f,"-cancel-button")},p("common:cancel"))),c.createElement(d.Z.Column,{mobile:8,tablet:8,computer:8},E<Ze.length-1&&c.createElement(l.PrimaryButton,{floated:"right",onClick:Me,"data-testid":"".concat(f,"-next-button")},p("console:manage.features.roles.addRoleWizard.buttons.next"),c.createElement(y.Z,{name:"arrow right","data-testid":"".concat(f,"-next-button-icon")})),0===E&&c.createElement(H.Z,{basic:!0,color:"orange",floated:"right",onClick:function(){Te(!0),j()},"data-testid":"".concat(f,"-initial-finish-button")},p("console:manage.features.roles.addRoleWizard.buttons.finish")),E===Ze.length-1&&c.createElement(l.PrimaryButton,{floated:"right",onClick:Me,"data-testid":"".concat(f,"-finish-button"),loading:_,disabled:_},p("console:manage.features.roles.addRoleWizard.buttons.finish")),E>0&&c.createElement(l.LinkButton,{floated:"right",onClick:function(){I(E)},"data-testid":"".concat(f,"-previous-button")},c.createElement(y.Z,{name:"arrow left","data-testid":"".concat(f,"-previous-button-icon")}),p("console:manage.features.roles.addRoleWizard.buttons.previous")))))))};J.defaultProps={initStep:0}},45947:function(e,t,n){"use strict";n.d(t,{X:function(){return a},i:function(){return c}});var a=function(e){return{groups:"".concat(e,"/scim2/Groups")}},r=n(64408),o=n(87751),i=n(99986),l=n(91689),c=function(){return{general:r.r,roles:o.r,summary:i.r,users:l.r}}},21207:function(e,t,n){"use strict";n.d(t,{hI:function(){return a.hI},XV:function(){return r.X}});n(62680),n(89130);var a=n(42463),r=n(45947)},89130:function(e,t,n){"use strict";n.r(t);var a=n(96462),r=n(68905),o=n(64805),i=n(83913),l=n(12847),c=n(6997),s=n(42463),u=n(76466);function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(o.push(a.value),!t||o.length!==t);i=!0);}catch(e){l=!0,r=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}t.default=function(){var e=(0,o.$G)().t,t=(0,i.v9)((function(e){return e.config.ui.features})),n=d((0,r.useState)(void 0),2),m=n[0],f=n[1],p=d((0,r.useState)(),2),g=p[0],v=p[1],h=d((0,r.useState)(!1),2),y=h[0],E=h[1],b=d((0,r.useState)(void 0),2),S=(b[0],b[1]);(0,r.useEffect)((function(){c.F.isCurrentOrganizationRoot()&&l.w3.getReadOnlyUserStores().then((function(e){S(e)}))}),[g]),(0,r.useEffect)((function(){var e=l.m8.location.pathname.split("/"),t=e[e.length-1];f(t),A(t)}),[]);var A=function(e){E(!0),(0,s.VL)(e).then((function(e){200===e.status&&v(e.data)})).catch((function(){})).finally((function(){E(!1)}))};return r.createElement(a.PageLayout,{isLoading:y,title:g&&g.displayName?g.displayName:e("console:manage.pages.rolesEdit.title"),pageTitle:e("console:manage.pages.rolesEdit.title"),backButton:{onClick:function(){l.m8.push(l.$x.getPaths().get("GROUPS"))},text:e("console:manage.pages.rolesEdit.backButton",{type:"groups"})},titleTextAlign:"left",bottomMargin:!1},r.createElement(u.Qn,{group:g,groupId:m,onGroupUpdate:function(){A(m)},featureConfig:t}))}},62680:function(e,t,n){"use strict";n.r(t);var a=n(69883),r=n(3844),o=n(88742),i=n(26278),l=n(96462),c=n(98812),s=n(68905),u=n(64805),d=n(83913),m=n(70515),f=n(74364),p=n(12847),g=n(6997),v=n(42463),h=n(76466),y=n(790);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(o.push(a.value),!t||o.length!==t);i=!0);}catch(e){l=!0,r=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var I=[{key:1,text:"Name",value:"name"},{key:3,text:"Created date",value:"createdDate"},{key:4,text:"Last updated",value:"lastUpdated"}];t.default=function(){var e=(0,d.I0)(),t=(0,u.$G)().t,n=(0,d.v9)((function(e){return e.config.ui.features})),E=A((0,s.useState)(p.ru.DEFAULT_RESOURCE_LIST_ITEM_LIMIT),2),S=E[0],C=E[1],w=A((0,s.useState)(0),2),T=w[0],P=w[1],R=A((0,s.useState)(!1),2),O=R[0],L=R[1],U=A((0,s.useState)(!1),2),D=U[0],_=U[1],x=A((0,s.useState)([]),2),N=x[0],Z=x[1],M=A((0,s.useState)(void 0),2),k=M[0],j=M[1],z=A((0,s.useState)(""),2),H=z[0],G=z[1],B=A((0,s.useState)(!1),2),F=(B[0],B[1]),V=A((0,s.useState)(!1),2),$=V[0],q=V[1],W=A((0,s.useState)(!1),2),Q=W[0],Y=W[1],X=A((0,s.useState)(void 0),2),K=X[0],J=X[1],ee=A((0,s.useState)(!1),2),te=ee[0],ne=ee[1],ae=A((0,s.useState)([]),2),re=ae[0],oe=ae[1],ie=A((0,s.useState)([]),2),le=ie[0],ce=ie[1],se=A((0,s.useState)(I[0]),2),ue=se[0],de=se[1];(0,s.useEffect)((function(){""==H&&me()}),[0!=re.length]),(0,s.useEffect)((function(){me(),_(!1)}),[D]),(0,s.useEffect)((function(){fe()}),[]),(0,s.useEffect)((function(){me()}),[k]),(0,s.useEffect)((function(){g.F.isCurrentOrganizationRoot()&&p.w3.getReadOnlyUserStores().then((function(e){J(e)}))}),[k]);var me=function(){q(!0),(0,v.hI)(k).then((function(n){if(200===n.status){var a=n.data.Resources;if(a&&a instanceof Array&&0!==a.length){var r=a.filter((function(e){return!e.displayName.includes("Application/")&&!e.displayName.includes("Internal/")}));n.data.Resources=r,oe(r),pe(0,S,r)}else ce([]),F(!0);ne(!1)}else e((0,i.addAlert)({description:t("console:manage.features.groups.notifications.fetchGroups.genericError.description"),level:o.AlertLevels.ERROR,message:t("console:manage.features.groups.notifications.fetchGroups.genericError.message")})),ne(!0),oe([]),ce([])})).catch((function(n){var a,r,l,c,s,u,d,m,f;e((0,i.addAlert)({description:null!==(a=null!==(r=null===n||void 0===n||null===(l=n.response)||void 0===l||null===(c=l.data)||void 0===c?void 0:c.description)&&void 0!==r?r:null===n||void 0===n||null===(s=n.response)||void 0===s||null===(u=s.data)||void 0===u?void 0:u.detail)&&void 0!==a?a:t("console:manage.features.groups.notifications.fetchGroups.genericError.description"),level:o.AlertLevels.ERROR,message:null!==(d=null===n||void 0===n||null===(m=n.response)||void 0===m||null===(f=m.data)||void 0===f?void 0:f.message)&&void 0!==d?d:t("console:manage.features.groups.notifications.fetchGroups.genericError.message")})),ne(!0),oe([]),ce([])})).finally((function(){q(!1)}))},fe=function(){var e=[{key:-2,text:"All user stores",value:null},{key:-1,text:"Primary",value:"primary"}],t={key:null,text:"",value:""};j(e[0].value),g.F.isCurrentOrganizationRoot()&&(0,r.getUserStoreList)(p.h.getState().config.endpoints.userStores).then((function(n){e===[]&&e.push(t),n.data.map((function(n,a){(0,p.YZ)(n.id).then((function(r){var o;"true"===(null===(o=r.properties.find((function(e){return"Disabled"===e.name})))||void 0===o?void 0:o.value)||(t={key:a,text:n.name,value:n.name},e.push(t))}))})),Z(e)})),Z(e)},pe=function(e,t,n){ce(null===n||void 0===n?void 0:n.slice(e,t+e))},ge=function(t){e((0,i.addAlert)(t))},ve=function(e){null!==e&&"displayName sw "!==e?function(e){var t={filter:e,schemas:["urn:ietf:params:scim:api:messages:2.0:SearchRequest"],startIndex:1};k&&(t=b(b({},t),{},{domain:k})),G(e),(0,v.tN)(t).then((function(e){if(200===e.status){var t=e.data.Resources,n=[];t&&(n=t.filter((function(e){return!e.displayName.includes("Application/")&&!e.displayName.includes("Internal/")}))),oe(n),ce(n)}}))}(e):me()};return s.createElement(l.PageLayout,{action:($||!(!H&&(null===le||void 0===le?void 0:le.length)<=0))&&s.createElement(a.di,{when:a.TA.GROUP_WRITE},s.createElement(l.PrimaryButton,{"data-testid":"group-mgt-groups-list-add-button",onClick:function(){return L(!0)}},s.createElement(m.Z,{name:"add"}),t("console:manage.features.roles.list.buttons.addButton",{type:"Group"}))),title:t("console:manage.pages.groups.title"),pageTitle:t("console:manage.pages.groups.title"),description:t("console:manage.pages.groups.subTitle")},s.createElement(l.ListLayout,{advancedSearch:s.createElement(p.nC,{"data-testid":"group-mgt-groups-list-advanced-search",onFilter:ve,filterAttributeOptions:[{key:0,text:"Name",value:"displayName"}],filterAttributePlaceholder:t("console:manage.features.groups.advancedSearch.form.inputs.filterAttribute.placeholder"),filterConditionsPlaceholder:t("console:manage.features.groups.advancedSearch.form.inputs.filterCondition.placeholder"),filterValuePlaceholder:t("console:manage.features.groups.advancedSearch.form.inputs.filterValue.placeholder"),placeholder:t("console:manage.features.groups.advancedSearch.placeholder"),defaultSearchAttribute:"displayName",defaultSearchOperator:"sw",triggerClearQuery:Q}),currentListSize:S,listItemLimit:S,onItemsPerPageDropdownChange:function(e,t){C(t.value),pe(T,t.value,re)},onPageChange:function(e,t){var n=(t.activePage-1)*S;P(n),pe(n,S,re)},onSortStrategyChange:function(e,t){de((0,c.Z)(I,(function(e){return t.value===e.value})))},sortStrategy:ue,rightActionPanel:s.createElement(f.Z,{"data-testid":"group-mgt-groups-list-stores-dropdown",selection:!0,options:N&&N,placeholder:t("console:manage.features.groups.list.storeOptions"),value:k&&k,onChange:function(e,t){j(t.value)}}),showPagination:le.length>0,showTopActionPanel:$||!(!H&&!te&&N.length<3&&(null===le||void 0===le?void 0:le.length)<=0),totalPages:Math.ceil((null===re||void 0===re?void 0:re.length)/S),totalListSize:null===re||void 0===re?void 0:re.length},te?s.createElement(l.EmptyPlaceholder,{subtitle:[t("console:manage.features.groups.placeholders.groupsError.subtitles.0"),t("console:manage.features.groups.placeholders.groupsError.subtitles.1")],title:t("console:manage.features.groups.placeholders.groupsError.title"),image:(0,p.jF)().genericError,imageSize:"tiny"}):s.createElement(h.cv,{advancedSearch:s.createElement(p.nC,{"data-testid":"group-mgt-groups-list-advanced-search",onFilter:ve,filterAttributeOptions:[{key:0,text:"Name",value:"displayName"}],filterAttributePlaceholder:t("console:manage.features.groups.advancedSearch.form.inputs.filterAttribute.placeholder"),filterConditionsPlaceholder:t("console:manage.features.groups.advancedSearch.form.inputs.filterCondition.placeholder"),filterValuePlaceholder:t("console:manage.features.groups.advancedSearch.form.inputs.filterValue.placeholder"),placeholder:t("console:manage.features.groups.advancedSearch.placeholder"),defaultSearchAttribute:"displayName",defaultSearchOperator:"sw",triggerClearQuery:Q}),"data-testid":"group-mgt-groups-list",handleGroupDelete:function(e){(0,v.yq)(e.id).then((function(){ge({description:t("console:manage.features.groups.notifications.deleteGroup.success.description"),level:o.AlertLevels.SUCCESS,message:t("console:manage.features.groups.notifications.deleteGroup.success.message")}),_(!0)})).catch((function(){ge({description:t("console:manage.features.groups.notifications.deleteGroup.genericError.description"),level:o.AlertLevels.ERROR,message:t("console:manage.features.groups.notifications.deleteGroup.error.message")})}))},isLoading:$,onEmptyListPlaceholderActionClick:function(){return L(!0)},onSearchQueryClear:function(){Y(!Q),G(""),me()},groupList:le,searchQuery:H,readOnlyUserStores:K,featureConfig:n})),O&&s.createElement(y.ew,{"data-testid":"group-mgt-create-group-wizard",closeWizard:function(){return L(!1)},updateList:function(){return _(!0)}}))}}}]);