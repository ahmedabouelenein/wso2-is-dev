(self.webpackChunk_wso2is_console=self.webpackChunk_wso2is_console||[]).push([[5100],{45127:function(e,t,n){var i={"./pt":88793,"./pt-br":82839,"./pt-br.js":82839,"./pt.js":88793,"./si":53341,"./si.js":53341,"./ta":63461,"./ta.js":63461};function o(e){var t=a(e);return n(t)}function a(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}o.keys=function(){return Object.keys(i)},o.resolve=a,e.exports=o,o.id=45127},23253:function(e,t,n){"use strict";n.r(t),n.d(t,{ComponentExtensionPlaceholder:function(){return c}});var i=n(22260),o=n(96462),a=n(68905),r=n(86313),l=n(29213),s=n(12847),c=function(e){var t=e.component,c=e.props,d=e.subComponent,u=e.type;s.lD.getInstance();if("tab"===u){var p=l.ExtensionsManager.getConfig().componentExtensions,m=[];if(p.length<1)return m;var f=p.reduce((function(e){return e.component===t&&e.subComponent===d&&e.type===u}));return f&&f.panes&&f.panes.length>0&&f.panes.map((function(e){var t=(0,a.lazy)((function(){return n(5749)("".concat(e.path))}));m.push({componentId:e.componentid,menuItem:i.I18n.instance.t(e.title),render:function(){return a.createElement(o.ErrorBoundary,{onChunkLoadError:s.Wj.onChunkLoadError,fallback:a.createElement(o.EmptyPlaceholder,{image:(0,s.jF)().genericError,imageSize:"tiny",subtitle:[i.I18n.instance.t("console:common.placeholders.genericError.subtitles.0"),i.I18n.instance.t("console:common.placeholders.genericError.subtitles.1")],title:i.I18n.instance.t("console:common.placeholders.genericError.title")})},a.createElement(a.Suspense,{fallback:a.createElement(r.Z,null,a.createElement(o.ContentLoader,{inline:"centered",active:!0}))},a.createElement(t,c)))}})})),m}return[]}},61543:function(e,t,n){"use strict";n.r(t),n.d(t,{ExtensionsConfig:function(){return i}});var i=function(){return{componentExtensions:[],routes:{auth:[],default:[],develop:[],fullscreen:[],manage:[]},sections:{components:{example:"./components/example.tsx"}},templateExtensions:{applications:{categories:[],groups:[],templates:[]},identityProviders:{categories:[],groups:[],templates:[]}}}}},54547:function(e,t,n){"use strict";n.r(t),n.d(t,{analyticsConfig:function(){return i}});var i={EventPublisherExtension:{compute:function(e){return null},init:function(){return null},publish:function(e,t){return null},record:function(e,t,n,i,o,a){return null}}}},68594:function(e,t,n){"use strict";n.r(t),n.d(t,{applicationConfig:function(){return i}});var i={advancedConfigurations:{showEnableAuthorization:!0,showMyAccount:!1,showReturnAuthenticatedIdPs:!0,showSaaS:!0},generalSettings:{getFieldReadOnlyStatus:function(e,t){return!1}},attributeSettings:{advancedAttributeSettings:{showIncludeTenantDomain:!0,showIncludeUserstoreDomainRole:!0,showIncludeUserstoreDomainSubject:!0,showRoleAttribute:!0,showRoleMapping:!0,showSubjectAttribute:!1,showUseMappedLocalSubject:!0},attributeSelection:{getClaims:function(e){return e},getExternalClaims:function(e){return e},showAttributePlaceholderTitle:!1,showShareAttributesHint:function(e){return!0}},makeSubjectMandatory:!0,roleMapping:!0},customApplication:{allowedProtocolTypes:[],defaultTabIndex:0},editApplication:{extendTabs:!1,getActions:function(e,t,n){return null},getOveriddenTab:function(e,t,n,i,o,a){return n},getOverriddenDescription:function(e,t,n){return null},getOverriddenImage:function(e,t){return null},isTabEnabledForApp:function(e,t,n){return!0},renderHelpPanelItems:function(){return null},showProvisioningSettings:!0,showDangerZone:function(e){return!0},showDeleteButton:function(e){return!0},getTabPanelReadOnlyStatus:function(e,t){return!1},showApplicationShare:!0},excludeIdentityClaims:!1,excludeSubjectClaim:!1,inboundOIDCForm:{disabledGrantTypes:{"custom-application":[]},shouldValidateCertificate:!0,showBackChannelLogout:!0,showCertificates:!0,showClientSecretMessage:!0,showFrontChannelLogout:!1,showIdTokenEncryption:!0,showNativeClientSecretMessage:!0,showRequestObjectSignatureValidation:!0,showReturnAuthenticatedIdPList:!0,showScopeValidators:!0},inboundSAMLForm:{artifactBindingAllowed:!0,showApplicationQualifier:!0,showAttributeConsumingServiceIndex:!0,showQueryRequestProfile:!0},signInMethod:{authenticatorSelection:{customAuthenticatorAdditionValidation:function(){return!0},messages:{secondFactorDisabled:null,secondFactorDisabledInFirstStep:null}},identifierFirstWarning:!1},templates:{android:!0,custom:!0,oidc:!0,saml:!0,spa:!0,windows:!0}}},9325:function(e,t,n){"use strict";n.r(t),n.d(t,{attributeConfig:function(){return o}});var i=n(22260),o={addAttributeMapping:!0,attributeMappings:{deleteAction:!0,editAttributeMappingDetails:!0,getExternalAttributes:function(e,t){return t},showDangerZone:!0,showSCIMCore1:!0},attributes:{addAttribute:!0,deleteAction:!0,description:"console:manage.features.claims.local.pageLayout.local.description",excludeIdentityClaims:!1,showEditTabs:!0,showUserstoreMappingWarningIcon:!0},attributesPlaceholderAddButton:function(e){return!0},editAttributeMappings:{markAddExternalAttributeButtonAsAComingSoonFeature:function(){return!1},showAddExternalAttributeButton:function(e){return!0}},editAttributes:{getDisplayOrder:function(e,t){return t?parseInt(t):e},showDangerZone:!0,showDisplayOrderInput:!0,showRequiredCheckBox:!0},externalAttributes:{deleteCustomExternalDialect:function(){return Promise.resolve(!0)},editAttribute:function(e,t,n){n(t?"":null===e||void 0===e?void 0:e.id)},getEditIcon:function(e,t){return t===(null===e||void 0===e?void 0:e.id)?"times":"pencil alternate"},getEditPopupText:function(e,t){return t===(null===e||void 0===e?void 0:e.id)?i.I18n.instance.t("common:cancel"):i.I18n.instance.t("common:edit")},hideDeleteIcon:function(e){return!1},isAttributeEditable:!0,isEditActionClickable:function(e){return!0},isRowClickable:function(e,t){return!0},showActions:function(e){return!0},showDeleteIcon:function(e,t){return!0}},isRowSelectable:function(e){return!0},isSCIMEditable:!0,localAttributes:{checkAttributeNameAvailability:function(){return Promise.resolve(new Map)},createCustomDialect:!1,createWizard:{checkOIDCAvailability:!1,checkSCIMAvailability:!1,customWIzard:!1,identifyAsCustomAttrib:!1,showDisplayOrder:!0,showOnlyMandatory:!1,showPrimaryUserStore:!0,showReadOnlyAttribute:!0,showRegularExpression:!0,showSummary:!0},customDialectURI:"",oidcDialectURI:"",getDialect:function(e){return Promise.resolve(e)},isSCIMCustomDialectAvailable:function(){return Promise.resolve("")},isUserStoresHidden:function(){return Promise.resolve([])},mapClaimToCustomDialect:!1},systemClaims:[],defaultScimMapping:{},showCustomDialectInSCIM:!1}},3893:function(e,t,n){"use strict";n.r(t),n.d(t,{commonConfig:function(){return i}});var i={advancedSearchWithBasicFilters:{enableQuerySearch:!0},blockLoopBackCalls:!1,checkForUIResourceScopes:!1,enableOrganizationAssociations:!1,header:{getHeaderExtensions:function(){return[]},getHeaderSubPanelExtensions:function(){return[]},getUserDropdownLinkExtensions:function(e,t){return[]},headerQuickstartMenuItem:"",renderAppSwitcherAsDropdown:!1},leftNavigation:{isLeftNavigationCategorized:{develop:!0,manage:!0}},userEditSection:{isGuestUser:!1,showEmail:!0},hotjarTracking:{tagAttributes:function(){}}}},34849:function(e,t,n){"use strict";n.r(t),n.d(t,{getDocumentationLinksExtension:function(){return i}});var i=function(){var e="https://is.docs.wso2.com/en/6.0.0";return{develop:{applications:{editApplication:{signInMethod:{fido:"".concat(e,"/learn/multi-factor-authentication-using-fido/")}}},connections:{edit:{advancedSettings:{jit:"".concat(e,"/learn/configuring-just-in-time-provisioning-for-an-identity-provider/")}}}}}}},24544:function(e,t,n){"use strict";n.r(t),n.d(t,{getExtendedFeatureResourceEndpoints:function(){return i}});var i=function(e){return{}}},72393:function(e,t,n){"use strict";n.r(t),n.d(t,{identityProviderConfig:function(){return a}});var i=n(21307),o=n(59867),a={authenticatorResponseExtension:[],authenticators:{},createIdentityProvider:{getOverriddenCreateWizard:function(e,t){return null}},editIdentityProvider:{attributesSettings:!0,getCertificateOptionsForTemplate:function(e){},getOverriddenAuthenticatorForm:function(e,t,n){return null},isTabEnabledForIdP:function(e,t){var n;return null!==(n=new Map([[o.BH.USER_ATTRIBUTES,new Set([i.bQ.IDP_TEMPLATE_IDS.FACEBOOK,i.bQ.IDP_TEMPLATE_IDS.GOOGLE,i.bQ.IDP_TEMPLATE_IDS.GITHUB,i.bQ.IDP_TEMPLATE_IDS.OIDC])]]).get(t))&&void 0!==n&&n.has(e),!0},showAdvancedSettings:!0,showJitProvisioning:!0,showOutboundProvisioning:!0},getIconExtensions:function(){return{}},jitProvisioningSettings:{menuItemName:"Just-in-Time Provisioning",enableJitProvisioningField:{show:!0},userstoreDomainField:{show:!0},provisioningSchemeField:{show:!0}},generalDetailsForm:{showCertificate:!0},identityProviderList:{useLegacyListing:!0},templates:{enterprise:!0,expertMode:!0,facebook:!0,github:!0,google:!0,oidc:!0,organizationEnterprise:!0,saml:!0},fidoTags:[o.Yn.SECOND_FACTOR,o.Yn.PASSWORDLESS,o.Yn.MULTI_FACTOR],filterFidoTags:function(e){return e},overrideTemplate:function(){},useNewConnectionsView:!1,utils:{hideIdentityClaimAttributes:function(){return!1},hideLogoInputFieldInIdPGeneralSettingsForm:function(){return!1},isAuthenticatorAllowed:function(e){return[i.bQ.BASIC_AUTH_REQUEST_PATH_AUTHENTICATOR,i.bQ.OAUTH_REQUEST_PATH_AUTHENTICATOR,i.bQ.X509_AUTHENTICATOR,i.bQ.SESSION_EXECUTOR_AUTHENTICATOR].includes(e)},isProvisioningAttributesEnabled:function(){return!0},isRoleMappingsEnabled:function(){return!0}}}},15693:function(e,t,n){"use strict";n.r(t),n.d(t,{EnterpriseIdentityProviderTemplateExtension:function(){return i}});var i={}},62363:function(e,t,n){"use strict";n.r(t),n.d(t,{attributeConfig:function(){return i.attributeConfig},applicationConfig:function(){return o.applicationConfig},commonConfig:function(){return a.commonConfig},getDocumentationLinksExtension:function(){return r.getDocumentationLinksExtension},identityProviderConfig:function(){return l.identityProviderConfig},AppViewExtensionTypes:function(){return s.AppViewExtensionTypes},SCIMConfigs:function(){return c.SCIMConfigs},serverConfigurationConfig:function(){return d.serverConfigurationConfig},userstoresConfig:function(){return u.userstoresConfig},userConfig:function(){return p.userConfig},organizationConfigs:function(){return m.organizationConfigs}});var i=n(9325),o=n(68594),a=n(3893),r=n(34849),l=n(72393),s=n(37503),c=n(25460),d=n(89039),u=n(15409),p=n(50618),m=n(43495)},32828:function(e,t,n){"use strict";var i;n.r(t),n.d(t,{AppViewExtensionTypes:function(){return i}}),i||(i={})},37503:function(e,t,n){"use strict";n.r(t),n.d(t,{AppViewExtensionTypes:function(){return i.AppViewExtensionTypes}});var i=n(32828)},43495:function(e,t,n){"use strict";n.r(t),n.d(t,{organizationConfigs:function(){return i}});var i={showOrganizationDropdown:!0}},25460:function(e,t,n){"use strict";n.r(t),n.d(t,{SCIMConfigs:function(){return i}});var i={custom:"",hideCore1Schema:!0,oidc:"http://wso2.org/oidc/claim",scim:{core1Schema:"urn:scim:schemas:core:1.0",coreSchema:"urn:ietf:params:scim:schemas:core:2.0",enterpriseSchema:"urn:ietf:params:scim:schemas:extension:enterprise:2.0:User",userSchema:"urn:ietf:params:scim:schemas:core:2.0:User"},scimDialectID:{customEnterpriseSchema:"dXJuOmlldGY6cGFyYW1zOnNjaW06c2NoZW1hczpleHRlbnNpb246ZW50ZXJwcmlzZToyLjA6VXNlcg"},scimEnterpriseUserClaimUri:{accountDisabled:"urn:ietf:params:scim:schemas:extension:enterprise:2.0:User.accountDisabled",accountLocked:"urn:ietf:params:scim:schemas:extension:enterprise:2.0:User.accountLocked",askPassword:"urn:ietf:params:scim:schemas:extension:enterprise:2.0:User.askPassword",isReadOnlyUser:"urn:ietf:params:scim:schemas:extension:enterprise:2.0:User.isReadOnlyUser",oneTimePassword:"urn:ietf:params:scim:schemas:extension:enterprise:2.0:User.oneTimePassword",profileUrl:"urn:ietf:params:scim:schemas:extension:enterprise:2.0:User.profileUrl"},serverSupportedClaimsAvailable:["urn:scim:schemas:core:1.0","urn:ietf:params:scim:schemas:core:2.0","urn:ietf:params:scim:schemas:core:2.0:User"]}},89039:function(e,t,n){"use strict";n.r(t),n.d(t,{serverConfigurationConfig:function(){return l}});var i=n(68905),o=n(23177),a=n(82791),r=n(5554),l={autoEnableConnectorToggleProperty:!1,connectorPropertiesToShow:["all"],connectorToggleName:{},connectorsToShow:["all"],intendSettings:!0,renderConnector:function(e,t,n,l,s){return i.createElement(o.Z,null,i.createElement(o.Z.Row,{columns:1},i.createElement(o.Z.Column,null,i.createElement(o.Z,{padded:!0},i.createElement(o.Z.Row,null,i.createElement(o.Z.Column,{width:16},i.createElement("div",{className:"connector-section-with-image-bg",style:{background:"url(".concat(n,")")}},i.createElement(a.Z,null,null===e||void 0===e?void 0:e.friendlyName,i.createElement(a.Z.Subheader,null,l)))))),s,i.createElement(r.Z,null),t)))},renderConnectorWithinEmphasizedSegment:!0,showConnectorsOnTheSidePanel:!0,showGovernanceConnectorCategories:!0,showPageHeading:!0}},50618:function(e,t,n){"use strict";n.r(t),n.d(t,{userConfig:function(){return o}});var i=n(1581),o={deleteUser:function(e){return(0,i.h8)(e.id)}}},15409:function(e,t,n){"use strict";n.r(t),n.d(t,{userstoresConfig:function(){return i}});var i={onUserstoreEdit:function(){return!0},shouldShowUserstore:function(){return!1},userstoreDomain:{appendToUsername:!0},userstoreEdit:{basicDetails:{showType:!0},groupDetails:{showAdditionalProperties:!0,showToggles:!0},remoteUserStoreEditPath:"",userDetails:{showAdditionalProperties:!0,showDisplayName:!0}},userstoreList:{allowAddingUserstores:!0,renderEmptyPlaceholder:function(){return null}}}},30328:function(e,t,n){"use strict";n.r(t),n.d(t,{EXTENSION_ROUTES:function(){return l}});var i=n(68905),o=n(29213);function a(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var l=function(){var e=a(o.ExtensionsManager.getConfig().routes.default),t=a(o.ExtensionsManager.getConfig().routes.develop),n=a(o.ExtensionsManager.getConfig().routes.manage),i=a(o.ExtensionsManager.getConfig().routes.fullscreen),r=a(o.ExtensionsManager.getConfig().routes.auth);return{auth:s(r),default:s(e),develop:s(t),fullscreen:s(i),manage:s(n)}},s=function e(t){return t.map((function(t){if(t.component){var o=t.component;"string"===typeof t.component&&(t.component=(0,i.lazy)((function(){return n(5749)("".concat(o))}))),t.children&&t.children.length>0&&(t.children=e(t.children))}})),t}},88585:function(e,t,n){"use strict";n.r(t),n.d(t,{ComponentPlaceholder:function(){return u}});var i=n(96462),o=n(68905),a=n(64805),r=n(2120),l=n(29213),s=n(12847);function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,o,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(i=n.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){l=!0,o=e}finally{try{r||null==n.return||n.return()}finally{if(l)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var u=function(e){var t,d,u=e.section,p=e.type,m=(0,a.$G)().t,f=c((0,o.useState)(null),2),v=f[0],g=f[1],h=null===(t=l.ExtensionsManager.getConfig())||void 0===t||null===(d=t.sections[p+"s"])||void 0===d?void 0:d[u];s.lD.getInstance();return(0,o.useEffect)((function(){!v&&h&&g((0,o.lazy)((function(){return n(5749)("".concat(h))})))}),[h]),o.createElement(i.ErrorBoundary,{onChunkLoadError:s.Wj.onChunkLoadError,fallback:o.createElement(i.EmptyPlaceholder,{image:(0,s.jF)().genericError,imageSize:"tiny",subtitle:[m("console:common.placeholders.genericError.subtitles.0"),m("console:common.placeholders.genericError.subtitles.1")],title:m("console:common.placeholders.genericError.title")})},o.createElement(o.Suspense,{fallback:o.createElement(r.Z,null,o.createElement(r.Z.Header,null,o.createElement(r.Z.Line,null),o.createElement(r.Z.Line,null)))},v&&o.createElement(v,null)))}},29213:function(e,t,n){"use strict";n.r(t),n.d(t,{ExtensionsManager:function(){return p}});var i=n(89787),o=n(68905),a=n(61543);function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,o,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(i=n.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){l=!0,o=e}finally{try{r||null==n.return||n.return()}finally{if(l)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function d(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,c;return t=e,c=[{key:"getInstance",value:function(){return this.instance}},{key:"getConfig",value:function(){return(0,a.ExtensionsConfig)()}},{key:"lazyLoadTemplateResources",value:function(e){var t;return l(l({},e),{},{content:function(e){if(!e&&!(0,i.Z)(e))return null;for(var t=function(){var t=s(r[a],2),i=t[0],l=t[1];e[i]=(0,o.lazy)((function(){return n(5749)("".concat(l))}))},a=0,r=Object.entries(e);a<r.length;a++)t();return e}(null===e||void 0===e?void 0:e.content),resource:(t=null===e||void 0===e?void 0:e.resource,"string"!==typeof t?t:n(5749)("".concat(t)).then((function(e){return e.default})))})}}],(r=[{key:"getApplicationTemplatesConfig",value:function(){var t,n=null===(t=e.getConfig().templateExtensions)||void 0===t?void 0:t.applications;return n?(n.categories&&Array.isArray(n.categories)&&n.categories.length>0&&(n.categories=n.categories.map((function(t){return e.lazyLoadTemplateResources(t)}))),n.groups&&Array.isArray(n.groups)&&n.groups.length>0&&(n.groups=n.groups.map((function(t){return e.lazyLoadTemplateResources(t)}))),n.templates&&Array.isArray(n.templates)&&n.templates.length>0&&(n.templates=n.templates.map((function(t){return e.lazyLoadTemplateResources(t)}))),n):{categories:[],groups:[],templates:[]}}},{key:"getIdentityProviderTemplatesConfig",value:function(){var t,n=null===(t=e.getConfig().templateExtensions)||void 0===t?void 0:t.identityProviders;return n?(n.categories&&Array.isArray(n.categories)&&n.categories.length>0&&(n.categories=n.categories.map((function(t){return e.lazyLoadTemplateResources(t)}))),n.groups&&Array.isArray(n.groups)&&n.groups.length>0&&(n.groups=n.groups.map((function(t){return e.lazyLoadTemplateResources(t)}))),n.templates&&Array.isArray(n.templates)&&n.templates.length>0&&(n.templates=n.templates.map((function(t){return e.lazyLoadTemplateResources(t)}))),n):{categories:[],groups:[],templates:[]}}}])&&d(t.prototype,r),c&&d(t,c),Object.defineProperty(t,"prototype",{writable:!1}),e}();u(p,"instance",new p)},67897:function(e,t,n){"use strict";n.r(t),n.d(t,{ComponentPlaceholder:function(){return i.ComponentPlaceholder},ExtensionsManager:function(){return o.ExtensionsManager},EXTENSION_ROUTES:function(){return a.EXTENSION_ROUTES},ComponentExtensionPlaceholder:function(){return r.ComponentExtensionPlaceholder},AppViewExtensionTypes:function(){return l.AppViewExtensionTypes},SCIMConfigs:function(){return l.SCIMConfigs},applicationConfig:function(){return l.applicationConfig},attributeConfig:function(){return l.attributeConfig},commonConfig:function(){return l.commonConfig},getDocumentationLinksExtension:function(){return l.getDocumentationLinksExtension},identityProviderConfig:function(){return l.identityProviderConfig},organizationConfigs:function(){return l.organizationConfigs},serverConfigurationConfig:function(){return l.serverConfigurationConfig},userConfig:function(){return l.userConfig},userstoresConfig:function(){return l.userstoresConfig}});var i=n(88585),o=n(29213),a=n(30328),r=n(23253),l=n(62363)},7882:function(e,t,n){"use strict";n.d(t,{W3:function(){return O},rw:function(){return v},yY:function(){return S},im:function(){return P},sl:function(){return f},AY:function(){return h},FG:function(){return M},Vc:function(){return k},WL:function(){return y},a2:function(){return E},S2:function(){return A},qt:function(){return N},fF:function(){return U},q9:function(){return D},gh:function(){return R},rA:function(){return L},TH:function(){return I},hN:function(){return g},lp:function(){return C},bz:function(){return T},aA:function(){return w},Ok:function(){return b}});var i=n(19486),o=n(82817),a=n(88742),r=n(79949),l=n(26072),s=n(71367),c=n(41264),d=n(98765),u=["id"];function p(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var m=i.AsgardeoSPAClient.getInstance().httpRequest.bind(i.AsgardeoSPAClient.getInstance()).bind(i.AsgardeoSPAClient.getInstance()),f=(i.AsgardeoSPAClient.getInstance().httpRequestAll.bind(i.AsgardeoSPAClient.getInstance()).bind(i.AsgardeoSPAClient.getInstance()),function(e){var t={headers:{Accept:"application/json","Access-Control-Allow-Origin":l.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:a.HttpMethods.GET,url:l.h.getState().config.endpoints.applications+"/"+e};return m(t).then((function(e){return 200!==e.status?Promise.reject(new Error("Failed to get app from: ")):Promise.resolve(e.data)})).catch((function(e){return Promise.reject(e)}))}),v=function(e){var t={headers:{Accept:"application/json","Access-Control-Allow-Origin":l.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:a.HttpMethods.DELETE,url:l.h.getState().config.endpoints.applications+"/"+e};return m(t).then((function(e){return 204!==e.status?Promise.reject(new Error("Failed to delete the application.")):Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},g=function(e){var t=e.id,n={data:p(e,u),headers:{Accept:"application/json","Access-Control-Allow-Origin":l.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:a.HttpMethods.PATCH,url:l.h.getState().config.endpoints.applications+"/"+t};return m(n).then((function(e){return 200!==e.status?Promise.reject(new Error("Failed to update application from: ")):Promise.resolve(e.data)})).catch((function(e){return Promise.reject(e)}))},h=function(e,t,n){var i={headers:{Accept:"application/json","Access-Control-Allow-Origin":l.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:a.HttpMethods.GET,params:{filter:n,limit:e,offset:t},url:l.h.getState().config.endpoints.applications};return m(i).then((function(e){return 200!==e.status?Promise.reject(new Error("Failed to get application list from: ")):Promise.resolve(e.data)})).catch((function(e){return Promise.reject(e)}))},b=function(e,t,n,i){var o={headers:{Accept:"application/json","Content-Type":"application/json"},method:a.HttpMethods.GET,params:{attributes:e,filter:i,limit:t,offset:n},url:l.h.getState().config.endpoints.applications},s=(0,r.Z)(o),c=s.data,d=s.error;return{data:c,error:d,isLoading:!d&&!c,isValidating:s.isValidating,mutate:s.mutate}},E=function(e){var t={headers:{Accept:"application/json","Access-Control-Allow-Origin":l.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:a.HttpMethods.GET,url:l.h.getState().config.endpoints.applications+"/meta/inbound-protocols?customOnly="+e};return m(t).then((function(e){return 200!==e.status?Promise.reject(new Error("Failed to get Inbound protocols from: ")):Promise.resolve(e.data)})).catch((function(e){return Promise.reject(e)}))},y=function(e){var t={headers:{Accept:"application/json","Access-Control-Allow-Origin":l.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:a.HttpMethods.GET,url:"".concat(l.h.getState().config.endpoints.applications,"/meta/inbound-protocols/").concat(e)};return m(t).then((function(e){if(200!==e.status)throw new o.IdentityAppsApiException(s.j.AUTH_PROTOCOL_METADATA_INVALID_STATUS_CODE_ERROR,null,e.status,e.request,e,e.config);return Promise.resolve(e.data)})).catch((function(e){throw new o.IdentityAppsApiException(s.j.AUTH_PROTOCOL_METADATA_FETCH_ERROR,e.stack,e.code,e.request,e.response,e.config)}))},A=function(e,t){var n={headers:{Accept:"application/json","Access-Control-Allow-Origin":l.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:a.HttpMethods.GET,url:"".concat(l.h.getState().config.endpoints.applications,"/").concat(e,"/inbound-protocols/").concat(t)};return m(n).then((function(e){return 200!==e.status?Promise.reject(new Error("Failed to retrieve the inbound protocol config.")):Promise.resolve(e.data)})).catch((function(e){return Promise.reject(e)}))},C=function(e,t,n){c.AI.OAUTH2_OIDC===n&&(n=c.AI.OIDC);var i={data:t,headers:{Accept:"application/json","Access-Control-Allow-Origin":l.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:a.HttpMethods.PUT,url:"".concat(l.h.getState().config.endpoints.applications,"/").concat(e,"/inbound-protocols/").concat(n)};return m(i).then((function(e){if(200!==e.status)throw new o.IdentityAppsApiException(s.j.AUTH_PROTOCOL_CONFIG_UPDATE_INVALID_STATUS_CODE_ERROR,null,e.status,e.request,e,e.config);return Promise.resolve(e.data)})).catch((function(e){throw new o.IdentityAppsApiException(s.j.AUTH_PROTOCOL_CONFIG_UPDATE_ERROR,e.stack,e.code,e.request,e.response,e.config)}))},S=function(e,t){var n={headers:{Accept:"application/json","Access-Control-Allow-Origin":l.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:a.HttpMethods.DELETE,url:"".concat(l.h.getState().config.endpoints.applications,"/").concat(e,"/inbound-protocols/").concat(t)};return m(n).then((function(e){if(204!==e.status)throw new o.IdentityAppsApiException(s.j.APP_PROTOCOL_DELETE_INVALID_STATUS_CODE_ERROR,null,e.status,e.request,e,e.config);return Promise.resolve(e.data)})).catch((function(e){throw new o.IdentityAppsApiException(s.j.APP_PROTOCOL_DELETE_ERROR,e.stack,e.code,e.request,e.response,e.config)}))},I=function(e,t){var n={data:t,headers:{Accept:"application/json","Access-Control-Allow-Origin":l.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:a.HttpMethods.PATCH,url:l.h.getState().config.endpoints.applications+"/"+e};return m(n).then((function(e){return 200!==e.status?Promise.reject(new Error("Failed to update advance configuration")):Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},O=function(e){var t={data:e,headers:{Accept:"application/json","Access-Control-Allow-Origin":l.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:a.HttpMethods.POST,url:l.h.getState().config.endpoints.applications};return m(t).then((function(e){return 201!==e.status?Promise.reject(new Error("Failed to create the application.")):Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},T=function(e,t){var n={data:t,headers:{Accept:"application/json","Access-Control-Allow-Origin":l.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:a.HttpMethods.PATCH,url:l.h.getState().config.endpoints.applications+"/"+e};return m(n).then((function(e){return 200!==e.status?Promise.reject(new Error("Failed to update authentication sequence")):Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},w=function(e,t){var n={data:t,headers:{Accept:"application/json","Access-Control-Allow-Origin":l.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:a.HttpMethods.PATCH,url:l.h.getState().config.endpoints.applications+"/"+e};return m(n).then((function(e){return 200!==e.status?Promise.reject(new Error("Failed to update claim configuration")):Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},R=function(e){var t={headers:{Accept:"application/json","Access-Control-Allow-Origin":l.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:a.HttpMethods.POST,url:l.h.getState().config.endpoints.applications+"/"+e+"/inbound-protocols/oidc/regenerate-secret"};return m(t).then((function(e){return 200!==e.status?Promise.reject(new Error("Failed to regenerate the application secret.")):Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},L=function(e){var t={headers:{Accept:"application/json","Access-Control-Allow-Origin":l.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:a.HttpMethods.POST,url:l.h.getState().config.endpoints.applications+"/"+e+"/inbound-protocols/oidc/revoke"};return m(t).then((function(e){return 200!==e.status?Promise.reject(new Error("Failed to revoke the application secret.")):Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},P=function(){var e={headers:{Accept:"application/json","Access-Control-Allow-Origin":l.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:a.HttpMethods.GET,url:"".concat(l.h.getState().config.endpoints.applications,"/meta/adaptive-auth-templates")};return m(e).then((function(e){var t;if(200!==e.status)throw new o.IdentityAppsApiException(s.j.ADAPTIVE_AUTH_TEMPLATES_FETCH_INVALID_STATUS_CODE_ERROR,null,e.status,e.request,e,e.config);return Promise.resolve({templatesJSON:JSON.parse(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.templatesJSON)})})).catch((function(e){throw new o.IdentityAppsApiException(s.j.ADAPTIVE_AUTH_TEMPLATES_FETCH_ERROR,e.stack,e.code,e.request,e.response,e.config)}))},M=function(e){var t={headers:{Accept:"application/json","Access-Control-Allow-Origin":l.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:a.HttpMethods.GET,url:l.h.getState().config.endpoints.applications+"/templates/"+e};return m(t).then((function(e){if(200!==e.status)throw new o.IdentityAppsApiException(s.j.APPLICATION_TEMPLATE_FETCH_INVALID_STATUS_CODE_ERROR,null,e.status,e.request,e,e.config);return Promise.resolve(e.data)})).catch((function(e){throw new o.IdentityAppsApiException(s.j.APPLICATION_TEMPLATE_FETCH_ERROR,e.stack,e.code,e.request,e.response,e.config)}))},k=function(e,t,n){var i={headers:{Accept:"application/json","Access-Control-Allow-Origin":l.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:a.HttpMethods.GET,params:{filter:n,limit:e,offset:t},url:l.h.getState().config.endpoints.applications+"/templates"};return m(i).then((function(e){if(200!==e.status)throw new o.IdentityAppsApiException(s.j.APPLICATION_TEMPLATES_LIST_FETCH_INVALID_STATUS_CODE_ERROR,null,e.status,e.request,e,e.config);return Promise.resolve(e.data)})).catch((function(e){throw new o.IdentityAppsApiException(s.j.APPLICATION_TEMPLATES_LIST_FETCH_ERROR,e.stack,e.code,e.request,e.response,e.config)}))},N=function(){var e={headers:{Accept:"application/json","Access-Control-Allow-Origin":l.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:a.HttpMethods.GET,url:l.h.getState().config.endpoints.wellKnown};return m(e).then((function(e){if(200!==e.status)throw new o.IdentityAppsApiException(s.j.OIDC_CONFIGURATIONS_STATUS_CODE_ERROR,null,e.status,e.request,e,e.config);var t={authorizeEndpoint:e.data.authorization_endpoint,endSessionEndpoint:e.data.end_session_endpoint,introspectionEndpoint:e.data.introspection_endpoint,jwksEndpoint:e.data.jwks_uri,tokenEndpoint:e.data.token_endpoint,tokenRevocationEndpoint:e.data.revocation_endpoint,userEndpoint:e.data.userinfo_endpoint,wellKnownEndpoint:"".concat(e.data.token_endpoint,"/.well-known/openid-configuration")};return Promise.resolve(t)})).catch((function(e){throw new o.IdentityAppsApiException(s.j.APPLICATION_OIDC_CONFIGURATIONS_FETCH_ERROR,e.stack,e.code,e.request,e.response,e.config)}))},D=function(){var e={headers:{Accept:"application/json","Access-Control-Allow-Origin":l.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:a.HttpMethods.GET,url:l.h.getState().config.endpoints.saml2Meta};return m(e).then((function(e){if(200!==e.status)throw new o.IdentityAppsApiException(s.j.SAML_CONFIGURATIONS_STATUS_CODE_ERROR,null,e.status,e.request,e,e.config);return Promise.resolve(d.yf.getIDPDetailsFromMetaXML(e.data))})).catch((function(e){throw new o.IdentityAppsApiException(s.j.APPLICATION_SAML_CONFIGURATIONS_FETCH_ERROR,e.stack,e.code,e.request,e.response,e.config)}))},U=function(){var e={headers:{Accept:"application/json","Access-Control-Allow-Origin":l.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:a.HttpMethods.GET,url:l.h.getState().config.endpoints.requestPathAuthenticators};return m(e).then((function(e){if(200!==e.status)throw new o.IdentityAppsApiException(s.j.REQUEST_PATH_AUTHENTICATORS_INVALID_STATUS_CODE_ERROR,null,e.status,e.request,e,e.config);return Promise.resolve(e.data)})).catch((function(e){throw new o.IdentityAppsApiException(s.j.REQUEST_PATH_AUTHENTICATORS_FETCH_ERROR,e.stack,e.code,e.request,e.response,e.config)}))}},69202:function(e,t,n){"use strict";n.d(t,{dA:function(){return I},Qm:function(){return lo},Eg:function(){return v.Eg},y7:function(){return $t.y7}});var i=n(69883),o=n(8890),a=n(88742),r=n(26278),l=n(96462),s=n(25479),c=n(68905),d=n(64805),u=n(83913),p=n(82791),m=n(7626),f=n(70515),v=n(65337),g=n(67897),h=n(12847),b=n(7882),E=n(71367),y=n(41264),A=n(98765);function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,o,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(i=n.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){l=!0,o=e}finally{try{r||null==n.return||n.return()}finally{if(l)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var I=function(e){var t=e.advancedSearch,n=e.defaultListItemLimit,S=e.featureConfig,I=e.isLoading,O=e.list,T=e.onApplicationDelete,w=e.onListItemClick,R=e.onEmptyListPlaceholderActionClick,L=e.onSearchQueryClear,P=e.searchQuery,M=e.selection,k=e.showListItemActions,N=e.isSetStrongerAuth,D=e.isRenderedOnPortal,U=e["data-testid"],j=e["data-componentid"],Z=(0,d.$G)().t,_=(0,u.I0)(),x=(0,u.v9)((function(e){return e.application.templates})),F=(0,u.v9)((function(e){var t;return null===e||void 0===e||null===(t=e.auth)||void 0===t?void 0:t.allowedScopes})),H=(0,u.v9)((function(e){var t;return null===e||void 0===e||null===(t=e.config)||void 0===t?void 0:t.ui})),q=(0,u.v9)((function(e){var t;return null===e||void 0===e||null===(t=e.auth)||void 0===t?void 0:t.tenantDomain})),V=C((0,c.useState)(!1),2),B=V[0],G=V[1],z=C((0,c.useState)(void 0),2),W=z[0],K=z[1],$=C((0,c.useState)(!1),2),Y=$[0],Q=$[1],J=C((0,l.useConfirmationModalAlert)(),3),X=J[0],ee=J[1],te=J[2],ne=h.lD.getInstance();(0,c.useEffect)((function(){void 0===x&&(Q(!0),A.e7.getApplicationTemplates().finally((function(){Q(!1)})))}),[x]);var ie=function(e,t){N?h.m8.push({pathname:h.$x.getPaths().get("APPLICATION_EDIT").replace(":id",e),search:"?".concat(E.j.APP_STATE_STRONG_AUTH_PARAM_KEY,"=").concat(E.j.APP_STATE_STRONG_AUTH_PARAM_VALUE)}):h.m8.push({pathname:h.$x.getPaths().get("APPLICATION_EDIT").replace(":id",e),search:t===y.Ch.READ?"?".concat(E.j.APP_READ_ONLY_STATE_URL_SEARCH_PARAM_KEY,"=true"):""})},oe=function(){return P&&0===(null===O||void 0===O?void 0:O.totalResults)?c.createElement(l.EmptyPlaceholder,{action:c.createElement(l.LinkButton,{onClick:L},Z("console:develop.placeholders.emptySearchResult.action")),image:(0,h.jF)().emptySearch,imageSize:"tiny",title:Z("console:develop.placeholders.emptySearchResult.title"),subtitle:[Z("console:develop.placeholders.emptySearchResult.subtitles.0",{query:P}),Z("console:develop.placeholders.emptySearchResult.subtitles.1")],"data-testid":"".concat(U,"-empty-search-placeholder")}):0===(null===O||void 0===O?void 0:O.totalResults)?c.createElement(l.EmptyPlaceholder,{className:D?"":"list-placeholder",action:R&&c.createElement(i.di,{when:i.TA.APPLICATION_WRITE},c.createElement(l.PrimaryButton,{onClick:function(){ne.publish(j+"-click-new-application-button"),R()}},c.createElement(f.Z,{name:"add"}),Z("console:develop.features.applications.placeholders.emptyList.action"))),image:(0,h.jF)().newList,imageSize:"tiny",subtitle:[Z("console:develop.features.applications.placeholders.emptyList.subtitles.0")],"data-testid":"".concat(U,"-empty-placeholder")}):null};return c.createElement(c.Fragment,null,c.createElement(l.DataTable,{className:"applications-table",externalSearch:t,isLoading:I||Y,loadingStateOptions:{count:null!==n&&void 0!==n?n:h.ru.DEFAULT_RESOURCE_LIST_ITEM_LIMIT,imageType:"square"},actions:!N&&function(){if(k)return[{"data-testid":"".concat(U,"-item-edit-button"),hidden:function(){return!(0,o.isFeatureEnabled)(null===S||void 0===S?void 0:S.applications,E.j.FEATURE_DICTIONARY.get("APPLICATION_EDIT"))},icon:function(e){var t,n;return(null===e||void 0===e?void 0:e.access)!==y.Ch.READ&&(0,o.hasRequiredScopes)(null===S||void 0===S?void 0:S.applications,null===S||void 0===S||null===(t=S.applications)||void 0===t||null===(n=t.scopes)||void 0===n?void 0:n.update,F)?"pencil alternate":"eye"},onClick:function(e,t){return ie(t.id,t.access)},popupText:function(e){var t,n;return(null===e||void 0===e?void 0:e.access)!==y.Ch.READ&&(0,o.hasRequiredScopes)(null===S||void 0===S?void 0:S.applications,null===S||void 0===S||null===(t=S.applications)||void 0===t||null===(n=t.scopes)||void 0===n?void 0:n.update,F)?Z("common:edit"):Z("common:view")},renderer:"semantic-icon"},{"data-testid":"".concat(U,"-item-delete-button"),hidden:function(e){var t,n,i=!(0,o.hasRequiredScopes)(null===S||void 0===S?void 0:S.applications,null===S||void 0===S||null===(t=S.applications)||void 0===t||null===(n=t.scopes)||void 0===n?void 0:n.delete,F),a=q===h.$x.getSuperTenant()&&H.systemAppsIdentifiers.includes(null===e||void 0===e?void 0:e.name);return i||a||(null===e||void 0===e?void 0:e.access)===y.Ch.READ||!g.applicationConfig.editApplication.showDeleteButton(e)},icon:function(){return"trash alternate"},onClick:function(e,t){G(!0),K(t)},popupText:function(){return Z("common:delete")},renderer:"semantic-icon"}]}(),columns:[{allowToggleVisibility:!1,dataIndex:"name",id:"name",key:"name",render:function(e){var t;return x&&x instanceof Array&&x.length>0&&x.find((function(t){return t.id===e.templateId})),c.createElement(p.Z,{image:!0,as:"h6",className:"header-with-icon","data-testid":"".concat(U,"-item-heading")},e.image?c.createElement(l.AppAvatar,{size:"mini",name:e.name,image:e.image,spaced:"right","data-testid":"".concat(U,"-item-image")}):c.createElement(l.AppAvatar,{image:c.createElement(l.AnimatedAvatar,{name:e.name,size:"mini","data-testid":"".concat(U,"-item-image-inner")}),size:"mini",spaced:"right","data-testid":"".concat(U,"-item-image")}),c.createElement(p.Z.Content,null,e.name,c.createElement(p.Z.Subheader,{className:"truncate ellipsis","data-testid":"".concat(U,"-item-sub-heading")},(null===(t=e.description)||void 0===t?void 0:t.length)>80?c.createElement(m.Z,{content:e.description,trigger:c.createElement("span",null,e.description)}):e.description)))},title:Z("console:develop.features.applications.list.columns.name")},{allowToggleVisibility:!1,dataIndex:"templateID",id:"templateID",key:"templateID",render:function(e){if(new Set([E.j.CUSTOM_APPLICATION_SAML,E.j.CUSTOM_APPLICATION_OIDC,E.j.CUSTOM_APPLICATION_PASSIVE_STS]).has(e.templateId)){var t=x&&x instanceof Array&&x.length>0&&x.find((function(e){return e.templateId===E.j.CUSTOM_APPLICATION})),n=(0,s.Z)(t);return n&&(e.templateId===E.j.CUSTOM_APPLICATION_SAML?n.name=v.vw.name:e.templateId===E.j.CUSTOM_APPLICATION_OIDC?n.name=v.We.name:e.templateId===E.j.CUSTOM_APPLICATION_PASSIVE_STS&&(n.name=v.KE.name)),c.createElement("div",null,null===n||void 0===n?void 0:n.name)}var i=x&&x instanceof Array&&x.length>0&&x.find((function(t){return t.id===e.templateId}));return c.createElement("div",null,null===i||void 0===i?void 0:i.name)},title:Z("console:develop.features.applications.list.columns.name")},{allowToggleVisibility:!1,dataIndex:"action",id:"actions",key:"actions",textAlign:"right",title:Z("console:develop.features.applications.list.columns.actions")}],data:null===O||void 0===O?void 0:O.applications,onRowClick:function(e,t){ie(t.id,t.access),w&&w(e,t)},placeholders:oe(),selectable:M,showHeader:!1,transparent:!(I||Y)&&null!==oe(),"data-testid":U}),W&&c.createElement(l.ConfirmationModal,{onClose:function(){return G(!1)},type:"negative",open:B,assertionHint:Z("console:develop.features.applications.confirmations.deleteApplication.assertionHint"),assertionType:"checkbox",primaryAction:Z("common:confirm"),secondaryAction:Z("common:cancel"),onSecondaryActionClick:function(){G(!1),ee(null)},onPrimaryActionClick:function(){return e=W.id,void(0,b.rw)(e).then((function(){_((0,r.addAlert)({description:Z("console:develop.features.applications.notifications.deleteApplication.success.description"),level:a.AlertLevels.SUCCESS,message:Z("console:develop.features.applications.notifications.deleteApplication.success.message")})),G(!1),T()})).catch((function(e){e.response&&e.response.data&&e.response.data.description?_(ee({description:e.response.data.description,level:a.AlertLevels.ERROR,message:Z("console:develop.features.applications.notifications.deleteApplication.error.message")})):_(ee({description:Z("console:develop.features.applications.notifications.deleteApplication.genericError.description"),level:a.AlertLevels.ERROR,message:Z("console:develop.features.applications.notifications.deleteApplication.genericError.message")}))}));var e},"data-testid":"".concat(U,"-delete-confirmation-modal"),closeOnDimmerClick:!1},c.createElement(l.ConfirmationModal.Header,{"data-testid":"".concat(U,"-delete-confirmation-modal-header")},Z("console:develop.features.applications.confirmations.deleteApplication.header")),c.createElement(l.ConfirmationModal.Message,{attached:!0,negative:!0,"data-testid":"".concat(U,"-delete-confirmation-modal-message")},Z("console:develop.features.applications.confirmations.deleteApplication.message")),c.createElement(l.ConfirmationModal.Content,{"data-testid":"".concat(U,"-delete-confirmation-modal-content")},c.createElement("div",{className:"modal-alert-wrapper"}," ",X&&te),Z("console:develop.features.applications.confirmations.deleteApplication.content"))))};I.defaultProps={"data-componentid":"application","data-testid":"application-list",selection:!0,showListItemActions:!0};var O=n(72932),T=n.n(O),w=n(57719),R=n(87289),L=n(30372),P=n(44706),M=n(23177),k=n(80954),N=n(43017),D=n(58704),U=n(1410),j=n(56471),Z=n(84504),_=n(75153),x=n(30418);function F(){return F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},F.apply(this,arguments)}function H(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,o,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(i=n.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){l=!0,o=e}finally{try{r||null==n.return||n.return()}finally{if(l)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var V=function(e){var t=e.claimURI,n=e.displayName,i=e.localClaimDisplayName,o=e.localDialect,a=e.updateMapping,r=e.addToMapping,s=e.selectMandatory,u=e.isDefaultMappingChanged,p=e.mapping,v=e.initialMandatory,g=e.initialRequested,h=e.claimMappingOn,b=e.claimMappingError,E=e.readOnly,y=e.deleteAttribute,A=e.subject,C=e.label,S=e.isOIDCMapping,I=e["data-testid"],O=(0,d.$G)().t,T=H((0,c.useState)(!1),2),w=T[0],L=T[1],P=H((0,c.useState)(!1),2),M=P[0],k=P[1],N=H((0,c.useState)(!1),2),Z=N[0],_=N[1],x=H((0,c.useState)(!0),2),q=x[0],V=x[1],B=H((0,c.useState)(t),2),G=B[0],z=B[1],W=H((0,c.useState)(G),1)[0],K="http://wso2.org/claims";return(0,c.useEffect)((function(){_(v)}),[v]),(0,c.useEffect)((function(){V(g)}),[g]),(0,c.useEffect)((function(){(0,R.Z)(null===p||void 0===p?void 0:p.applicationClaim)&&(0,R.Z)(p)&&k(b)}),[b]),(0,c.useEffect)((function(){L(h),z(t),p&&(r(t,h),null!==p&&void 0!==p&&p.applicationClaim?(z(null===p||void 0===p?void 0:p.applicationClaim),a(t,null===p||void 0===p?void 0:p.applicationClaim),u(!0)):a(t,W))}),[h]),c.createElement(D.Z.Row,{"data-testid":I},c.createElement(D.Z.Cell,null,c.createElement("div",null,o?n:i),S?c.createElement(l.Hint,{warning:!0,popup:!0},O("console:develop.features.applications.edit.sections.attributes.selection.mappingTable.listItem.faultyAttributeMappingHint")):"",c.createElement(m.Z,{content:S&&t.startsWith(K)?O("console:develop.features.applications.edit.sections.attributes.selection.mappingTable.listItem.faultyAttributeMapping"):t,inverted:!0,trigger:c.createElement(l.Code,{compact:!0,withBackground:!1},S&&t.startsWith(K)?O("console:develop.features.applications.edit.sections.attributes.selection.mappingTable.listItem.faultyAttributeMapping"):t),position:"bottom left"}),c.createElement(l.Hint,{warning:!0,hidden:!C},C)),o&&w&&c.createElement(c.Fragment,null,c.createElement(D.Z.Cell,{error:M},c.createElement(U.Z,{placeholder:O("console:develop.features.applications.edit.sections.attributes.selection.mappingTable.listItem.fields.claim.placeholder",{name:n}),value:w?G:W,onChange:!E&&function(e){var n=e.target.value.replace(/[^\w+$:/.]/g,"");z(n),a(t,n),k((0,R.Z)(n)),b&&!(0,R.Z)(n)&&k(!1),u(!0)},disabled:!w,readOnly:E,required:!0,error:M}))),c.createElement(D.Z.Cell,F({},o&&!w&&{textAlign:"center"},o&&w&&{textAlign:"center"},!o&&{textAlign:"center"}),c.createElement(m.Z,{trigger:c.createElement(j.Z,{checked:v||Z||A,onClick:!E&&function(){Z?(s(t,!1),_(!1)):(_(!0),s(t,!0))},disabled:!!w&&!q,readOnly:A||E||S}),position:"top right",content:O(A?"console:develop.features.applications.edit.sections.attributes.selection.mappingTable.listItem.actions.subjectDisabledSelection":Z?"console:develop.features.applications.edit.sections.attributes.selection.mappingTable.listItem.actions.removeMandatory":"console:develop.features.applications.edit.sections.attributes.selection.mappingTable.listItem.actions.makeMandatory"),inverted:!0,disabled:!A&&(!!E||!!w&&!q),flowing:A})),E&&!S||!y?null:c.createElement(D.Z.Cell,{textAlign:"right"},c.createElement(m.Z,{trigger:c.createElement(f.Z,{link:!0,className:"list-icon pr-4",size:"large",color:"grey",name:"trash alternate",onClick:y}),position:"top right",content:O("common:remove"),inverted:!0})))},B=n(85027);function G(e){return function(e){if(Array.isArray(e))return K(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||W(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,o,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(i=n.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){l=!0,o=e}finally{try{r||null==n.return||n.return()}finally{if(l)throw o}}return a}(e,t)||W(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W(e,t){if(e){if("string"===typeof e)return K(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?K(e,t):void 0}}function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var $=function(e){var t=e.selectedClaims,n=e.showAddModal,i=e.setShowAddModal,o=e.availableClaims,a=e.setAvailableClaims,r=e.setInitialSelectedClaims,s=e.updateMappings,u=e["data-testid"],p=(0,d.$G)().t,m=z((0,c.useState)([]),2),f=m[0],v=m[1],g=z((0,c.useState)([]),2),h=g[0],b=g[1],E=z((0,c.useState)([]),2),y=E[0],A=E[1],C=z((0,c.useState)(!1),2),S=C[0],I=C[1];(0,c.useEffect)((function(){b(S?y:[])}),[S]),(0,c.useEffect)((function(){if(n){if(t.length>0){var e=(0,k.Z)((0,N.Z)(t,o),"displayName");v(e),A(e)}else{var i=(0,k.Z)(o,"displayName");v(i),A(i)}b(t)}else v([]),A([]),b([])}),[n]);return c.createElement(B.Z,{open:n,size:"large",className:"user-roles attribute-modal","data-testid":u},c.createElement(B.Z.Header,null,p("console:develop.features.applications.edit.sections.attributes.selection.addWizard.header"),c.createElement(l.Heading,{subHeading:!0,ellipsis:!0,as:"h6"},p("console:develop.features.applications.edit.sections.attributes.selection.addWizard.subHeading"))),c.createElement(B.Z.Content,{image:!0},c.createElement(l.TransferComponent,{selectionComponent:!0,searchPlaceholder:p("console:develop.features.applications.edit.sections.attributes.selection.addWizard.steps.select.transfer.searchPlaceholders.attribute"),handleHeaderCheckboxChange:function(){I(!S)},isHeaderCheckboxChecked:S,handleUnelectedListSearch:function(e){var n=e.target.value;if(n.length>0){var i=f.filter((function(e){return-1!==e.displayName.toLowerCase().indexOf(n.toLowerCase())})),a=f.filter((function(e){return-1!==e.claimURI.toLowerCase().indexOf(n.toLowerCase())}));A((0,k.Z)((0,N.Z)(i,a),"displayName"))}else t.length>0?A((0,k.Z)((0,N.Z)(t,o),"displayName")):A((0,k.Z)(f,"displayName"))},"data-testid":"".concat(u,"-transfer-component")},c.createElement(l.TransferList,{selectionComponent:!0,isListEmpty:!(y.length>0),listType:"unselected","data-testid":"".concat(u,"-unselected-transfer-list"),emptyPlaceholderDefaultContent:p("console:manage.features.transferList.list.emptyPlaceholders.default")},null===y||void 0===y?void 0:y.map((function(e,t){return c.createElement(l.TransferListItem,{handleItemChange:function(){return function(e){var t=G(h);null!==t&&void 0!==t&&t.includes(e)?(t.splice(t.indexOf(e),1),b(t)):(e.requested=!0,t.push(e),b(t))}(e)},key:e.claimURI,listItem:e.displayName,listItemId:e.id,listItemIndex:e.claimURI,isItemChecked:h.includes(e),showSecondaryActions:!1,showListSubItem:!0,listSubItem:c.createElement(l.Code,{compact:!0,withBackground:!1},e.claimURI),"data-testid":"".concat(u,"-unselected-transfer-list-item-").concat(t)})}))))),c.createElement(B.Z.Actions,null,c.createElement(l.LinkButton,{onClick:function(){i(!1)},"data-testid":"".concat(u,"-cancel-button")},p("common:cancel")),c.createElement(l.PrimaryButton,{onClick:function(){var e=G(h),n=t.filter((function(t){return!(null!==e&&void 0!==e&&e.includes(t))})),o=e.filter((function(e){return!(null!==t&&void 0!==t&&t.includes(e))}));s(o,n),r(e),a(G(f)),i(!1)},"data-testid":"".concat(u,"-save-button")},p("common:save"))))};$.defaultProps={"data-testid":"application-attribute-selection-wizard"};var Y=n(95745);function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(n),!0).forEach((function(t){X(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function X(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ee(e){return function(e){if(Array.isArray(e))return ie(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ne(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function te(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,o,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(i=n.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){l=!0,o=e}finally{try{r||null==n.return||n.return()}finally{if(l)throw o}}return a}(e,t)||ne(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ne(e,t){if(e){if("string"===typeof e)return ie(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ie(e,t):void 0}}function ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var oe=function(e){var t=e.claims,n=e.setClaims,i=e.externalClaims,o=e.selectedClaims,a=e.setExternalClaims,r=e.selectedExternalClaims,s=e.setSelectedClaims,p=e.setSelectedExternalClaims,m=e.selectedDialect,v=e.selectedSubjectValue,b=e.setClaimMapping,E=e.createMapping,y=e.removeMapping,A=e.getCurrentMapping,C=e.updateClaimMapping,S=e.addToClaimMapping,I=e.claimConfigurations,O=e.claimMappingOn,T=e.defaultSubjectAttribute,w=e.showClaimMappingRevertConfirmation,R=e.setClaimMappingOn,L=e.claimMappingError,P=e.readOnly,F=e.updateMappings,H=e.isUserAttributesLoading,q=e.setUserAttributesLoading,B=e.onlyOIDCConfigured,G=e["data-testid"],z=(0,d.$G)().t,W=(0,l.useDocumentation)().getLink,K=te((0,c.useState)([]),2),Q=K[0],X=K[1],ne=te((0,c.useState)([]),2),ie=ne[0],oe=ne[1],ae=te((0,c.useState)(!1),2),re=ae[0],le=ae[1],se=te((0,c.useState)([]),2),ce=se[0],de=se[1],ue=te((0,c.useState)([]),2),pe=ue[0],me=ue[1],fe=te((0,c.useState)(!1),2),ve=fe[0],ge=fe[1],he=te((0,c.useState)(!1),2),be=he[0],Ee=he[1],ye=te((0,c.useState)(!1),2),Ae=ye[0],Ce=ye[1],Se=te((0,c.useState)(),2),Ie=Se[0],Oe=Se[1],Te=(0,c.useRef)(!1),we=h.lD.getInstance(),Re=(0,u.v9)((function(e){return e.config})),Le=te((0,c.useState)(i),1)[0];(0,c.useEffect)((function(){var e,t=ee(pe);null===I||void 0===I||null===(e=I.claimMappings)||void 0===e||e.map((function(e){if(!pe.find((function(t){return(null===t||void 0===t?void 0:t.mappedLocalClaimURI)===e.localClaim.uri}))){var n=ie.find((function(t){return(null===t||void 0===t?void 0:t.mappedLocalClaimURI)===e.localClaim.uri}));n&&t.push(n)}})),p(t),me(t)}),[I]),(0,c.useEffect)((function(){ve&&I&&(m.localDialect&&(Q.length>0||o.length>0)&&q(!1),!m.localDialect&&(ie.length>0||r.length>0)&&q(!1))}),[Q,ie,I,ve]);var Pe=function(e,t){if(m.localDialect){var n=ee(o);n.forEach((function(n){n.claimURI===e&&(n.mandatory=t)})),s(n)}else{var i=ee(r);i.forEach((function(n){n.claimURI===e&&(n.mandatory=t)})),p(i)}},Me=function(e,t){if(m.localDialect){var n=ee(o);n.forEach((function(n){n.claimURI===e&&(n.requested=t)})),s(n)}},ke=function(){var e,t=[];"CUSTOM"===(null===I||void 0===I?void 0:I.dialect)?null===(e=I.claimMappings)||void 0===e||e.map((function(e){t.push(e.localClaim.uri)})):"LOCAL"===(null===I||void 0===I?void 0:I.dialect)&&I.requestedClaims.map((function(e){t.push(e.claim.uri)}));return t},Ne=function(e){var t;if("CUSTOM"===I.dialect){var n,i=null===(n=I.claimMappings.find((function(t){var n;return(null===t||void 0===t||null===(n=t.localClaim)||void 0===n?void 0:n.uri)===e})))||void 0===n?void 0:n.applicationClaim;if(i){var o=I.requestedClaims.find((function(e){var t;return(null===e||void 0===e||null===(t=e.claim)||void 0===t?void 0:t.uri)===i}));if(o)return o.mandatory}}return null===(t=I.requestedClaims.find((function(t){var n;return(null===t||void 0===t||null===(n=t.claim)||void 0===n?void 0:n.uri)===e})))||void 0===t?void 0:t.mandatory},De=function(e){if("CUSTOM"===I.dialect){var t,n=null===(t=I.claimMappings.find((function(t){var n;return(null===t||void 0===t||null===(n=t.localClaim)||void 0===n?void 0:n.uri)===e})))||void 0===t?void 0:t.applicationClaim;return!!(n?I.requestedClaims.find((function(e){var t;return(null===e||void 0===e||null===(t=e.claim)||void 0===t?void 0:t.uri)===n})):I.requestedClaims.find((function(t){var n;return(null===t||void 0===t||null===(n=t.claim)||void 0===n?void 0:n.uri)===e})))}return!0},Ue=function(){var e,t,n;return(null===I||void 0===I||null===(e=I.subject)||void 0===e||null===(t=e.claim)||void 0===t?void 0:t.uri)===T&&(null===(n=I.requestedClaims)||void 0===n?void 0:n.findIndex((function(e){var t;return(null===e||void 0===e||null===(t=e.claim)||void 0===t?void 0:t.uri)===T})))<0},je=function(){we.publish("application-user-attribute-click-add"),Ee(!0)};(0,c.useEffect)((function(){t&&X(ee(g.applicationConfig.attributeSettings.attributeSelection.getClaims(t))),i&&oe(ee(g.applicationConfig.attributeSettings.attributeSelection.getExternalClaims(i)))}),[t,i]),(0,c.useEffect)((function(){o&&de(ee(o)),r&&me(ee(r))}),[o,r]),(0,c.useEffect)((function(){Te.current||(ge(!1),function(){if(q(!0),m.localDialect){var e=ke(),o=[],r=[];if(g.applicationConfig.attributeSettings.attributeSelection.getClaims(t).map((function(t){if(!e.includes(t.claimURI)||t.claimURI===T&&Ue())r.push(t);else{var n=J(J({},t),{},{mandatory:Ne(t.claimURI),requested:De(t.claimURI)});o.push(n)}})),s(o),n(r),X(r),"CUSTOM"===(null===I||void 0===I?void 0:I.dialect)){var l=[];I.claimMappings.map((function(e){if(e&&e.localClaim&&(e.localClaim.uri!==T||!Ue())){var t={addMapping:!0,applicationClaim:e.applicationClaim,localClaim:{displayName:e.localClaim.displayName,id:e.localClaim.id,uri:e.localClaim.uri}};l.push(t)}})),b(l)}else{var c=[];o.map((function(e){var t={addMapping:!1,applicationClaim:"",localClaim:{displayName:e.displayName,id:e.id,uri:e.claimURI}};c.push(t)})),b(c)}ge(!0)}else{var d,u=ke(),f=[],v=[];g.applicationConfig.attributeSettings.attributeSelection.getExternalClaims(i).map((function(e){if(u.includes(e.mappedLocalClaimURI)){var t=J(J({},e),{},{mandatory:Ne(e.mappedLocalClaimURI),requested:!0});f.push(t)}else v.push(e)}));var h=ee(pe);null===I||void 0===I||null===(d=I.claimMappings)||void 0===d||d.map((function(e){null===t||void 0===t||t.map((function(t){if(e.localClaim.uri===t.claimURI){var n={claimDialectURI:t.dialectURI,claimURI:t.claimURI,id:t.id,localClaimDisplayName:t.displayName,mandatory:t.mandatory,mappedLocalClaimURI:e.localClaim.uri,requested:t.requested};f.find((function(t){return(null===t||void 0===t?void 0:t.mappedLocalClaimURI)===e.localClaim.uri}))||f.push(n)}}))})),me(h),p(f),a(v),oe(v),ge(!0)}}(),Te.current=!0)}),[I]);var Ze=function(e){if(m.localDialect){var l=o.find((function(t){return t.claimURI===e}));s(o.filter((function(t){return t.claimURI!==e}))),t.find((function(t){return t.claimURI===e}))||n([l].concat(ee(t))),O&&y(e)}else{var c=r.find((function(t){return t.mappedLocalClaimURI===e}));p(r.filter((function(t){return t.mappedLocalClaimURI!==e}))),me(pe.filter((function(t){return t.mappedLocalClaimURI!==e})));var d=i.find((function(t){return t.mappedLocalClaimURI===e}));d||a([c].concat(ee(i)))}},_e=function(e){Oe(e),v===xe(e)&&T!==e?Ce(!0):Ze(e)},xe=function(e){if(O){var t=A(e);return void 0!==t?t.applicationClaim:e}return e},Fe=function(e){var t=!1;return null===Le||void 0===Le||Le.map((function(n){n.mappedLocalClaimURI!==e.mappedLocalClaimURI&&e.mappedLocalClaimURI!==T||(t=!0)})),t};return!H&&I&&ve?c.createElement(c.Fragment,null,c.createElement(M.Z.Row,{"data-testid":G},c.createElement(M.Z.Column,{computer:16,tablet:16,largeScreen:12,widescreen:12},c.createElement(l.Heading,{as:"h4"},z("console:develop.features.applications.edit.sections.attributes.selection.heading")),c.createElement(l.Heading,{as:"h6",color:"grey"},z("console:develop.features.applications.edit.sections.attributes.selection.description"),function(){var e=void 0;return e=m.localDialect?W("develop.applications.editApplication.samlApplication.attributes.learnMore"):W("develop.applications.editApplication.oidcApplication.attributes.learnMore"),c.createElement(l.DocumentationLink,{link:e},z("common:learnMore"))}()),o.length>0||r.length>0?c.createElement(c.Fragment,null,c.createElement(M.Z.Row,{className:"user-role-edit-header-segment clearing attributes"},c.createElement(D.Z,{"data-testid":"".concat(G,"-action-bar"),basic:"very",compact:!0},c.createElement(D.Z.Body,null,c.createElement(D.Z.Row,null,c.createElement(D.Z.Cell,{collapsing:!0,width:"6"},c.createElement(U.Z,{icon:c.createElement(f.Z,{name:"search"}),iconPosition:"left",onChange:function(e){var t=e.target.value;t.length>0?function(e){if(m.localDialect){var t=o.filter((function(t){return-1!==t.displayName.toLowerCase().indexOf(e.toLowerCase())})),n=o.filter((function(t){return-1!==t.claimURI.toLowerCase().indexOf(e.toLowerCase())}));de((0,k.Z)((0,N.Z)(t,n),"displayName"))}else{var i=r.filter((function(t){return-1!==t.localClaimDisplayName.toLowerCase().indexOf(e.toLowerCase())})),a=r.filter((function(t){return-1!==t.claimURI.toLowerCase().indexOf(e.toLowerCase())}));me((0,k.Z)((0,N.Z)(i,a),"localClaimDisplayName"))}}(t):m.localDialect?de(o):me(r)},placeholder:z("console:develop.features.applications.edit.sections.attributes.selection.mappingTable.searchPlaceholder"),floated:"left",size:"small","data-testid":"".concat(G,"-search")})),m.localDialect&&c.createElement(D.Z.Cell,{textAlign:"right"},c.createElement(j.Z,{slider:!0,checked:O,onChange:function(){O?re?w(!0):R(!1):R(!0)},label:z("console:develop.features.applications.edit.sections.attributes.selection.mappingTable.actions.enable"),readOnly:P,"data-testid":"".concat(G,"-cliam-mapping-toggle")})),!P&&c.createElement(D.Z.Cell,{textAlign:"right"},c.createElement(Z.Z,{size:"medium",icon:"pencil",floated:"right",onClick:je,"data-testid":"".concat(G,"-update-button")})))))),c.createElement(_.Z,{className:"user-role-edit-header-segment attributes"},c.createElement(M.Z.Row,null,m.localDialect?c.createElement(D.Z,{singleLine:!0,compact:!0,"data-testid":"".concat(G,"-list"),fixed:!0},c.createElement(D.Z.Header,null,O?c.createElement(D.Z.Row,null,c.createElement(D.Z.HeaderCell,{width:"8"},c.createElement("strong",null,z("console:develop.features.applications.edit.sections.attributes.selection.mappingTable.columns.attribute"))),c.createElement(D.Z.HeaderCell,{width:"8"},c.createElement("strong",null,z("console:develop.features.applications.edit.sections.attributes.selection.mappingTable.columns.appAttribute")),c.createElement(l.Hint,{icon:"info circle",popup:!0},z("console:develop.features.applications.edit.sections.attributes.selection.mappingTable.mappedAtributeHint"))),c.createElement(D.Z.HeaderCell,{width:"4",textAlign:"center"},c.createElement("strong",null,z("console:develop.features.applications.edit.sections.attributes.selection.mappingTable.columns.mandatory")),c.createElement(l.Hint,{icon:"info circle",popup:!0},z("console:develop.features.applications.edit.sections.attributes.selection.mandatoryAttributeHint",{productName:Re.ui.productName}))),c.createElement(D.Z.HeaderCell,{width:"2"})):c.createElement(D.Z.Row,null,c.createElement(D.Z.HeaderCell,{width:"10"},c.createElement("strong",null,z("console:develop.features.applications.edit.sections.attributes.selection.mappingTable.columns.attribute"))),c.createElement(D.Z.HeaderCell,{width:"8",textAlign:"center"},c.createElement("strong",null,z("console:develop.features.applications.edit.sections.attributes.selection.mappingTable.columns.mandatory")),c.createElement(l.Hint,{icon:"info circle",popup:!0},z("console:develop.features.applications.edit.sections.attributes.selection.mandatoryAttributeHint",{productName:Re.ui.productName}))),c.createElement(D.Z.HeaderCell,{width:"2"}))),c.createElement(D.Z.Body,null,null===ce||void 0===ce?void 0:ce.map((function(e){return c.createElement(V,{key:e.id,claimURI:e.claimURI,displayName:e.displayName,mappedURI:e.claimURI,localDialect:m.localDialect,updateMapping:C,addToMapping:S,mapping:A(e.claimURI),isDefaultMappingChanged:le,initialMandatory:v===xe(e.claimURI)||e.mandatory,initialRequested:e.requested,selectMandatory:Pe,selectRequested:Me,claimMappingOn:O,claimMappingError:L,readOnly:P,subject:v===xe(e.claimURI),deleteAttribute:function(){_e(e.claimURI)},"data-testid":e.claimURI})})))):c.createElement(D.Z,{singleLine:!0,compact:!0,"data-testid":"".concat(G,"-list"),fixed:!0},c.createElement(D.Z.Header,null,c.createElement(D.Z.Row,null,c.createElement(D.Z.HeaderCell,{width:"10"},c.createElement("strong",null,z("console:develop.features.applications.edit.sections.attributes.selection.mappingTable.columns.attribute"))),c.createElement(D.Z.HeaderCell,{textAlign:"center",width:"8"},c.createElement("strong",null,z("console:develop.features.applications.edit.sections.attributes.selection.mappingTable.columns.mandatory")),c.createElement(l.Hint,{icon:"info circle",popup:!0},z("console:develop.features.applications.edit.sections.attributes.selection.mandatoryAttributeHint",{productName:Re.ui.productName}))),c.createElement(D.Z.HeaderCell,{width:"2"}))),c.createElement(D.Z.Body,null,null===pe||void 0===pe?void 0:pe.map((function(e){return c.createElement(V,{key:e.id,claimURI:e.claimURI,displayName:e.claimURI,mappedURI:e.mappedLocalClaimURI,localDialect:m.localDialect,initialMandatory:v===e.mappedLocalClaimURI&&!B||e.mandatory,selectMandatory:Pe,initialRequested:e.requested,"data-testid":e.claimURI,readOnly:v===e.mappedLocalClaimURI&&!B||!Fe(e)||P,localClaimDisplayName:e.localClaimDisplayName,deleteAttribute:function(){return _e(e.mappedLocalClaimURI)},subject:v===e.mappedLocalClaimURI&&!B,isOIDCMapping:!Fe(e)})}))))))):c.createElement(_.Z,null,c.createElement(l.EmptyPlaceholder,{title:g.applicationConfig.attributeSettings.attributeSelection.showAttributePlaceholderTitle&&z("console:develop.features.applications.placeholders.emptyAttributesList.title"),subtitle:[z("console:develop.features.applications.placeholders.emptyAttributesList.subtitles")],action:!P&&c.createElement(l.PrimaryButton,{basic:!0,onClick:je},c.createElement(f.Z,{name:"plus"}),z("console:develop.features.applications.placeholders.emptyAttributesList.action")),image:(0,h.jF)().emptyList,imageSize:"tiny","data-testid":"".concat(G,"-empty-placeholder")})),!P&&g.applicationConfig.attributeSettings.attributeSelection.showShareAttributesHint(m)?c.createElement(l.Hint,null,c.createElement(d.cC,{i18nKey:"console:develop.features.applications.edit.sections.attributes.selection.attributeComponentHint"},"Manage the user attributes you want to share with this application via",c.createElement(l.Link,{external:!1,onClick:function(){h.m8.push(h.$x.getPaths().get("OIDC_SCOPES"))}}," OpenID Connect Scopes."),"You can map additional attributes under",c.createElement(l.Link,{external:!1,onClick:function(){h.m8.push(h.$x.getPaths().get("ATTRIBUTE_MAPPINGS").replace(":type",Y.Q.OIDC))}}," Attribute."))):c.createElement(l.Hint,null,c.createElement(d.cC,{i18nKey:"console:develop.features.applications.edit.sections.attributes.selection.attributeComponentHintAlt"},"Manage the user attributes you want to share with this application. You can add new attributes and mappings by navigating to",c.createElement(l.Link,{external:!1,onClick:function(){h.m8.push(h.$x.getPaths().get("LOCAL_CLAIMS"))}}," Attribute."))))),m.localDialect?c.createElement($,{selectedClaims:o,setSelectedClaims:de,setInitialSelectedClaims:s,showAddModal:be,setShowAddModal:Ee,availableClaims:g.applicationConfig.attributeSettings.attributeSelection.getClaims(t),setAvailableClaims:n,createMapping:E,removeMapping:y,updateMappings:F,"data-testid":"".concat(G,"-wizard")}):c.createElement(x.K,{selectedExternalClaims:r,setSelectedExternalClaims:me,setInitialSelectedExternalClaims:p,showAddModal:be,setShowAddModal:Ee,availableExternalClaims:g.applicationConfig.attributeSettings.attributeSelection.getExternalClaims(i),setAvailableExternalClaims:a,"data-testid":"".concat(G,"-wizard-other-dialects")}),function(){var e=t.find((function(e){return e.claimURI===T}));return c.createElement(l.ConfirmationModal,{onClose:function(){return Ce(!1)},type:"negative",open:Ae,primaryAction:z("common:confirm"),secondaryAction:z("common:cancel"),onSecondaryActionClick:function(){Ce(!1)},onPrimaryActionClick:function(){Ze(Ie),Ce(!1)},"data-testid":"".concat(G,"-delete-confirmation-modal"),closeOnDimmerClick:!1},c.createElement(l.ConfirmationModal.Header,{"data-testid":"".concat(G,"-delete-confirmation-modal-header")},z("console:develop.features.applications.confirmations.removeApplicationUserAttribute.header")),c.createElement(l.ConfirmationModal.Message,{attached:!0,negative:!0,"data-testid":"".concat(G,"-delete-confirmation-modal-message")},z("console:develop.features.applications.confirmations.removeApplicationUserAttribute.subHeader")),c.createElement(l.ConfirmationModal.Content,{"data-testid":"".concat(G,"-delete-confirmation-modal-content")},c.createElement(d.cC,{i18nKey:"console:develop.features.applications.confirmations.removeApplicationUserAttribute.content"},"If you remove this, the subject attribute will be set to the ",c.createElement("strong",null,{default:null===e||void 0===e?void 0:e.displayName}))))}()):null};oe.defaultProps={"data-testid":"application-attribute-selection"};var ae=n(3844),re=n(23339),le=n(5554);function se(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,o,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(i=n.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){l=!0,o=e}finally{try{r||null==n.return||n.return()}finally{if(l)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return ce(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ce(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var de=function(e){var t,n=e.applicationTemplateId,i=e.dropDownOptions,o=e.setSubmissionValues,a=e.setSelectedValue,r=e.defaultSubjectAttribute,s=e.triggerSubmission,u=e.initialSubject,p=e.initialRole,m=e.claimMappingOn,f=e.readOnly,v=e.technology,h=e.onlyOIDCConfigured,b=e["data-testid"],y=(0,d.$G)().t,A=se((0,c.useState)(),2),C=A[0],S=A[1],I=se((0,c.useState)(),2),O=I[0],T=I[1];(0,c.useEffect)((function(){if(m&&i&&i.length>0)if(O){var e=i.findIndex((function(e){return(null===e||void 0===e?void 0:e.key)===O}));if(e>-1){var t;S(null===(t=i[e])||void 0===t?void 0:t.value)}else{var n,o,a=i.findIndex((function(e){return(null===e||void 0===e?void 0:e.key)===r}));S(a>-1?null===(n=i[a])||void 0===n?void 0:n.value:null===(o=i[0])||void 0===o?void 0:o.value)}}else if(C){var l,s=null===(l=i.find((function(e){return(null===e||void 0===e?void 0:e.value)===C})))||void 0===l?void 0:l.key;s&&(T(s),S(C))}else{var c,d;S((null===u||void 0===u||null===(c=u.claim)||void 0===c?void 0:c.uri)||(null===(d=i[0])||void 0===d?void 0:d.value))}else if(C)i&&i.length>0&&i.findIndex((function(e){return(null===e||void 0===e?void 0:e.value)===C}))<0&&S(r);else{var p,f;S((null===u||void 0===u||null===(p=u.claim)||void 0===p?void 0:p.uri)||(null===(f=i[0])||void 0===f?void 0:f.value))}}),[i]),(0,c.useEffect)((function(){C&&a(C)}),[C]),(0,c.useEffect)((function(){if(C&&i){var e,t=null===(e=i.find((function(e){return(null===e||void 0===e?void 0:e.value)===C})))||void 0===e?void 0:e.key;T(t)}}),[C]);var w=function(e,t){var n="";return e.map((function(e){e.value===t&&(n=t)})),n};return p&&u?c.createElement(re.l0,{uncontrolledForm:!1,initialValues:!h&&{subjectAttribute:C},onSubmit:function(e){!function(e){var t={role:{claim:w(i,e.roleAttribute),includeUserDomain:!!e.role,mappings:[]},subject:{claim:w(i,e.subjectAttribute),includeTenantDomain:!!e.subjectIncludeTenantDomain,includeUserDomain:!!e.subjectIncludeUserDomain,useMappedLocalSubject:!!e.subjectUseMappedLocalSubject}},n=g.applicationConfig.attributeSettings.advancedAttributeSettings;!n.showIncludeUserstoreDomainSubject&&delete t.subject.includeUserDomain,!n.showIncludeTenantDomain&&delete t.subject.includeTenantDomain,!n.showUseMappedLocalSubject&&delete t.subject.useMappedLocalSubject,!n.showRoleMapping&&delete t.role.mappings,!n.showIncludeUserstoreDomainRole&&t.role.includeUserDomain,!n.showRoleAttribute&&delete t.role.claim,o(t)}(e)},triggerSubmit:function(e){return s(e)}},c.createElement(l.Heading,{hidden:h&&!g.applicationConfig.attributeSettings.advancedAttributeSettings.showSubjectAttribute,as:"h4"},y("console:develop.features.applications.forms.advancedAttributeSettings.sections.subject.heading")),c.createElement(le.Z,{hidden:!0}),c.createElement(re.gN.Dropdown,{ariaLabel:"Subject attribute",name:"subjectAttribute",label:y("console:develop.features.applications.forms.advancedAttributeSettings.sections.subject.fields.subjectAttribute.label"),required:m,value:C,children:i,hidden:h&&!g.applicationConfig.attributeSettings.advancedAttributeSettings.showSubjectAttribute,readOnly:f,"data-testid":"".concat(b,"-subject-attribute-dropdown"),listen:function(e){S(e?null===e||void 0===e?void 0:e.toString():e)},enableReinitialize:!0,hint:function(){return 1!==v.length&&n!==E.j.CUSTOM_APPLICATION_OIDC&&n!==E.j.CUSTOM_APPLICATION_SAML?c.createElement(l.Hint,{compact:!0},y("console:develop.features.applications.forms.advancedAttributeSettings.sections.subject.fields.subjectAttribute.hint")):"oauth2"===(null===(e=v[0])||void 0===e?void 0:e.type)||n===E.j.CUSTOM_APPLICATION_OIDC?c.createElement(l.Hint,{compact:!0},c.createElement(d.cC,{i18nKey:"console:develop.features.applications.forms.advancedAttributeSettings.sections.subject.fields.subjectAttribute.hintOIDC"},"Select which of the shared attributes you want to use as the subject identifier of the user. This represents the ",c.createElement(l.Code,{withBackground:!0},"sub")," claim of the",c.createElement(l.Code,{withBackground:!0},"id_token"),".")):"samlsso"===(null===(t=v[0])||void 0===t?void 0:t.type)||n===E.j.CUSTOM_APPLICATION_SAML?c.createElement(l.Hint,{compact:!0},c.createElement(d.cC,{i18nKey:"console:develop.features.applications.forms.advancedAttributeSettings.sections.subject.fields.subjectAttribute.hintSAML"},"Select which of the shared attributes you want to use as the subject identifier of the user. This represents the ",c.createElement(l.Code,{withBackground:!0},"subject")," element of the SAML assertion.")):c.createElement(l.Hint,{compact:!0},y("console:develop.features.applications.forms.advancedAttributeSettings.sections.subject.fields.subjectAttribute.hint"));var e,t}()}),c.createElement(re.gN.CheckboxLegacy,{ariaLabel:"Subject include user domain",name:"subjectIncludeUserDomain",label:y("console:develop.features.applications.forms.advancedAttributeSettings.sections.subject.fields.subjectIncludeUserDomain.label"),required:!1,value:null!==u&&void 0!==u&&u.includeUserDomain?["includeUserDomain"]:[],readOnly:f,"data-testid":"".concat(b,"-subject-iInclude-user-domain-checkbox"),hidden:!g.applicationConfig.attributeSettings.advancedAttributeSettings.showIncludeUserstoreDomainSubject,hint:y("console:develop.features.applications.forms.advancedAttributeSettings.sections.subject.fields.subjectIncludeUserDomain.hint")}),c.createElement(re.gN.CheckboxLegacy,{ariaLabel:"Subject include tenant domain",name:"subjectIncludeTenantDomain",label:y("console:develop.features.applications.forms.advancedAttributeSettings.sections.subject.fields.subjectIncludeTenantDomain.label"),required:!1,value:null!==u&&void 0!==u&&u.includeTenantDomain?["includeTenantDomain"]:[],readOnly:f,"data-testid":"".concat(b,"-subject-include-tenant-domain-checkbox"),hidden:!g.applicationConfig.attributeSettings.advancedAttributeSettings.showIncludeTenantDomain,hint:y("console:develop.features.applications.forms.advancedAttributeSettings.sections.subject.fields.subjectIncludeTenantDomain.hint")}),c.createElement(re.gN.CheckboxLegacy,{ariaLabel:"Subject use mapped local subject",name:"subjectUseMappedLocalSubject",label:y("console:develop.features.applications.forms.advancedAttributeSettings.sections.subject.fields.subjectUseMappedLocalSubject.label"),required:!1,value:null!==u&&void 0!==u&&u.useMappedLocalSubject?["useMappedLocalSubject"]:[],readOnly:f,"data-testid":"".concat(b,"-subject-use-mapped-local-subject-checkbox"),hidden:!g.applicationConfig.attributeSettings.advancedAttributeSettings.showUseMappedLocalSubject,hint:y("console:develop.features.applications.forms.advancedAttributeSettings.sections.subject.fields.subjectUseMappedLocalSubject.hint")}),g.applicationConfig.attributeSettings.advancedAttributeSettings.showRoleAttribute&&c.createElement(c.Fragment,null,c.createElement(l.Heading,{as:"h4"},y("console:develop.features.applications.forms.advancedAttributeSettings.sections.role.heading"))),c.createElement(re.gN.Dropdown,{ariaLabel:"Role attribute",name:"roleAttribute",label:y("console:develop.features.applications.forms.advancedAttributeSettings.sections.role.fields.roleAttribute.label"),required:m,value:null===p||void 0===p||null===(t=p.claim)||void 0===t?void 0:t.uri,children:i,readOnly:f,"data-testid":"".concat(b,"-role-attribute-dropdown"),hidden:!g.applicationConfig.attributeSettings.advancedAttributeSettings.showRoleAttribute,hint:y("console:develop.features.applications.forms.advancedAttributeSettings.sections.role.fields.roleAttribute.hint")}),c.createElement(re.gN.CheckboxLegacy,{ariaLabel:"Role",name:"role",label:y("console:develop.features.applications.forms.advancedAttributeSettings.sections.role.fields.role.label"),required:!1,value:null!==p&&void 0!==p&&p.includeUserDomain?["includeUserDomain"]:[],readOnly:f,"data-testid":"".concat(b,"-role-checkbox"),hidden:!g.applicationConfig.attributeSettings.advancedAttributeSettings.showIncludeUserstoreDomainRole,hint:y("console:develop.features.applications.forms.advancedAttributeSettings.sections.role.fields.role.hint")})):null};function ue(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,o,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(i=n.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){l=!0,o=e}finally{try{r||null==n.return||n.return()}finally{if(l)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return pe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}de.defaultProps={"data-testid":"application-advanced-attribute-settings-form"};var me=function(e){var t=e.initialMappings,n=e.readOnly,i=e.onChange,o=e["data-testid"],s=(0,d.$G)().t,p=(0,u.I0)(),m=ue((0,c.useState)(),2),f=m[0],v=m[1];return(0,c.useEffect)((function(){(0,ae.getRolesList)(null).then((function(e){if(200===e.status){var t=e.data;v(t.Resources)}})).catch((function(){p((0,r.addAlert)({description:s("console:manage.features.roles.notifications.fetchRoles.genericError.description"),level:a.AlertLevels.ERROR,message:s("console:manage.features.roles.notifications.fetchRoles.genericError.message")}))}))}),[t]),c.createElement(c.Fragment,null,c.createElement(M.Z.Row,{columns:2},c.createElement(M.Z.Column,{mobile:16,tablet:16,computer:8},c.createElement(l.Heading,{as:"h4"},s("console:develop.features.applications.edit.sections.attributes.roleMapping.heading")),c.createElement(l.DynamicField,{data:t?t.map((function(e){return{key:e.localRole.includes("/")?e.localRole.split("/")[1]:e.localRole,value:e.applicationRole}})):[],keyType:"dropdown",keyData:f?f.filter((function(e){return!(e.displayName.includes("Application/")||e.displayName.includes("Internal/"))})).map((function(e){return{id:e.displayName,value:e.displayName}})):[],keyName:s("console:develop.features.applications.edit.sections.attributes.forms.fields.dynamic.localRole.label"),valueName:s("console:develop.features.applications.edit.sections.attributes.forms.fields.dynamic.applicationRole.label"),keyRequiredMessage:s("console:develop.features.applications.edit.sections.attributes.forms.fields.dynamic.localRole.validations.empty"),valueRequiredErrorMessage:s("console:develop.features.applications.edit.sections.attributes.forms.fields.dynamic.applicationRole.validations.empty"),duplicateKeyErrorMsg:s("console:develop.features.applications.edit.sections.attributes.forms.fields.dynamic.applicationRole.validations.duplicate"),readOnly:n,"data-testid":"".concat(o,"-dynamic-field"),listen:function(e){if(i){var t,n=null!==(t=null===e||void 0===e?void 0:e.map((function(e){return{applicationRole:e.value,localRole:e.key.includes("/")?e.key:"Internal/"+e.key}})))&&void 0!==t?t:[];i(n)}}}))))};me.defaultProps={"data-testid":"application-role-mapping"};var fe=n(37109);function ve(e){return function(e){if(Array.isArray(e))return be(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||he(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ge(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,o,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(i=n.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){l=!0,o=e}finally{try{r||null==n.return||n.return()}finally{if(l)throw o}}return a}(e,t)||he(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function he(e,t){if(e){if("string"===typeof e)return be(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?be(e,t):void 0}}function be(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Ee=function(){var e="http://wso2.org/claims";return(0,ae.getAllLocalClaims)(null).then((function(t){var n=t.slice(0,1)[0].dialectURI;(0,R.Z)(n)||(e=n)})),e},ye="http://wso2.org/claims/username";var Ae=function(e){var t,n,i,s,p,m,f,v,E,y,A,C=e.appId,S=e.applicationTemplateId,I=e.technology,O=e.featureConfig,T=e.claimConfigurations,w=e.onlyOIDCConfigured,L=e.onUpdate,P=e.readOnly,N=e["data-testid"],D=(0,d.$G)().t,U=(0,u.I0)(),j=ge((0,c.useState)(""),2),_=j[0],x=j[1],F=ge((0,c.useState)([]),2),H=F[0],q=F[1],V=ge((0,c.useState)(),2),B=V[0],G=V[1],z=ge((0,c.useState)(!0),2),W=z[0],K=z[1],$=ge((0,c.useState)([]),2),Y=$[0],Q=$[1],J=ge((0,c.useState)([]),2),X=J[0],ee=J[1],te=ge((0,c.useState)([]),2),ne=te[0],ie=te[1],re=ge((0,c.useState)([]),2),le=re[0],se=re[1],ce=ge((0,c.useState)(!1),2),ue=ce[0],pe=ce[1],he=ge((0,c.useState)([]),2),be=he[0],Ae=he[1],Ce=ge((0,c.useState)(!1),2),Se=Ce[0],Ie=Ce[1],Oe=ge((0,c.useState)(!1),2),Te=Oe[0],we=Oe[1],Re=ge((0,c.useState)(),2),Le=Re[0],Pe=Re[1],Me=ge((0,c.useState)(),2),ke=Me[0],Ne=Me[1],De=ge((0,c.useState)(null!==(t=null===T||void 0===T||null===(n=T.role)||void 0===n?void 0:n.mappings)&&void 0!==t?t:[]),2),Ue=De[0],je=De[1],Ze=ge((0,c.useState)(!0),2),_e=Ze[0],xe=Ze[1],Fe=ge((0,c.useState)(void 0),2),He=Fe[0],qe=Fe[1],Ve=(0,u.v9)((function(e){var t;return null===e||void 0===e||null===(t=e.auth)||void 0===t?void 0:t.allowedScopes})),Be=h.lD.getInstance();(0,c.useEffect)((function(){X.forEach((function(e){var t=e.mappedLocalClaimURI,n=Y.filter((function(e){return e.claimURI===t}));n&&n[0]&&n[0].displayName&&(e.localClaimDisplayName=n[0].displayName)})),ee(X)}),[Y,X]);var Ge=function(e){if(null!==e){var t=function(e){var t="";return H.map((function(n){n.dialectURI===e&&(t=n.id)})),t}(e),n=!0;e!==_&&(n=!1),G({dialectURI:e,id:t,localDialect:n}),n||null!==(i=t)&&(0,ae.getAllExternalClaims)(i,null).then((function(e){K(!0),ee(e)})).catch((function(){U((0,r.addAlert)({description:D("console:manage.features.claims.external.notifications.fetchExternalClaims.genericError.description"),level:a.AlertLevels.ERROR,message:D("console:manage.features.claims.external.notifications.fetchExternalClaims.genericError.message")}))})).finally((function(){K(!1)}))}var i};(0,c.useEffect)((function(){!function(){xe(!0);var e={"exclude-identity-claims":g.applicationConfig.excludeIdentityClaims,filter:null,limit:null,offset:null,sort:null};(0,ae.getAllLocalClaims)(e).then((function(e){Q(e)})).catch((function(){U((0,r.addAlert)({description:D("console:manage.features.claims.local.notifications.fetchLocalClaims.genericError.description"),level:a.AlertLevels.ERROR,message:D("console:manage.features.claims.local.notifications.fetchLocalClaims.genericError.message")}))})).finally((function(){xe(!1)}))}(),(0,ae.getDialects)(null).then((function(e){q(e)})).catch((function(){U((0,r.addAlert)({description:D("console:manage.features.claims.dialects.notifications.fetchDialects.genericError.description"),level:a.AlertLevels.ERROR,message:D("console:manage.features.claims.dialects.notifications.fetchDialects.genericError.message")}))})),Ee(),(0,R.Z)(_)&&x(Ee())}),[]),(0,c.useEffect)((function(){(0,R.Z)(H)||(K(!0),w?Ge("http://wso2.org/oidc/claim"):(K(!1),Ge(_)))}),[w,H]),(0,c.useEffect)((function(){if(Le){var e=function(){var e=[],t=!0;return we(!1),ve(be).map((function(n){if(n.addMapping)if((0,R.Z)(null===n||void 0===n?void 0:n.applicationClaim))we(!0),t=!1;else{var i,o={applicationClaim:null===n||void 0===n?void 0:n.applicationClaim,localClaim:{uri:null===n||void 0===n||null===(i=n.localClaim)||void 0===i?void 0:i.uri}};e.push(o)}})),t?e:null}();null!==e&&function(e){var t,n=!1,i=[],o=null===Le||void 0===Le||null===(t=Le.subject)||void 0===t?void 0:t.claim;if(B.localDialect?ne.map((function(t){var n=e.length>0?function(e,t){var n,i=e;return t.length>0&&(i=null===(n=t.find((function(t){var n;return(null===t||void 0===t||null===(n=t.localClaim)||void 0===n?void 0:n.uri)===e})))||void 0===n?void 0:n.applicationClaim),i}(t.claimURI,e):null;if(n){if(t.requested){var a={claim:{uri:n},mandatory:o&&n===o.toString()?g.applicationConfig.attributeSettings.makeSubjectMandatory:t.mandatory};i.push(a)}}else{var r={claim:{uri:t.claimURI},mandatory:o&&t.claimURI===o.toString()?g.applicationConfig.attributeSettings.makeSubjectMandatory:t.mandatory};i.push(r)}})):le.map((function(e){var t={claim:{uri:e.mappedLocalClaimURI},mandatory:e.mandatory};i.push(t)})),e.findIndex((function(e){return e.localClaim.uri===ye}))<0&&o&&o.toString()===ye&&(n=!0),e.length>0&&n){var l={applicationClaim:ye,localClaim:{uri:ye}};e.push(l)}var s={claimConfiguration:{claimMappings:e.length>0?e:[],dialect:e.length>0?"CUSTOM":"LOCAL",requestedClaims:i,role:{claim:{uri:null===Le||void 0===Le?void 0:Le.role.claim},includeUserDomain:null===Le||void 0===Le?void 0:Le.role.includeUserDomain,mappings:Ue.length>0?Ue:[]},subject:{claim:{uri:null===Le||void 0===Le?void 0:Le.subject.claim},includeTenantDomain:null===Le||void 0===Le?void 0:Le.subject.includeTenantDomain,includeUserDomain:null===Le||void 0===Le?void 0:Le.subject.includeUserDomain,useMappedLocalSubject:null===Le||void 0===Le?void 0:Le.subject.useMappedLocalSubject}}};(0,R.Z)(s.claimConfiguration.claimMappings)&&delete s.claimConfiguration.claimMappings,(0,R.Z)(s.claimConfiguration.role.mappings)&&delete s.claimConfiguration.role.mappings,g.applicationConfig.attributeSettings.roleMapping||delete s.claimConfiguration.role,g.applicationConfig.excludeSubjectClaim&&w&&delete s.claimConfiguration.subject,(0,b.aA)(C,s).then((function(){L(C),U((0,r.addAlert)({description:D("console:develop.features.applications.notifications.updateClaimConfig.success.description"),level:a.AlertLevels.SUCCESS,message:D("console:develop.features.applications.notifications.updateClaimConfig.success.message")}))})).catch((function(){U((0,r.addAlert)({description:D("console:develop.features.applications.notifications.updateClaimConfig.genericError.description"),level:a.AlertLevels.ERROR,message:D("console:develop.features.applications.notifications.updateClaimConfig.genericError.message")}))}))}(e)}}),[Le]);var ze,We=function(e){e?(Ie(!0),pe(!1)):(Ie(!1),pe(!1))};return(0,c.useEffect)((function(){"CUSTOM"===(null===T||void 0===T?void 0:T.dialect)&&Ie(!0)}),[T]),W||!B||_e&&(0,R.Z)(X)?c.createElement(l.EmphasizedSegment,{padded:"very"},c.createElement(l.ContentLoader,{inline:"centered",active:!0})):c.createElement(l.EmphasizedSegment,{padded:"very"},c.createElement(M.Z,{className:"claim-mapping"},c.createElement("div",{className:"form-container with-max-width"},c.createElement(M.Z.Column,{mobile:16,tablet:16,computer:12},c.createElement(oe,{claims:Y,setClaims:Q,externalClaims:X,setExternalClaims:ee,selectedClaims:ne,selectedExternalClaims:le,setSelectedClaims:ie,setSelectedExternalClaims:se,selectedDialect:B,selectedSubjectValue:ke,claimMapping:be,setClaimMapping:Ae,createMapping:function(e){if(B.localDialect){var t=ve(be);e.map((function(e){var n={addMapping:!1,applicationClaim:"",localClaim:{displayName:e.displayName,id:e.id,uri:e.claimURI}};t.some((function(t){return t.localClaim.uri===e.claimURI}))||t.push(n),Ae(t)}))}},removeMapping:function(e){var t,n=ve(be);n.map((function(n){n.localClaim.uri===e&&(t=n)})),t&&(n.splice(n.indexOf(t),1),Ae(n))},updateMappings:function(e,t){if(B.localDialect){var n=ve(be);e.map((function(e){var t={addMapping:!1,applicationClaim:"",localClaim:{displayName:e.displayName,id:e.id,uri:e.claimURI}};n.some((function(t){return t.localClaim.uri===e.claimURI}))||n.push(t)})),t.map((function(e){var t;n.map((function(n){n.localClaim.uri===e.claimURI&&(t=n)})),t&&n.splice(n.indexOf(t),1)})),Ae(n)}},getCurrentMapping:function(e){var t;return ve(be).map((function(n){n.localClaim.uri===e&&(t=n)})),t},updateClaimMapping:function(e,t){var n=ve(be);n.forEach((function(n){n.localClaim.uri===e&&(n.applicationClaim=t)})),Ae(n)},addToClaimMapping:function(e,t){var n=ve(be);n.forEach((function(n){n.localClaim.uri===e&&(n.addMapping=t)})),Ae(n)},claimConfigurations:T,claimMappingOn:Se,defaultSubjectAttribute:ye,showClaimMappingRevertConfirmation:pe,setClaimMappingOn:Ie,claimMappingError:Te,readOnly:P||!(0,o.hasRequiredScopes)(null===O||void 0===O?void 0:O.applications,null===O||void 0===O||null===(i=O.applications)||void 0===i||null===(s=i.scopes)||void 0===s?void 0:s.update,Ve),isUserAttributesLoading:He,setUserAttributesLoading:qe,onlyOIDCConfigured:w,"data-testid":"".concat(N,"-attribute-selection")})))),!1===He?c.createElement(M.Z,null,c.createElement(M.Z.Row,{columns:1},c.createElement(M.Z.Column,{mobile:16,tablet:16,computer:16},c.createElement(de,{dropDownOptions:function(){var e=[];if(B.localDialect){if(Se){var t=!1,n=[],i=ve(be);if(be.map((function(e){if(e&&e.localClaim){var i={key:null===e||void 0===e?void 0:e.localClaim.uri,text:c.createElement(fe.EP,{key:e.localClaim.id,displayName:e.applicationClaim?e.applicationClaim:e.localClaim.uri,claimURI:e.localClaim.uri,value:e.applicationClaim}),value:e.applicationClaim};e.localClaim.uri===ye&&(t=!0),n.push(i)}})),0===i.length||!t){var o=Y.filter((function(e){return e.claimURI===ye}))[0];if(null!==o&&"undefined"!==typeof o){var a={key:o.claimURI,text:c.createElement(fe.EP,{key:o.id,displayName:o.displayName,claimURI:o.claimURI,value:o.claimURI}),value:o.claimURI};n.push(a)}}return(0,k.Z)(n,"key")}var r=!1;if(ne.map((function(t){var n={key:t.claimURI,text:c.createElement(fe.EP,{key:t.id,displayName:t.displayName,claimURI:t.claimURI,value:t.claimURI}),value:t.claimURI};e.push(n),t.claimURI===ye&&(r=!0)})),!r){var l=Y.filter((function(e){return e.claimURI===ye}))[0];if(null!==l&&"undefined"!==typeof l){var s={key:l.claimURI,text:c.createElement(fe.EP,{key:l.id,displayName:l.displayName,claimURI:l.claimURI,value:l.claimURI}),value:l.claimURI};e.push(s)}}}else{var d=!1;if(le.map((function(t){var n={key:t.claimURI,text:c.createElement(fe.EP,{key:t.id,displayName:t.localClaimDisplayName,claimURI:t.claimURI,value:t.mappedLocalClaimURI}),value:t.mappedLocalClaimURI};e.push(n),t.mappedLocalClaimURI===ye&&(d=!0)})),!d){var u=[].concat(ve(X),ve(le)).filter((function(e){return e.mappedLocalClaimURI===ye}))[0];if(null!==u&&"undefined"!==typeof u){var p={key:u.claimURI,text:c.createElement(fe.EP,{key:u.id,displayName:u.localClaimDisplayName,claimURI:u.claimURI,value:u.mappedLocalClaimURI}),value:u.mappedLocalClaimURI};e.push(p)}}}return(0,k.Z)(e,"value")}(),triggerSubmission:function(e){ze=e},setSubmissionValues:Pe,setSelectedValue:Ne,defaultSubjectAttribute:ye,initialRole:null===T||void 0===T?void 0:T.role,initialSubject:null===T||void 0===T?void 0:T.subject,claimMappingOn:Se,readOnly:P||!(0,o.hasRequiredScopes)(null===O||void 0===O?void 0:O.applications,null===O||void 0===O||null===(p=O.applications)||void 0===p||null===(m=p.scopes)||void 0===m?void 0:m.update,Ve),technology:I,applicationTemplateId:S,onlyOIDCConfigured:w,"data-testid":"".concat(N,"-advanced-attribute-settings-form")}))),c.createElement(l.ConfirmationModal,{onClose:function(){return pe(!1)},type:"warning",open:ue,primaryAction:D("console:develop.features.applications.edit.sections.attributes.selection.mappingTable.mappingRevert.confirmPrimaryAction"),secondaryAction:D("console:develop.features.applications.edit.sections.attributes.selection.mappingTable.mappingRevert.confirmSecondaryAction"),onSecondaryActionClick:function(){return We(!0)},onPrimaryActionClick:function(){return We(!1)}},c.createElement(l.ConfirmationModal.Header,null,D("console:develop.features.applications.edit.sections.attributes.selection.mappingTable.mappingRevert.confirmationHeading")),c.createElement(l.ConfirmationModal.Message,{warning:!0},D("console:develop.features.applications.edit.sections.attributes.selection.mappingTable.mappingRevert.confirmationMessage")),c.createElement(l.ConfirmationModal.Content,null,D("console:develop.features.applications.edit.sections.attributes.selection.mappingTable.mappingRevert.confirmationContent"))),g.applicationConfig.attributeSettings.roleMapping&&c.createElement(me,{onChange:je,initialMappings:null===T||void 0===T||null===(f=T.role)||void 0===f?void 0:f.mappings,readOnly:P||!(0,o.hasRequiredScopes)(null===O||void 0===O?void 0:O.applications,null===O||void 0===O||null===(v=O.applications)||void 0===v||null===(E=v.scopes)||void 0===E?void 0:E.update,Ve),"data-testid":"".concat(N,"-role-mapping")}),!P&&(0,o.hasRequiredScopes)(null===O||void 0===O?void 0:O.applications,null===O||void 0===O||null===(y=O.applications)||void 0===y||null===(A=y.scopes)||void 0===A?void 0:A.update,Ve)&&c.createElement(M.Z.Row,null,c.createElement(M.Z.Column,{mobile:16,tablet:16,computer:16},c.createElement(Z.Z,{primary:!0,size:"small",onClick:function(){Be.publish("application-user-attribute-click-update-button");var e=new Set(be.map((function(e){return e.applicationClaim})));Se&&e.size!==be.length?U((0,r.addAlert)({description:D("console:develop.features.applications.notifications.updateClaimConfig.error.description",{description:"Mapped user attributes cannot be duplicated."}),level:a.AlertLevels.ERROR,message:D("console:develop.features.applications.notifications.updateClaimConfig.error.message")})):ze()},"data-testid":"".concat(N,"-submit-button")},D("common:update"))))):null)};Ae.defaultProps={"data-testid":"application-attribute-settings"};var Ce=n(6997),Se=n(50274),Ie=function(e){var t=e.config,n=e.onSubmit,i=e.readOnly,o=e.template,a=e.isSubmitting,r=e["data-testid"],l=(0,d.$G)().t,s=function(e){var t={advancedConfigurations:{enableAuthorization:!!e.enableAuthorization,returnAuthenticatedIdpList:!!e.returnAuthenticatedIdpList,saas:!!e.saas,skipLoginConsent:!!e.skipConsentLogin,skipLogoutConsent:!!e.skipConsentLogout}};!g.applicationConfig.advancedConfigurations.showSaaS&&delete t.advancedConfigurations.saas,!g.applicationConfig.advancedConfigurations.showEnableAuthorization&&delete t.advancedConfigurations.enableAuthorization,!g.applicationConfig.advancedConfigurations.showReturnAuthenticatedIdPs&&delete t.advancedConfigurations.returnAuthenticatedIdpList,n(t)};return c.createElement(re.l0,{uncontrolledForm:!1,onSubmit:function(e){s(e)}},c.createElement(re.gN.CheckboxLegacy,{ariaLabel:"Saas application",name:"saas",label:l("console:develop.features.applications.forms.advancedConfig.fields.saas.label"),required:!1,value:null!==t&&void 0!==t&&t.saas?["saas"]:[],readOnly:i,"data-testid":"".concat(r,"-sass-checkbox"),hint:l("console:develop.features.applications.forms.advancedConfig.fields.saas.hint"),hidden:!g.applicationConfig.advancedConfigurations.showSaaS}),c.createElement(re.gN.CheckboxLegacy,{ariaLabel:"Skip consent login",name:"skipConsentLogin",label:l("console:develop.features.applications.forms.advancedConfig.fields.skipConsentLogin.label"),required:!1,value:null!==t&&void 0!==t&&t.skipLoginConsent?["skipLoginConsent"]:[],readOnly:i,"data-testid":"".concat(r,"-skip-login-consent-checkbox"),hint:l("console:develop.features.applications.forms.advancedConfig.fields.skipConsentLogin.hint")}),(null===Se||void 0===Se?void 0:Se.id)!==(null===o||void 0===o?void 0:o.id)&&c.createElement(re.gN.CheckboxLegacy,{ariaLabel:"Skip consent logout",name:"skipConsentLogout",label:l("console:develop.features.applications.forms.advancedConfig.fields.skipConsentLogout.label"),required:!1,value:null!==t&&void 0!==t&&t.skipLogoutConsent?["skipLogoutConsent"]:[],readOnly:i,"data-testid":"".concat(r,"-skip-logout-consent-checkbox"),hint:l("console:develop.features.applications.forms.advancedConfig.fields.skipConsentLogout.hint")}),c.createElement(re.gN.CheckboxLegacy,{ariaLabel:"Return authenticated IDP list",name:"returnAuthenticatedIdpList",label:l("console:develop.features.applications.forms.advancedConfig.fields.returnAuthenticatedIdpList.label"),required:!1,value:null!==t&&void 0!==t&&t.returnAuthenticatedIdpList?["returnAuthenticatedIdpList"]:[],readOnly:i,"data-testid":"".concat(r,"-return-authenticated-idp-list-checkbox"),hidden:!g.applicationConfig.advancedConfigurations.showReturnAuthenticatedIdPs,hint:l("console:develop.features.applications.forms.advancedConfig.fields.returnAuthenticatedIdpList.hint")}),c.createElement(re.gN.CheckboxLegacy,{ariaLabel:"Enable authorization",name:"enableAuthorization",label:l("console:develop.features.applications.forms.advancedConfig.fields.enableAuthorization.label"),required:!1,value:null!==t&&void 0!==t&&t.enableAuthorization?["enableAuthorization"]:[],readOnly:i,"data-testid":"".concat(r,"-enable-authorization-checkbox"),hidden:!g.applicationConfig.advancedConfigurations.showEnableAuthorization,hint:l("console:develop.features.applications.forms.advancedConfig.fields.enableAuthorization.hint")}),c.createElement(re.gN.Button,{size:"small",buttonType:"primary_btn",ariaLabel:"Update button",name:"update-button","data-testid":"".concat(r,"-submit-button"),disabled:a,loading:a,hidden:i,label:l("common:update")}))};Ie.defaultProps={"data-testid":"application-advanced-configurations-form"};var Oe=n(57002),Te=n(95823),we=n(26776),Re=n(48749),Le=["certificate","data-testid"];function Pe(){return Pe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Pe.apply(this,arguments)}function Me(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var ke=function(e){var t=e.certificate,n=e["data-testid"],i=Me(e,Le),o=(0,d.$G)().t,a=c.createElement(_.Z,{className:"certificate","data-testid":n},c.createElement("p",{className:"certificate-field"},"We were unable to read this certificate. Currently we only support displaying public key information in certificate types of ",Oe.CertificateManagementConstants.SUPPORTED_KEY_ALGORITHMS.map((function(e,t){return c.createElement("span",{key:"".concat(e,"+").concat(t)},c.createElement(l.Code,null,e),"\xa0")}))," key algorithms. Support for ",c.createElement("strong",null,"Elliptic Curve Cryptography"),"\xa0 key algorithms will be enabled soon."));return c.createElement(B.Z,Pe({closeOnDimmerClick:!0,className:"certificate-display",dimmer:"blurring",size:"tiny","data-testid":"".concat(n,"-view-certificate-modal")},i),c.createElement(B.Z.Header,null,c.createElement("div",{className:"certificate-ribbon"},c.createElement(l.GenericIcon,{inline:!0,transparent:!0,size:"auto",icon:(0,h._5)().ribbon}),c.createElement("div",{className:"certificate-alias"},"View Certificate - ",null!==t&&void 0!==t&&t.alias?null===t||void 0===t?void 0:t.alias:(null===t||void 0===t?void 0:t.issuerDN)&&Te.CertificateManagementUtils.searchIssuerDNAlias(null===t||void 0===t?void 0:t.issuerDN)),c.createElement("br",null),c.createElement("div",{className:"certificate-serial"},"Serial Number: ",null===t||void 0===t?void 0:t.serialNumber))),c.createElement(B.Z.Content,{className:"certificate-content"},null!==t&&void 0!==t&&t.infoUnavailable?a:c.createElement(l.Certificate,{certificate:t,labels:{issuerDN:o("console:manage.features.certificates.keystore.summary.issuerDN"),subjectDN:o("console:manage.features.certificates.keystore.summary.subjectDN"),validFrom:o("console:manage.features.certificates.keystore.summary.validFrom"),validTill:o("console:manage.features.certificates.keystore.summary.validTill"),version:o("console:manage.features.certificates.keystore.summary.version")}})))};function Ne(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,o,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(i=n.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){l=!0,o=e}finally{try{r||null==n.return||n.return()}finally{if(l)throw o}}return a}(e,t)||De(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function De(e,t){if(e){if("string"===typeof e)return Ue(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ue(e,t):void 0}}function Ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}ke.defaultProps={"data-testid":"certificate-form-field-modal"};var je=function(e){var t=e.certificate,n=e.metadata,i=e.initialValues,o=e.onSubmit,s=e.readOnly,p=e.isLoading,m=e["data-testid"],f=(0,d.$G)().t,v=(0,u.I0)(),g=Ne((0,c.useState)(!1),2),h=g[0],b=g[1],A=Ne((0,c.useState)(!1),2),C=A[0],S=A[1],I=Ne((0,c.useState)(void 0),2),O=I[0],T=I[1],w=Ne((0,c.useState)(null),2),L=w[0],P=w[1];(0,c.useEffect)((function(){y.el.PEM===(null===t||void 0===t?void 0:t.type)&&(b(!0),null!==t&&void 0!==t&&t.value&&T(t.value))}),[t]);var k=function(){if(n){var e=null===n||void 0===n?void 0:n.properties;return e.length>0&&e.sort((function(e,t){return e.displayOrder>t.displayOrder?1:-1})),e.map((function(e){var t=i.properties.find((function(t){return t.key===e.name}));return function(e,t){var n;return(null===e||void 0===e||null===(n=e.availableValues)||void 0===n?void 0:n.length)>0?c.createElement(M.Z.Row,{columns:1},c.createElement(M.Z.Column,{mobile:16,tablet:16,computer:16},c.createElement(we.Field,{label:null===e||void 0===e?void 0:e.displayName,name:null===e||void 0===e?void 0:e.name,type:"dropdown",value:null===t||void 0===t?void 0:t.value,required:null===e||void 0===e?void 0:e.required,requiredErrorMessage:f("console:develop.features.applications.forms.inboundCustom.fields.dropdown.validations.empty",{name:null===e||void 0===e?void 0:e.displayName}),default:null===e||void 0===e?void 0:e.defaultValue,children:N(null===e||void 0===e?void 0:e.availableValues),"data-testid":"".concat(m,"-").concat(null===e||void 0===e?void 0:e.name,"-dropdown")}))):null!==e&&void 0!==e&&e.isConfidential?c.createElement(M.Z.Row,{columns:1},c.createElement(M.Z.Column,{mobile:16,tablet:16,computer:16},c.createElement(we.Field,{label:null===e||void 0===e?void 0:e.displayName,name:null===e||void 0===e?void 0:e.name,hidePassword:f("common:hide")+" "+(null===e||void 0===e?void 0:e.displayName),showPassword:f("common:show")+" "+(null===e||void 0===e?void 0:e.displayName),value:null===t||void 0===t?void 0:t.value,required:null===e||void 0===e?void 0:e.required,requiredErrorMessage:f("console:develop.features.applications.forms.inboundCustom.fields.password.validations.empty",{name:null===e||void 0===e?void 0:e.displayName}),placeholder:f("console:develop.features.applications.forms.inboundCustom.fields.password.placeholder",{name:null===e||void 0===e?void 0:e.displayName}),type:"password",default:null===e||void 0===e?void 0:e.defaultValue,"data-testid":"".concat(m,"-").concat(null===e||void 0===e?void 0:e.name,"-password-input")}))):(null===e||void 0===e?void 0:e.type)===y.og.BOOLEAN?c.createElement(M.Z.Row,{columns:1},c.createElement(M.Z.Column,{mobile:16,tablet:16,computer:16},c.createElement(we.Field,{name:null===e||void 0===e?void 0:e.name,label:"",required:null===e||void 0===e?void 0:e.required,requiredErrorMessage:f("console:develop.features.applications.forms.inboundCustom.fields.checkbox.validations.empty",{user:null===e||void 0===e?void 0:e.displayName}),value:null!==t&&void 0!==t&&t.value?[e.name]:[],type:"checkbox",children:[{label:e.displayName,value:e.name}],"data-testid":"".concat(m,"-").concat(null===e||void 0===e?void 0:e.name,"-checkbox")}))):c.createElement(M.Z.Row,{columns:1},c.createElement(M.Z.Column,{mobile:16,tablet:16,computer:16},c.createElement(we.Field,{label:null===e||void 0===e?void 0:e.displayName,name:null===e||void 0===e?void 0:e.name,required:null===e||void 0===e?void 0:e.required,value:null===t||void 0===t?void 0:t.value,requiredErrorMessage:f("console:develop.features.applications.forms.inboundCustom.fields.generic.validations.empty",{name:null===e||void 0===e?void 0:e.displayName}),placeholder:f("console:develop.features.applications.forms.inboundCustom.fields.generic.placeholder",{name:null===e||void 0===e?void 0:e.displayName}),type:(null===e||void 0===e?void 0:e.type)===y.og.INTEGER?"number":"text","data-testid":"".concat(m,"-").concat(null===e||void 0===e?void 0:e.name,"-input")})))}(e,t)}))}},N=function(e){var t=[];return e&&e.map((function(n){t.push({key:e.indexOf(n),text:n,value:n})})),t},D=function(e){var t,n=[],o=function(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=De(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,r=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return r=e.done,e},e:function(e){l=!0,a=e},f:function(){try{r||null==n.return||n.return()}finally{if(l)throw a}}}}(e);try{for(o.s();!(t=o.n()).done;){var a=Ne(t.value,2),r=a[0],l=a[1],s=void 0;s=l instanceof Array?{key:r,value:l.length>0}:{key:r,value:l},n.push(s)}}catch(e){o.e(e)}finally{o.f()}return{general:{advancedConfigurations:{certificate:{type:e.get("type"),value:h?e.get("certificateValue"):e.get("jwksValue")}}},inbound:{configName:null===i||void 0===i?void 0:i.configName,name:null===i||void 0===i?void 0:i.name,properties:[].concat(n)}}};(0,c.useEffect)((function(){n&&k()}),[n]);return c.createElement(we.Forms,{onSubmit:function(e){o(D(e))}},c.createElement(M.Z,null,k(),c.createElement(M.Z.Row,{columns:1},c.createElement(M.Z.Column,{mobile:16,tablet:16,computer:16},c.createElement(le.Z,null)),c.createElement(M.Z.Column,{mobile:16,tablet:16,computer:16},c.createElement(l.Heading,{as:"h5"},f("console:develop.features.applications.forms.advancedConfig.sections.certificate.heading")),c.createElement(we.Field,{label:f("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.type.label"),name:"type",default:y.el.JWKS,listen:function(e){b("PEM"===e.get("type"))},type:"radio",value:null===t||void 0===t?void 0:t.type,children:[{label:f("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.type.children.jwks.label"),value:y.el.JWKS},{label:f("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.type.children.pem.label"),value:y.el.PEM}],readOnly:s,"data-testid":"".concat(m,"-certificate-type-radio-group")}))),c.createElement(M.Z.Row,{columns:1},c.createElement(M.Z.Column,{mobile:16,tablet:16,computer:16},h?c.createElement(c.Fragment,null,c.createElement(we.Field,{name:"certificateValue",label:f("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.pemValue.label"),required:!1,requiredErrorMessage:f("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.pemValue.validations.empty"),placeholder:E.j.PEM_CERTIFICATE_PLACEHOLDER,type:"textarea",value:y.el.PEM===(null===t||void 0===t?void 0:t.type)&&(null===t||void 0===t?void 0:t.value),listen:function(e){T(e.get("certificateValue"))},readOnly:s,"data-testid":"".concat(m,"-certificate-textarea")}),c.createElement(l.Hint,null,f("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.pemValue.hint")),c.createElement(l.LinkButton,{className:"certificate-info-link-button",onClick:function(e){e.preventDefault(),function(){var e;h&&O&&((e=Te.CertificateManagementUtils.canSafelyParseCertificate(O)?Te.CertificateManagementUtils.displayCertificate(null,O):Oe.CertificateManagementConstants.DUMMY_DISPLAY_CERTIFICATE)?(P(e),S(!0)):v((0,r.addAlert)({description:f("console:common.notifications.invalidPEMFile.genericError.description"),level:a.AlertLevels.ERROR,message:f("console:common.notifications.invalidPEMFile.genericError.message")})))}()},disabled:(0,R.Z)(O),"data-testid":"".concat(m,"-certificate-info-button")},f("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.pemValue.actions.view"))):c.createElement(c.Fragment,null,c.createElement(we.Field,{name:"jwksValue",label:f("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.jwksValue.label"),required:!1,requiredErrorMessage:f("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.jwksValue.validations.empty"),placeholder:f("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.jwksValue.placeholder"),type:"text",validation:function(e,t){Re.I.url(e)||(t.isValid=!1,t.errorMessages.push(f("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.jwksValue.validations.invalid")))},value:y.el.JWKS===(null===t||void 0===t?void 0:t.type)&&(null===t||void 0===t?void 0:t.value),readOnly:s,"data-testid":"".concat(m,"-jwks-input")})))),C&&c.createElement(ke,{open:C,certificate:L,onClose:function(){S(!1)}}),!s&&c.createElement(M.Z.Row,{columns:1},c.createElement(M.Z.Column,{mobile:16,tablet:16,computer:16},c.createElement(Z.Z,{primary:!0,type:"submit",size:"small",className:"form-button",loading:p,disabled:p},f("common:update"))))))};je.defaultProps={"data-testid":"inbound-custom-protocol-form"};var Ze=n(81771),_e=n(26723),xe=n(99104),Fe=n(22946),He=n(86313),qe=n(43469),Ve=n(61375),Be=n(45690),Ge=n(23865),ze=n(70787),We=n.n(ze);function Ke(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,o,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(i=n.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){l=!0,o=e}finally{try{r||null==n.return||n.return()}finally{if(l)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return $e(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $e(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Ye=function(e){var t=e.triggerCertificateUpload,n=e.onSubmit,i=e.setShowFinishButton,o=e["data-testid"],a=Ke((0,c.useState)(""),2),r=a[0],l=a[1],s=Ke((0,c.useState)(""),2),d=s[0],u=s[1],p=Ke((0,c.useState)(""),2),m=p[0],f=p[1],v=Ke((0,c.useState)(null),2),g=v[0],b=v[1],E=Ke((0,c.useState)(null),2),y=E[0],A=E[1],C=Ke((0,c.useState)(""),2),S=C[0],I=C[1];(0,c.useEffect)((function(){""!==S&&n(S)}),[S]);var O=function(e,t,n,i,o,a){l(t),f(n),u(i),b(o),A(a),I(btoa(Te.CertificateManagementUtils.enclosePem(e.certificate)))};return c.createElement(c.Fragment,null,c.createElement(we.Forms,{"data-testid":"".concat(o,"-form")},c.createElement(M.Z,null,c.createElement(M.Z.Row,{columns:1},c.createElement(M.Z.Column,{mobile:16,tablet:16,computer:16},c.createElement(h.e,{submit:O,triggerSubmit:t,pemData:m,nameData:r,fileDecodedData:d,fileData:g,forgeCertificateData:y,"data-testid":"".concat(o,"-upload"),hideAliasInput:!0,setShowFinishButton:i}))))))};Ye.defaultProps={"data-testid":"add-application-certificate-form"};var Qe=n(59413);function Je(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,o,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(i=n.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){l=!0,o=e}finally{try{r||null==n.return||n.return()}finally{if(l)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Xe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var et=function(e){var t=e.closeWizard,n=e.currentStep,i=e.updatePEMValue,o=e["data-testid"],a=(0,d.$G)().t,r=Je((0,we.useTrigger)(),2),s=r[0],u=r[1],p=Je((0,we.useTrigger)(),2),m=p[0],f=p[1],v=Je((0,c.useState)(void 0),1)[0],g=Je((0,c.useState)(n),2),h=g[0],b=g[1],E=Je((0,c.useState)(!1),2),y=E[0],A=E[1],C=Je((0,l.useWizardAlert)(),3),S=C[0],I=C[2];(0,c.useEffect)((function(){void 0!==v&&b(h-1)}),[v]);var O=[{content:c.createElement(Ye,{triggerCertificateUpload:m,triggerSubmit:s,onSubmit:function(e){!function(e){i(e),t()}(e)},setShowFinishButton:A}),icon:(0,Qe.ot)().general,title:a("console:manage.features.certificates.keystore.wizard.steps.upload")}];return c.createElement(B.Z,{open:!0,className:"wizard application-create-wizard",dimmer:"blurring",size:"small",onClose:t,"data-testid":o,closeOnDimmerClick:!1,closeOnEscape:!0},c.createElement(B.Z.Header,{className:"wizard-header"},a("console:develop.features.applications.wizards.applicationCertificateWizard.heading"),c.createElement(l.Heading,{as:"h6"},a("console:develop.features.applications.wizards.applicationCertificateWizard.subHeading"))),c.createElement(B.Z.Content,{className:"content-container",scrolling:!0},S&&I,O[h].content),c.createElement(B.Z.Actions,null,c.createElement(M.Z,null,c.createElement(M.Z.Row,{column:1},c.createElement(M.Z.Column,{mobile:8,tablet:8,computer:8},c.createElement(l.LinkButton,{floated:"left",onClick:function(){return t()},"data-testid":"".concat(o,"-cancel-button")},a("common:cancel"))),c.createElement(M.Z.Column,{mobile:8,tablet:8,computer:8},h===O.length-1&&c.createElement(l.PrimaryButton,{disabled:!y,floated:"right",onClick:function(){if(0===h)f(),u()},"data-testid":"".concat(o,"-finish-button")},a("common:finish")))))))};function tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tt(Object(n),!0).forEach((function(t){it(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function it(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ot(e,t,n,i,o,a,r){try{var l=e[a](r),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(i,o)}function at(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,o,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(i=n.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){l=!0,o=e}finally{try{r||null==n.return||n.return()}finally{if(l)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return rt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}et.defaultProps={currentStep:0,"data-testid":"add-application-certificate-wizard"};var lt=function(e){var t=e.deleteAllowed,n=e.reasonInsideTooltipWhyDeleteIsNotAllowed,i=e.onUpdate,o=e.application,s=e.applicationCertificate,p=e.updatePEMValue,v=e["data-testid"],g=(0,d.$G)().t,E=(0,u.I0)(),A=at((0,c.useState)(null),2),C=A[0],S=A[1],I=at((0,c.useState)(!1),2),O=I[0],T=I[1],w=at((0,c.useState)(null),2),R=w[0],L=w[1],P=at((0,c.useState)(!1),2),k=P[0],N=P[1],D=at((0,c.useState)(!1),2),U=D[0],j=D[1],Z=at((0,c.useState)(!1),2),x=Z[0],F=Z[1];(0,c.useEffect)((function(){if(s){var e=[];Te.CertificateManagementUtils.canSafelyParseCertificate(s)?null===e||void 0===e||e.push(Te.CertificateManagementUtils.displayCertificate(null,s)):null===e||void 0===e||e.push(Oe.CertificateManagementConstants.DUMMY_DISPLAY_CERTIFICATE),S(e)}}),[s]),(0,c.useEffect)((function(){R&&T(!0)}),[R]),(0,c.useEffect)((function(){O||L(null)}),[O]);var H=function(e){L(e)},q=function(){var e,t=(e=regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return F(!0),p(""),S(null),e.prev=4,t={general:{advancedConfigurations:{certificate:{type:y.el.PEM,value:""}}}},e.next=8,(0,b.hN)(nt({id:null===o||void 0===o?void 0:o.id},t.general));case 8:E((0,r.addAlert)({description:g("console:develop.features.applications.notifications.deleteCertificateSuccess.description"),level:a.AlertLevels.SUCCESS,message:g("console:develop.features.applications.notifications.deleteCertificateSuccess.message")})),e.next=17;break;case 11:if(e.prev=11,e.t0=e.catch(4),!(e.t0.response&&e.t0.response.data&&e.t0.response.data.description)){e.next=16;break}return E((0,r.addAlert)({description:e.t0.response.data.description,level:a.AlertLevels.ERROR,message:e.t0.response.data.message})),e.abrupt("return");case 16:E((0,r.addAlert)({description:g("console:develop.features.applications.notifications.deleteCertificateGenericError.description"),level:a.AlertLevels.ERROR,message:g("console:develop.features.applications.notifications.deleteCertificateGenericError.message")}));case 17:return e.prev=17,j(!1),F(!1),i(o.id),e.finish(17);case 22:case"end":return e.stop()}}),e,null,[[4,11,17,22]])})),function(){var t=this,n=arguments;return new Promise((function(i,o){var a=e.apply(t,n);function r(e){ot(a,i,o,r,l,"next",e)}function l(e){ot(a,i,o,r,l,"throw",e)}r(void 0)}))});return function(){return t.apply(this,arguments)}}(),V=c.createElement(l.ConfirmationModal,{onClose:function(){return j(!1)},onSecondaryActionClick:function(){return j(!1)},primaryActionLoading:x,onPrimaryActionClick:q,open:U,type:"negative",primaryAction:g("console:develop.features.applications.confirmations.certificateDelete.primaryAction"),secondaryAction:g("console:develop.features.applications.confirmations.certificateDelete.secondaryAction"),"data-testid":"".concat(v,"-delete-confirmation-modal"),closeOnDimmerClick:!1},c.createElement(l.ConfirmationModal.Header,{"data-testid":"".concat(v,"-delete-confirmation-modal-header")},g("console:develop.features.applications.confirmations.certificateDelete.header")),c.createElement(l.ConfirmationModal.Message,{attached:!0,negative:!0,"data-testid":"".concat(v,"-delete-confirmation-modal-message")},g("console:develop.features.applications.confirmations.certificateDelete.message"))),B=function(e,t,n){var i,o,r=We()(t);switch(Te.CertificateManagementUtils.determineCertificateValidityState({from:e,to:t})){case a.CertificateValidity.VALID:i="check circle",o="green";break;case a.CertificateValidity.WILL_EXPIRE_SOON:i="exclamation circle",o="yellow";break;default:i="times circle",o="red"}return c.createElement(c.Fragment,null,n+Oe.CertificateManagementConstants.SPACE_CHARACTER,c.createElement(m.Z,{trigger:c.createElement(f.Z,{name:i,color:o}),content:"Expiry date: "+r.format("DD/MM/YYYY"),inverted:!0,position:"top left",size:"mini"}))},G=function(e){return c.createElement(l.UserAvatar,{name:null!==e&&void 0!==e&&e.infoUnavailable?Oe.CertificateManagementConstants.QUESTION_MARK:Te.CertificateManagementUtils.searchIssuerDNAlias(null===e||void 0===e?void 0:e.issuerDN),size:"mini",floated:"left"})},z=function(e){return c.createElement("span",{className:"with-muted-list-item-header"},"Unable to visualize the certificate details\xa0",c.createElement(m.Z,{trigger:c.createElement(f.Z,{onClick:function(){return H(e)},name:"info circle",color:"grey"}),content:"Click for more info",inverted:!0,position:"top left",size:"mini"}))};return c.createElement(we.Forms,null,C?c.createElement(M.Z,null,c.createElement(M.Z.Row,null,c.createElement(M.Z.Column,{width:16},c.createElement(le.Z,{hidden:!0}),c.createElement(l.ResourceList,{fill:!0,relaxed:!1,className:"application-list",loadingStateOptions:{count:h.ru.DEFAULT_RESOURCE_LIST_ITEM_LIMIT,imageType:"circular"}},null===C||void 0===C?void 0:C.map((function(e,i){return c.createElement(l.ResourceListItem,{key:i,actionsColumnWidth:3,descriptionColumnWidth:9,actions:[{"data-testid":"".concat(v,"-edit-cert-").concat(i,"-button"),icon:"pencil",onClick:function(){return N(!0)},popupText:"Change certificate",type:"button"},{"data-testid":"".concat(v,"-edit-cert-").concat(i,"-button"),disabled:null===e||void 0===e?void 0:e.infoUnavailable,hidden:null===e||void 0===e?void 0:e.infoUnavailable,icon:"eye",onClick:function(){return H(e)},popupText:"View certificate",type:"button"},{"data-testid":"".concat(v,"-delete-cert-").concat(i,"-button"),disabled:!t,icon:"trash alternate",onClick:function(){return j(!0)},popupText:t?g("console:manage.features.users.usersList.list.iconPopups.delete"):n,type:"button"}],actionsFloated:"right",avatar:G(e),itemHeader:null!==e&&void 0!==e&&e.infoUnavailable?z(e):B(e.validFrom,e.validTill,Te.CertificateManagementUtils.searchIssuerDNAlias(null===e||void 0===e?void 0:e.issuerDN)),itemDescription:null!==e&&void 0!==e&&e.infoUnavailable?null:Te.CertificateManagementUtils.getValidityPeriodInHumanReadableFormat(e.validFrom,e.validTill)})})))))):c.createElement(M.Z,null,c.createElement(M.Z.Row,{columns:1},c.createElement(M.Z.Column,{width:16},c.createElement(le.Z,{hidden:!0}),c.createElement(_.Z,null,c.createElement(l.EmptyPlaceholder,{title:g("console:develop.features.applications.wizards.applicationCertificateWizard.emptyPlaceHolder.title"),image:(0,h.jF)().emptyList,subtitle:[g("console:develop.features.applications.wizards.applicationCertificateWizard.emptyPlaceHolder.description1"),g("console:develop.features.applications.wizards.applicationCertificateWizard.emptyPlaceHolder.description2")],imageSize:"tiny",action:c.createElement(l.PrimaryButton,{onClick:function(){return N(!0)},"data-testid":"".concat(v,"-emptyPlaceholder-add-certificate-button"),type:"button"},c.createElement(f.Z,{name:"add"}),g("console:develop.features.authenticationProvider.buttons.addCertificate")),"data-testid":"".concat(v,"-empty-placeholder")})),c.createElement(le.Z,{hidden:!0})))),k&&c.createElement(et,{closeWizard:function(){return N(!1)},updatePEMValue:p,"data-testid":"".concat(v,"-add-certificate-wizard")}),V,O&&c.createElement(ke,{open:O,certificate:R,onClose:function(){return T(!1)}}))};function st(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,o,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(i=n.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){l=!0,o=e}finally{try{r||null==n.return||n.return()}finally{if(l)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return ct(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ct(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ct(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}lt.defaultProps={"data-testid":"application-certificate-list",deleteAllowed:!0,reasonInsideTooltipWhyDeleteIsNotAllowed:null};var dt=function(e){var t=e.protocol,n=e.deleteAllowed,i=e.reasonInsideTooltipWhyDeleteIsNotAllowed,o=e.onUpdate,s=e.application,p=e.certificate,m=e.triggerSubmit,f=e.hidden,v=e.hideJWKS,h=e.readOnly,b=e.updateCertFinalValue,E=e.updateCertType,A=e.canDiscardCertificate,C=e["data-testid"],S=(0,d.$G)().t,I=(0,u.I0)(),O=st((0,c.useState)(!1),2),T=O[0],w=O[1],L=st((0,c.useState)(y.el.NONE),2),P=L[0],k=L[1],N=st((0,c.useState)(void 0),2),D=N[0],U=N[1],j=st((0,c.useState)(void 0),2),Z=j[0],_=j[1],x=st((0,c.useState)(!1),2),F=x[0],H=x[1];(0,c.useEffect)((function(){null!==p&&void 0!==p&&p.type&&k(null===p||void 0===p?void 0:p.type)}),[p]),(0,c.useEffect)((function(){y.el.PEM===P?(b(D),(0,R.Z)(D)||w(!1)):y.el.JWKS===P&&b(Z)}),[D,Z]),(0,c.useEffect)((function(){y.el.PEM===(null===p||void 0===p?void 0:p.type)?null!==p&&void 0!==p&&p.value&&U(p.value):y.el.JWKS===(null===p||void 0===p?void 0:p.type)&&null!==p&&void 0!==p&&p.value&&_(p.value)}),[p]),(0,c.useEffect)((function(){q(P),y.el.PEM===P?_(""):y.el.JWKS===P&&U("")}),[P]);var q=function(e){"PEM"!==e||(0,R.Z)(Z)?"JWKS"!==e||(0,R.Z)(D)||I((0,r.addAlert)({description:S("console:develop.features.authenticationProvider.notifications.changeCertType.jwks.description"),level:a.AlertLevels.WARNING,message:S("console:develop.features.authenticationProvider.notifications.changeCertType.jwks.message")})):I((0,r.addAlert)({description:S("console:develop.features.authenticationProvider.notifications.changeCertType.pem.description"),level:a.AlertLevels.WARNING,message:S("console:develop.features.authenticationProvider.notifications.changeCertType.pem.message")}))};return f?null:c.createElement(we.Forms,{onSubmit:function(){E(P),P===y.el.PEM&&(0,R.Z)(D)&&w(!0)},submitState:m},c.createElement(M.Z.Row,{columns:1},c.createElement(M.Z.Column,{mobile:16,tablet:16,computer:16},c.createElement(le.Z,null)),c.createElement(M.Z.Column,{mobile:16,tablet:16,computer:16},c.createElement(l.Heading,{as:"h4"},S("console:develop.features.applications.forms.advancedConfig.sections.certificate.heading")),c.createElement(we.Field,{label:S("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.type.label"),name:"certificateType",default:y.el.NONE,listen:function(e){k(e.get("certificateType")),E(e.get("certificateType"))},onBefore:function(e,t){var n=t;return!(y.el.NONE===n&&!A())||(H(!0),!1)},type:"radio",value:null===p||void 0===p?void 0:p.type,children:v?[{label:"None",value:y.el.NONE},{hint:{content:S("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.pemValue.description"),header:S("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.type.children.pem.label")},label:S("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.type.children.pem.label"),value:y.el.PEM}]:[{label:"None",value:y.el.NONE},{hint:{content:S("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.jwksValue.description"),header:S("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.type.children.jwks.label")},label:S("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.type.children.jwks.label"),value:y.el.JWKS},{hint:{content:S("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.pemValue.description"),header:S("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.type.children.pem.label")},label:S("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.type.children.pem.label"),value:y.el.PEM}],readOnly:h,"data-testid":"".concat(C,"-certificate-type-radio-group")}))),c.createElement(M.Z.Row,{columns:1},c.createElement(M.Z.Column,{mobile:16,tablet:16,computer:16},P===y.el.PEM&&c.createElement(lt,{deleteAllowed:n,reasonInsideTooltipWhyDeleteIsNotAllowed:i,onUpdate:o,application:s,updatePEMValue:function(e){U(e)},applicationCertificate:D}),P===y.el.JWKS&&!v&&c.createElement(we.Field,{name:"jwksValue",displayErrorOn:"blur",label:S("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.jwksValue.label"),required:y.el.JWKS===P,requiredErrorMessage:S("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.jwksValue.validations.empty"),placeholder:S("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.jwksValue.placeholder"),type:"text",validation:function(e,t){Re.I.url(e)||(t.isValid=!1,t.errorMessages.push(S("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.jwksValue.validations.invalid"))),null!==g.commonConfig&&void 0!==g.commonConfig&&g.commonConfig.blockLoopBackCalls&&Te.URLUtils.isLoopBackCall(e)&&(t.isValid=!1,t.errorMessages.push(S("console:develop.features.idp.forms.common.internetResolvableErrorMessage")))},listen:function(e){_(e.get("jwksValue"))},value:y.el.JWKS===(null===p||void 0===p?void 0:p.type)&&(null===p||void 0===p?void 0:p.value),readOnly:h,"data-testid":"".concat(C,"-jwks-input")}),T&&(0,R.Z)(D)&&y.el.PEM===P&&c.createElement(l.Message,{type:"error","data-testid":"".concat(C,"-error-message"),content:S("console:manage.features.certificates.keystore.errorEmpty")}),t&&c.createElement(l.Hint,null,function(e){switch(e){case y.AI.OAUTH2_OIDC:case y.AI.OIDC:return c.createElement(d.cC,{i18nKey:"console:develop.features.applications.forms.advancedConfig.sections.certificate.hint.customOidc"},"This certificate is used to encrypt the ",c.createElement(l.Code,null,"id_token"),"returned after the authentication.");case y.AI.SAML:return S("console:develop.features.applications.forms.advancedConfig.sections.certificate.hint.customSaml");default:return null}}(t)))),F&&c.createElement(l.ConfirmationModal,{onClose:function(){return H(!1)},type:"negative",open:F,primaryAction:S("common:okay"),onPrimaryActionClick:function(){H(!1)},closeOnDimmerClick:!1},c.createElement(l.ConfirmationModal.Header,{"data-testid":"".concat(C,"-invalid-operation-modal-header")},S("console:develop.features.applications.forms.advancedConfig.sections.certificate.invalidOperationModal.header")),c.createElement(l.ConfirmationModal.Content,{"data-testid":"".concat(C,"-invalid-operation-modal-content")},S("console:develop.features.applications.forms.advancedConfig.sections.certificate.invalidOperationModal.message"))))};function ut(e,t,n,i,o,a,r){try{var l=e[a](r),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(i,o)}function pt(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var a=e.apply(t,n);function r(e){ut(a,i,o,r,l,"next",e)}function l(e){ut(a,i,o,r,l,"throw",e)}r(void 0)}))}}function mt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ft(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mt(Object(n),!0).forEach((function(t){vt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gt(e){return function(e){if(Array.isArray(e))return Et(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||bt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ht(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,o,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(i=n.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){l=!0,o=e}finally{try{r||null==n.return||n.return()}finally{if(l)throw o}}return a}(e,t)||bt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bt(e,t){if(e){if("string"===typeof e)return Et(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Et(e,t):void 0}}function Et(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}dt.defaultProps={"data-testid":"application-certificate-wrapper",deleteAllowed:!0,hidden:!1,hideJWKS:!1,isRequired:!1,protocol:null,reasonInsideTooltipWhyDeleteIsNotAllowed:null};var yt=function(e){var t=e.onUpdate,n=e.application,i=e.certificate,o=e.metadata,a=e.initialValues,r=e.onSubmit,s=e.onApplicationRegenerate,p=e.onApplicationRevoke,m=e.readOnly,f=e.allowedOriginList,v=e.tenantDomain,h=e.template,b=e.isLoading,C=e.setIsLoading,S=e["data-testid"],I=(0,d.$G)().t,O=(0,u.v9)((function(e){return e.config.ui.isClientSecretHashEnabled})),T=ht((0,c.useState)(!1),2),w=T[0],L=T[1],k=ht((0,c.useState)(""),2),D=k[0],U=k[1],j=ht((0,c.useState)(""),2),_=j[0],x=j[1],F=ht((0,c.useState)(!1),2),H=F[0],q=F[1],V=ht((0,c.useState)(!1),2),B=V[0],G=V[1],z=ht((0,c.useState)(!1),2),W=z[0],K=z[1],$=ht((0,c.useState)(void 0),2),Y=$[0],Q=$[1],J=ht((0,c.useState)(void 0),2),X=J[0],ee=J[1],te=ht((0,c.useState)(!1),2),ne=te[0],ie=te[1],oe=ht((0,c.useState)(void 0),2),ae=oe[0],re=oe[1],se=ht((0,c.useState)(!1),2),ce=se[0],de=se[1],ue=ht((0,c.useState)(!1),2),pe=ue[0],me=ue[1],fe=ht((0,c.useState)(!1),2),ve=fe[0],ge=fe[1],he=ht((0,c.useState)(!1),2),be=he[0],Ee=he[1],ye=ht((0,c.useState)(!1),2),Ae=ye[0],Ce=ye[1],Se=ht((0,c.useState)(null),2),Ie=Se[0],Oe=Se[1],Le=ht((0,c.useState)(""),2),Pe=Le[0],Me=Le[1],ke=ht((0,c.useState)(!1),2),Ne=ke[0],De=ke[1],Ue=ht((0,c.useState)(null),2),je=Ue[0],ze=Ue[1],We=ht((0,c.useState)(null),2),Ke=We[0],$e=We[1],Ye=ht((0,c.useState)(!1),2)[1],Qe=ht((0,c.useState)(void 0),2)[1],Je=ht((0,c.useState)(!1),2),Xe=Je[0],et=Je[1],tt=(0,u.v9)((function(e){return e.config})),nt=(0,c.useRef)(),it=(0,c.useRef)(),ot=(0,c.useRef)(),at=(0,c.useRef)(),rt=(0,c.useRef)(),lt=(0,c.useRef)(),st=(0,c.useRef)(),ct=(0,c.useRef)(),ut=(0,c.useRef)(),mt=(0,c.useRef)(),vt=(0,c.useRef)(),Et=(0,c.useRef)(),yt=(0,c.useRef)(),At=(0,c.useRef)(),Ct=(0,c.useRef)(),St=(0,c.useRef)(),It=(0,c.useRef)(),Ot=(0,c.useRef)(),Tt=(0,c.useRef)(),wt=(0,c.useRef)(),Rt=(0,c.useRef)(),Lt=(0,c.useRef)(),Pt=(0,c.useRef)(),Mt=ht((0,c.useState)(!1),2),kt=Mt[0],Nt=Mt[1],Dt=ht((0,c.useState)(!1),2),Ut=Dt[0],jt=Dt[1],Zt=ht((0,c.useState)(void 0),2),_t=Zt[0],xt=Zt[1],Ft=ht((0,c.useState)(y.el.NONE),2),Ht=Ft[0],qt=Ft[1],Vt=ht((0,c.useState)(!1),2),Bt=Vt[0],Gt=Vt[1],zt=ht((0,we.useTrigger)(),2),Wt=zt[0],Kt=zt[1],$t=function(){var e,t;!1===(null===a||void 0===a||null===(e=a.idToken)||void 0===e||null===(t=e.encryption)||void 0===t?void 0:t.enabled)&&(a.idToken.encryption={algorithm:"",enabled:!1,method:""})};$t();var Yt=ht((0,c.useState)(!1),2),Qt=Yt[0],Jt=Yt[1],Xt="PKCE",en="mandatory",tn="supportPlainTransformAlgorithm",nn=function(e){e.has(Xt)&&(e.get(Xt).find((function(e){return e===en}))?Jt(!0):(e.set(Xt,[]),Jt(!1)))};(0,c.useEffect)((function(){null!==h&&void 0!==h&&h.id&&null!==Ge&&void 0!==Ge&&Ge.id?(h.id==Ge.id&&Nt(!0),C(!1)):C(!1)}),[h]),(0,c.useEffect)((function(){null!==h&&void 0!==h&&h.id&&null!==Be&&void 0!==Be&&Be.id&&h.id==Be.id&&jt(!0)}),[h]),(0,c.useEffect)((function(){null!==ae&&void 0!==ae&&ae.includes("authorization_code")||null!==ae&&void 0!==ae&&ae.includes("implicit")?ee(!0):ee(!1),!(0,_e.Z)(E.j.IS_REFRESH_TOKEN_GRANT_TYPE_ALLOWED,ae).length&&null!==ae&&void 0!==ae&&ae.includes("refresh_token")?et(!0):et(!1)}),[ae,ce]),(0,c.useEffect)((function(){Q(!1),null!==ae&&void 0!==ae&&ae.includes(E.j.AUTHORIZATION_CODE_GRANT)&&Q(!0)}),[ae,ce]),(0,c.useEffect)((function(){ie(!1),on(ae)&&ie(!0)}),[ae,ce]);var on=function(e){return!!(0===(null===e||void 0===e?void 0:e.length)||null!==e&&void 0!==e&&e.includes("implicit")&&1===(null===e||void 0===e?void 0:e.length))||(!(null===e||void 0===e||!e.includes("implicit")||null===e||void 0===e||!e.includes("refresh_token")||2!==(null===e||void 0===e?void 0:e.length))||(null===e||void 0===e?void 0:e.includes("refresh_token"))&&1===(null===e||void 0===e?void 0:e.length))};(0,c.useEffect)((function(){void 0===ae&&(null!==a&&void 0!==a&&a.grantTypes&&re(gt(null===a||void 0===a?void 0:a.grantTypes)),null!==a&&void 0!==a&&a.allowedOrigins&&Me(null===a||void 0===a?void 0:a.allowedOrigins.toString()))}),[a]),(0,c.useEffect)((function(){null!==i&&void 0!==i&&i.type&&qt(null===i||void 0===i?void 0:i.type)}),[i]),(0,c.useEffect)((function(){var e,t;null!==a&&void 0!==a&&a.accessToken&&!(0,R.Z)(a.accessToken)&&(null!==a&&void 0!==a&&null!==(e=a.accessToken)&&void 0!==e&&e.bindingType?(null===a||void 0===a||null===(t=a.accessToken)||void 0===t?void 0:t.bindingType)!==(null===y.ti||void 0===y.ti?void 0:y.ti.NONE)&&De(!0):De(!1))}),[null===a||void 0===a?void 0:a.accessToken]),(0,c.useEffect)((function(){y.el.PEM===(null===i||void 0===i?void 0:i.type)&&(Ye(!0),null!==i&&void 0!==i&&i.value&&Qe(i.value))}),[i]),(0,c.useEffect)((function(){(0,R.Z)(_t)||Ht===y.el.NONE?Gt(!1):Gt(!0)}),[_t,Ht]);var an=function(e){switch(e.toLowerCase()){case"none":return I("console:develop.features.applications.forms.inboundOIDC.sections.accessToken.fields.bindingType.valueDescriptions.none",{productName:tt.ui.productName});case"cookie":return I("console:develop.features.applications.forms.inboundOIDC.sections.accessToken.fields.bindingType.valueDescriptions.cookie");case"sso-session":return I("console:develop.features.applications.forms.inboundOIDC.sections.accessToken.fields.bindingType.valueDescriptions.sso_session",{productName:tt.ui.productName});case"default":return I("console:develop.features.applications.forms.inboundOIDC.sections.accessToken.fields.type.valueDescriptions.default");case"jwt":return I("console:develop.features.applications.forms.inboundOIDC.sections.accessToken.fields.type.valueDescriptions.jwt");default:return}},rn=function(e){return"sso-session"===e.toLowerCase()?I("console:develop.features.applications.forms.inboundOIDC.sections.accessToken.fields.bindingType.children.ssoBinding.label"):e},ln=function(e,t){var n=[];return e&&(t?e.options.map((function(e){n.push({hint:{content:an(e)},label:rn(e),value:e})})):e.options.map((function(e){n.push({text:e,value:e})}))),t?n.sort((function(e,t){return e.label<t.label?-1:e.label>t.label?1:0})):n},sn=function(e,t){var n=[];return e&&e.options.map((function(e){if("Default"!==e||t){if((kt||Ut)&&t&&"cookie"===e)return!1;n.push({hint:{content:an(e)},label:rn(e),value:e})}else n.push({hint:{content:an(e)},label:"Opaque",value:e})})),n.sort((function(e,t){return e.label<t.label?-1:e.label>t.label?1:0}))},cn=function(e){var t=[];if(e&&e.options.map((function(e){var n=e.name,i=e.displayName;if(!E.j.HIDDEN_GRANT_TYPES.includes(n)&&(n!==E.j.ORGANIZATION_SWITCH_GRANT||isOrganizationManagementEnabled)&&(!(h&&h.id&&(0,Ze.Z)(E.j.TEMPLATE_WISE_ALLOWED_GRANT_TYPES,h.id))||E.j.TEMPLATE_WISE_ALLOWED_GRANT_TYPES[h.id].includes(n))){var o,a,r={label:(o=n,a=i,o===E.j.IMPLICIT_GRANT||o===E.j.PASSWORD||o===E.j.CLIENT_CREDENTIALS_GRANT?c.createElement(c.Fragment,null,c.createElement("label",null,a,c.createElement(l.GenericIcon,{icon:(0,qe.s_)().warning,defaultIcon:!0,colored:!0,transparent:!0,spaced:"left",floated:"right"}))):a),value:n},s=function(e){switch(e){case E.j.IMPLICIT_GRANT:return I("console:develop.features.applications.forms.inboundOIDC.fields.grant.children.implicit.hint");case E.j.PASSWORD:return I("console:develop.features.applications.forms.inboundOIDC.fields.grant.children.password.hint");case E.j.CLIENT_CREDENTIALS_GRANT:return I("console:develop.features.applications.forms.inboundOIDC.fields.grant.children.client_credential.hint");case E.j.REFRESH_TOKEN_GRANT:return I("console:develop.features.applications.forms.inboundOIDC.fields.grant.validation.refreshToken");default:return null}}(n);s&&(r.hint={content:s}),ne&&"refresh_token"===r.value&&(r.disabled=!0),t.push(r)}})),h&&h.id){var n=E.j.TEMPLATE_WISE_ALLOWED_GRANT_TYPE_ARRANGE_ORDER[h.id];if(n&&n.size===t.length){var i,o=function(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=bt(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,r=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return r=e.done,e},e:function(e){l=!0,a=e},f:function(){try{r||null==n.return||n.return()}finally{if(l)throw a}}}}(t);try{for(o.s();!(i=o.n()).done;){var a=i.value,r=n.get(a.value);a.index=null!==r&&void 0!==r?r:1/0}}catch(e){o.e(e)}finally{o.f()}t.sort((function(e,t){return e.index-t.index}))}}if(g.applicationConfig.inboundOIDCForm.disabledGrantTypes&&g.applicationConfig.inboundOIDCForm.disabledGrantTypes[h.id]){var s=g.applicationConfig.inboundOIDCForm.disabledGrantTypes[h.id];return t.filter((function(e){return!s.includes(e.value)}))}return t},dn=function(e){var t=[];return e.mandatory&&t.push(en),e.supportPlainTransformAlgorithm&&t.push(tn),t},un=function(e){var t;return e.get("RevokeAccessToken")?(null===(t=e.get("RevokeAccessToken"))||void 0===t?void 0:t.length)>0:e.get("bindingType")!==y.ti.NONE},pn=function(e,t,n){var r,l,s,c,d,u,p={accessToken:{applicationAccessTokenExpiryInSeconds:e.get("applicationAccessTokenExpiryInSeconds")?Number(e.get("applicationAccessTokenExpiryInSeconds")):Number(o.defaultApplicationAccessTokenExpiryTime),bindingType:e.get("bindingType"),revokeTokensWhenIDPSessionTerminated:(null===(r=e.get("RevokeAccessToken"))||void 0===r?void 0:r.length)>0,type:e.get("type"),userAccessTokenExpiryInSeconds:Number(e.get("userAccessTokenExpiryInSeconds")),validateTokenBinding:(null===(l=e.get("ValidateTokenBinding"))||void 0===l?void 0:l.length)>0},grantTypes:e.get("grant"),idToken:{audience:""!==_?_.split(","):[],encryption:{algorithm:w&&Bt?e.get("algorithm"):o.idTokenEncryptionAlgorithm.defaultValue,enabled:Bt&&(null===(s=e.get("encryption"))||void 0===s?void 0:s.includes("enableEncryption")),method:w&&Bt?e.get("method"):o.idTokenEncryptionMethod.defaultValue},expiryInSeconds:Number(e.get("idExpiryInSeconds"))},logout:{backChannelLogoutUrl:e.get("backChannelLogoutUrl"),frontChannelLogoutUrl:e.get("frontChannelLogoutUrl")},publicClient:(null===(c=e.get("supportPublicClients"))||void 0===c?void 0:c.length)>0,refreshToken:{expiryInSeconds:e.get("expiryInSeconds")?parseInt(e.get("expiryInSeconds"),10):Number(o.defaultRefreshTokenExpiryTime),renewRefreshToken:(null===(d=e.get("RefreshToken"))||void 0===d?void 0:d.length)>0},scopeValidators:e.get("scopeValidator"),validateRequestObjectSignature:(null===(u=e.get("enableRequestObjectSignatureValidation"))||void 0===u?void 0:u.length)>0};!g.applicationConfig.inboundOIDCForm.showFrontChannelLogout&&delete p.logout.frontChannelLogoutUrl,!g.applicationConfig.inboundOIDCForm.showScopeValidators&&delete p.scopeValidators,!g.applicationConfig.inboundOIDCForm.showIdTokenEncryption&&delete p.idToken.encryption,!g.applicationConfig.inboundOIDCForm.showBackChannelLogout&&delete p.logout.backChannelLogoutUrl,!g.applicationConfig.inboundOIDCForm.showRequestObjectSignatureValidation&&delete p.validateRequestObjectSignature,p=ft(ft({},p),{},X?{allowedOrigins:A.yf.resolveAllowedOrigins(n||Pe),callbackURLs:[A.yf.buildCallBackUrlWithRegExp(t||D)]}:{allowedOrigins:[],callbackURLs:[]}),p=ft(ft({},p),{},Y?{pkce:{mandatory:e.get("PKCE").includes("mandatory"),supportPlainTransformAlgorithm:!!e.get("PKCE").includes("supportPlainTransformAlgorithm")}}:{pkce:{mandatory:!1,supportPlainTransformAlgorithm:!1}}),null!==a&&void 0!==a&&a.clientId&&null!==a&&void 0!==a&&a.clientSecret&&(p=ft(ft({},p),{},{clientId:null===a||void 0===a?void 0:a.clientId,clientSecret:null===a||void 0===a?void 0:a.clientSecret}));var m={general:{advancedConfigurations:{certificate:{type:Ht!==y.el.NONE?Ht:null===i||void 0===i?void 0:i.type,value:Ht!==y.el.NONE?_t:""}}},inbound:ft({},p)};return!g.applicationConfig.inboundOIDCForm.showCertificates&&delete m.general.advancedConfigurations.certificate,m},mn=function(e,t,n){var i,r={accessToken:{applicationAccessTokenExpiryInSeconds:Number(o.defaultApplicationAccessTokenExpiryTime),bindingType:e.get("bindingType"),revokeTokensWhenIDPSessionTerminated:un(e),type:e.get("type"),userAccessTokenExpiryInSeconds:Number(e.get("userAccessTokenExpiryInSeconds"))},grantTypes:e.get("grant"),idToken:{audience:""!==_?_.split(","):[],expiryInSeconds:Number(e.get("idExpiryInSeconds"))},publicClient:!0,refreshToken:{expiryInSeconds:e.get("expiryInSeconds")?parseInt(e.get("expiryInSeconds"),10):Number(o.defaultRefreshTokenExpiryTime),renewRefreshToken:(null===(i=e.get("RefreshToken"))||void 0===i?void 0:i.length)>0}};return r=ft(ft({},r),{},X?{allowedOrigins:A.yf.resolveAllowedOrigins(n||Pe),callbackURLs:[A.yf.buildCallBackUrlWithRegExp(t||D)]}:{allowedOrigins:[],callbackURLs:[]}),r=ft(ft({},r),{},Y?{pkce:{mandatory:e.get("PKCE").includes("mandatory"),supportPlainTransformAlgorithm:!!e.get("PKCE").includes("supportPlainTransformAlgorithm")}}:{pkce:{mandatory:!1,supportPlainTransformAlgorithm:!1}}),g.applicationConfig.inboundOIDCForm.showScopeValidators&&(r=ft(ft({},r),{},{scopeValidators:e.get("scopeValidator")})),null!==a&&void 0!==a&&a.clientId&&null!==a&&void 0!==a&&a.clientSecret?{inbound:ft(ft({},r),{},{clientId:null===a||void 0===a?void 0:a.clientId,clientSecret:null===a||void 0===a?void 0:a.clientSecret})}:r};(0,c.useEffect)((function(){var e,t;null!==a&&void 0!==a&&null!==(e=a.idToken)&&void 0!==e&&e.encryption&&L(null===(t=a.idToken.encryption)||void 0===t?void 0:t.enabled)}),[a]);var fn,vn,gn=function(e){var t=Pe;Me(t=""!==t?t+","+e:e)},hn=function(e){var t={behavior:"smooth",block:"center"};switch(e){case"clientSecret":nt.current.scrollIntoView(t);break;case"grant":it.current.scrollIntoView(t);break;case"url":ot.current.scrollIntoView(t);break;case"allowedOrigin":at.current.scrollIntoView(t);break;case"supportPublicClients":rt.current.scrollIntoView(t);break;case"pkce":lt.current.scrollIntoView(t);break;case"bindingType":st.current.scrollIntoView(t);break;case"type":ct.current.scrollIntoView(t);break;case"validateTokenBinding":ut.current.scrollIntoView(t);break;case"revokeAccessToken":mt.current.scrollIntoView(t);break;case"userAccessTokenExpiryInSeconds":vt.current.scrollIntoView(t);break;case"refreshToken":yt.current.scrollIntoView(t);break;case"expiryInSeconds":At.current.scrollIntoView(t);break;case"audience":Ct.current.scrollIntoView(t);break;case"encryption":St.current.scrollIntoView(t);break;case"algorithm":It.current.scrollIntoView(t);break;case"method":Ot.current.scrollIntoView(t);break;case"idExpiryInSeconds":Tt.current.scrollIntoView(t);break;case"backChannelLogoutUrl":wt.current.scrollIntoView(t);break;case"frontChannelLogoutUrl":Rt.current.scrollIntoView(t);break;case"enableRequestObjectSignatureValidation":Lt.current.scrollIntoView(t);break;case"scopeValidator":Pt.current.scrollIntoView(t)}},bn=function(e){var t=Math.floor(Number(e.toString()));return t!==1/0&&String(t)===e&&t>0},En=function(e,t,n){var i=parseInt(e.get("userAccessTokenExpiryInSeconds"),10)<60,o=parseInt(e.get("expiryInSeconds"),10)<60,a=parseInt(e.get("idExpiryInSeconds"),10)<60;return i||o||a?(Ce(!0),Oe(c.createElement(l.ConfirmationModal,{onClose:function(){return Ce(!1)},type:"warning",open:!0,skipAssertion:!0,primaryAction:I("common:confirm"),secondaryAction:I("common:cancel"),onSecondaryActionClick:function(){return Ce(!1)},onPrimaryActionClick:function(){r(kt?mn(e,t,n):pn(e,t,n)),Ce(!1)},"data-testid":"".concat(S,"-low-expiry-times-confirmation-modal"),closeOnDimmerClick:!1},c.createElement(l.ConfirmationModal.Header,{"data-testid":"".concat(S,"-low-expiry-times-confirmation-modal-header")},I("console:develop.features.applications.confirmations.lowOIDCExpiryTimes.header")),c.createElement(l.ConfirmationModal.Message,{attached:!0,warning:!0,"data-testid":"".concat(S,"-low-expiry-times-confirmation-modal-message")},I("console:develop.features.applications.confirmations.lowOIDCExpiryTimes.message")),c.createElement(l.ConfirmationModal.Content,{"data-testid":"".concat(S,"-low-expiry-times-confirmation-modal-content")},c.createElement(l.Text,null,I("console:develop.features.applications.confirmations.lowOIDCExpiryTimes.content")),c.createElement(Fe.Z,{bulleted:!0},i&&c.createElement(Fe.Z.Item,null,I("console:develop.features.applications.forms.inboundOIDC.sections.accessToken.fields.expiry.label")),o&&c.createElement(Fe.Z.Item,null,I("console:develop.features.applications.forms.inboundOIDC.sections.refreshToken.fields.expiry.label")),a&&c.createElement(Fe.Z.Item,null,I("console:develop.features.applications.forms.inboundOIDC.sections.idToken.fields.expiry.label"))),c.createElement(l.Text,null,I("console:develop.features.applications.confirmations.lowOIDCExpiryTimes.assertionHint"))))),!0):(Ce(!1),Oe(null),!1)};return!b&&o?c.createElement(we.Forms,{onSubmit:function(e){Kt(),!kt&&g.applicationConfig.inboundOIDCForm.showCertificates&&Ht!==y.el.NONE&&(0,R.Z)(_t)||(X?fn((function(t){(0,R.Z)(D)&&(0,R.Z)(t)?(q(!0),hn("url")):vn((function(n){En(e,t,n)||r(kt?mn(e,t,n):pn(e,t,n))}))})):(En(e,void 0,void 0)||r(pn(e,void 0,void 0)),C(!1)))},onSubmitError:function(e,t){for(var n=e.entries(),i=n.next();!i.done;){if(!i.value[1]||!t.get(i.value[0]).isValid){hn(i.value[0]);break}i=n.next()}}},c.createElement(M.Z,null,(null===a||void 0===a?void 0:a.state)===y.ZM.REVOKED&&c.createElement(M.Z.Row,{columns:1},c.createElement(M.Z.Column,{mobile:16,tablet:16,computer:16},c.createElement(l.Message,{type:"warning",visible:!0,header:I("console:develop.features.applications.forms.inboundOIDC.messages.revokeDisclaimer.heading"),content:I("console:develop.features.applications.forms.inboundOIDC.messages.revokeDisclaimer.content")}))),(null===a||void 0===a?void 0:a.clientId)&&c.createElement(M.Z.Row,{columns:1},c.createElement(M.Z.Column,{mobile:16,tablet:16,computer:16},c.createElement(P.Z.Field,null,c.createElement("label",null,I("console:develop.features.applications.forms.inboundOIDC.fields.clientID.label")),c.createElement("div",{className:"display-flex"},c.createElement(l.CopyInputField,{value:null===a||void 0===a?void 0:a.clientId,"data-testid":"".concat(S,"-client-id-readonly-input")}))),g.applicationConfig.inboundOIDCForm.showNativeClientSecretMessage&&(null===a||void 0===a?void 0:a.state)!==y.ZM.REVOKED&&kt?c.createElement(l.Message,{type:"info",content:c.createElement(d.cC,{i18nKey:"console:develop.features.applications.forms.inboundOIDC.fields.clientSecret.message",values:{productName:tt.ui.productName}},"productName does not issue a\xa0",c.createElement(l.Code,{withBackground:!0},"client_secret")," to native applications or web browser-based applications for the purpose of client authentication.")}):null)),(null===a||void 0===a?void 0:a.clientSecret)&&(null===a||void 0===a?void 0:a.state)!==y.ZM.REVOKED&&!kt&&c.createElement(M.Z.Row,{columns:2},c.createElement(M.Z.Column,{mobile:16,tablet:16,computer:16},c.createElement(P.Z.Field,null,c.createElement("label",null,I("console:develop.features.applications.forms.inboundOIDC.fields.clientSecret.label")),O?c.createElement(l.Message,{visible:!0,type:"info",content:I("console:develop.features.applications.forms.inboundOIDC.fields.clientSecret.hashedDisclaimer")}):c.createElement("div",{className:"display-flex"},c.createElement(l.CopyInputField,{secret:!0,value:null===a||void 0===a?void 0:a.clientSecret,hideSecretLabel:I("console:develop.features.applications.forms.inboundOIDC.fields.clientSecret.hideSecret"),showSecretLabel:I("console:develop.features.applications.forms.inboundOIDC.fields.clientSecret.showSecret"),"data-testid":"".concat(S,"-client-secret-readonly-input")}),!m&&c.createElement(Z.Z,{color:"red",className:"oidc-action-button",onClick:function(e){e.preventDefault(),me(!0)},"data-testid":"".concat(S,"-oidc-regenerate-button")},I("common:regenerate")))))),!m&&(null===a||void 0===a?void 0:a.clientSecret)&&(null===a||void 0===a?void 0:a.state)===y.ZM.REVOKED&&c.createElement(M.Z.Row,{columns:2},c.createElement(M.Z.Column,{mobile:16,tablet:16,computer:16},c.createElement(Z.Z,{color:"green",className:"oidc-action-button ml-0",onClick:function(e){e.preventDefault(),Ee(!0)},"data-testid":"".concat(S,"-oidc-regenerate-button")},I("common:activate")))),((null===a||void 0===a?void 0:a.clientId)||(null===a||void 0===a?void 0:a.clientSecret))&&(null===a||void 0===a?void 0:a.state)!==y.ZM.REVOKED&&c.createElement(M.Z.Column,{mobile:16,tablet:16,computer:16},c.createElement(le.Z,null)),(null===a||void 0===a?void 0:a.state)!==y.ZM.REVOKED&&function(){var e,r,s,u,p,E,C,O,T,R,P,k,j,F,V;return c.createElement(c.Fragment,null,c.createElement(M.Z.Row,{columns:2},c.createElement(M.Z.Column,{mobile:16,tablet:16,computer:16},c.createElement(we.Field,{ref:it,name:"grant",label:I("console:develop.features.applications.forms.inboundOIDC.fields.grant.label"),type:"checkbox",required:!0,requiredErrorMessage:I("console:develop.features.applications.forms.inboundOIDC.fields.grant.validations.empty"),children:cn(o.allowedGrantTypes),value:null!==ae&&void 0!==ae?ae:null===a||void 0===a?void 0:a.grantTypes,readOnly:m,enableReinitialize:!0,listen:function(e){return function(e){var t=e.get("grant");on(ae)&&(t=t.filter((function(e){return"refresh_token"!=e}))),re(t),de(!ce)}(e)},"data-testid":"".concat(S,"-grant-type-checkbox-group")}),Xe&&c.createElement(xe.Z,{basic:!0,color:"orange",className:"mt-2"},I("console:develop.features.applications.forms.inboundOIDC.fields.grant.validation.refreshToken")),c.createElement(l.Hint,null,I("console:develop.features.applications.forms.inboundOIDC.fields.grant.hint")))),!kt&&(null===ae||void 0===ae?void 0:ae.includes("authorization_code"))&&c.createElement(c.Fragment,null,c.createElement(M.Z.Row,{columns:1},c.createElement(M.Z.Column,{mobile:16,tablet:16,computer:16},c.createElement(we.Field,{ref:rt,name:"supportPublicClients",label:"",required:!1,requiredErrorMessage:I("console:develop.features.applications.forms.inboundOIDC.fields.public.validations.empty"),type:"checkbox",value:null!==a&&void 0!==a&&a.publicClient?["supportPublicClients"]:[],children:[{label:I("console:develop.features.applications.forms.inboundOIDC.fields.public.label"),value:"supportPublicClients"}],readOnly:m,"data-testid":"".concat(S,"-public-client-checkbox")}),c.createElement(l.Hint,null,I("console:develop.features.applications.forms.inboundOIDC.fields.public.hint",{productName:null===(e=tt.ui)||void 0===e?void 0:e.productName}))))),X&&c.createElement(c.Fragment,null,c.createElement(M.Z.Row,{columns:1},c.createElement(M.Z.Column,{mobile:16,tablet:16,computer:16,className:"field"},c.createElement("div",{ref:ot}),c.createElement(l.URLInput,{isAllowEnabled:kt,handleAddAllowedOrigin:function(e){return gn(e)},handleRemoveAllowedOrigin:function(){},tenantDomain:v,allowedOrigins:(0,N.Z)(f,Pe.split(",")),labelEnabled:!0,urlState:D,setURLState:U,labelName:I("console:develop.features.applications.forms.inboundOIDC.fields.callBackUrls.label"),required:!0,value:null!==a&&void 0!==a&&null!==(r=a.callbackURLs)&&void 0!==r&&r.toString()?A.yf.buildCallBackURLWithSeparator(a.callbackURLs.toString()):"",placeholder:I("console:develop.features.applications.forms.inboundOIDC.fields.callBackUrls.placeholder"),validationErrorMsg:(null===Ve||void 0===Ve?void 0:Ve.id)!==(null===h||void 0===h?void 0:h.id)?I("console:develop.features.applications.forms.inboundOIDC.fields.callBackUrls.validations.invalid"):I("console:develop.features.applications.forms.inboundOIDC.messages.customInvalidMessage"),emptyErrorMessage:I("console:develop.features.applications.forms.inboundOIDC.fields.callBackUrls.validations.empty"),validation:function(e){return!!((null===Ve||void 0===Ve?void 0:Ve.id)===(null===h||void 0===h?void 0:h.id)||Te.URLUtils.isURLValid(e,!0)&&(Te.URLUtils.isHttpUrl(e)||Te.URLUtils.isHttpsUrl(e)))&&(!!Te.URLUtils.isMobileDeepLink(e)&&(ze(null),!0))},showError:H,setShowError:q,hint:I("console:develop.features.applications.forms.inboundOIDC.fields.callBackUrls.hint",{productName:tt.ui.productName}),readOnly:m,addURLTooltip:I("common:addURL"),duplicateURLErrorMessage:I("common:duplicateURLError"),"data-testid":"".concat(S,"-callback-url-input"),getSubmit:function(e){fn=e},showPredictions:!1,customLabel:je,productName:tt.ui.productName,isCustom:(null===Ve||void 0===Ve?void 0:Ve.id)===(null===h||void 0===h?void 0:h.id),popupHeaderPositive:I("console:develop.features.URLInput.withLabel.positive.header"),popupHeaderNegative:I("console:develop.features.URLInput.withLabel.negative.header"),popupContentPositive:I("console:develop.features.URLInput.withLabel.positive.content",{productName:tt.ui.productName}),popupContentNegative:I("console:develop.features.URLInput.withLabel.negative.content",{productName:tt.ui.productName}),popupDetailedContentPositive:I("console:develop.features.URLInput.withLabel.positive.detailedContent.0"),popupDetailedContentNegative:I("console:develop.features.URLInput.withLabel.negative.detailedContent.0"),insecureURLDescription:I("console:common.validations.inSecureURL.description"),showLessContent:I("common:showLess"),showMoreContent:I("common:showMore")}))),c.createElement(M.Z.Row,{columns:1},c.createElement(M.Z.Column,{mobile:16,tablet:16,computer:16,className:"field"},c.createElement("div",{ref:at}),c.createElement(l.URLInput,{handleAddAllowedOrigin:function(e){return gn(e)},urlState:Pe,setURLState:Me,onlyOrigin:!0,labelName:I("console:develop.features.applications.forms.inboundOIDC.fields.allowedOrigins.label"),placeholder:I("console:develop.features.applications.forms.inboundOIDC.fields.allowedOrigins.placeholder"),value:Pe,validationErrorMsg:I("console:develop.features.applications.forms.inboundOIDC.fields.allowedOrigins.validations.empty"),validation:function(e){return!(!Te.URLUtils.isHttpsUrl(e)&&!Te.URLUtils.isHttpUrl(e)||!Te.URLUtils.isAValidOriginUrl(e))&&(!!Te.URLUtils.isMobileDeepLink(e)&&($e(null),!0))},computerWidth:10,setShowError:K,showError:W,readOnly:m,addURLTooltip:I("common:addURL"),duplicateURLErrorMessage:I("common:duplicateURLError"),"data-testid":"".concat(S,"-allowed-origin-url-input"),getSubmit:function(e){vn=e},showPredictions:!1,customLabel:Ke,popupHeaderPositive:I("console:develop.features.URLInput.withLabel.positive.header"),popupHeaderNegative:I("console:develop.features.URLInput.withLabel.negative.header"),popupContentPositive:I("console:develop.features.URLInput.withLabel.positive.content",{productName:tt.ui.productName}),popupContentNegative:I("console:develop.features.URLInput.withLabel.negative.content",{productName:tt.ui.productName}),popupDetailedContentPositive:I("console:develop.features.URLInput.withLabel.positive.detailedContent.0"),popupDetailedContentNegative:I("console:develop.features.URLInput.withLabel.negative.detailedContent.0"),insecureURLDescription:I("console:common.validations.inSecureURL.description"),showLessContent:I("common:showLess"),showMoreContent:I("common:showMore")}),c.createElement(l.Hint,null,"The HTTP origins that host your web application. You can define multiple web origins by adding them separately.",c.createElement("p",{className:"mt-0"},"(E.g.,\xa0\xa0",c.createElement(l.Code,null,"https://myapp.io, https://localhost:3000"),")"))))),Y&&c.createElement(c.Fragment,null,c.createElement(M.Z.Row,{columns:2},c.createElement(M.Z.Column,{mobile:16,tablet:16,computer:16},c.createElement(le.Z,null),c.createElement(le.Z,{hidden:!0})),c.createElement(M.Z.Column,{mobile:16,tablet:16,computer:16},c.createElement(l.Heading,{as:"h4"},I("console:develop.features.applications.forms.inboundOIDC.sections.pkce.heading")),c.createElement(we.Field,{ref:lt,name:Xt,label:"",required:!1,requiredErrorMessage:I("console:develop.features.applications.forms.inboundOIDC.sections.pkce.fields.pkce.validations.empty"),type:"checkbox",value:(null===a||void 0===a?void 0:a.pkce)&&dn(a.pkce),listen:nn,children:kt?[{label:I("console:develop.features.applications.forms.inboundOIDC.sections.pkce.fields.pkce.children.mandatory.label"),value:en}]:[{label:I("console:develop.features.applications.forms.inboundOIDC.sections.pkce.fields.pkce.children.mandatory.label"),value:en},{disabled:!Qt,hint:{content:I("console:develop.features.applications.forms.inboundOIDC.sections.pkce.description",{productName:tt.ui.productName}),header:"PKCE 'Plain'"},label:I("console:develop.features.applications.forms.inboundOIDC.sections.pkce.fields.pkce.children.plainAlg.label"),value:tn}],readOnly:m,"data-testid":"".concat(S,"-pkce-checkbox-group")}),c.createElement(l.Hint,null,I("console:develop.features.applications.forms.inboundOIDC.sections.pkce.hint"))))),c.createElement(M.Z.Row,{columns:2},c.createElement(M.Z.Column,{mobile:16,tablet:16,computer:16},c.createElement(le.Z,null),c.createElement(le.Z,{hidden:!0})),c.createElement(M.Z.Column,{mobile:16,tablet:16,computer:16},c.createElement(l.Heading,{as:"h4"},I("console:develop.features.applications.forms.inboundOIDC.sections.accessToken.heading")),c.createElement(we.Field,{ref:ct,label:I("console:develop.features.applications.forms.inboundOIDC.sections.accessToken.fields.type.label"),name:"type",default:null!==a&&void 0!==a&&a.accessToken?a.accessToken.type:o.accessTokenType.defaultValue,type:"radio",children:sn(o.accessTokenType,!1),readOnly:m,"data-testid":"".concat(S,"-access-token-type-radio-group")}))),c.createElement(M.Z.Row,{columns:1},c.createElement(M.Z.Column,{mobile:16,tablet:16,computer:16},c.createElement(we.Field,{ref:st,label:I("console:develop.features.applications.forms.inboundOIDC.sections.accessToken.fields.bindingType.label"),name:"bindingType",default:null!==a&&void 0!==a&&null!==(s=a.accessToken)&&void 0!==s&&s.bindingType?a.accessToken.bindingType:null!==(u=null===o||void 0===o||null===(p=o.accessTokenBindingType)||void 0===p?void 0:p.defaultValue)&&void 0!==u?u:y.ti.NONE,type:"radio",children:sn(o.accessTokenBindingType,!0),readOnly:m,"data-testid":"".concat(S,"-access-token-type-radio-group"),listen:function(e){De(e.get("bindingType")!==y.ti.NONE)}}),c.createElement(l.Hint,null,c.createElement(d.cC,{values:{productName:tt.ui.productName},i18nKey:"console:develop.features.applications.forms.inboundOIDC.sections.accessToken.fields.bindingType.description"},"Select type ",c.createElement(l.Code,{withBackground:!0},"SSO-session")," to allow productName to bind the",c.createElement(l.Code,{withBackground:!0},"access_token"),"and the",c.createElement(l.Code,{withBackground:!0},"refresh_token"),"to the login session and issue a new token per session. When the application session ends, the tokens will also be revoked.")))),!kt&&Ne&&c.createElement(c.Fragment,null,c.createElement(M.Z.Row,{columns:1},c.createElement(M.Z.Column,{mobile:16,tablet:16,computer:16},c.createElement(we.Field,{ref:ut,name:"ValidateTokenBinding",label:"",required:!1,requiredErrorMessage:"",type:"checkbox",value:null!==a&&void 0!==a&&null!==(E=a.accessToken)&&void 0!==E&&E.validateTokenBinding?["validateTokenBinding"]:[],children:[{label:I("console:develop.features.applications.forms.inboundOIDC.sections.accessToken.fields.validateBinding.label"),value:"validateTokenBinding"}],readOnly:m,"data-testid":"".concat(S,"-access-token-validate-binding-checkbox")}),c.createElement(l.Hint,null,c.createElement(d.cC,{i18nKey:"console:develop.features.applications.forms.inboundOIDC.sections.accessToken.fields.validateBinding.hint"},"Validate the binding attributes at the token validation. The client needs to present the ",c.createElement(l.Code,{withBackground:!0},"access_token")," + cookie for successful authorization.")))),c.createElement(M.Z.Row,{columns:1},c.createElement(M.Z.Column,{mobile:16,tablet:16,computer:16},c.createElement(we.Field,{ref:mt,name:"RevokeAccessToken",label:"",required:!1,requiredErrorMessage:"",type:"checkbox",value:null!==a&&void 0!==a&&null!==(C=a.accessToken)&&void 0!==C&&C.revokeTokensWhenIDPSessionTerminated?["revokeAccessToken"]:[],children:[{label:I("console:develop.features.applications.forms.inboundOIDC.sections.accessToken.fields.revokeToken.label"),value:"revokeAccessToken"}],readOnly:m,"data-testid":"".concat(S,"-access-token-revoke-token-checkbox")}),c.createElement(l.Hint,null,I("console:develop.features.applications.forms.inboundOIDC.sections.accessToken.fields.revokeToken.hint"))))),c.createElement(M.Z.Row,{columns:1},c.createElement(M.Z.Column,{mobile:16,tablet:16,computer:16},c.createElement(we.Field,{ref:vt,name:"userAccessTokenExpiryInSeconds",label:I(kt?"console:develop.features.applications.forms.inboundOIDC.sections.accessToken.fields.expiry.labelForSPA":"console:develop.features.applications.forms.inboundOIDC.sections.accessToken.fields.expiry.label"),required:!0,requiredErrorMessage:I("console:develop.features.applications.forms.inboundOIDC.sections.accessToken.fields.expiry.validations.empty"),validation:function(){var e=pt(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:bn(t.toString())||(n.isValid=!1,n.errorMessages.push(I("console:develop.features.applications.forms.inboundOIDC.sections.accessToken.fields.expiry.validations.invalid")));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),value:null!==a&&void 0!==a&&a.accessToken?a.accessToken.userAccessTokenExpiryInSeconds.toString():o.defaultUserAccessTokenExpiryTime,placeholder:I("console:develop.features.applications.forms.inboundOIDC.sections.accessToken.fields.expiry.placeholder"),type:"number",readOnly:m,min:1,"data-testid":"".concat(S,"-access-token-expiry-time-input")}),c.createElement(l.Hint,null,c.createElement(d.cC,{i18nKey:"console:develop.features.applications.forms.inboundOIDC.sections.accessToken.fields.expiry.hint"},"Specify the validity period of the",c.createElement(l.Code,{withBackground:!0},"access_token"),"in seconds.")))),(null===ae||void 0===ae?void 0:ae.includes("client_credentials"))&&c.createElement(c.Fragment,null,c.createElement(M.Z.Row,{columns:1},c.createElement(M.Z.Column,{mobile:16,tablet:16,computer:16},c.createElement(we.Field,{name:"applicationAccessTokenExpiryInSeconds",ref:Et,label:I("console:develop.features.applications.forms.inboundOIDC.sections.accessToken.fields.applicationTokenExpiry.label"),required:!0,requiredErrorMessage:I("console:develop.features.applications.forms.inboundOIDC.sections.accessToken.fields.applicationTokenExpiry.validations.empty"),value:a.accessToken?a.accessToken.applicationAccessTokenExpiryInSeconds.toString():o.defaultApplicationAccessTokenExpiryTime,validation:function(){var e=pt(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:bn(t.toString())||(n.isValid=!1,n.errorMessages.push(I("console:develop.features.applications.forms.inboundOIDC.sections.accessToken.fields.applicationTokenExpiry.validations.invalid")));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),placeholder:I("console:develop.features.applications.forms.inboundOIDC.sections.accessToken.fields.applicationTokenExpiry.placeholder"),type:"number",min:1,readOnly:m}),c.createElement(l.Hint,null,"Specify the validity period of the",c.createElement(l.Code,{withBackground:!0},"application_access_token"),"in seconds.")))),(null===ae||void 0===ae?void 0:ae.includes("refresh_token"))&&c.createElement(c.Fragment,null,c.createElement(M.Z.Row,{columns:2},c.createElement(M.Z.Column,{mobile:16,tablet:16,computer:16},c.createElement(le.Z,null),c.createElement(le.Z,{hidden:!0})),c.createElement(M.Z.Column,{mobile:16,tablet:16,computer:16},c.createElement(l.Heading,{as:"h4"},I("console:develop.features.applications.forms.inboundOIDC.sections.refreshToken.heading")),c.createElement(we.Field,{ref:yt,name:"RefreshToken",label:"",required:!1,requiredErrorMessage:I("console:develop.features.applications.forms.inboundOIDC.sections.refreshToken.fields.renew.validations.empty"),type:"checkbox",value:null!==a&&void 0!==a&&null!==(O=a.refreshToken)&&void 0!==O&&O.renewRefreshToken?["refreshToken"]:[],children:[{label:I("console:develop.features.applications.forms.inboundOIDC.sections.refreshToken.fields.renew.label"),value:"refreshToken"}],readOnly:m,"data-testid":"".concat(S,"-renew-refresh-token-checkbox")}),c.createElement(l.Hint,null,c.createElement(d.cC,{i18nKey:"console:develop.features.applications.forms.inboundOIDC.sections.refreshToken.fields.renew.hint"},"Select to issue a new ",c.createElement(l.Code,{withBackground:!0},"refresh_token"),"each time a ",c.createElement(l.Code,{withBackground:!0},"refresh_token")," is exchanged. The existing token will be invalidated.")))),c.createElement(M.Z.Row,{columns:1},c.createElement(M.Z.Column,{mobile:16,tablet:16,computer:16},c.createElement(we.Field,{ref:At,name:"expiryInSeconds",label:I("console:develop.features.applications.forms.inboundOIDC.sections.refreshToken.fields.expiry.label"),required:!0,requiredErrorMessage:I("console:develop.features.applications.forms.inboundOIDC.sections.refreshToken.fields.expiry.validations.empty"),placeholder:I("console:develop.features.applications.forms.inboundOIDC.sections.refreshToken.fields.expiry.placeholder"),validation:function(){var e=pt(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:bn(t.toString())||(n.isValid=!1,n.errorMessages.push(I("console:develop.features.applications.forms.inboundOIDC.sections.refreshToken.fields.expiry.validations.invalid")));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),value:null!==a&&void 0!==a&&a.refreshToken?a.refreshToken.expiryInSeconds.toString():o.defaultRefreshTokenExpiryTime,type:"number",readOnly:m,min:1,"data-testid":"".concat(S,"-refresh-token-expiry-time-input")}),c.createElement(l.Hint,null,c.createElement(d.cC,{i18nKey:"console:develop.features.applications.forms.inboundOIDC.sections.refreshToken.fields.expiry.hint"},"Specify the validity period of the ",c.createElement(l.Code,{withBackground:!0},"refresh_token"),"in seconds."))))),c.createElement(M.Z.Row,{columns:2},c.createElement(M.Z.Column,{mobile:16,tablet:16,computer:16},c.createElement(le.Z,null),c.createElement(le.Z,{hidden:!0})),c.createElement(M.Z.Column,{mobile:16,tablet:16,computer:16,className:"field"},c.createElement(l.Heading,{as:"h4"},I("console:develop.features.applications.forms.inboundOIDC.sections.idToken.heading")),c.createElement(l.URLInput,{isAllowEnabled:!1,tenantDomain:v,onlyOrigin:!1,labelEnabled:!1,urlState:_,setURLState:x,labelName:I("console:develop.features.applications.forms.inboundOIDC.sections.idToken.fields.audience.label"),required:!1,value:null!==a&&void 0!==a&&null!==(T=a.idToken)&&void 0!==T&&T.audience.toString()?A.yf.buildCallBackURLWithSeparator(null===a||void 0===a||null===(R=a.idToken)||void 0===R?void 0:R.audience.toString()):"",validation:function(e){return!(null!==e&&void 0!==e&&e.includes(","))},placeholder:I("console:develop.features.applications.forms.inboundOIDC.sections.idToken.fields.audience.placeholder"),validationErrorMsg:I("console:develop.features.applications.forms.inboundOIDC.sections.idToken.fields.audience.validations.invalid"),showError:B,setShowError:G,hint:c.createElement(d.cC,{i18nKey:"console:develop.features.applications.forms.inboundOIDC.sections.idToken.fields.audience.hint"},"Specify the recipient(s) that this ",c.createElement(l.Code,{withBackground:!0},"id_token")," is intended for. By default, the client ID of this application is added as an audience."),readOnly:m,addURLTooltip:I("common:addURL"),duplicateURLErrorMessage:I("common:duplicateURLError"),getSubmit:function(e){fn=e},showPredictions:!1,skipInternalValidation:!0,popupHeaderPositive:I("console:develop.features.URLInput.withLabel.positive.header"),popupHeaderNegative:I("console:develop.features.URLInput.withLabel.negative.header"),popupContentPositive:I("console:develop.features.URLInput.withLabel.positive.content",{productName:tt.ui.productName}),popupContentNegative:I("console:develop.features.URLInput.withLabel.negative.content",{productName:tt.ui.productName}),popupDetailedContentPositive:I("console:develop.features.URLInput.withLabel.positive.detailedContent.0"),popupDetailedContentNegative:I("console:develop.features.URLInput.withLabel.negative.detailedContent.0"),insecureURLDescription:I("console:common.validations.inSecureURL.description"),showLessContent:I("common:showLess"),showMoreContent:I("common:showMore")}))),g.applicationConfig.inboundOIDCForm.showIdTokenEncryption&&y.u.SPA!==(null===h||void 0===h?void 0:h.templateId)&&c.createElement(c.Fragment,null,c.createElement(M.Z.Row,{columns:1},c.createElement(M.Z.Column,{mobile:16,tablet:16,computer:16},c.createElement(we.Field,{ref:St,name:"encryption",label:"",required:!1,disabled:!Bt,requiredErrorMessage:I("console:develop.features.applications.forms.inboundOIDC.sections.idToken.fields.encryption.validations.empty"),type:"checkbox",listen:function(e){var t=e.get("encryption").includes("enableEncryption");t||($t(),e.set("algorithm",""),e.set("method","")),L(t)},value:null!==a&&void 0!==a&&null!==(P=a.idToken)&&void 0!==P&&P.encryption.enabled?["enableEncryption"]:[],children:[{label:I("console:develop.features.applications.forms.inboundOIDC.sections.idToken.fields.encryption.label"),value:"enableEncryption"}],readOnly:m,"data-testid":"".concat(S,"-encryption-checkbox")}),c.createElement(l.Hint,null,c.createElement(d.cC,{i18nKey:"console:develop.features.applications.forms.inboundOIDC.sections.idToken.fields.encryption.hint"},"Select to encrypt the ",c.createElement(l.Code,{withBackground:!0},"id_token"),"  when issuing the token using the public key of your application. To use encryption, configure the JWKS endpoint or the certificate of your application in the Certificate section below.")))),c.createElement(M.Z.Row,{columns:1},c.createElement(M.Z.Column,{mobile:16,tablet:16,computer:16},c.createElement(we.Field,{ref:It,name:"algorithm",label:I("console:develop.features.applications.forms.inboundOIDC.sections.idToken.fields.algorithm.label"),required:w&&Bt,requiredErrorMessage:I("console:develop.features.applications.forms.inboundOIDC.sections.idToken.fields.algorithm.validations.empty"),type:"dropdown",disabled:!w||!Bt,default:w&&Bt?null!==a&&void 0!==a&&a.idToken?a.idToken.encryption.algorithm:o.idTokenEncryptionAlgorithm.defaultValue:"",placeholder:I("console:develop.features.applications.forms.inboundOIDC.sections.idToken.fields.algorithm.placeholder"),children:ln(o.idTokenEncryptionAlgorithm),readOnly:m,"data-testid":"".concat(S,"-encryption-algorithm-dropdown")}),c.createElement(l.Hint,{disabled:!w||!Bt},c.createElement(d.cC,{i18nKey:"console:develop.features.applications.forms.inboundOIDC.sections.idToken.fields.algorithm.hint"},"The dropdown contains the supported ",c.createElement(l.Code,{withBackground:!0},"id_token"),"encryption algorithms.")))),c.createElement(M.Z.Row,{columns:1},c.createElement(M.Z.Column,{mobile:16,tablet:16,computer:16},c.createElement(we.Field,{ref:Ot,name:"method",disabled:!w||!Bt,label:I("console:develop.features.applications.forms.inboundOIDC.sections.idToken.fields.method.label"),required:w&&Bt,requiredErrorMessage:I("console:develop.features.applications.forms.inboundOIDC.sections.idToken.fields.method.validations.empty"),type:"dropdown",default:w&&Bt?null!==a&&void 0!==a&&a.idToken?a.idToken.encryption.method:o.idTokenEncryptionMethod.defaultValue:"",placeholder:I("console:develop.features.applications.forms.inboundOIDC.sections.idToken.fields.method.placeholder"),children:ln(o.idTokenEncryptionMethod),readOnly:m,"data-testid":"".concat(S,"-encryption-method-dropdown")}),c.createElement(l.Hint,{disabled:!w||!Bt},c.createElement(d.cC,{i18nKey:"console:develop.features.applications.forms.inboundOIDC.sections.idToken.fields.method.hint"},"The dropdown contains the supported ",c.createElement(l.Code,{withBackground:!0},"id_token"),"encryption methods."))))),c.createElement(M.Z.Row,{columns:1},c.createElement(M.Z.Column,{mobile:16,tablet:16,computer:16},c.createElement(we.Field,{ref:Tt,name:"idExpiryInSeconds",label:I("console:develop.features.applications.forms.inboundOIDC.sections.idToken.fields.expiry.label"),required:!0,requiredErrorMessage:I("console:develop.features.applications.forms.inboundOIDC.sections.idToken.fields.expiry.validations.empty"),placeholder:I("console:develop.features.applications.forms.inboundOIDC.sections.idToken.fields.expiry.placeholder"),validation:function(){var e=pt(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:bn(t.toString())||(n.isValid=!1,n.errorMessages.push(I("console:develop.features.applications.forms.inboundOIDC.sections.idToken.fields.expiry.validations.invalid")));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),value:null!==a&&void 0!==a&&a.idToken?a.idToken.expiryInSeconds.toString():o.defaultIdTokenExpiryTime,type:"number",readOnly:m,min:1,"data-testid":"".concat(S,"-id-token-expiry-time-input")}),c.createElement(l.Hint,null,c.createElement(d.cC,{i18nKey:"console:develop.features.applications.forms.inboundOIDC.sections.idToken.fields.expiry.hint"},"Specify the validity period of the ",c.createElement(l.Code,{withBackground:!0},"id_token")," in seconds.")))),!kt&&g.applicationConfig.inboundOIDCForm.showBackChannelLogout&&c.createElement(c.Fragment,null,c.createElement(M.Z.Row,{columns:2},c.createElement(M.Z.Column,{mobile:16,tablet:16,computer:16},c.createElement(le.Z,null),c.createElement(le.Z,{hidden:!0})),c.createElement(M.Z.Column,{mobile:16,tablet:16,computer:16},c.createElement(l.Heading,{as:"h4"},"Logout URLs"),c.createElement(le.Z,{hidden:!0}),c.createElement(we.Field,{ref:wt,name:"backChannelLogoutUrl",label:I("console:develop.features.applications.forms.inboundOIDC.sections.logoutURLs.fields.back.label"),required:!1,requiredErrorMessage:I("console:develop.features.applications.forms.inboundOIDC.sections.logoutURLs.fields.back.validations.empty"),placeholder:I("console:develop.features.applications.forms.inboundOIDC.sections.logoutURLs.fields.back.placeholder"),type:"text",validation:function(e,t){Re.I.url(e)||(t.isValid=!1,t.errorMessages.push(I("console:develop.features.applications.forms.inboundOIDC.sections.logoutURLs.fields.back.validations.invalid")))},value:null===a||void 0===a||null===(k=a.logout)||void 0===k?void 0:k.backChannelLogoutUrl,readOnly:m,"data-testid":"".concat(S,"-back-channel-logout-url-input")}),c.createElement(l.Hint,null,I("console:develop.features.applications.forms.inboundOIDC.sections.logoutURLs.fields.back.hint",{productName:tt.ui.productName}))))),g.applicationConfig.inboundOIDCForm.showFrontChannelLogout&&c.createElement(M.Z.Row,{columns:1},c.createElement(M.Z.Column,{mobile:16,tablet:16,computer:16},c.createElement(we.Field,{ref:Rt,name:"frontChannelLogoutUrl",label:I("console:develop.features.applications.forms.inboundOIDC.sections.logoutURLs.fields.front.label"),required:!1,requiredErrorMessage:I("console:develop.features.applications.forms.inboundOIDC.sections.logoutURLs.fields.front.validations.empty"),placeholder:I("console:develop.features.applications.forms.inboundOIDC.sections.logoutURLs.fields.front.placeholder"),type:"text",validation:function(e,t){Re.I.url(e)||(t.isValid=!1,t.errorMessages.push(I("console:develop.features.applications.forms.inboundOIDC.sections.logoutURLs.fields.front.validations.invalid")))},value:null===a||void 0===a||null===(j=a.logout)||void 0===j?void 0:j.frontChannelLogoutUrl,readOnly:m,"data-testid":"".concat(S,"-front-channel-logout-url-input")}))),!kt&&g.applicationConfig.inboundOIDCForm.showRequestObjectSignatureValidation&&c.createElement(c.Fragment,null,c.createElement(M.Z.Row,{columns:2},c.createElement(M.Z.Column,{mobile:16,tablet:16,computer:16},c.createElement(le.Z,null),c.createElement(le.Z,{hidden:!0})),c.createElement(M.Z.Column,{mobile:16,tablet:16,computer:16},c.createElement(l.Heading,{as:"h4"},I("console:develop.features.applications.forms.inboundOIDC.sections.requestObjectSignature.heading")),c.createElement(we.Field,{ref:Lt,name:"enableRequestObjectSignatureValidation",label:"",required:!1,requiredErrorMessage:"this is needed",type:"checkbox",value:null!==a&&void 0!==a&&a.validateRequestObjectSignature?["EnableRequestObjectSignatureValidation"]:[],children:[{label:I("console:develop.features.applications.forms.inboundOIDC.sections.requestObjectSignature.fields.signatureValidation.label"),value:"EnableRequestObjectSignatureValidation"}],readOnly:m,"data-testid":"".concat(S,"-request-object-signature-validation-checkbox")}),c.createElement(l.Hint,null,c.createElement(d.cC,{i18nKey:"console:develop.features.applications.forms.inboundOIDC.sections.requestObjectSignature.description",tOptions:{productName:tt.ui.productName}},"WSO2 Identity Server supports receiving an OIDC authentication request as a request object that is passed in a single, self-contained request parameter. Enable signature validation to accept only signed",c.createElement(l.Code,null,"request")," objects in the authorization request."))))),g.applicationConfig.inboundOIDCForm.showScopeValidators&&c.createElement(M.Z.Row,{columns:2},c.createElement(M.Z.Column,{mobile:16,tablet:16,computer:16},c.createElement(le.Z,null),c.createElement(le.Z,{hidden:!0})),c.createElement(M.Z.Column,{mobile:16,tablet:16,computer:16},c.createElement(l.Heading,{as:"h4"},I("console:develop.features.applications.forms.inboundOIDC.sections.scopeValidators.heading")),c.createElement(we.Field,{ref:Pt,name:"scopeValidator",label:"",required:!1,requiredErrorMessage:I("console:develop.features.applications.forms.inboundOIDC.sections.scopeValidators.fields.validator.validations.empty"),type:"checkbox",value:null===a||void 0===a?void 0:a.scopeValidators,children:ln(o.scopeValidators,!0),readOnly:m,"data-testid":"".concat(S,"-scope-validator-checkbox")}))),c.createElement(M.Z.Row,{columns:1},c.createElement(M.Z.Column,{mobile:16,tablet:16,computer:16},c.createElement(dt,{protocol:y.AI.OIDC,deleteAllowed:!(null!==(F=a.idToken)&&void 0!==F&&null!==(V=F.encryption)&&void 0!==V&&V.enabled),reasonInsideTooltipWhyDeleteIsNotAllowed:c.createElement(c.Fragment,null,c.createElement(d.cC,{i18nKey:"console:develop.features.applications.forms.inboundOIDC.sections.certificates.disabledPopup"},"This certificate is used to encrypt the ",c.createElement(l.Code,null,"id_token"),". First, you need to disable ",c.createElement(l.Code,null,"id_token")," encryption to proceed.")),onUpdate:t,application:n,updateCertFinalValue:xt,updateCertType:qt,certificate:i,readOnly:m,hidden:kt||!g.applicationConfig.inboundOIDCForm.showCertificates,isRequired:!0,triggerSubmit:Wt}))),!m&&c.createElement(M.Z.Row,{columns:1},c.createElement(M.Z.Column,{mobile:16,tablet:16,computer:16},c.createElement(Z.Z,{primary:!0,type:"submit",size:"small",className:"form-button",loading:b,disabled:b,"data-testid":"".concat(S,"-submit-button")},I("common:update")))))}()),pe&&c.createElement(l.ConfirmationModal,{onClose:function(){return me(!1)},type:"warning",open:pe,assertion:null===a||void 0===a?void 0:a.clientId,assertionHint:c.createElement("p",null,c.createElement(d.cC,{i18nKey:"console:develop.features.applications.confirmations.regenerateSecret.assertionHint",tOptions:{id:null===a||void 0===a?void 0:a.clientId}},"Please type ",c.createElement("strong",null,null===a||void 0===a?void 0:a.clientId)," to confirm.")),assertionType:"input",primaryAction:I("common:confirm"),secondaryAction:I("common:cancel"),onSecondaryActionClick:function(){return me(!1)},onPrimaryActionClick:function(){s(),me(!1)},"data-testid":"".concat(S,"-oidc-regenerate-confirmation-modal"),closeOnDimmerClick:!1},c.createElement(l.ConfirmationModal.Header,{"data-testid":"".concat(S,"-oidc-regenerate-confirmation-modal-header")},I("console:develop.features.applications.confirmations.regenerateSecret.header")),c.createElement(l.ConfirmationModal.Message,{attached:!0,warning:!0,"data-testid":"".concat(S,"-oidc-regenerate-confirmation-modal-message")},I("console:develop.features.applications.confirmations.regenerateSecret.message")),c.createElement(l.ConfirmationModal.Content,{"data-testid":"".concat(S,"-oidc-regenerate-confirmation-modal-content")},I("console:develop.features.applications.confirmations.regenerateSecret.content"))),ve&&c.createElement(l.ConfirmationModal,{onClose:function(){return ge(!1)},type:"warning",open:ve,assertion:null===a||void 0===a?void 0:a.clientId,assertionHint:c.createElement("p",null,c.createElement(d.cC,{i18nKey:"console:develop.features.applications.confirmations.revokeApplication.assertionHint",tOptions:{id:null===a||void 0===a?void 0:a.clientId}},"Please type ",c.createElement("strong",null,null===a||void 0===a?void 0:a.clientId)," to confirm.")),assertionType:"input",primaryAction:I("common:confirm"),secondaryAction:I("common:cancel"),onSecondaryActionClick:function(){return ge(!1)},onPrimaryActionClick:function(){p(),ge(!1)},"data-testid":"".concat(S,"-oidc-revoke-confirmation-modal"),closeOnDimmerClick:!1},c.createElement(l.ConfirmationModal.Header,{"data-testid":"".concat(S,"-oidc-revoke-confirmation-modal-header")},I("console:develop.features.applications.confirmations.revokeApplication.header")),c.createElement(l.ConfirmationModal.Message,{attached:!0,warning:!0,"data-testid":"".concat(S,"-oidc-revoke-confirmation-modal-message")},I("console:develop.features.applications.confirmations.revokeApplication.message")),c.createElement(l.ConfirmationModal.Content,{"data-testid":"".concat(S,"-oidc-revoke-confirmation-modal-content")},kt?I("console:develop.features.applications.confirmations.revokeApplication.content"):null)),be&&c.createElement(l.ConfirmationModal,{onClose:function(){return Ee(!1)},type:"warning",open:be,assertion:null===a||void 0===a?void 0:a.clientId,assertionHint:kt?c.createElement("p",null,c.createElement(d.cC,{i18nKey:"console:develop.features.applications.confirmations.reactivateSPA.assertionHint",tOptions:{id:null===a||void 0===a?void 0:a.clientId}},"Please type ",c.createElement("strong",null,null===a||void 0===a?void 0:a.clientId)," to confirm.")):c.createElement("p",null,c.createElement(d.cC,{i18nKey:"console:develop.features.applications.confirmations.reactivateOIDC.assertionHint",tOptions:{id:null===a||void 0===a?void 0:a.clientId}},"Please type ",c.createElement("strong",null,null===a||void 0===a?void 0:a.clientId)," to confirm.")),assertionType:"input",primaryAction:I("common:confirm"),secondaryAction:I("common:cancel"),onSecondaryActionClick:function(){return Ee(!1)},onPrimaryActionClick:function(){s(),Ee(!1)},"data-testid":"".concat(S,"-oidc-reactivate-confirmation-modal"),closeOnDimmerClick:!1},c.createElement(l.ConfirmationModal.Header,{"data-testid":"".concat(S,"-oidc-reactivate-confirmation-modal-header")},I(kt?"console:develop.features.applications.confirmations.reactivateOIDC.header":"console:develop.features.applications.confirmations.reactivateSPA.header")),kt?c.createElement(l.ConfirmationModal.Message,{attached:!0,warning:!0,"data-testid":"".concat(S,"-oidc-reactivate-confirmation-modal-message")},I("console:develop.features.applications.confirmations.reactivateSPA.message")):null,c.createElement(l.ConfirmationModal.Content,{"data-testid":"".concat(S,"-oidc-reactivate-confirmation-modal-content")},I(kt?"console:develop.features.applications.confirmations.reactivateSPA.content":"console:develop.features.applications.confirmations.reactivateOIDC.content"))),Ae&&Ie):c.createElement(He.Z,null,c.createElement(l.ContentLoader,{inline:"centered",active:!0}))};function At(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,o,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(i=n.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){l=!0,o=e}finally{try{r||null==n.return||n.return()}finally{if(l)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Ct(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ct(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ct(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}yt.defaultProps={"data-testid":"inbound-oidc-form",initialValues:{accessToken:void 0,allowedOrigins:[],callbackURLs:[],clientId:"",clientSecret:"",grantTypes:[],idToken:void 0,logout:void 0,pkce:{mandatory:!1,supportPlainTransformAlgorithm:!1},publicClient:!1,refreshToken:void 0,scopeValidators:[],state:void 0,validateRequestObjectSignature:void 0}};var St=function(e){var t=e.onUpdate,n=e.application,i=e.certificate,o=e.initialValues,a=e.onSubmit,r=e.readOnly,s=e.isLoading,u=e["data-testid"],p=(0,d.$G)().t,m=At((0,c.useState)(!1),2),f=(m[0],m[1],At((0,c.useState)(!1),2)),v=f[0],g=f[1],h=At((0,c.useState)(void 0),2),b=(h[0],h[1],At((0,c.useState)(null),2)),E=b[0],A=(b[1],At((0,c.useState)(void 0),2)),C=A[0],S=A[1],I=At((0,c.useState)(y.el.NONE),2),O=I[0],T=I[1],w=At((0,we.useTrigger)(),2),L=w[0],P=w[1];(0,c.useEffect)((function(){null!==i&&void 0!==i&&i.type&&T(null===i||void 0===i?void 0:i.type)}),[i]);return c.createElement(we.Forms,{onSubmit:function(e){P(),a(function(e){return{general:{advancedConfigurations:{certificate:{type:O!==y.el.NONE?O:null===i||void 0===i?void 0:i.type,value:O!==y.el.NONE?C:""}}},inbound:{realm:e.get("realm"),replyTo:e.get("replyTo")}}}(e))}},c.createElement(M.Z,null,c.createElement(M.Z.Row,{columns:1},c.createElement(M.Z.Column,{mobile:16,tablet:16,computer:16},c.createElement(we.Field,{name:"realm",label:p("console:develop.features.applications.forms.inboundSTS.fields.realm.label"),required:!0,requiredErrorMessage:p("console:develop.features.applications.forms.inboundSTS.fields.realm.validations.empty"),placeholder:p("console:develop.features.applications.forms.inboundSTS.fields.realm.placeholder"),type:"text",value:null===o||void 0===o?void 0:o.realm,readOnly:r||!(0,R.Z)(null===o||void 0===o?void 0:o.realm),"data-testid":"".concat(u,"-realm-input")}),c.createElement(l.Hint,{disabled:!(0,R.Z)(null===o||void 0===o?void 0:o.realm)},p("console:develop.features.applications.forms.inboundSTS.fields.realm.hint")))),c.createElement(M.Z.Row,{columns:1},c.createElement(M.Z.Column,{mobile:16,tablet:16,computer:16},c.createElement(we.Field,{name:"replyTo",label:p("console:develop.features.applications.forms.inboundSTS.fields.replyTo.label"),required:!0,requiredErrorMessage:p("console:develop.features.applications.forms.inboundSTS.fields.replyTo.validations.empty"),placeholder:p("console:develop.features.applications.forms.inboundSTS.fields.replyTo.placeholder"),validation:function(e,t){Re.I.url(e)||(t.isValid=!1,t.errorMessages.push(p("console:develop.features.applications.forms.inboundSTS.fields.replyTo.validations.invalid")))},type:"text",value:null===o||void 0===o?void 0:o.replyTo,readOnly:r,"data-testid":"".concat(u,"-reply-to-url-input")}),c.createElement(l.Hint,null,p("console:develop.features.applications.forms.inboundSTS.fields.replyTo.hint")))),c.createElement(M.Z.Row,{columns:1},c.createElement(M.Z.Column,{mobile:16,tablet:16,computer:16},c.createElement(dt,{protocol:y.AI.WS_FEDERATION,deleteAllowed:!0,reasonInsideTooltipWhyDeleteIsNotAllowed:c.createElement(c.Fragment,null),onUpdate:t,application:n,updateCertFinalValue:S,updateCertType:T,certificate:i,readOnly:r,hidden:!1,isRequired:!0,triggerSubmit:L}))),v&&c.createElement(ke,{open:v,certificate:E,onClose:function(){g(!1)}}),!r&&c.createElement(M.Z.Row,{columns:1},c.createElement(M.Z.Column,{mobile:16,tablet:16,computer:16},c.createElement(Z.Z,{primary:!0,type:"submit",size:"small",loading:s,disabled:s,className:"form-button","data-testid":"".concat(u,"-submit-button")},p("common:update"))))))};function It(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,o,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(i=n.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){l=!0,o=e}finally{try{r||null==n.return||n.return()}finally{if(l)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Ot(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ot(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ot(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}St.defaultProps={"data-testid":"inbound-passive-sts-form"};var Tt=function(e){var t,n,i=e.initialValues,o=e.creationOption,a=e.onSubmit,r=e.isLoading,s=e["data-testid"],u=(0,d.$G)().t,p=It((0,c.useState)(void 0),2),m=p[0],v=p[1],b=It((0,c.useState)(),2),E=b[0],A=b[1],C=It((0,c.useState)(null),2),S=C[0],I=C[1],O=It((0,c.useState)(null),2),T=O[0],w=O[1],L=It((0,c.useState)(!1),2),P=L[0],k=L[1];(0,c.useEffect)((function(){var e,t,n,o,a;if((0,R.Z)(null===i||void 0===i||null===(e=i.inboundProtocolConfiguration)||void 0===e?void 0:e.saml))v(y.T6.META_URL);else if((0,R.Z)(null===i||void 0===i||null===(t=i.inboundProtocolConfiguration)||void 0===t||null===(n=t.saml)||void 0===n?void 0:n.metadataURL)){if(!(0,R.Z)(null===i||void 0===i||null===(o=i.inboundProtocolConfiguration)||void 0===o||null===(a=o.saml)||void 0===a?void 0:a.metadataFile)){var r,l,s,c,d,u;v(y.T6.META_FILE),I(null===i||void 0===i||null===(r=i.inboundProtocolConfiguration)||void 0===r||null===(l=r.saml)||void 0===l?void 0:l.file),w(null===i||void 0===i||null===(s=i.inboundProtocolConfiguration)||void 0===s||null===(c=s.saml)||void 0===c?void 0:c.pasteValue),A(null===i||void 0===i||null===(d=i.inboundProtocolConfiguration)||void 0===d||null===(u=d.saml)||void 0===u?void 0:u.metadataFile)}}else v(y.T6.META_URL)}),[i]),(0,c.useEffect)((function(){E&&P&&k(!1)}),[E]),(0,c.useEffect)((function(){v(o)}),[o]);return m?c.createElement(we.Forms,{onSubmit:function(e){m===y.T6.META_FILE&&(0,R.Z)(E)?k(!0):a(function(e){var t={};return m===y.T6.META_URL?t={inbound:{metadataURL:e.get("url")}}:m===y.T6.META_FILE&&(t={inbound:{metadataFile:E}}),t}(e))}},c.createElement(M.Z,null,y.T6.META_URL===m&&c.createElement(M.Z.Row,{columns:1},c.createElement(M.Z.Column,{mobile:16,tablet:16,computer:10},c.createElement(we.Field,{name:"url",displayErrorOn:"blur",label:u("console:develop.features.applications.forms.inboundSAML.fields.metaURL.label"),required:!0,requiredErrorMessage:u("console:develop.features.applications.forms.inboundSAML.fields.metaURL.validations.empty"),type:"text",placeholder:u("console:develop.features.applications.forms.inboundSAML.fields.metaURL.placeholder"),validation:function(e,t){Re.I.url(e)||(t.isValid=!1,t.errorMessages.push(u("console:develop.features.applications.forms.inboundSAML.fields.metaURL.validations.invalid"))),null!==g.commonConfig&&void 0!==g.commonConfig&&g.commonConfig.blockLoopBackCalls&&Te.URLUtils.isLoopBackCall(e)&&(t.isValid=!1,t.errorMessages.push(u("console:develop.features.idp.forms.common.internetResolvableErrorMessage")))},value:null===i||void 0===i||null===(t=i.inboundProtocolConfiguration)||void 0===t||null===(n=t.saml)||void 0===n?void 0:n.metadataURL,"data-testid":"".concat(s,"-meta-url-input")}),c.createElement(l.Hint,null,u("console:develop.features.applications.forms.inboundSAML.fields.metaURL.hint")))),y.T6.META_FILE===m&&c.createElement(M.Z.Row,{columns:1,mobile:16,tablet:16,computer:10},c.createElement(M.Z.Column,{mobile:16,tablet:16,computer:10},c.createElement(l.FilePicker,{key:1,fileStrategy:wt,file:S,pastedContent:T,onChange:function(e){I(e.file),w(e.pastedContent),A(e.serialized)},uploadButtonText:"Upload Metadata File",dropzoneText:"Drag and drop a XML file here.","data-testid":"".concat(s,"-form-wizard-saml-xml-config-file-picker"),icon:(0,h._5)().uploadPlaceholder,placeholderIcon:c.createElement(f.Z,{name:"file code",size:"huge"}),normalizeStateOnRemoveOperations:!0,emptyFileError:P,hidePasteOption:!0}))),c.createElement(M.Z.Row,{columns:1},c.createElement(M.Z.Column,{mobile:16,tablet:16,computer:16},c.createElement(le.Z,{hidden:!0}),c.createElement(Z.Z,{primary:!0,type:"submit",size:"small",loading:r,disabled:r,className:"form-button","data-testid":"".concat(s,"-submit-button")},u("common:update")))))):c.createElement(l.ContentLoader,null)};Tt.defaultProps={"data-testid":"saml-protocol-all-settings-wizard-form"};var wt=new l.XMLFileStrategy,Rt=n(84857);function Lt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,o,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(i=n.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){l=!0,o=e}finally{try{r||null==n.return||n.return()}finally{if(l)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Pt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Mt=function(e){var t,n,i,o,a,r=e.onUpdate,s=e.application,p=e.certificate,m=e.initialValues,f=e.metadata,v=e.onSubmit,h=e.readOnly,b=e.isLoading,E=e["data-testid"],A=(0,d.$G)().t,C=Lt((0,c.useState)(null),2),S=C[0],I=C[1],O=Lt((0,c.useState)(null),2),T=O[0],w=O[1],L=Lt((0,c.useState)(null),2),k=L[0],D=L[1],U=Lt((0,c.useState)(null),2),j=U[0],_=U[1],x=(0,u.v9)((function(e){var t,n;return null===e||void 0===e||null===(t=e.config)||void 0===t||null===(n=t.ui)||void 0===n?void 0:n.isSignatureValidationCertificateAliasEnabled})),F=(0,u.v9)((function(e){return e.application.samlConfigurations})),H=(0,u.v9)((function(e){return e.config})),q=function(e,t){var n=[];return f&&(t?e.options.map((function(e){n.push({label:e,value:e})})):e.options.map((function(t){n.push({key:e.options.indexOf(t),text:t,value:t})}))),n},V=Lt((0,c.useState)(""),2),B=V[0],G=V[1],z=Lt((0,c.useState)(""),2),W=z[0],K=z[1],$=Lt((0,c.useState)(""),2),Y=$[0],Q=$[1],J=Lt((0,c.useState)(""),2),X=J[0],ee=J[1],te=Lt((0,c.useState)(!1),2),ne=te[0],ie=te[1],oe=Lt((0,c.useState)(!1),2),ae=oe[0],re=oe[1],se=Lt((0,c.useState)(!1),2),ce=se[0],de=se[1],ue=Lt((0,c.useState)(!1),2),pe=ue[0],me=ue[1],fe=Lt((0,c.useState)(!1),2),ve=fe[0],ge=fe[1],he=Lt((0,c.useState)(!1),2),be=he[0],Ee=he[1],ye=Lt((0,c.useState)(!1),2),Ae=ye[0],Ce=ye[1],Se=Lt((0,c.useState)(!1),2),Ie=Se[0],Oe=Se[1],Le=Lt((0,c.useState)(!1),2),Pe=Le[0],Me=Le[1],ke=Lt((0,c.useState)(!1),2),Ne=ke[0],De=ke[1],Ue=Lt((0,c.useState)(!1),2),je=Ue[0],Ze=Ue[1],_e=Lt((0,c.useState)(!0),2),Fe=_e[0],He=_e[1],qe=Lt((0,c.useState)(void 0),2),Ve=qe[0],Be=qe[1],Ge=Lt((0,c.useState)(y.el.NONE),2),ze=Ge[0],We=Ge[1],Ke=Lt((0,c.useState)(!1),2),$e=Ke[0],Ye=Ke[1],Qe=Lt((0,c.useState)(null!==m&&void 0!==m&&m.singleLogoutProfile.logoutMethod?null===m||void 0===m?void 0:m.singleLogoutProfile.logoutMethod:y.aD.BACK_CHANNEL),2),Je=Qe[0],Xe=Qe[1],et=Lt((0,we.useTrigger)(),2),tt=et[0],nt=et[1],it=(0,c.useRef)(),ot=(0,c.useRef)(),at=(0,c.useRef)(),rt=(0,c.useRef)(),lt=(0,c.useRef)(),st=(0,c.useRef)(),ct=(0,c.useRef)(),ut=(0,c.useRef)(),pt=(0,c.useRef)(),mt=(0,c.useRef)(),ft=(0,c.useRef)(),vt=(0,c.useRef)(),gt=(0,c.useRef)(),ht=(0,c.useRef)(),bt=(0,c.useRef)(),Et=(0,c.useRef)(),yt=(0,c.useRef)(),At=(0,c.useRef)(),Ct=(0,c.useRef)(),St=(0,c.useRef)(),It=(0,c.useRef)(),Ot=(0,c.useRef)(),Tt=(0,c.useRef)(),wt=(0,c.useRef)(),Pt=(0,c.useRef)(),Mt=(0,c.useRef)(),kt=(0,c.useRef)(),Nt=(0,c.useRef)(),Dt=(0,c.useRef)();(0,c.useEffect)((function(){null!==p&&void 0!==p&&p.type&&We(null===p||void 0===p?void 0:p.type)}),[p]);(0,c.useEffect)((function(){var e,t;m&&(ge(null===m||void 0===m?void 0:m.singleLogoutProfile.enabled),Ee(null===m||void 0===m?void 0:m.singleLogoutProfile.idpInitiatedSingleLogout.enabled),Ce(null===m||void 0===m?void 0:m.attributeProfile.enabled),Oe(null===m||void 0===m?void 0:m.requestValidation.enableSignatureValidation),De(null===m||void 0===m?void 0:m.responseSigning.enabled),Me(null===m||void 0===m?void 0:m.singleSignOnProfile.assertion.encryption.enabled),Ze(null===m||void 0===m||null===(e=m.singleSignOnProfile)||void 0===e||null===(t=e.bindings)||void 0===t?void 0:t.includes(y.Ss.ARTIFACT)))}),[m]),(0,c.useEffect)((function(){He(g.applicationConfig.inboundSAMLForm.artifactBindingAllowed)}),[]);var Ut=function(e){var t={behavior:"smooth",block:"center"};switch(e){case"issuer":it.current.scrollIntoView(t);break;case"applicationQualifier":ot.current.scrollIntoView(t);break;case"consumerURL":at.current.scrollIntoView(t);break;case"defaultAssertionConsumerUrl":rt.current.scrollIntoView(t);break;case"idpEntityIdAlias":lt.current.scrollIntoView(t);break;case"requestSignatureValidation":st.current.scrollIntoView(t);break;case"signatureValidationCertAlias":ct.current.scrollIntoView(t);break;case"digestAlgorithm":ut.current.scrollIntoView(t);break;case"signingAlgorithm":pt.current.scrollIntoView(t);break;case"responseSigning":mt.current.scrollIntoView(t);break;case"bindings":ft.current.scrollIntoView(t);break;case"signatureValidationForArtifactBinding":vt.current.scrollIntoView(t);break;case"idPInitiatedSSO":gt.current.scrollIntoView(t);break;case"nameIdFormat":ht.current.scrollIntoView(t);break;case"audience":bt.current.scrollIntoView(t);break;case"recipient":Et.current.scrollIntoView(t);break;case"assertionEncryption":yt.current.scrollIntoView(t);break;case"assertionEncryptionAlgorithm":At.current.scrollIntoView(t);break;case"keyEncryptionAlgorithm":Ct.current.scrollIntoView(t);break;case"attributeProfile":St.current.scrollIntoView(t);break;case"includeAttributesInResponse":It.current.scrollIntoView(t);break;case"attributeConsumingServiceIndex":Ot.current.scrollIntoView(t);break;case"singleLogoutProfile":Tt.current.scrollIntoView(t);break;case"logoutMethod":wt.current.scrollIntoView(t);break;case"singleLogoutResponseUrl":Pt.current.scrollIntoView(t);break;case"singleLogoutRequestUrl":Mt.current.scrollIntoView(t);break;case"idpInitiatedSingleLogout":kt.current.scrollIntoView(t);break;case"returnToURL":Nt.current.scrollIntoView(t);break;case"assertionQueryProfile":Dt.current.scrollIntoView(t)}};return(0,c.useEffect)((function(){(0,R.Z)(Ve)||ze===y.el.NONE?Ye(!1):Ye(!0)}),[Ve,ze]),f?c.createElement(we.Forms,{onSubmit:function(e){nt(),ze!==y.el.NONE&&(0,R.Z)(Ve)||((0,R.Z)(B)?(ie(!0),Ut("consumerURL")):(ze===y.el.NONE&&Be(""),v(function(e){var t,n;return{general:{advancedConfigurations:{certificate:{type:y.el.PEM,value:ze!==y.el.NONE?Ve:""}}},inbound:{manualConfiguration:{assertionConsumerUrls:B.split(","),attributeProfile:{alwaysIncludeAttributesInResponse:e.get("attributeProfile").includes("enabled"),enabled:e.get("attributeProfile").includes("enabled")},defaultAssertionConsumerUrl:e.get("defaultAssertionConsumerUrl"),enableAssertionQueryProfile:null===(t=e.get("assertionQueryProfile"))||void 0===t?void 0:t.includes("enableAssertionQueryProfile"),idpEntityIdAlias:e.get("idpEntityIdAlias"),issuer:e.get("issuer")||(null===m||void 0===m?void 0:m.issuer),requestValidation:{enableSignatureValidation:$e&&e.get("requestSignatureValidation").includes("enableSignatureValidation"),signatureValidationCertAlias:e.get("signatureValidationCertAlias")},responseSigning:{enabled:e.get("responseSigning").includes("enabled"),signingAlgorithm:e.get("signingAlgorithm")},serviceProviderQualifier:e.get("applicationQualifier"),singleLogoutProfile:{enabled:e.get("singleLogoutProfile").includes("enabled"),idpInitiatedSingleLogout:{enabled:e.get("idpInitiatedSingleLogout").includes("enabled"),returnToUrls:X?X.split(","):[]},logoutMethod:e.get("logoutMethod"),logoutRequestUrl:e.get("singleLogoutRequestUrl"),logoutResponseUrl:e.get("singleLogoutResponseUrl")},singleSignOnProfile:{assertion:{audiences:W?W.split(","):[],digestAlgorithm:e.get("digestAlgorithm"),encryption:{assertionEncryptionAlgorithm:$e?e.get("assertionEncryptionAlgorithm"):null===f||void 0===f?void 0:f.assertionEncryptionAlgorithm.defaultValue,enabled:$e&&e.get("assertionEncryption").includes("enableAssertionEncryption"),keyEncryptionAlgorithm:$e?e.get("keyEncryptionAlgorithm"):null===f||void 0===f?void 0:f.keyEncryptionAlgorithm.defaultValue},nameIdFormat:e.get("nameIdFormat"),recipients:Y?Y.split(","):[]},attributeConsumingServiceIndex:e.get("attributeConsumingServiceIndex"),bindings:e.get("bindings"),enableIdpInitiatedSingleSignOn:e.get("idPInitiatedSSO").includes("enableIdPInitiatedSSO"),enableSignatureValidationForArtifactBinding:Fe&&(null===(n=e.get("signatureValidationForArtifactBinding"))||void 0===n?void 0:n.includes("enableSignatureValidationForArtifactBinding"))}}}}}(e))))},onSubmitError:function(e,t){for(var n=e.entries(),i=n.next();!i.done;){if(!i.value[1]||!t.get(i.value[0]).isValid){Ut(i.value[0]);break}i=n.next()}}},c.createElement(M.Z,null,c.createElement(M.Z.Row,{columns:1},c.createElement(M.Z.Column,{mobile:16,tablet:16,computer:16},null!==m&&void 0!==m&&m.issuer?c.createElement(P.Z.Field,null,c.createElement("div",{className:"required field"},c.createElement("label",null,A("console:develop.features.applications.forms.inboundSAML.fields.issuer.label"))),c.createElement(l.CopyInputField,{value:null===m||void 0===m?void 0:m.issuer})):c.createElement(we.Field,{name:"issuer",label:A("console:develop.features.applications.forms.inboundSAML.fields.issuer.label"),required:!0,requiredErrorMessage:A("console:develop.features.applications.forms.inboundSAML.fields.issuer.validations.empty"),type:"text",placeholder:A("console:develop.features.applications.forms.inboundSAML.fields.issuer.placeholder"),value:null===m||void 0===m?void 0:m.issuer,readOnly:h,"data-testid":"".concat(E,"-issuer-input"),ref:it}),c.createElement(l.Hint,null,c.createElement(d.cC,{i18nKey:"console:develop.features.applications.forms.inboundSAML.fields.issuer.hint"},"This specifies the unique identifier of the application. This is also the",c.createElement(l.Code,{withBackground:!0},"saml2:Issuer"),"  value specified in the SAML authentication request issued by the application.")))),g.applicationConfig.inboundSAMLForm.showApplicationQualifier&&c.createElement(c.Fragment,null,c.createElement(M.Z.Row,{columns:1},c.createElement(M.Z.Column,{mobile:16,tablet:16,computer:16},c.createElement(we.Field,{ref:ot,name:"applicationQualifier",label:A("console:develop.features.applications.forms.inboundSAML.fields.qualifier.label"),required:!1,requiredErrorMessage:A("console:develop.features.applications.forms.inboundSAML.fields.qualifier.validations.empty"),type:"text",placeholder:A("console:develop.features.applications.forms.inboundSAML.fields.qualifier.placeholder"),value:null===m||void 0===m?void 0:m.serviceProviderQualifier,readOnly:h,"data-testid":"".concat(E,"-application-qualifier-input")}),c.createElement(l.Hint,null,A("console:develop.features.applications.forms.inboundSAML.fields.qualifier.hint"))))),c.createElement("div",{ref:at}),c.createElement(M.Z.Row,{columns:1},c.createElement(M.Z.Column,{mobile:16,tablet:16,computer:16},c.createElement(l.URLInput,{urlState:B,setURLState:G,labelName:A("console:develop.features.applications.forms.inboundSAML.fields.assertionURLs.label"),value:null===m||void 0===m?void 0:m.assertionConsumerUrls.toString(),placeholder:A("console:develop.features.applications.forms.inboundSAML.fields.assertionURLs.placeholder"),validationErrorMsg:A("console:develop.features.applications.forms.inboundSAML.fields.assertionURLs.validations.invalid"),validation:function(e){var t=null;return Te.URLUtils.isHttpsOrHttpUrl(e)||(t=c.createElement(xe.Z,{basic:!0,color:"orange",className:"mt-2"},A("console:common.validations.unrecognizedURL.description"))),!!Te.URLUtils.isMobileDeepLink(e)&&(I(t),!0)},required:!0,showError:ne,setShowError:ie,hint:A("console:develop.features.applications.forms.inboundSAML.fields.assertionURLs.hint"),readOnly:h,addURLTooltip:A("common:addURL"),duplicateURLErrorMessage:A("common:duplicateURLError"),"data-testid":"".concat(E,"-assertion-consumer-url-input"),showPredictions:!1,customLabel:S,popupHeaderPositive:A("console:develop.features.URLInput.withLabel.positive.header"),popupHeaderNegative:A("console:develop.features.URLInput.withLabel.negative.header"),popupContentPositive:A("console:develop.features.URLInput.withLabel.positive.content",{productName:H.ui.productName}),popupContentNegative:A("console:develop.features.URLInput.withLabel.negative.content",{productName:H.ui.productName}),popupDetailedContentPositive:A("console:develop.features.URLInput.withLabel.positive.detailedContent.0"),popupDetailedContentNegative:A("console:develop.features.URLInput.withLabel.negative.detailedContent.0"),insecureURLDescription:A("console:common.validations.inSecureURL.description"),showLessContent:A("common:showLess"),showMoreContent:A("common:showMore")}))),c.createElement(M.Z.Row,{columns:1},c.createElement(M.Z.Column,{mobile:16,tablet:16,computer:16},c.createElement(we.Field,{ref:rt,label:A("console:develop.features.applications.forms.inboundSAML.fields.defaultAssertionURL.label"),name:"defaultAssertionConsumerUrl",type:"dropdown",required:!0,requiredErrorMessage:A("console:develop.features.applications.forms.inboundSAML.fields.defaultAssertionURL.validations.empty"),default:!(0,R.Z)(B)&&B.split(",").slice(-1)[0],children:function(){var e=[];if(!(0,R.Z)(B)){var t=B.split(",");t.map((function(n){e.push({key:t.indexOf(n),text:n,value:n})}))}return e}(),readOnly:h,"data-testid":"".concat(E,"-default-assertion-consumer-url-input"),value:null===m||void 0===m?void 0:m.defaultAssertionConsumerUrl}),c.createElement(l.Hint,null,A("console:develop.features.applications.forms.inboundSAML.fields.defaultAssertionURL.hint")))),c.createElement(M.Z.Row,{columns:1},c.createElement(M.Z.Column,{mobile:16,tablet:16,computer:16},c.createElement(we.Field,{ref:lt,label:A("console:develop.features.applications.forms.inboundSAML.fields.idpEntityIdAlias.label"),name:"idpEntityIdAlias",placeholder:A("console:develop.features.applications.forms.inboundSAML.fields.idpEntityIdAlias.placeholder"),type:"text",required:!1,requiredErrorMessage:A("console:develop.features.applications.forms.inboundSAML.fields.idpEntityIdAlias.validations.empty"),validation:function(e,t){Re.I.url(e)||(t.errorMessages.push(A("console:develop.features.applications.forms.inboundSAML.fields.idpEntityIdAlias.validations.invalid")),t.isValid=!1)},value:null===m||void 0===m?void 0:m.idpEntityIdAlias,readOnly:h,"data-testid":"".concat(E,"-idp-entity-id-alias-input")}),c.createElement(l.Hint,null,c.createElement(d.cC,{values:{defaultIdpEntityID:null===F||void 0===F?void 0:F.issuer,productName:H.ui.productName},i18nKey:"console:develop.features.applications.forms.inboundSAML.fields.idpEntityIdAlias.hint"},"This value can override the default Identity Provider (IdP) entity ID defaultIdpEntityID. The IdP entity ID is used as the",c.createElement(l.Code,{withBackground:!0},"saml2:Issuer")," of the SAML response that is generated by productName.")))),c.createElement(M.Z.Row,{columns:2},c.createElement(M.Z.Column,{mobile:16,tablet:16,computer:16},c.createElement(le.Z,null),c.createElement(le.Z,{hidden:!0})),c.createElement(M.Z.Column,{mobile:16,tablet:16,computer:16},c.createElement(l.Heading,{as:"h5"},A("console:develop.features.applications.forms.inboundSAML.sections.requestValidation.heading")),c.createElement(le.Z,{hidden:!0}),c.createElement(we.Field,{ref:st,name:"requestSignatureValidation",label:"",required:!1,requiredErrorMessage:A("console:develop.features.applications.forms.inboundSAML.sections.requestValidation.fields.signatureValidation.validations.empty"),disabled:!$e,type:"checkbox",listen:function(e){Oe(e.get("requestSignatureValidation").includes("enableSignatureValidation"))},value:null!==m&&void 0!==m&&m.requestValidation.enableSignatureValidation?["enableSignatureValidation"]:[],children:[{label:A("console:develop.features.applications.forms.inboundSAML.sections.requestValidation.fields.signatureValidation.label"),value:"enableSignatureValidation"}],readOnly:h,"data-testid":"".concat(E,"-request-signature-validation-checkbox")}),c.createElement(l.Hint,null,A("console:develop.features.applications.forms.inboundSAML.sections.requestValidation.fields.signatureValidation.hint",{productName:H.ui.productName})))),x&&c.createElement(M.Z.Row,{columns:1},c.createElement(M.Z.Column,{mobile:16,tablet:16,computer:16},c.createElement(we.Field,{ref:ct,label:A("console:develop.features.applications.forms.inboundSAML.sections.requestValidation.fields.signatureValidationCertAlias.label"),name:"signatureValidationCertAlias",type:"dropdown",required:!1,disabled:!Ie,value:null===m||void 0===m?void 0:m.requestValidation.signatureValidationCertAlias,requiredErrorMessage:A("console:develop.features.applications.forms.inboundSAML.sections.requestValidation.fields.signatureValidationCertAlias.validations.empty"),default:null===f||void 0===f?void 0:f.certificateAlias.defaultValue,children:q(null===f||void 0===f?void 0:f.certificateAlias),readOnly:h,"data-testid":"".concat(E,"-request-validation-certificate-alias-dropdown")}),c.createElement(l.Hint,{disabled:!Ie},A("console:develop.features.applications.forms.inboundSAML.sections.requestValidation.fields.signatureValidationCertAlias.hint")))),c.createElement(M.Z.Row,{columns:2},c.createElement(M.Z.Column,{mobile:16,tablet:16,computer:16},c.createElement(le.Z,null),c.createElement(le.Z,{hidden:!0})),c.createElement(M.Z.Column,{mobile:16,tablet:16,computer:16},c.createElement(l.Heading,{as:"h5"},A("console:develop.features.applications.forms.inboundSAML.sections.responseSigning.heading")),c.createElement(le.Z,{hidden:!0}),c.createElement(M.Z.Column,{mobile:16,tablet:16,computer:16},c.createElement(we.Field,{ref:mt,name:"responseSigning",label:"",required:!1,requiredErrorMessage:"this is needed",type:"checkbox",value:null!==m&&void 0!==m&&m.responseSigning.enabled?["enabled"]:[],listen:function(e){De(e.get("responseSigning").includes("enabled"))},children:[{label:A("console:develop.features.applications.forms.inboundSAML.sections.responseSigning.fields.responseSigning.label"),value:"enabled"}],readOnly:h,"data-testid":"".concat(E,"-response-signing-checkbox")}),c.createElement(l.Hint,null,A("console:develop.features.applications.forms.inboundSAML.sections.responseSigning.fields.responseSigning.hint",{productName:H.ui.productName}))))),c.createElement(M.Z.Row,null,c.createElement(M.Z.Column,{mobile:16,tablet:16,computer:16},c.createElement(we.Field,{ref:ut,label:A("console:develop.features.applications.forms.inboundSAML.sections.responseSigning.fields.digestAlgorithm.label"),name:"digestAlgorithm",type:"dropdown",required:!1,requiredErrorMessage:A("console:develop.features.applications.forms.inboundSAML.sections.responseSigning.fields.digestAlgorithm.validations.empty"),default:null===f||void 0===f?void 0:f.responseDigestAlgorithm.defaultValue,value:null===m||void 0===m?void 0:m.singleSignOnProfile.assertion.digestAlgorithm,children:q(null===f||void 0===f?void 0:f.responseDigestAlgorithm),readOnly:h,disabled:!Ne,"data-testid":"".concat(E,"-digest-algorithm-dropdown")}))),c.createElement(M.Z.Row,{columns:1},c.createElement(M.Z.Column,{mobile:16,tablet:16,computer:16},c.createElement(we.Field,{ref:pt,label:A("console:develop.features.applications.forms.inboundSAML.sections.responseSigning.fields.signingAlgorithm.label"),name:"signingAlgorithm",type:"dropdown",required:!1,value:null===m||void 0===m?void 0:m.responseSigning.signingAlgorithm,requiredErrorMessage:A("console:develop.features.applications.forms.inboundSAML.sections.responseSigning.fields.signingAlgorithm.validations.empty"),default:null===f||void 0===f?void 0:f.responseSigningAlgorithm.defaultValue,children:q(null===f||void 0===f?void 0:f.responseSigningAlgorithm),readOnly:h,disabled:!Ne,"data-testid":"".concat(E,"-signing-algorithm-dropdown")}))),c.createElement(M.Z.Row,{columns:2},c.createElement(M.Z.Column,{mobile:16,tablet:16,computer:16},c.createElement(le.Z,null),c.createElement(le.Z,{hidden:!0})),c.createElement(M.Z.Column,{mobile:16,tablet:16,computer:16},c.createElement(l.Heading,{as:"h5"},A("console:develop.features.applications.forms.inboundSAML.sections.ssoProfile.heading")),c.createElement(le.Z,{hidden:!0}),c.createElement(we.Field,{ref:ft,label:A("console:develop.features.applications.forms.inboundSAML.sections.ssoProfile.fields.bindings.label"),name:"bindings",type:"checkbox",required:!1,requiredErrorMessage:A("console:develop.features.applications.forms.inboundSAML.sections.ssoProfile.fields.bindings.validations.empty"),default:["HTTP_POST","HTTP_REDIRECT"],children:function(){var e=[{label:"HTTP Post",readOnly:!0,value:"HTTP_POST"},{label:"HTTP Redirect",readOnly:!0,value:"HTTP_REDIRECT"}];return Fe&&e.push({label:"Artifact",readOnly:!1,value:"ARTIFACT"}),e}(),value:(0,N.Z)(null===m||void 0===m||null===(t=m.singleSignOnProfile)||void 0===t?void 0:t.bindings,["HTTP_POST","HTTP_REDIRECT"]),readOnly:h,listen:function(e){Ze(e.get("bindings").includes("ARTIFACT")),e.get("bindings").includes("ARTIFACT")||e.set("signatureValidationForArtifactBinding",[])},"data-testid":"".concat(E,"-bindings-checkbox-group")}),c.createElement(l.Hint,null,A("console:develop.features.applications.forms.inboundSAML.sections.ssoProfile.fields.bindings.hint")))),Fe?c.createElement(M.Z.Row,{columns:1},c.createElement(M.Z.Column,{mobile:16,tablet:16,computer:16},c.createElement(we.Field,{ref:vt,name:"signatureValidationForArtifactBinding",label:"",required:!1,requiredErrorMessage:"",type:"checkbox",value:je&&null!==m&&void 0!==m&&m.singleSignOnProfile.enableSignatureValidationForArtifactBinding?["enableSignatureValidationForArtifactBinding"]:[],children:[{label:A("console:develop.features.applications.forms.inboundSAML.sections.ssoProfile.fields.artifactBinding.label"),value:"enableSignatureValidationForArtifactBinding"}],readOnly:h,disabled:!je,"data-testid":"".concat(E,"-artifact-binding-signature-validation-checkbox")}),c.createElement(l.Hint,{disabled:!je},A("console:develop.features.applications.forms.inboundSAML.sections.ssoProfile.fields.artifactBinding.hint")))):null,c.createElement(M.Z.Row,{columns:1},c.createElement(M.Z.Column,{mobile:16,tablet:16,computer:16},c.createElement(we.Field,{ref:gt,name:"idPInitiatedSSO",label:"",required:!1,requiredErrorMessage:A("console:develop.features.applications.forms.inboundSAML.sections.ssoProfile.fields.idpInitiatedSSO.validations.empty"),type:"checkbox",value:null!==m&&void 0!==m&&m.singleSignOnProfile.enableIdpInitiatedSingleSignOn?["enableIdPInitiatedSSO"]:[],children:[{label:A("console:develop.features.applications.forms.inboundSAML.sections.ssoProfile.fields.idpInitiatedSSO.label"),value:"enableIdPInitiatedSSO"}],readOnly:h,"data-testid":"".concat(E,"-idp-initiated-sso-checkbox")}),c.createElement(l.Hint,null,A("console:develop.features.applications.forms.inboundSAML.sections.ssoProfile.fields.idpInitiatedSSO.hint")))),c.createElement(M.Z.Row,{columns:2},c.createElement(M.Z.Column,{mobile:16,tablet:16,computer:16},c.createElement(le.Z,null),c.createElement(le.Z,{hidden:!0})),c.createElement(M.Z.Column,{mobile:16,tablet:16,computer:16},c.createElement(l.Heading,{as:"h5"},A("console:develop.features.applications.forms.inboundSAML.sections.assertion.heading")),c.createElement(le.Z,{hidden:!0}),c.createElement(we.Field,{ref:ht,label:A("console:develop.features.applications.forms.inboundSAML.sections.assertion.fields.nameIdFormat.label"),name:"nameIdFormat",placeholder:A("console:develop.features.applications.forms.inboundSAML.sections.assertion.fields.nameIdFormat.placeholder"),type:"dropdown",default:null===f||void 0===f?void 0:f.defaultNameIdFormat,required:!1,requiredErrorMessage:A("console:develop.features.applications.forms.inboundSAML.sections.assertion.fields.nameIdFormat.validations.empty"),value:null===m||void 0===m?void 0:m.singleSignOnProfile.assertion.nameIdFormat,children:(0,Rt.Ex)(),readOnly:h,"data-testid":"".concat(E,"-name-id-format-input")}),c.createElement(l.Hint,null,A("console:develop.features.applications.forms.inboundSAML.sections.assertion.fields.nameIdFormat.hint")))),c.createElement("div",{ref:bt}),c.createElement(M.Z.Row,{columns:1},c.createElement(M.Z.Column,{mobile:16,tablet:16,computer:16},c.createElement(l.URLInput,{urlState:W,setURLState:K,labelName:A("console:develop.features.applications.forms.inboundSAML.sections.assertion.fields.audience.label"),value:null===m||void 0===m?void 0:m.singleSignOnProfile.assertion.audiences.toString(),placeholder:A("console:develop.features.applications.forms.inboundSAML.sections.assertion.fields.audience.placeholder"),validationErrorMsg:A("console:develop.features.applications.forms.inboundSAML.sections.assertion.fields.audience.validations.invalid"),validation:function(e){var t=null;return Te.URLUtils.isHttpUrl(e)||Te.URLUtils.isHttpsUrl(e)||(t=c.createElement(xe.Z,{basic:!0,color:"orange",className:"mt-2"},A("console:common.validations.unrecognizedURL.description"))),!!Te.URLUtils.isMobileDeepLink(e)&&(w(t),!0)},showError:ae,setShowError:re,hint:A("console:develop.features.applications.forms.inboundSAML.sections.assertion.fields.audience.hint"),readOnly:h,addURLTooltip:A("common:addURL"),duplicateURLErrorMessage:A("common:duplicateURLError"),"data-testid":"".concat(E,"-audience-url-input"),showPredictions:!1,customLabel:T,popupHeaderPositive:A("console:develop.features.URLInput.withLabel.positive.header"),popupHeaderNegative:A("console:develop.features.URLInput.withLabel.negative.header"),popupContentPositive:A("console:develop.features.URLInput.withLabel.positive.content",{productName:H.ui.productName}),popupContentNegative:A("console:develop.features.URLInput.withLabel.negative.content",{productName:H.ui.productName}),popupDetailedContentPositive:A("console:develop.features.URLInput.withLabel.positive.detailedContent.0"),popupDetailedContentNegative:A("console:develop.features.URLInput.withLabel.negative.detailedContent.0"),insecureURLDescription:A("console:common.validations.inSecureURL.description"),showLessContent:A("common:showLess"),showMoreContent:A("common:showMore")}))),c.createElement("div",{ref:Et}),c.createElement(M.Z.Row,{columns:1},c.createElement(M.Z.Column,{mobile:16,tablet:16,computer:16},c.createElement(l.URLInput,{urlState:Y,setURLState:Q,labelName:A("console:develop.features.applications.forms.inboundSAML.sections.assertion.fields.recipients.label"),value:null===m||void 0===m?void 0:m.singleSignOnProfile.assertion.recipients.toString(),placeholder:A("console:develop.features.applications.forms.inboundSAML.sections.assertion.fields.recipients.placeholder"),validationErrorMsg:A("console:develop.features.applications.forms.inboundSAML.sections.assertion.fields.recipients.validations.invalid"),validation:function(e){var t=null;return Te.URLUtils.isHttpUrl(e)||Te.URLUtils.isHttpsUrl(e)||(t=c.createElement(xe.Z,{basic:!0,color:"orange",className:"mt-2"},A("console:common.validations.unrecognizedURL.description"))),!!Te.URLUtils.isMobileDeepLink(e)&&(D(t),!0)},showError:ce,setShowError:de,hint:A("console:develop.features.applications.forms.inboundSAML.sections.assertion.fields.recipients.hint"),readOnly:h,addURLTooltip:A("common:addURL"),duplicateURLErrorMessage:A("common:duplicateURLError"),"data-testid":"".concat(E,"-recipients-url-input"),showPredictions:!1,customLabel:k,popupHeaderPositive:A("console:develop.features.URLInput.withLabel.positive.header"),popupHeaderNegative:A("console:develop.features.URLInput.withLabel.negative.header"),popupContentPositive:A("console:develop.features.URLInput.withLabel.positive.content",{productName:H.ui.productName}),popupContentNegative:A("console:develop.features.URLInput.withLabel.negative.content",{productName:H.ui.productName}),popupDetailedContentPositive:A("console:develop.features.URLInput.withLabel.positive.detailedContent.0"),popupDetailedContentNegative:A("console:develop.features.URLInput.withLabel.negative.detailedContent.0"),insecureURLDescription:A("console:common.validations.inSecureURL.description"),showLessContent:A("common:showLess"),showMoreContent:A("common:showMore")}))),c.createElement(M.Z.Row,{columns:1},c.createElement(M.Z.Column,{mobile:16,tablet:16,computer:16},c.createElement(we.Field,{ref:yt,name:"assertionEncryption",label:"",required:!1,disabled:!$e,requiredErrorMessage:A("console:develop.features.applications.forms.inboundSAML.sections.encryption.fields.assertionEncryption.validations.empty"),value:null!==m&&void 0!==m&&m.singleSignOnProfile.assertion.encryption.enabled?["enableAssertionEncryption"]:[],type:"checkbox",listen:function(e){Me(e.get("assertionEncryption").includes("enableAssertionEncryption"))},children:[{label:A("console:develop.features.applications.forms.inboundSAML.sections.encryption.fields.assertionEncryption.label"),value:"enableAssertionEncryption"}],readOnly:h,"data-testid":"".concat(E,"-assertion-encryption-checkbox")}),c.createElement(l.Hint,null,A("console:develop.features.applications.forms.inboundSAML.sections.encryption.fields.assertionEncryption.hint")))),c.createElement(M.Z.Row,{columns:1},c.createElement(M.Z.Column,{mobile:16,tablet:16,computer:16},c.createElement(we.Field,{ref:At,label:A("console:develop.features.applications.forms.inboundSAML.sections.encryption.fields.assertionEncryptionAlgorithm.label"),name:"assertionEncryptionAlgorithm",type:"dropdown",required:!1,requiredErrorMessage:A("console:develop.features.applications.forms.inboundSAML.sections.encryption.fields.assertionEncryptionAlgorithm.validations.empty"),disabled:!Pe||!$e,default:null===f||void 0===f?void 0:f.assertionEncryptionAlgorithm.defaultValue,value:null===m||void 0===m?void 0:m.singleSignOnProfile.assertion.encryption.assertionEncryptionAlgorithm,children:q(null===f||void 0===f?void 0:f.assertionEncryptionAlgorithm),readOnly:h,"data-testid":"".concat(E,"-assertion-encryption-algorithm-dropdown")}))),c.createElement(M.Z.Row,{columns:1},c.createElement(M.Z.Column,{mobile:16,tablet:16,computer:16},c.createElement(we.Field,{ref:Ct,label:A("console:develop.features.applications.forms.inboundSAML.sections.encryption.fields.keyEncryptionAlgorithm.label"),name:"keyEncryptionAlgorithm",type:"dropdown",required:!1,disabled:!Pe||!$e,requiredErrorMessage:A("console:develop.features.applications.forms.inboundSAML.sections.encryption.fields.keyEncryptionAlgorithm.validations.empty"),default:null===f||void 0===f?void 0:f.keyEncryptionAlgorithm.defaultValue,value:null===m||void 0===m?void 0:m.singleSignOnProfile.assertion.encryption.keyEncryptionAlgorithm,children:q(null===f||void 0===f?void 0:f.keyEncryptionAlgorithm),readOnly:h,"data-testid":"".concat(E,"-key-encryption-algorithm-dropdown")}))),c.createElement(M.Z.Row,{columns:2},c.createElement(M.Z.Column,{mobile:16,tablet:16,computer:16},c.createElement(le.Z,null),c.createElement(le.Z,{hidden:!0})),c.createElement(M.Z.Column,{mobile:16,tablet:16,computer:16},c.createElement(l.Heading,{as:"h5"},A("console:develop.features.applications.forms.inboundSAML.sections.attributeProfile.heading")),c.createElement(le.Z,{hidden:!0}),c.createElement(we.Field,{ref:St,name:"attributeProfile",label:"",required:!1,requiredErrorMessage:"this is needed",type:"checkbox",value:null!==m&&void 0!==m&&m.attributeProfile.enabled?["enabled"]:[],listen:function(e){Ce(e.get("attributeProfile").includes("enabled"))},children:[{label:A("console:develop.features.applications.forms.inboundSAML.sections.attributeProfile.fields.enable.label"),value:"enabled"}],readOnly:h,"data-testid":"".concat(E,"-attribute-profile-checkbox")}),c.createElement(l.Hint,null,A("console:develop.features.applications.forms.inboundSAML.sections.attributeProfile.fields.enable.hint")))),g.applicationConfig.inboundSAMLForm.showAttributeConsumingServiceIndex&&c.createElement(c.Fragment,null,c.createElement(M.Z.Row,{columns:1},c.createElement(M.Z.Column,{mobile:16,tablet:16,computer:16},c.createElement(we.Field,{ref:Ot,label:A("console:develop.features.applications.forms.inboundSAML.sections.attributeProfile.fields.serviceIndex.label"),name:"attributeConsumingServiceIndex",placeholder:A("console:develop.features.applications.forms.inboundSAML.sections.attributeProfile.fields.serviceIndex.placeholder"),type:"text",required:!1,disabled:!Ae,requiredErrorMessage:A("console:develop.features.applications.forms.inboundSAML.sections.attributeProfile.fields.serviceIndex.validations.empty"),value:null===m||void 0===m?void 0:m.singleSignOnProfile.attributeConsumingServiceIndex,readOnly:h,"data-testid":"".concat(E,"-attribute-consuming-service-index-input")}),c.createElement(l.Hint,null,A("console:develop.features.applications.forms.inboundSAML.sections.attributeProfile.fields.serviceIndex.hint"))))),c.createElement(M.Z.Row,{columns:2},c.createElement(M.Z.Column,{mobile:16,tablet:16,computer:16},c.createElement(le.Z,null),c.createElement(le.Z,{hidden:!0})),c.createElement(M.Z.Column,{mobile:16,tablet:16,computer:16},c.createElement(l.Heading,{as:"h5"},A("console:develop.features.applications.forms.inboundSAML.sections.sloProfile.heading")),c.createElement(le.Z,{hidden:!0}),c.createElement(we.Field,{ref:Tt,name:"singleLogoutProfile",label:"",required:!1,requiredErrorMessage:A("console:develop.features.applications.forms.inboundSAML.sections.sloProfile.fields.enable.validations.empty"),type:"checkbox",value:null!==m&&void 0!==m&&m.singleLogoutProfile.enabled?["enabled"]:[],listen:function(e){ge(e.get("singleLogoutProfile").includes("enabled"))},children:[{label:A("console:develop.features.applications.forms.inboundSAML.sections.sloProfile.fields.enable.label"),value:"enabled"}],readOnly:h,"data-testid":"".concat(E,"-single-logout-profile-checkbox")}),c.createElement(l.Hint,null,A("console:develop.features.applications.forms.inboundSAML.sections.sloProfile.fields.enable.hint")))),c.createElement(M.Z.Row,{columns:1},c.createElement(M.Z.Column,{mobile:16,tablet:16,computer:16},c.createElement(we.Field,{ref:wt,label:A("console:develop.features.applications.forms.inboundSAML.sections.sloProfile.fields.logoutMethod.label"),name:"logoutMethod",type:"dropdown",required:!1,value:null===m||void 0===m?void 0:m.singleLogoutProfile.logoutMethod,requiredErrorMessage:A("console:develop.features.applications.forms.inboundSAML.sections.sloProfile.fields.logoutMethod.validations.empty"),default:y.aD.BACK_CHANNEL,disabled:!ve,children:[{key:1,text:"Back Channel",value:y.aD.BACK_CHANNEL},{key:2,text:"Front Channel HTTP Redirect",value:y.aD.FRONT_CHANNEL_HTTP_REDIRECT},{key:3,text:"Front Channel HTTP Post",value:y.aD.FRONT_CHANNEL_HTTP_POST}],listen:function(e){Xe(e.get("logoutMethod"))},readOnly:h,"data-testid":"".concat(E,"-logout-method-dropdown")}))),c.createElement(M.Z.Row,{columns:1},c.createElement(M.Z.Column,{mobile:16,tablet:16,computer:16},c.createElement(we.Field,{ref:Pt,name:"singleLogoutResponseUrl",label:A("console:develop.features.applications.forms.inboundSAML.sections.sloProfile.fields.responseURL.label"),validation:function(e,t){Re.I.url(e)||(t.isValid=!1,t.errorMessages.push(A("console:develop.features.applications.forms.inboundSAML.sections.sloProfile.fields.responseURL.validations.invalid"))),Je===y.aD.BACK_CHANNEL&&null!==g.commonConfig&&void 0!==g.commonConfig&&g.commonConfig.blockLoopBackCalls&&Te.URLUtils.isLoopBackCall(e)&&(t.isValid=!1,t.errorMessages.push(A("console:develop.features.idp.forms.common.internetResolvableErrorMessage")))},required:!1,requiredErrorMessage:A("console:develop.features.applications.forms.inboundSAML.sections.sloProfile.fields.responseURL.validations.empty"),placeholder:A("console:develop.features.applications.forms.inboundSAML.sections.sloProfile.fields.responseURL.placeholder"),disabled:!ve,type:"text",value:null===m||void 0===m?void 0:m.singleLogoutProfile.logoutResponseUrl,readOnly:h,"data-testid":"".concat(E,"-single-logout-response-url-input")}),c.createElement(l.Hint,{disabled:!ve},A("console:develop.features.applications.forms.inboundSAML.sections.sloProfile.fields.responseURL.hint",{productName:H.ui.productName})))),c.createElement(M.Z.Row,{columns:1},c.createElement(M.Z.Column,{mobile:16,tablet:16,computer:16},c.createElement(we.Field,{ref:Mt,name:"singleLogoutRequestUrl",label:A("console:develop.features.applications.forms.inboundSAML.sections.sloProfile.fields.requestURL.label"),validation:function(e,t){Re.I.url(e)||(t.isValid=!1,t.errorMessages.push(A("console:develop.features.applications.forms.inboundSAML.sections.sloProfile.fields.requestURL.validations.invalid"))),Je===y.aD.BACK_CHANNEL&&null!==g.commonConfig&&void 0!==g.commonConfig&&g.commonConfig.blockLoopBackCalls&&Te.URLUtils.isLoopBackCall(e)&&(t.isValid=!1,t.errorMessages.push(A("console:develop.features.idp.forms.common.internetResolvableErrorMessage")))},required:!1,requiredErrorMessage:A("console:develop.features.applications.forms.inboundSAML.sections.sloProfile.fields.requestURL.validations.empty"),placeholder:A("console:develop.features.applications.forms.inboundSAML.sections.sloProfile.fields.requestURL.placeholder"),disabled:!ve,type:"text",value:null===m||void 0===m?void 0:m.singleLogoutProfile.logoutRequestUrl,readOnly:h,"data-testid":"".concat(E,"-single-logout-request-url-input")}),c.createElement(l.Hint,{disabled:!ve},A("console:develop.features.applications.forms.inboundSAML.sections.sloProfile.fields.requestURL.hint",{productName:H.ui.productName})))),c.createElement(M.Z.Row,{columns:1},c.createElement(M.Z.Column,{mobile:16,tablet:16,computer:16},c.createElement(l.Heading,{as:"h6",disabled:!ve},A("console:develop.features.applications.forms.inboundSAML.sections.idpInitiatedSLO.heading")),c.createElement(le.Z,{hidden:!0}),c.createElement(we.Field,{ref:kt,name:"idpInitiatedSingleLogout",label:"",required:!1,requiredErrorMessage:A("console:develop.features.applications.forms.inboundSAML.sections.idpInitiatedSLO.fields.enable.validations.empty"),type:"checkbox",disabled:!ve,value:null!==m&&void 0!==m&&m.singleLogoutProfile.idpInitiatedSingleLogout.enabled?["enabled"]:[],listen:function(e){Ee(e.get("idpInitiatedSingleLogout").includes("enabled"))},children:[{label:A("console:develop.features.applications.forms.inboundSAML.sections.idpInitiatedSLO.fields.enable.label"),value:"enabled"}],readOnly:h,"data-testid":"".concat(E,"-idp-initiated-single-logout-checkbox")}),c.createElement(l.Hint,{disabled:!ve},A("console:develop.features.applications.forms.inboundSAML.sections.idpInitiatedSLO.fields.enable.hint")))),c.createElement("div",{ref:Nt}),c.createElement(l.URLInput,{urlState:X,setURLState:ee,labelName:A("console:develop.features.applications.forms.inboundSAML.sections.idpInitiatedSLO.fields.returnToURLs.label"),value:null===m||void 0===m?void 0:m.singleLogoutProfile.idpInitiatedSingleLogout.returnToUrls.toString(),placeholder:A("console:develop.features.applications.forms.inboundSAML.sections.idpInitiatedSLO.fields.returnToURLs.placeholder"),validationErrorMsg:A("console:develop.features.applications.forms.inboundSAML.sections.idpInitiatedSLO.fields.returnToURLs.validations.invalid"),validation:function(e){var t=null;return Te.URLUtils.isHttpUrl(e)||Te.URLUtils.isHttpsUrl(e)||(t=c.createElement(xe.Z,{basic:!0,color:"orange",className:"mt-2"},A("console:common.validations.unrecognizedURL.description"))),!!Te.URLUtils.isMobileDeepLink(e)&&(_(t),!0)},showError:pe,setShowError:me,disabled:!be||!ve,readOnly:h,addURLTooltip:A("common:addURL"),duplicateURLErrorMessage:A("common:duplicateURLError"),"data-testid":"".concat(E,"-return-to-urls-input"),showPredictions:!1,customLabel:j,popupHeaderPositive:A("console:develop.features.URLInput.withLabel.positive.header"),popupHeaderNegative:A("console:develop.features.URLInput.withLabel.negative.header"),popupContentPositive:A("console:develop.features.URLInput.withLabel.positive.content",{productName:H.ui.productName}),popupContentNegative:A("console:develop.features.URLInput.withLabel.negative.content",{productName:H.ui.productName}),popupDetailedContentPositive:A("console:develop.features.URLInput.withLabel.positive.detailedContent.0"),popupDetailedContentNegative:A("console:develop.features.URLInput.withLabel.negative.detailedContent.0"),insecureURLDescription:A("console:common.validations.inSecureURL.description"),showLessContent:A("common:showLess"),showMoreContent:A("common:showMore")}),c.createElement(l.Hint,{disabled:!ve},A("console:develop.features.applications.forms.inboundSAML.sections.idpInitiatedSLO.fields.returnToURLs.hint")),g.applicationConfig.inboundSAMLForm.showQueryRequestProfile&&c.createElement(c.Fragment,null,c.createElement(M.Z.Row,{columns:1},c.createElement(M.Z.Column,{mobile:16,tablet:16,computer:16},c.createElement(le.Z,null)),c.createElement(M.Z.Column,{mobile:16,tablet:16,computer:16},c.createElement(l.Heading,{as:"h5"},A("console:develop.features.applications.forms.inboundSAML.sections.requestProfile.heading")),c.createElement(le.Z,{hidden:!0}),c.createElement(we.Field,{ref:Dt,name:"assertionQueryProfile",label:"",required:!1,requiredErrorMessage:A("console:develop.features.applications.forms.inboundSAML.sections.requestProfile.fields.enable.validations.empty"),value:null!==m&&void 0!==m&&m.enableAssertionQueryProfile?["enableAssertionQueryProfile"]:[],type:"checkbox",children:[{label:A("console:develop.features.applications.forms.inboundSAML.sections.requestProfile.fields.enable.label"),value:"enableAssertionQueryProfile"}],readOnly:h,"data-testid":"".concat(E,"-assertion-query-profile-checkbox")})))),c.createElement(M.Z.Row,{columns:1},c.createElement(M.Z.Column,{mobile:16,tablet:16,computer:16},c.createElement(dt,{protocol:y.AI.SAML,deleteAllowed:!(null!==m&&void 0!==m&&null!==(n=m.requestValidation)&&void 0!==n&&n.enableSignatureValidation||null!==m&&void 0!==m&&null!==(i=m.singleSignOnProfile)&&void 0!==i&&null!==(o=i.assertion)&&void 0!==o&&null!==(a=o.encryption)&&void 0!==a&&a.enabled),reasonInsideTooltipWhyDeleteIsNotAllowed:A("console:develop.features.applications.forms.inboundSAML.sections.certificates.disabledPopup"),onUpdate:r,application:s,updateCertFinalValue:Be,updateCertType:We,canDiscardCertificate:function(){return!Ie},certificate:p,readOnly:h,hidden:!1,isRequired:!0,hideJWKS:!0,triggerSubmit:tt}))),!h&&c.createElement(M.Z.Row,{columns:1},c.createElement(M.Z.Column,{mobile:16,tablet:16,computer:16},c.createElement(Z.Z,{primary:!0,type:"submit",size:"small",className:"form-button",loading:b,disabled:b,"data-testid":"".concat(E,"-submit-button")},A("common:update")))))):null};function kt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,o,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(i=n.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){l=!0,o=e}finally{try{r||null==n.return||n.return()}finally{if(l)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Nt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Nt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}Mt.defaultProps={"data-testid":"inbound-saml-form"};var Dt=function(e){var t=e.certificate,n=e.metadata,i=e.initialValues,o=e.onSubmit,s=e.readOnly,p=e.isLoading,m=e["data-testid"],f=(0,d.$G)().t,v=(0,u.I0)(),g=kt((0,c.useState)(!1),2),h=g[0],b=g[1],A=kt((0,c.useState)(!1),2),C=A[0],S=A[1],I=kt((0,c.useState)(void 0),2),O=I[0],T=I[1],w=kt((0,c.useState)(null),2),L=w[0],P=w[1];(0,c.useEffect)((function(){y.el.PEM===(null===t||void 0===t?void 0:t.type)&&(b(!0),null!==t&&void 0!==t&&t.value&&T(t.value))}),[t]);return n?c.createElement(we.Forms,{onSubmit:function(e){o(function(e){return{general:{advancedConfigurations:{certificate:{type:e.get("type"),value:h?e.get("certificateValue"):e.get("jwksValue")}}},inbound:{audience:e.get("audience"),certificateAlias:e.get("certificateAlias")}}}(e))}},c.createElement(M.Z,null,c.createElement(M.Z.Row,{columns:1},c.createElement(M.Z.Column,{mobile:16,tablet:16,computer:16},c.createElement(we.Field,{name:"audience",label:f("console:develop.features.applications.forms.inboundWSTrust.fields.audience.label"),required:!0,requiredErrorMessage:f("console:develop.features.applications.forms.inboundWSTrust.fields.audience.validations.empty"),placeholder:f("console:develop.features.applications.forms.inboundWSTrust.fields.audience.placeholder"),type:"text",value:null===i||void 0===i?void 0:i.audience,readOnly:s||!(0,R.Z)(null===i||void 0===i?void 0:i.audience),"data-testid":"".concat(m,"-audience-input")}),c.createElement(l.Hint,{disabled:!(0,R.Z)(null===i||void 0===i?void 0:i.audience)},f("console:develop.features.applications.forms.inboundWSTrust.fields.audience.hint")))),c.createElement(M.Z.Row,{columns:1},c.createElement(M.Z.Column,{mobile:16,tablet:16,computer:16},c.createElement(we.Field,{label:f("console:develop.features.applications.forms.inboundWSTrust.fields.certificateAlias.label"),name:"certificateAlias",type:"dropdown",required:!0,requiredErrorMessage:f("console:develop.features.applications.forms.inboundWSTrust.fields.certificateAlias.validations.empty"),default:null===n||void 0===n?void 0:n.certificateAlias.defaultValue,value:null===i||void 0===i?void 0:i.certificateAlias,children:function(e){var t=[];return e&&e.options.map((function(n){t.push({key:e.options.indexOf(n),text:n,value:n})})),t}(null===n||void 0===n?void 0:n.certificateAlias),readOnly:s,"data-testid":"".concat(m,"-certificate-alias-dropdown")}),c.createElement(l.Hint,null,f("console:develop.features.applications.forms.inboundWSTrust.fields.certificateAlias.hint")))),c.createElement(M.Z.Row,{columns:1},c.createElement(M.Z.Column,{mobile:16,tablet:16,computer:10},c.createElement(le.Z,null)),c.createElement(M.Z.Column,{mobile:16,tablet:16,computer:10},c.createElement(l.Heading,{as:"h5"},f("console:develop.features.applications.forms.advancedConfig.sections.certificate.heading")),c.createElement(we.Field,{label:f("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.type.label"),name:"type",default:y.el.JWKS,listen:function(e){b("PEM"===e.get("type"))},type:"radio",value:null===t||void 0===t?void 0:t.type,children:[{label:f("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.type.children.jwks.label"),value:y.el.JWKS},{label:f("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.type.children.pem.label"),value:y.el.PEM}],readOnly:s,"data-testid":"".concat(m,"-certificate-type-radio-group")}))),c.createElement(M.Z.Row,{columns:1},c.createElement(M.Z.Column,{mobile:16,tablet:16,computer:16},h?c.createElement(c.Fragment,null,c.createElement(we.Field,{name:"certificateValue",label:f("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.pemValue.label"),required:!1,requiredErrorMessage:f("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.pemValue.validations.empty"),placeholder:E.j.PEM_CERTIFICATE_PLACEHOLDER,type:"textarea",value:y.el.PEM===(null===t||void 0===t?void 0:t.type)&&(null===t||void 0===t?void 0:t.value),listen:function(e){T(e.get("certificateValue"))},readOnly:s,"data-testid":"".concat(m,"-certificate-textarea")}),c.createElement(l.Hint,null,f("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.pemValue.hint")),c.createElement(l.LinkButton,{className:"certificate-info-link-button",onClick:function(e){e.preventDefault(),function(){var e;h&&O&&((e=Te.CertificateManagementUtils.canSafelyParseCertificate(O)?Te.CertificateManagementUtils.displayCertificate(null,O):Oe.CertificateManagementConstants.DUMMY_DISPLAY_CERTIFICATE)?(P(e),S(!0)):v((0,r.addAlert)({description:f("console:common.notifications.invalidPEMFile.genericError.description"),level:a.AlertLevels.ERROR,message:f("console:common.notifications.invalidPEMFile.genericError.message")})))}()},disabled:(0,R.Z)(O),"data-testid":"".concat(m,"-certificate-info-button")},f("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.pemValue.actions.view"))):c.createElement(c.Fragment,null,c.createElement(we.Field,{name:"jwksValue",label:f("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.jwksValue.label"),required:!1,requiredErrorMessage:f("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.jwksValue.validations.empty"),placeholder:f("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.jwksValue.placeholder"),type:"text",validation:function(e,t){Re.I.url(e)||(t.isValid=!1,t.errorMessages.push(f("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.jwksValue.validations.invalid")))},value:y.el.JWKS===(null===t||void 0===t?void 0:t.type)&&(null===t||void 0===t?void 0:t.value),readOnly:s,"data-testid":"".concat(m,"-jwks-input")})))),C&&c.createElement(ke,{open:C,certificate:L,onClose:function(){S(!1)}}),!s&&c.createElement(M.Z.Row,{columns:1},c.createElement(M.Z.Column,{mobile:16,tablet:16,computer:16},c.createElement(Z.Z,{primary:!0,type:"submit",size:"small",className:"form-button","data-testid":"".concat(m,"-submit-button"),loading:p,disabled:p},f("common:update")))))):null};Dt.defaultProps={"data-testid":"inbound-ws-trust-form"};var Ut=function(e){var t=e.onUpdate,n=e.application,i=e.certificate,o=e.metadata,a=e.initialValues,r=e.onSubmit,l=e.type,s=e.onApplicationRegenerate,d=e.onApplicationRevoke,u=e.readOnly,p=e.allowedOrigins,m=e.tenantDomain,f=e.template,v=e.showSAMLCreation,g=e.SAMLCreationOption,h=e.isLoading,b=e.setIsLoading,E=e["data-testid"];switch(l){case y.AI.OIDC:case y.AI.OAUTH2_OIDC:return c.createElement(yt,{onUpdate:t,application:n,isLoading:h,setIsLoading:b,certificate:i,tenantDomain:m,allowedOriginList:p,initialValues:a,metadata:o,onSubmit:r,onApplicationRegenerate:s,onApplicationRevoke:d,readOnly:u,template:f,"data-testid":E});case y.AI.SAML:return v&&g&&g!==y.T6.MANUAL?c.createElement(Tt,{isLoading:h,initialValues:a,creationOption:g||y.T6.META_URL,onSubmit:r,"data-testid":E}):c.createElement(Mt,{onUpdate:t,application:n,isLoading:h,certificate:i,initialValues:a,metadata:o,onSubmit:r,readOnly:u,"data-testid":E});case y.AI.WS_TRUST:return c.createElement(Dt,{isLoading:h,certificate:i,initialValues:a,metadata:o,onSubmit:r,readOnly:u,"data-testid":E});case y.AI.WS_FEDERATION:return c.createElement(St,{onUpdate:t,application:n,isLoading:h,certificate:i,initialValues:a,onSubmit:r,readOnly:u,"data-testid":E});case y.AI.CUSTOM:return c.createElement(je,{isLoading:h,certificate:i,metadata:o,initialValues:a,onSubmit:r,"data-testid":E});default:return null}};function jt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Zt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _t(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,o,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(i=n.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){l=!0,o=e}finally{try{r||null==n.return||n.return()}finally{if(l)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return xt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}Ut.defaultProps={"data-testid":"inbound-form-factory",showSAMLCreation:!1};var Ft=function(e){var t=e.appId,n=e.name,i=e.description,o=e.discoverability,a=e.hiddenFields,r=e.imageUrl,s=e.accessUrl,p=e.onSubmit,m=e.readOnly,f=e.hasRequiredScope,v=e.isSubmitting,h=e.isManagementApp,b=e.application,y=e["data-testid"],A=(0,d.$G)().t,C=(0,l.useDocumentation)().getLink,S=(0,u.v9)((function(e){var t;return null===e||void 0===e||null===(t=e.config)||void 0===t?void 0:t.ui})),I=_t((0,c.useState)(o),2),O=I[0],T=I[1],w=function(e){var n,i,o;p(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jt(Object(n),!0).forEach((function(t){Zt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({accessUrl:null===(n=e.accessUrl)||void 0===n?void 0:n.toString(),advancedConfigurations:{discoverableByEndUsers:e.discoverableByEndUsers},description:null===(i=e.description)||void 0===i?void 0:i.toString().trim(),id:t,name:null===(o=e.name)||void 0===o?void 0:o.toString()},!(null!==a&&void 0!==a&&a.includes("imageUrl"))&&{imageUrl:e.imageUrl.toString()}))};return c.createElement(re.l0,{uncontrolledForm:!1,onSubmit:function(e){w(e)},initialValues:{accessUrl:s,description:i,name:n},validate:function(e){var t={accessUrl:void 0};return O&&!e.accessUrl&&(t.accessUrl=A("console:develop.features.applications.forms.generalDetails.fields.accessUrl.validations.empty")),t}},void 0===C("develop.connections.newConnection.enterprise.samlLearnMore")?null:c.createElement(le.Z,{hidden:!0}),h&&c.createElement(l.Message,{type:"info",content:c.createElement(c.Fragment,null,A("console:develop.features.applications.forms.generalDetails.managementAppBanner"),c.createElement(l.DocumentationLink,{link:C("develop.applications.managementApplication.learnMore")},A("common:learnMore")))}),!S.systemAppsIdentifiers.includes(n)&&c.createElement(re.gN.Input,{ariaLabel:"Application name",inputType:"name",name:"name",label:A("console:develop.features.applications.forms.generalDetails.fields.name.label"),required:!0,placeholder:A("console:develop.features.applications.forms.generalDetails.fields.name.placeholder"),value:n,readOnly:m,validation:function(e){return function(e){if(!e||!e.match(E.j.FORM_FIELD_CONSTRAINTS.APP_NAME_PATTERN))return"Please enter a valid input."}(e.toString().trim())},maxLength:E.j.FORM_FIELD_CONSTRAINTS.APP_NAME_MAX_LENGTH,minLength:3,"data-testid":"".concat(y,"-application-name-input"),width:16}),c.createElement(re.gN.Textarea,{ariaLabel:"Application description",name:"description",label:A("console:develop.features.applications.forms.generalDetails.fields.description.label"),required:!1,placeholder:A("console:develop.features.applications.forms.generalDetails.fields.description.placeholder"),value:i,readOnly:m,validation:function(e){return function(e){if(!e||!e.match(E.j.FORM_FIELD_CONSTRAINTS.APP_DESCRIPTION_PATTERN))return"Please enter a valid input."}(e.toString().trim())},maxLength:300,minLength:3,"data-testid":"".concat(y,"-application-description-textarea"),width:16}),c.createElement(re.gN.Input,{ariaLabel:"Application image URL",inputType:"url",name:"imageUrl",label:A("console:develop.features.applications.forms.generalDetails.fields.imageUrl.label"),required:!1,placeholder:A("console:develop.features.applications.forms.generalDetails.fields.imageUrl.placeholder"),value:r,readOnly:m,"data-testid":"".concat(y,"-application-image-url-input"),maxLength:200,minLength:3,hint:A("console:develop.features.applications.forms.generalDetails.fields.imageUrl.hint"),width:16,hidden:null===a||void 0===a?void 0:a.includes("imageUrl")}),c.createElement(re.gN.Checkbox,{ariaLabel:"Make application discoverable by end users",name:"discoverableByEndUsers",required:!1,label:A("console:develop.features.applications.forms.generalDetails.fields.discoverable.label"),initialValue:O,readOnly:m,"data-testid":"".concat(y,"-application-discoverable-checkbox"),listen:function(e){return T(e)},hint:c.createElement(d.cC,{i18nKey:"console:develop.features.applications.forms.generalDetails.fields.discoverable.hint",tOptions:{myAccount:"My Account"}}," ",void 0===C("develop.applications.managementApplication.selfServicePortal")?c.createElement("strong",{"data-testid":"application-name-assertion"},"My Account"):c.createElement("strong",{className:"link pointing","data-testid":"application-name-assertion",onClick:function(){return window.open(C("develop.applications.managementApplication.selfServicePortal"),"_blank")}},"My Account")),width:16}),c.createElement(re.gN.Input,{ariaLabel:"Application access URL",inputType:"url",name:"accessUrl",label:A("console:develop.features.applications.forms.generalDetails.fields.accessUrl.label"),required:O,placeholder:A("console:develop.features.applications.forms.generalDetails.fields.accessUrl.placeholder"),value:s,readOnly:!f||m&&g.applicationConfig.generalSettings.getFieldReadOnlyStatus(b,"ACCESS_URL"),maxLength:200,minLength:3,"data-testid":"".concat(y,"-application-access-url-input"),hint:A("console:develop.features.applications.forms.generalDetails.fields.accessUrl.hint"),width:16}),c.createElement(re.gN.Button,{size:"small",buttonType:"primary_btn",ariaLabel:"Update button",name:"update-button","data-testid":"".concat(y,"-submit-button"),disabled:v,loading:v,label:A("common:update"),hidden:!f||m&&g.applicationConfig.generalSettings.getFieldReadOnlyStatus(b,"ACCESS_URL")}))};function Ht(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,o,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(i=n.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){l=!0,o=e}finally{try{r||null==n.return||n.return()}finally{if(l)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return qt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}Ft.defaultProps={"data-testid":"application-general-settings-form"};var Vt=function(e){var t,n,i=e.config,o=e.onSubmit,a=e.readOnly,r=e.useStoreList,l=e.isSubmitting,s=e["data-testid"],u=(0,d.$G)().t,p=Ht((0,c.useState)(!1),2),m=p[0],f=p[1],v=function(e){var t={provisioningConfigurations:{inboundProvisioning:{provisioningUserstoreDomain:e.provisioningUserstoreDomain,proxyMode:!!e.proxyMode}}};o(t)};return(0,c.useEffect)((function(){var e,t;null!==i&&void 0!==i&&null!==(e=i.inboundProvisioning)&&void 0!==e&&e.proxyMode&&f(null===i||void 0===i||null===(t=i.inboundProvisioning)||void 0===t?void 0:t.proxyMode)}),[i]),c.createElement(re.l0,{uncontrolledForm:!1,onSubmit:function(e){v(e)}},c.createElement(re.gN.CheckboxLegacy,{ariaLabel:"Proxy mode",name:"proxyMode",label:u("console:develop.features.applications.forms.provisioningConfig.fields.proxyMode.label"),required:!1,value:null!==i&&void 0!==i&&null!==(t=i.inboundProvisioning)&&void 0!==t&&t.proxyMode?["modeOn"]:[],listen:function(e){return f(e)},readOnly:a,"data-testid":"".concat(s,"-proxy-mode-checkbox"),hint:u("console:develop.features.applications.forms.provisioningConfig.fields.proxyMode.hint")}),c.createElement(re.gN.Dropdown,{ariaLabel:"Provisioning userstore domain",name:"provisioningUserstoreDomain",label:u("console:develop.features.applications.forms.provisioningConfig.fields.userstoreDomain.label"),required:!1,default:r&&r.length>0&&r[0].name,value:null===i||void 0===i||null===(n=i.inboundProvisioning)||void 0===n?void 0:n.provisioningUserstoreDomain,children:function(){var e=[];return r&&(null===r||void 0===r||r.map((function(t){e.push({key:r.indexOf(t),text:null===t||void 0===t?void 0:t.name,value:null===t||void 0===t?void 0:t.name})}))),e}(),disabled:m,readOnly:a,"data-testid":"".concat(s,"-provisioning-userstore-domain-dropdown"),hint:u("console:develop.features.applications.forms.provisioningConfig.fields.userstoreDomain.hint")}),c.createElement(re.gN.Button,{size:"small",buttonType:"primary_btn",ariaLabel:"Update button",name:"update-button","data-testid":"".concat(s,"-submit-button"),disabled:l,loading:l,label:u("common:update"),hidden:a}))};function Bt(e){return function(e){if(Array.isArray(e))return Wt(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||zt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,o,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(i=n.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){l=!0,o=e}finally{try{r||null==n.return||n.return()}finally{if(l)throw o}}return a}(e,t)||zt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zt(e,t){if(e){if("string"===typeof e)return Wt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Wt(e,t):void 0}}function Wt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}Vt.defaultProps={"data-testid":"application-inbound-provisioning-configurations-form"};var Kt=function(e){var t,n,i=e.appId,s=e.provisioningConfigurations,p=e.onUpdate,m=e.featureConfig,f=e.defaultActiveIndexes,v=e.readOnly,g=e["data-testid"],E=(0,d.$G)().t,y=(0,u.I0)(),A=Gt((0,c.useState)([]),2),C=A[0],S=A[1],I=(0,u.v9)((function(e){var t;return null===e||void 0===e||null===(t=e.auth)||void 0===t?void 0:t.allowedScopes})),O=Gt((0,c.useState)(f),2),T=O[0],w=O[1],R=Gt((0,c.useState)(!1),2),L=R[0],P=R[1];return(0,c.useEffect)((function(){var e=[];e.push({id:"PRIMARY",name:"PRIMARY"}),Ce.F.isCurrentOrganizationRoot()?(0,ae.getUserStoreList)(h.h.getState().config.endpoints.userStores).then((function(t){e.push.apply(e,Bt(t.data)),S(e)})).catch((function(){S(e)})):S(e)}),[]),c.createElement(c.Fragment,null,c.createElement(l.Heading,{as:"h4"},E("console:develop.features.applications.edit.sections.provisioning.inbound.heading")),c.createElement(l.Heading,{subHeading:!0,as:"h6"},E("console:develop.features.applications.edit.sections.provisioning.inbound.subHeading")),c.createElement(le.Z,{hidden:!0}),c.createElement(M.Z,null,c.createElement(M.Z.Row,null,c.createElement(M.Z.Column,null,c.createElement(h.Us,{globalActions:[],authenticators:[{content:c.createElement(Vt,{config:s,onSubmit:function(e){P(!0),(0,b.TH)(i,e).then((function(){y((0,r.addAlert)({description:E("console:develop.features.applications.notifications.updateInboundProvisioningConfig.success.description"),level:a.AlertLevels.SUCCESS,message:E("console:develop.features.applications.notifications.updateInboundProvisioningConfig.success.message")})),p(i)})).catch((function(){y((0,r.addAlert)({description:E("console:develop.features.applications.notifications.updateInboundProvisioningConfig.genericError.description"),level:a.AlertLevels.ERROR,message:E("console:develop.features.applications.notifications.updateInboundProvisioningConfig.genericError.message")}))})).finally((function(){P(!1)}))},useStoreList:C,readOnly:v||!(0,o.hasRequiredScopes)(null===m||void 0===m?void 0:m.applications,null===m||void 0===m||null===(t=m.applications)||void 0===t||null===(n=t.scopes)||void 0===n?void 0:n.update,I),"data-testid":"".concat(g,"-form"),isSubmitting:L}),id:"scim",title:"SCIM"}],accordionActiveIndexes:T,accordionIndex:0,handleAccordionOnClick:function(e,t){if(t){var n=Bt(T);if(n.includes(t.accordionIndex)){var i=n.indexOf(t.accordionIndex);n.splice(i,1)}else n.push(t.accordionIndex);w(n)}},"data-testid":"".concat(g,"-inbound-connector-accordion")})))))};Kt.defaultProps={"data-testid":"application-inbound-provisioning-configurations",defaultActiveIndexes:[-1]};var $t=n(55193);function Yt(e){return function(e){if(Array.isArray(e))return Xt(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Jt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,o,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(i=n.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){l=!0,o=e}finally{try{r||null==n.return||n.return()}finally{if(l)throw o}}return a}(e,t)||Jt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jt(e,t){if(e){if("string"===typeof e)return Xt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xt(e,t):void 0}}function Xt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var en=function(e){var t,n,i,o,s=e.application,p=e.onUpdate,m=e.readOnly,v=e.defaultActiveIndexes,g=e["data-testid"],E=(0,d.$G)().t,y=(0,u.I0)(),A=Qt((0,c.useState)(!1),2),C=A[0],S=A[1],I=Qt((0,c.useState)(!1),2),O=I[0],T=I[1],w=Qt((0,c.useState)(!1),2),R=w[0],L=w[1],P=Qt((0,c.useState)(void 0),2),k=P[0],N=P[1],D=Qt((0,c.useState)(v),2),U=D[0],j=D[1],Z=Qt((0,l.useConfirmationModalAlert)(),3),x=Z[0],F=Z[1],H=Z[2],q=Qt((0,c.useState)(void 0),2),V=q[0],B=q[1];(0,c.useEffect)((function(){k||(0,Rt.SN)().then((function(e){N(e.identityProviders)}))}),[]);var G=function(e,t){if(t){var n=Yt(U);if(n.includes(t.accordionIndex)){var i=n.indexOf(t.accordionIndex);n.splice(i,1)}else n.push(t.accordionIndex);j(n)}},z=function(e){!function(e,t){L(!0),(0,b.TH)(e,t).then((function(){y((0,r.addAlert)({description:E("console:develop.features.applications.notifications.updateApplication.success.description"),level:a.AlertLevels.SUCCESS,message:E("console:develop.features.applications.notifications.updateApplication.success.message")})),p(s.id)})).catch((function(e){e.response&&e.response.data&&e.response.data.description?y((0,r.addAlert)({description:e.response.data.description,level:a.AlertLevels.ERROR,message:E("console:develop.features.applications.notifications.updateApplication.error.message")})):y((0,r.addAlert)({description:E("console:develop.features.applications.notifications.updateApplication.genericError.description"),level:a.AlertLevels.ERROR,message:E("console:develop.features.applications.notifications.updateApplication.genericError.message")}))})).finally((function(){L(!1)}))}(s.id,function(e){var t,n=null===s||void 0===s||null===(t=s.provisioningConfigurations)||void 0===t?void 0:t.outboundProvisioningIdps,i=n.find((function(t){return t.idp===e.idp&&t.connector===e.connector}));return n.splice(n.indexOf(i),1),n.push(e),{provisioningConfigurations:{outboundProvisioningIdps:n}}}(e))};return c.createElement(c.Fragment,null,c.createElement(l.Heading,{as:"h4"},E("console:develop.features.applications.edit.sections.provisioning.outbound.heading")),c.createElement(l.Heading,{subHeading:!0,as:"h6"},E("console:develop.features.applications.edit.sections.provisioning.outbound.subHeading")),c.createElement(le.Z,{hidden:!0}),(null===s||void 0===s||null===(t=s.provisioningConfigurations)||void 0===t||null===(n=t.outboundProvisioningIdps)||void 0===n?void 0:n.length)>0?c.createElement(M.Z,null,!m&&c.createElement(M.Z.Row,null,c.createElement(M.Z.Column,null,c.createElement(l.PrimaryButton,{floated:"right",onClick:function(){return S(!0)},"data-testid":"".concat(g,"-new-idp-button")},c.createElement(f.Z,{name:"add"}),E("console:develop.features.applications.edit.sections.provisioning.outbound.actions.addIdp")))),c.createElement(M.Z.Row,null,c.createElement(M.Z.Column,null,null===s||void 0===s||null===(i=s.provisioningConfigurations)||void 0===i||null===(o=i.outboundProvisioningIdps)||void 0===o?void 0:o.map((function(e,t){return c.createElement(h.Us,{key:e.idp,globalActions:!m&&[{icon:"trash alternate",onClick:function(){T(!0),B(e)},type:"icon"}],authenticators:[{content:c.createElement($t.GH,{initialValues:e,triggerSubmit:null,onSubmit:function(e){z(e)},idpList:k,isEdit:!0,"data-testid":"".concat(g,"-form"),isSubmitting:R}),id:null===e||void 0===e?void 0:e.idp,title:null===e||void 0===e?void 0:e.idp}],accordionActiveIndexes:U,accordionIndex:t,handleAccordionOnClick:G,"data-testid":"".concat(g,"-outbound-connector-accordion")})}))))):c.createElement(M.Z,null,c.createElement(M.Z.Row,null,c.createElement(M.Z.Column,{width:16},c.createElement(_.Z,null,c.createElement(l.EmptyPlaceholder,{title:E("console:develop.features.applications.placeholders.emptyOutboundProvisioningIDPs.title"),image:(0,h.jF)().emptyList,subtitle:[E("console:develop.features.applications.placeholders.emptyOutboundProvisioningIDPs.subtitles")],imageSize:"tiny",action:!m&&c.createElement(l.PrimaryButton,{onClick:function(){return S(!0)}},c.createElement(f.Z,{name:"add"}),E("console:develop.features.applications.placeholders.emptyOutboundProvisioningIDPs.action"))}))))),V&&c.createElement(l.ConfirmationModal,{onClose:function(){return T(!1)},type:"negative",open:O,assertion:null===V||void 0===V?void 0:V.idp,assertionHint:c.createElement("p",null,c.createElement(d.cC,{i18nKey:"console:develop.features.applications.confirmations.deleteOutboundProvisioningIDP.assertionHint",tOptions:{name:null===V||void 0===V?void 0:V.idp}},"Please type ",c.createElement("strong",null,null===V||void 0===V?void 0:V.idp)," to confirm.")),assertionType:"input",primaryAction:"Confirm",secondaryAction:"Cancel",onSecondaryActionClick:function(){T(!1),F(null)},onPrimaryActionClick:function(){return function(e){var t,n=null===s||void 0===s||null===(t=s.provisioningConfigurations)||void 0===t?void 0:t.outboundProvisioningIdps,i=Yt(n);i.splice(n.indexOf(e),1);var o={provisioningConfigurations:{outboundProvisioningIdps:i}};(0,b.TH)(s.id,o).then((function(){y((0,r.addAlert)({description:E("console:develop.features.applications.notifications.updateApplication.success.description"),level:a.AlertLevels.SUCCESS,message:E("console:develop.features.applications.notifications.updateApplication.success.message")})),p(s.id),T(!1)})).catch((function(e){e.response&&e.response.data&&e.response.data.description?y(F({description:e.response.data.description,level:a.AlertLevels.ERROR,message:E("console:develop.features.applications.notifications.updateApplication.error.message")})):y(F({description:E("console:develop.features.applications.notifications.updateApplication.genericError.description"),level:a.AlertLevels.ERROR,message:E("console:develop.features.applications.notifications.updateApplication.genericError.message")}))}))}(V)},"data-testid":"".concat(g,"-connector-delete-confirmation-modal"),closeOnDimmerClick:!1},c.createElement(l.ConfirmationModal.Header,{"data-testid":"".concat(g,"-connector-delete-confirmation-modal-header")},E("console:develop.features.applications.confirmations.deleteOutboundProvisioningIDP.header")),c.createElement(l.ConfirmationModal.Message,{attached:!0,negative:!0,"data-testid":"".concat(g,"-connector-delete-confirmation-modal-message")},E("console:develop.features.applications.confirmations.deleteOutboundProvisioningIDP.message")),c.createElement(l.ConfirmationModal.Content,{"data-testid":"".concat(g,"-connector-delete-confirmation-modal-content")},c.createElement("div",{className:"modal-alert-wrapper"}," ",x&&H),E("console:develop.features.applications.confirmations.deleteOutboundProvisioningIDP.content"))),C&&c.createElement($t.g3,{closeWizard:function(){return S(!1)},application:s,onUpdate:p,"data-testid":"".concat(g,"-idp-create-wizard")}))};en.defaultProps={"data-testid":"application-outbound-provisioning-configurations",defaultActiveIndexes:[-1]};var tn=function(e){var t,n,i,a,r=e.application,l=e.featureConfig,s=e.provisioningConfigurations,d=e.onUpdate,p=e.readOnly,m=e["data-testid"],f=(0,u.v9)((function(e){var t;return null===e||void 0===e||null===(t=e.auth)||void 0===t?void 0:t.allowedScopes}));return c.createElement(M.Z,null,c.createElement(M.Z.Row,{columns:1},c.createElement(M.Z.Column,{mobile:16,tablet:16,computer:12},c.createElement(Kt,{appId:r.id,provisioningConfigurations:s,onUpdate:d,readOnly:p||!(0,o.hasRequiredScopes)(null===l||void 0===l?void 0:l.applications,null===l||void 0===l||null===(t=l.applications)||void 0===t||null===(n=t.scopes)||void 0===n?void 0:n.update,f),"data-testid":"".concat(m,"-inbound-configuration")}))),c.createElement(M.Z.Row,null,c.createElement(M.Z.Column,{mobile:16,tablet:16,computer:12},c.createElement(en,{application:r,provisioningConfigurations:s,onUpdate:d,readOnly:p||!(0,o.hasRequiredScopes)(null===l||void 0===l?void 0:l.applications,null===l||void 0===l||null===(i=l.applications)||void 0===i||null===(a=i.scopes)||void 0===a?void 0:a.update,f),"data-testid":"".concat(m,"-outbound-configuration")}))))};tn.defaultProps={"data-testid":"provisioning-settings"};var nn=n(345),on=n(94066),an=n.n(on),rn=n(20803),ln=n(11563),sn=n(74364),cn=n(72499),dn=n(95794),un=n(43776),pn=n(89787);function mn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,o,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(i=n.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){l=!0,o=e}finally{try{r||null==n.return||n.return()}finally{if(l)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return fn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var vn=function(e){var t=e.template,n=e.open,i=e.onClose,o=(0,d.$G)().t,a=(0,l.useDocumentation)().getLink;return c.createElement(B.Z,{open:n,onClose:i,dimmer:"blurring",size:"small"},c.createElement(B.Z.Header,null,t.title),c.createElement(B.Z.Content,{scrolling:!0},c.createElement("p",null,t.summary,function(){var e=null===t||void 0===t?void 0:t.name,n=void 0;return e===y.qr.USER_AGE_BASED&&(n=a("develop.applications.editApplication.common.signInMethod.conditionalAuthenticaion.template.userAgeBased.learnMore")),e===y.qr.GROUP_BASED&&(n=a("develop.applications.editApplication.common.signInMethod.conditionalAuthenticaion.template.groupBased.learnMore")),e===y.qr.IP_BASED&&(n=a("develop.applications.editApplication.common.signInMethod.conditionalAuthenticaion.template.ipBased.learnMore")),e===y.qr.NEW_DEVICE_BASED&&(n=a("develop.applications.editApplication.common.signInMethod.conditionalAuthenticaion.template.deviceBased.learnMore")),void 0===n?null:c.createElement(l.DocumentationLink,{link:n},o("common:learnMore"))}()),Array.isArray(null===t||void 0===t?void 0:t.preRequisites)&&t.preRequisites.length>0&&c.createElement(c.Fragment,null,c.createElement("h4",null,o("console:develop.features.applications.edit.sections.signOnMethod.sections.templateDescription.description.prerequisites")),c.createElement(Fe.Z,null,t.preRequisites.map((function(e,t){return c.createElement(Fe.Z.Item,{key:t},c.createElement(Fe.Z.Icon,{name:"check circle outline",color:"green"}),c.createElement(Fe.Z.Content,null,e))})))),(0,pn.Z)(t.parametersDescription)&&c.createElement(c.Fragment,null,c.createElement("h4",null,o("console:develop.features.applications.edit.sections.signOnMethod.sections.templateDescription.description.parameters")),c.createElement(D.Z,{definition:!0},c.createElement(D.Z.Header,null,c.createElement(D.Z.Row,null,c.createElement(D.Z.HeaderCell,null),c.createElement(D.Z.HeaderCell,null,o("console:develop.features.applications.edit.sections.signOnMethod.sections.templateDescription.description.description")))),c.createElement(D.Z.Body,null,Object.entries(t.parametersDescription).map((function(e,t){var n=mn(e,2),i=n[0],o=n[1];return c.createElement(D.Z.Row,{key:t},c.createElement(D.Z.Cell,null,i),c.createElement(D.Z.Cell,null,o))}))))),(0,pn.Z)(t.defaultStepsDescription)&&c.createElement(c.Fragment,null,c.createElement("h4",null,o("console:develop.features.applications.edit.sections.signOnMethod.sections.templateDescription.description.defaultSteps")),Object.entries(t.defaultStepsDescription).map((function(e,t,n){var i=mn(e,2),o=i[0],a=i[1];return c.createElement("div",{className:"stepper",key:"".concat(t,"-").concat(o)},c.createElement("div",{className:"step-number"},t+1),c.createElement("div",{className:"step-text"},a),n.length!==t+1&&c.createElement("div",{className:"step-connector"},c.createElement("div",{className:"step-line"})))}))),t.helpLink&&c.createElement(c.Fragment,null,c.createElement("h4",null,o("console:develop.features.applications.edit.sections.signOnMethod.sections.templateDescription.description.helpReference")),c.createElement(l.Message,{type:"info",content:c.createElement("a",{target:"_blank",href:t.helpLink,rel:"noreferrer"},t.helpLink)})),t.code&&c.createElement(c.Fragment,null,c.createElement("h4",null,o("console:develop.features.applications.edit.sections.signOnMethod.sections.templateDescription.description.code")),c.createElement(l.CodeEditor,{lint:!0,language:"javascript",sourceCode:t.code,options:{lineWrapping:!0},readOnly:!0,"data-testid":"".concat(t.title,"-code-editor"),getThemeFromEnvironment:!0}))),c.createElement(B.Z.Actions,null,c.createElement(l.LinkButton,{onClick:i},o("common:cancel"))))};function gn(e){return function(e){if(Array.isArray(e))return En(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||bn(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,o,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(i=n.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){l=!0,o=e}finally{try{r||null==n.return||n.return()}finally{if(l)throw o}}return a}(e,t)||bn(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bn(e,t){if(e){if("string"===typeof e)return En(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?En(e,t):void 0}}function En(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var yn=(0,c.forwardRef)((function(e,t){var n=e.defaultActiveIndexes,i=e.onTemplateSelect,o=e.templates,a=e.title,r=e.visible,s=e.readOnly,u=e["data-testid"],p=(0,d.$G)().t,v=hn((0,c.useState)(n),2),g=v[0],h=v[1],b=hn((0,c.useState)(null),2),E=b[0],y=b[1],A=function(e,t){var n=t.index,i=gn(g);if(i.includes(n)){var o=i.indexOf(n);i.splice(o,1)}else i.push(n);h(i)};return c.createElement(c.Fragment,null,E&&c.createElement(vn,{template:E,open:!!E,onClose:function(){y(null)}}),c.createElement(cn.Z,{as:_.Z,ref:t,className:"script-templates-panel",animation:"overlay",icon:"labeled",direction:"right",vertical:!0,secondary:!0,visible:r,"data-testid":u},a&&"string"===typeof a?c.createElement(l.Heading,{as:"h6",bold:!0},a):a,o&&o instanceof Array&&o.length>0?c.createElement(un.Z,{as:L.Z,className:"template-category-menu","data-testid":"".concat(u,"-accordion"),fluid:!0,secondary:!0,vertical:!0},(0,k.Z)(o,"order").map((function(e,t){return(null===e||void 0===e?void 0:e.templates)&&e.templates instanceof Array&&c.createElement(L.Z.Item,{key:t},c.createElement(un.Z.Title,{active:g.includes(t),className:"category-name",content:e.displayName,index:t,icon:c.createElement(f.Z,{className:"angle right caret-icon"}),onClick:A,"data-testid":"".concat(u,"-accordion-title-").concat(t)}),c.createElement(un.Z.Content,{className:"template-list",active:g.includes(t),"data-testid":"".concat(u,"-accordion-content-").concat(t)},e.templates.map((function(e,t){return c.createElement(L.Z.Item,{key:t,className:"template-list-item","data-componentid":e.name},c.createElement(m.Z,{trigger:c.createElement("div",{className:"template-name"},e.name),content:e.title||e.name}),c.createElement("div",{className:"actions"},c.createElement(l.Tooltip,{compact:!0,trigger:c.createElement(f.Z,{className:"add-button",name:"info circle",onClick:function(){y(e)},"data-componentid":"".concat(e.name,"-info")}),content:p("console:develop.features.applications.edit.sections.signOnMethod.sections.templateDescription.popupContent")}),!s&&c.createElement(l.Tooltip,{compact:!0,trigger:c.createElement(f.Z,{className:"add-button",name:"add",onClick:function(){return i(e)},"data-componentid":"".concat(e.name,"-add")}),content:p("common:add")})))}))))}))):null))}));yn.defaultProps={"data-testid":"script-templates-side-panel",defaultActiveIndexes:[-1],visible:!1};var An=n(21275),Cn=n(34861),Sn=n(40759);function In(e,t,n,i,o,a,r){try{var l=e[a](r),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(i,o)}function On(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,o,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(i=n.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){l=!0,o=e}finally{try{r||null==n.return||n.return()}finally{if(l)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Tn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Tn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var wn=function(e){var t=e.authenticationSequence,n=e.onTemplateSelect,i=e.onScriptChange,o=e.readOnly,v=e.authenticationSteps,g=e.isDefaultScript,y=e.isMinimized,C=e.onAdaptiveScriptReset,S=e["data-testid"],I=(0,d.$G)().t,O=(0,l.useDocumentation)().getLink,T=(0,u.I0)(),w=(0,c.useRef)(null),P=(0,c.useRef)(null),M=On((0,c.useState)(void 0),2),k=M[0],N=M[1],D=On((0,c.useState)(void 0),2),Z=D[0],_=D[1],x=On((0,c.useState)(!0),2),F=x[0],H=x[1],q=On((0,c.useState)(void 0),2),V=q[0],B=q[1],G=On((0,c.useState)(!0),2),z=G[0],W=G[1],K=On((0,c.useState)(void 0),2),$=K[0],Y=K[1],Q=On((0,c.useState)(void 0),2),J=Q[0],X=Q[1],ee=On((0,c.useState)(!1),2),te=ee[0],ne=ee[1],ie=On((0,c.useState)(!1),2),oe=ie[0],ae=ie[1],re=On((0,c.useState)(!1),2),le=re[0],se=re[1],ce=On((0,c.useState)(!1),2),de=ce[0],ue=ce[1],pe=On((0,c.useState)(y),2),me=pe[0],fe=pe[1],ve=On((0,c.useState)(!1),2),ge=ve[0],he=ve[1],be=On((0,c.useState)(!1),2),Ee=be[0],ye=be[1],Ae=On((0,c.useState)(void 0),2),Se=Ae[0],Ie=Ae[1],we=On((0,c.useState)(!1),2),Re=we[0],Le=we[1],Pe=On((0,c.useState)([]),2),Me=Pe[0],ke=Pe[1],Ne=On((0,c.useState)([]),2),De=Ne[0],Ue=Ne[1],je=On((0,c.useState)(!0),2),_e=je[0],xe=je[1],Fe=On((0,c.useState)(!1),2),He=Fe[0],qe=Fe[1],Ve=On((0,c.useState)(void 0),2),Be=Ve[0],Ge=Ve[1],ze=h.lD.getInstance();(0,c.useEffect)((function(){We()}),[]);var We=function(){Ce.F.isCurrentOrganizationRoot()&&(xe(!0),(0,An.pR)({params:{secretType:Sn.H0}}).then((function(e){ke(e.data),Ue(e.data)})).catch((function(e){var t,n;e.response&&e.response.data&&e.response.data.description?T((0,r.addAlert)({description:null===(t=e.response.data)||void 0===t?void 0:t.description,level:a.AlertLevels.ERROR,message:null===(n=e.response.data)||void 0===n?void 0:n.message})):T((0,r.addAlert)({description:I("console:develop.features.secrets.errors.generic.description"),level:a.AlertLevels.ERROR,message:I("console:develop.features.secrets.errors.generic.message")}))})).finally((function(){xe(!1)})))},Ke=function(){We()},$e=function(){ye(!1),Ke()};(0,c.useEffect)((function(){(0,b.im)().then((function(e){N(e)})).catch((function(e){e.response&&e.response.data&&e.response.data.description?T((0,r.addAlert)({description:e.response.data.description,level:a.AlertLevels.ERROR,message:Oe.UIConstants.API_RETRIEVAL_ERROR_ALERT_MESSAGE})):T((0,r.addAlert)({description:E.j.ADAPTIVE_AUTH_TEMPLATES_FETCH_ERROR,level:a.AlertLevels.ERROR,message:Oe.UIConstants.API_RETRIEVAL_ERROR_ALERT_MESSAGE}))}))}),[]);var Ye=function(){var e,t,n,i="100%";F&&(i="calc(100% - ".concat(null===w||void 0===w||null===(e=w.current)||void 0===e||null===(t=e.ref)||void 0===t||null===(n=t.current)||void 0===n?void 0:n.offsetWidth,"px)"));P.current.style.width=i};(0,c.useEffect)((function(){Ye()}),[F]),(0,c.useEffect)((function(){Ye()})),(0,c.useEffect)((function(){var e;o?fe(!0):null===t||void 0===t||!t.script||A.w1.isDefaultScript(t.script,null===t||void 0===t||null===(e=t.steps)||void 0===e?void 0:e.length)?fe(!1):fe(!0)}),[t]),(0,c.useEffect)((function(){Qe(null===t||void 0===t?void 0:t.script)}),[null===t||void 0===t?void 0:t.steps,null===t||void 0===t?void 0:t.script,v]);var Qe=function(e){var n,i;if(!e&&0===(null===t||void 0===t||null===(n=t.steps)||void 0===n?void 0:n.length))return B(A.w1.getDefaultScript()),void ne(!1);if(!e&&(null===t||void 0===t||null===(i=t.steps)||void 0===i?void 0:i.length)>0)return B(A.w1.generateScript(v+1)),void ne(!1);if(Te.StringUtils.isValidJSONString(e)){if(te&&!oe&&A.w1.minifyScript($)!==A.w1.minifyScript(JSON.parse(e)))return;return ne(!0),B(JSON.parse(e)),void ae(!1)}return e&&A.w1.isDefaultScript(null!==$&&void 0!==$?$:e,null!==J&&void 0!==J?J:v)?(X(v),B(A.w1.generateScript(v+1)),void ne(!1)):e&&!A.w1.isDefaultScript(null!==$&&void 0!==$?$:e,null!==J&&void 0!==J?J:v)?(X(v),A.w1.minifyScript($)!==A.w1.minifyScript(e)?void B(null!==$&&void 0!==$?$:e):(B(an().js((0,dn.jr)(e))),void ne(!1))):void(g?Je():(B(e),ne(!1)))},Je=function(){B(A.w1.generateScript(v+1)),ne(!1),C(),fe(!1)},Xe=[{content:c.createElement("div",{className:"tour-step"},c.createElement(l.Heading,{bold:!0,as:"h6"},I("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.conditionalAuthTour.steps.0.heading")),c.createElement(l.Text,null,I("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.conditionalAuthTour.steps.0.content.0")),c.createElement(l.Text,null,c.createElement(d.cC,{i18nKey:"console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.conditionalAuthTour.steps.0.content.1"},"Click on the ",c.createElement(l.Code,null,"Next")," button to learn about the process."))),disableBeacon:!0,placement:"top",target:'[data-tourid="conditional-auth"]'},{content:c.createElement("div",{className:"tour-step"},c.createElement(l.Heading,{bold:!0,as:"h6"},I("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.conditionalAuthTour.steps.1.heading")),c.createElement(l.Text,null,I("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.conditionalAuthTour.steps.1.content.0"))),disableBeacon:!0,placement:"right",target:'[data-tourid="add-authentication-options-button"]'},{content:c.createElement("div",{className:"tour-step"},c.createElement(l.Heading,{bold:!0,as:"h6"},I("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.conditionalAuthTour.steps.2.heading")),c.createElement(l.Text,null,c.createElement(d.cC,{i18nKey:"console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.conditionalAuthTour.steps.2.content.0"},"Click here if you need to add more steps to the flow. Once you add a new step,",c.createElement(l.Code,null,"executeStep(STEP_NUMBER);")," will appear on the script editor."))),disableBeacon:!0,placement:"right",target:'[data-tourid="add-new-step-button"]'}],et=function(){var e,t=(e=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Be){e.next=19;break}return e.prev=1,e.next=4,(0,An.c8)({params:{secretName:Be.secretName,secretType:Be.type}});case 4:T((0,r.addAlert)({description:I("console:develop.features.secrets.alerts.deleteSecret.description",{secretName:Be.secretName,secretType:Be.type}),level:a.AlertLevels.SUCCESS,message:I("console:develop.features.secrets.alerts.deleteSecret.message")})),e.next=13;break;case 7:if(e.prev=7,e.t0=e.catch(1),!(e.t0.response&&e.t0.response.data&&e.t0.response.data.description)){e.next=12;break}return T((0,r.addAlert)({description:e.t0.response.data.description,level:a.AlertLevels.ERROR,message:e.t0.response.data.message})),e.abrupt("return");case 12:T((0,r.addAlert)({description:I("console:develop.features.secrets.errors.generic.description"),level:a.AlertLevels.ERROR,message:I("console:develop.features.secrets.errors.generic.message")}));case 13:return e.prev=13,Ke(),qe(!1),Ge(void 0),e.finish(13);case 19:case"end":return e.stop()}}),e,null,[[1,7,13,19]])})),function(){var t=this,n=arguments;return new Promise((function(i,o){var a=e.apply(t,n);function r(e){In(a,i,o,r,l,"next",e)}function l(e){In(a,i,o,r,l,"throw",e)}r(void 0)}))});return function(){return t.apply(this,arguments)}}(),tt=function(){var e,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=h.Wj.getUserPreferences();if(!(0,R.Z)(n)){var i=(0,s.Z)(n);(0,rn.Z)(null===i||void 0===i||null===(e=i.identityAppsSettings)||void 0===e?void 0:e.devPortal,E.j.CONDITIONAL_AUTH_TOUR_STATUS_STORAGE_KEY,t),h.Wj.setUserPreferences(i)}},nt=function(){var e,t=h.Wj.getUserPreferences();return!(0,R.Z)(t)&&(0,Ze.Z)(null===t||void 0===t||null===(e=t.identityAppsSettings)||void 0===e?void 0:e.devPortal,E.j.CONDITIONAL_AUTH_TOUR_STATUS_STORAGE_KEY,!1)},it=c.createElement(l.ConfirmationModal,{onClose:function(){qe(!1),Ge(void 0)},onSecondaryActionClick:function(){qe(!1),Ge(void 0)},onPrimaryActionClick:et,open:He,type:"negative",assertionHint:I("console:develop.features.secrets.modals.deleteSecret.assertionHint"),assertionType:"checkbox",primaryAction:I("console:develop.features.secrets.modals.deleteSecret.primaryActionButtonText"),secondaryAction:I("console:develop.features.secrets.modals.deleteSecret.secondaryActionButtonText"),"data-testid":"".concat(S,"-delete-confirmation-modal"),closeOnDimmerClick:!1},c.createElement(l.ConfirmationModal.Header,{"data-testid":"".concat(S,"-delete-confirmation-modal-header")},I("console:develop.features.secrets.modals.deleteSecret.title")),c.createElement(l.ConfirmationModal.Message,{attached:!0,negative:!0,"data-testid":"".concat(S,"-delete-confirmation-modal-message")},I("console:develop.features.secrets.modals.deleteSecret.warningMessage")),c.createElement(l.ConfirmationModal.Content,{"data-testid":"".concat(S,"-delete-confirmation-modal-content")},I("console:develop.features.secrets.modals.deleteSecret.content")));return c.createElement(c.Fragment,null,c.createElement("div",{className:"conditional-auth-section"},c.createElement(l.SegmentedAccordion,{fluid:!0,"data-testid":"".concat(S,"-accordion"),className:"conditional-auth-accordion"},c.createElement(l.SegmentedAccordion.Title,{"data-testid":"".concat(S,"-accordion-title"),active:me,content:c.createElement(c.Fragment,null,c.createElement("div",{className:"conditional-auth-accordion-title"},!o&&c.createElement(j.Z,{toggle:!0,"data-tourid":"conditional-auth",onChange:function(){me?se(!0):(ze.publish("application-sign-in-method-enable-conditional-authentication"),fe(!0))},checked:me,className:"conditional-auth-accordion-toggle"}),c.createElement("div",{className:"conditional-auth-accordion-title-text"},c.createElement(l.Heading,{as:"h5",compact:!0},I("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.accordion.title.heading")),c.createElement(l.Text,{muted:!0,compact:!0},I("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.accordion.title.description"),c.createElement(l.DocumentationLink,{link:O("develop.applications.editApplication.common.signInMethod.conditionalAuthenticaion.learnMore")},I("common:learnMore"))))),c.createElement(ln.ZP,{continuous:!0,disableOverlay:!0,showSkipButton:!0,callback:function(e){e.status!==ln.Q_.FINISHED&&e.status!==ln.Q_.SKIPPED||tt()},run:!!me&&!1===nt(),steps:Xe,styles:{buttonClose:{display:"none"},tooltipContent:{paddingBottom:1}},locale:{back:I("common:back"),close:I("common:close"),last:I("common:done"),next:I("common:next"),skip:I("common:skip")}})),hideChevron:!0}),c.createElement(l.SegmentedAccordion.Content,{active:me,className:"conditional-auth-accordion-content","data-testid":"".concat(S,"-accordion-content")},c.createElement(cn.Z.Pushable,{className:"script-editor-with-template-panel no-border"},!o&&c.createElement(yn,{title:I("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.editor.templates.heading"),ref:w,onTemplateSelect:function(e){_(e),ue(!0)},templates:(null===k||void 0===k?void 0:k.templatesJSON)&&Object.values(k.templatesJSON),visible:F,readOnly:o,"data-testid":"".concat(S,"-script-templates-side-panel")}),c.createElement(cn.Z.Pusher,null,c.createElement("div",{className:"script-editor-container",ref:P},c.createElement(L.Z,{attached:"top",className:"action-panel",secondary:!0},c.createElement(L.Z.Menu,{position:"right"},function(){var e=O("develop.applications.editApplication.common.signInMethod.conditionalAuthenticaion.apiReference");return void 0===e?null:c.createElement(L.Z.Item,{className:"action p-3",href:e,target:"_blank"},c.createElement(l.Tooltip,{compact:!0,trigger:c.createElement(l.Button,{labelPosition:"left"},c.createElement(l.GenericIcon,{className:"p-1 mr-1",transparent:!0,defaultIcon:!0,size:"micro",icon:(0,h.YT)().openBookIcon,"data-testid":"".concat(S,"-code-editor-open-documentation")}),c.createElement("p",null,I("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.editor.apiDocumentation"))),content:I("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.editor.goToApiDocumentation"),size:"mini"}))}(),c.createElement(L.Z.Item,{className:"action ".concat(Re?"selected-secret":"")},c.createElement("div",null,c.createElement(sn.Z,{defaultOpen:!_e,labeled:!0,button:!0,upward:!1,options:De,onOpen:function(){return Le(!0)},onClose:function(){return Le(!1)},icon:c.createElement(m.Z,{disabled:Re,trigger:c.createElement("div",null,c.createElement(l.GenericIcon,{hoverable:!0,transparent:!0,defaultIcon:!0,size:"micro",hoverType:"rounded",icon:(0,h.YT)().keyIcon,"data-testid":"".concat(S,"-code-editor-secret-selection")})),content:c.createElement(d.cC,{i18nKey:"console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.secretsList.tooltips.keyIcon"},"Securely store access keys as secrets. A secret can replace the API key in ",c.createElement(l.Code,null,"callChoreo()")," function in the conditional authentication scripts."),position:"bottom left",pinned:!0})},c.createElement(sn.Z.Menu,null,Me.length>0&&c.createElement(U.Z,{"data-testid":"".concat(S,"-secret-search"),icon:"search",iconPosition:"left",className:"search",placeholder:I("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.secretsList.search"),onChange:function(e){var t;null!==(t=e.currentTarget)&&void 0!==t&&t.value?Ue(Me.filter((function(t){return t.secretName.toLowerCase().includes(e.currentTarget.value.toLowerCase())}))):Ue(Me)},onClick:function(e){return e.stopPropagation()}}),c.createElement(sn.Z.Menu,{"data-testid":"".concat(S,"-secret-list"),scrolling:!0,className:"custom-dropdown"},De.length>0?De.map((function(e){return c.createElement(sn.Z.Item,{key:e.secretId},c.createElement(p.Z,{as:"h6",className:"header-with-icon",style:{margin:"0.25rem auto"}},c.createElement(l.GenericIcon,{defaultIcon:!0,link:!0,linkType:"primary",transparent:!0,floated:"right",size:"micro",style:{paddingTop:0},icon:c.createElement(l.Tooltip,{trigger:c.createElement(f.Z,{name:"trash alternate"}),content:I("common:delete"),size:"mini"}),onClick:function(){!function(e){Ge(e),qe(!0)}(e)},"data-testid":"".concat(S,"-secret-delete")}),c.createElement(l.GenericIcon,{defaultIcon:!0,transparent:!0,link:!0,linkType:"primary",floated:"right",size:"micro",style:{paddingTop:0},icon:c.createElement(l.Tooltip,{trigger:c.createElement(f.Z,{name:"plus"}),content:I("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.secretsList.tooltips.plusIcon"),size:"mini"}),onClick:function(){!function(e){var t=Se.getDoc(),n='"'.concat(e.secretName,'"');if(t.somethingSelected())t.replaceSelection(n);else{var i=t.getCursor();t.replaceRange(n,i)}}(e)},"data-testid":"".concat(S,"-secret-add")}),c.createElement(p.Z.Content,null,e.secretName),c.createElement(p.Z.Subheader,{className:"truncate ellipsis"},e.description)))})):c.createElement(sn.Z.Item,{"data-testid":"".concat(S,"-empty-placeholder"),key:"secretEmptyPlaceholder",text:I("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.secretsList.emptyPlaceholder"),disabled:!0})),c.createElement(sn.Z.Menu,{className:"create-button-item",scrolling:!0},c.createElement(sn.Z.Item,{key:"createSecret",text:I("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.secretsList.create"),onClick:function(){ye(!0)}})))))),c.createElement(L.Z.Item,{className:"action"},c.createElement(l.Tooltip,{compact:!0,trigger:c.createElement("div",null,c.createElement(l.GenericIcon,{hoverable:!0,transparent:!0,defaultIcon:!0,size:"micro",hoverType:"rounded",icon:(0,h.YT)().maximize,onClick:function(){he(!ge)},"data-testid":"".concat(S,"-code-editor-fullscreen-toggle")})),content:function(){var e=I("common:goFullScreen");return ge&&setTimeout((function(){e=I("common:exitFullScreen")}),500),e},size:"mini"})),c.createElement(L.Z.Item,{className:"action"},c.createElement(l.Tooltip,{compact:!0,trigger:c.createElement("div",null,c.createElement(l.GenericIcon,{hoverable:!0,defaultIcon:!0,transparent:!0,size:"micro",hoverType:"rounded",icon:z?(0,h.YT)().lightMode:(0,h.YT)().darkMode,onClick:function(){W(!z)},"data-testid":"".concat(S,"-code-editor-mode-toggle")})),content:I(z?"common:lightMode":"common:darkMode"),size:"mini"})),!o&&c.createElement(L.Z.Item,{onClick:function(){H(!F)},className:"action hamburger","data-testid":"".concat(S,"-script-template-sidebar-toggle")},c.createElement(f.Z,{name:"bars"})))),c.createElement("div",{className:"code-editor-wrapper"},c.createElement(l.CodeEditor,{editorDidMount:function(e){Ie(e)},lint:!0,allowFullScreen:!0,controlledFullScreenMode:!1,triggerFullScreen:ge,language:"javascript",sourceCode:V,options:{lineWrapping:!0},onChange:function(e,t,n){Y(n),i(n)},onFullScreenToggle:function(e){he(e),function(){var e=A.w1.sourceToString($);if(e!==A.w1.sourceToString(V)){var t=Se.doc.getCursor();B(e.split(E.j.LINE_BREAK)),Se.doc.setCursor(t)}}()},theme:z?"dark":"light",readOnly:o,translations:{copyCode:I("common:copyToClipboard"),exitFullScreen:I("common:exitFullScreen"),goFullScreen:I("common:goFullScreen")},"data-testid":"".concat(S,"-code-editor")}))))))),Ee&&c.createElement(Cn.Z,{onClose:$e}),He&&it),le&&c.createElement(l.ConfirmationModal,{onClose:function(){return se(!1)},type:"warning",open:le,primaryAction:I("common:confirm"),secondaryAction:I("common:cancel"),onSecondaryActionClick:function(){return se(!1)},onPrimaryActionClick:function(){se(!1),Je()},"data-testid":"".concat(S,"-delete-confirmation-modal"),closeOnDimmerClick:!1},c.createElement(l.ConfirmationModal.Header,{"data-testid":"".concat(S,"-reset-confirmation-modal-header")},I("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.editor.resetConfirmation.heading")),c.createElement(l.ConfirmationModal.Message,{attached:!0,warning:!0,"data-testid":"".concat(S,"-reset-confirmation-modal-message")},I("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.editor.resetConfirmation.message")),c.createElement(l.ConfirmationModal.Content,{"data-testid":"".concat(S,"-reset-confirmation-modal-content")},c.createElement(d.cC,{i18nKey:"console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.editor.resetConfirmation.content"},"This action will reset the adaptive authentication script back to default. Click ",c.createElement(l.Code,null,"Confirm")," to proceed."))),de&&c.createElement(l.ConfirmationModal,{onClose:function(){return ue(!1)},type:"warning",open:de,primaryAction:I("common:confirm"),secondaryAction:I("common:cancel"),onSecondaryActionClick:function(){ue(!1),_(void 0)},onPrimaryActionClick:function(){var e;ue(!1),e=Z,ze.publish("application-sign-in-method-conditional-authentication-template",{type:(0,nn.Z)(e.name)}),ae(!0),n(e),_(void 0)},"data-testid":"".concat(S,"-adaptive-script-template-change-confirmation-modal"),closeOnDimmerClick:!1},c.createElement(l.ConfirmationModal.Header,{"data-testid":"".concat(S,"-reset-confirmation-modal-header")},I("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.editor.resetConfirmation.heading")),c.createElement(l.ConfirmationModal.Message,{attached:!0,warning:!0,"data-testid":"".concat(S,"-reset-confirmation-modal-message")},I("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.editor.resetConfirmation.message")),c.createElement(l.ConfirmationModal.Content,{"data-testid":"".concat(S,"-reset-confirmation-modal-content")},c.createElement(d.cC,{i18nKey:"console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.editor.changeConfirmation.content"},"The selected template will replace the existing script in the editor and the step configuration. Your current progress will be lost. Click ",c.createElement(l.Code,null,"Confirm")," to proceed."))))};wn.defaultProps={"data-testid":"script-based-flow",isMinimized:!0};var Rn=n(45544),Ln=n(30032),Pn=n.n(Ln),Mn=n(70271),kn=n(87303);function Nn(e){return function(e){if(Array.isArray(e))return jn(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Un(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,o,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(i=n.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){l=!0,o=e}finally{try{r||null==n.return||n.return()}finally{if(l)throw o}}return a}(e,t)||Un(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Un(e,t){if(e){if("string"===typeof e)return jn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jn(e,t):void 0}}function jn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Zn=function(e){var t=e.authenticators,n=e.authenticationSteps,i=e.currentStep,o=e.defaultName,a=e.heading,r=e.onAuthenticatorSelect,s=e.selected,u=e.showLabels,p=e["data-testid"],v=(0,d.$G)().t,h=Dn((0,c.useState)(void 0),2),b=h[0],E=h[1],y=Pn()("authenticator",{"with-labels":u});(0,c.useEffect)((function(){s&&E(s)}),[s]);var C=function(e){return e.category===Rt.Xi.SECOND_FACTOR?0!==i&&A.Yw.isSecondFactorAdditionValid(e.defaultAuthenticator.authenticatorId,i,n):e.id===Rt.bQ.MAGIC_LINK_AUTHENTICATOR_ID?A.Yw.isMagicLinkAuthenticatorValid(i,n):![Rt.bQ.IDENTIFIER_FIRST_AUTHENTICATOR_ID,Rt.bQ.BASIC_AUTHENTICATOR_ID].includes(e.id)||A.Yw.isFirstFactorValid(i,n)},S=function(e){var t,o,a=c.createElement(xe.Z,{attached:"top"},c.createElement(f.Z,{name:"info circle"})," Info");return e.category===Rt.Xi.SECOND_FACTOR?c.createElement(c.Fragment,null,0===i?c.createElement(c.Fragment,null,a,c.createElement(l.Text,null,null!==(t=g.applicationConfig.signInMethod.authenticatorSelection.messages.secondFactorDisabledInFirstStep)&&void 0!==t?t:v("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.secondFactorDisabledInFirstStep"))):c.createElement(c.Fragment,null,a,c.createElement(l.Text,null,null!==(o=g.applicationConfig.signInMethod.authenticatorSelection.messages.secondFactorDisabled)&&void 0!==o?o:c.createElement(d.cC,{i18nKey:"console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.secondFactorDisabled"},"The second-factor authenticators can only be used if"," ",c.createElement(l.Code,{withBackground:!0},"Username & Password"),","," ",c.createElement(l.Code,{withBackground:!0},"Social Login"),",",c.createElement(l.Code,{withBackground:!0},"Security Key/Biometrics"),"or any other handlers that can handle these factors are present in a previous step.")))):e.category===Rt.Xi.SOCIAL?c.createElement(c.Fragment,null,a,c.createElement(l.Text,null,v("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.authenticatorDisabled"))):e.id!==Rt.bQ.MAGIC_LINK_AUTHENTICATOR_ID||A.Yw.isMagicLinkAuthenticatorValid(i,n)?[Rt.bQ.IDENTIFIER_FIRST_AUTHENTICATOR_ID,Rt.bQ.BASIC_AUTHENTICATOR_ID].includes(e.id)?c.createElement(c.Fragment,null,a,c.createElement(l.Text,null,v("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.firstFactorDisabled"))):void 0:c.createElement(c.Fragment,null,a,c.createElement(l.Text,null,v("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.magicLinkDisabled")))},I=function(e){var t;return e&&null!==(t=Rt.Cr.getAuthenticatorLabels(e.authenticatorId))&&void 0!==t?t:[]};return c.createElement(c.Fragment,{"data-testid":p},a&&c.createElement(l.Heading,{as:"h6"},a),t.filter((function(e){return null===e||void 0===e||!e.name.includes(Rt.bQ.SMS_OTP_AUTHENTICATOR)})).map((function(e,t){return c.createElement(m.Z,{hoverable:!0,hideOnScroll:!0,position:"top center",key:t,on:"hover",disabled:C(e),content:S(e),trigger:c.createElement(l.InfoCard,{showTooltips:!0,imageSize:"micro",className:y,header:Rt.Cr.getAuthenticatorDisplayName(e.defaultAuthenticator.authenticatorId)||e.displayName||o,disabled:!C(e),selected:C(e)&&Array.isArray(b)&&b.some((function(t){return t.id===e.id})),subHeader:e.categoryDisplayName,description:e.description,image:e.image,tags:u&&I(null===e||void 0===e?void 0:e.defaultAuthenticator),onClick:function(){C(e)&&function(e){if(e.isEnabled){if(b.some((function(t){return t.id===e.id}))){var t=b.filter((function(t){return t.id!==e.id}));return r(t),void E(t)}r([].concat(Nn(b),[e])),E([].concat(Nn(b),[e]))}}(e)},imageOptions:{floated:!1,inline:!0},"data-testid":"".concat(p,"-authenticator-").concat(e.name)})})})))};Zn.defaultProps={"data-testid":"authenticators",defaultName:"Unknown",showLabels:!0};var _n=["allowSocialLoginAddition","authenticationSteps","authenticators","categorizedIDPTemplates","className","currentStep","header","onClose","open","onAddNewClick","onIDPCreateWizardTrigger","onModalSubmit","message","showStepSelector","stepCount","showLabels","subjectStepId","attributeStepId","refreshAuthenticators","data-testid"];function xn(){return xn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},xn.apply(this,arguments)}function Fn(e){return function(e){if(Array.isArray(e))return Vn(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||qn(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,o,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(i=n.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){l=!0,o=e}finally{try{r||null==n.return||n.return()}finally{if(l)throw o}}return a}(e,t)||qn(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qn(e,t){if(e){if("string"===typeof e)return Vn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Vn(e,t):void 0}}function Vn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Bn(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var Gn=function(e){var t=e.allowSocialLoginAddition,n=e.authenticationSteps,i=e.authenticators,o=e.categorizedIDPTemplates,a=e.className,r=e.currentStep,s=e.header,u=e.onClose,p=e.open,m=e.onAddNewClick,v=e.onIDPCreateWizardTrigger,g=e.onModalSubmit,b=e.message,E=e.showStepSelector,y=e.stepCount,A=e.showLabels,C=e.subjectStepId,S=e.attributeStepId,I=e.refreshAuthenticators,O=e["data-testid"],T=Bn(e,_n),w=(0,d.$G)().t,L=Hn((0,c.useState)(p),1)[0],k=Hn((0,c.useState)([]),2),N=k[0],D=k[1],j=Hn((0,c.useState)([]),2),Z=j[0],_=j[1],x=Hn((0,c.useState)(y),2),F=x[0],H=x[1],q=Hn((0,c.useState)(null),2),V=q[0],G=q[1],z=Hn((0,c.useState)(!1),2),W=z[0],K=z[1],$=Hn((0,c.useState)([]),2),Y=$[0],Q=$[1],J=Hn((0,c.useState)([]),2),X=J[0],ee=J[1],te=Pn()("add-authenticator-modal",a),ne=h.lD.getInstance();(0,c.useEffect)((function(){i&&(_(i),ie(i))}),[i]);var ie=function(e){var t=[];e.filter((function(e){Rt.zc.getAuthenticatorLabels(e).filter((function(e){t.includes(e)||t.push(e)}))})),Q(t)},oe=function(e,t){var n=t.value.toLocaleLowerCase();G(n),_(ae(n,X))},ae=function(e,t){var n=function(e){return!!(0,R.Z)(t)||Rt.zc.getAuthenticatorLabels(e).some((function(e){return t.includes(e)}))};return i.filter((function(t){return e?(Rt.Cr.getAuthenticatorDisplayName(t.defaultAuthenticator.authenticatorId)||t.displayName).toLocaleLowerCase().includes(e)||Rt.zc.getAuthenticatorLabels(t).some((function(t){return t.toLocaleLowerCase().includes(e)||(0,Mn.Z)(t).toLocaleLowerCase().includes(e)}))||t.category.toLocaleLowerCase().includes(e)||t.categoryDisplayName.toLocaleLowerCase().includes(e)?n(t):void 0:n(t)}))},re=function(){m(),K(!0)};return c.createElement(c.Fragment,null,c.createElement(B.Z,xn({className:te,"data-testid":O,open:L},T),c.createElement(B.Z.Header,null,s),E&&c.createElement(B.Z.Content,{className:"step-selection-dropdown-container"},c.createElement(c.Fragment,null,c.createElement(l.Heading,{as:"h5"},w("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.addAuthenticatorModal.content.stepSelectDropdown.label")),c.createElement(l.Hint,null,w("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.addAuthenticatorModal.content.stepSelectDropdown.hint")),c.createElement(P.Z,null,c.createElement(P.Z.Field,{inline:!0},c.createElement(P.Z.Select,{scrolling:!0,placeholder:w("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.addAuthenticatorModal.content.stepSelectDropdown.placeholder"),options:function(){for(var e=[],t=0;t<y;t++)e.push({key:t,text:"".concat(w("common:step")," ").concat(t+1),value:t+1});return e}(),onChange:function(e,t){var n=t.value;H(parseInt(n,10))},value:F,"data-testid":"".concat(O,"-step-select")}))))),W&&o?c.createElement(B.Z.Content,{scrolling:!0,className:"authenticator-container"},c.createElement("div",{className:"page-header-wrapper"},c.createElement("div",{className:"back-button mb-0",onClick:function(){return K(!1)}},c.createElement(f.Z,{name:"arrow left"}),w("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.addAuthenticatorModal.content.goBackButton"))),c.createElement(le.Z,{hidden:!0}),o.map((function(e,t){return c.createElement(l.ResourceGrid,{key:t,isEmpty:!(null!==e&&void 0!==e&&e.templates&&Array.isArray(e.templates)&&e.templates.length>0),emptyPlaceholder:c.createElement(l.EmptyPlaceholder,{image:(0,h.jF)().newList,imageSize:"tiny",title:w("console:develop.features.authenticationProvider.placeHolders.emptyConnectionTypeList.title"),subtitle:[w("console:develop.features.authenticationProvider.placeHolders.emptyConnectionTypeList.subtitles.0"),w("console:develop.features.authenticationProvider.placeHolders.emptyConnectionTypeList.subtitles.1")],"data-testid":"".concat(O,"-empty-placeholder")})},e.templates.map((function(e,t){return c.createElement(l.ResourceGrid.Card,{key:t,resourceName:e.name,isResourceComingSoon:e.comingSoon,disabled:e.disabled,comingSoonRibbonLabel:w("common:comingSoon"),resourceDescription:e.description,resourceImage:Rt.zc.resolveTemplateImage(e.image,(0,Rt.nI)()),tags:e.tags,onClick:function(){v(e.id,(function(){K(!1)}),e)},showTooltips:!1,"data-testid":"".concat(O,"-").concat(e.name)})})))}))):c.createElement(c.Fragment,null,c.createElement(B.Z.Content,{className:"authenticator-search-container"},c.createElement(U.Z,{loading:!1,className:"mb-3",icon:c.createElement(f.Z,{name:"search"}),value:V,iconPosition:"left",fluid:!0,onChange:oe,placeholder:w("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.addAuthenticatorModal.content.search.placeholder")}),Y&&Array.isArray(Y)&&Y.length>0&&c.createElement(xe.Z.Group,null,Y.map((function(e,t){var n=X.includes(e);return c.createElement(xe.Z,{basic:!0,key:t,as:"a",className:"filter-label ".concat(n?"active":""),onClick:function(){return function(e){var t=[];t=X.includes(e)?X.filter((function(t){return t!==e})):[].concat(Fn(X),[e]),ee(t),_(ae(V,t))}(e)}},Rt.zc.getAuthenticatorLabelDisplayName(e),n&&c.createElement(f.Z,{name:"check"}))})))),c.createElement(B.Z.Content,{scrolling:!0,className:"authenticator-container"},b,Z&&Array.isArray(Z)&&Z.length>0?c.createElement(kn.Z.Group,{itemsPerRow:3},c.createElement(Zn,{refreshAuthenticators:I,authenticators:Z,authenticationSteps:n,onAuthenticatorSelect:function(e){D(e)},selected:N,showLabels:A,"data-testid":"".concat(O,"-authenticators"),currentStep:r,subjectStepId:C,attributeStepId:S}),t&&c.createElement(kn.Z,{as:"div",className:"basic-card authenticator add-custom-authenticator-card ".concat(A?"with-labels":""),onClick:re},c.createElement(kn.Z.Content,{textAlign:"center"},c.createElement(l.GenericIcon,{transparent:!0,className:"mb-3",size:"mini",icon:(0,qe.s_)().addCircleOutline}),c.createElement(l.Text,{weight:"500"},w("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.addAuthenticatorModal.content.addNewAuthenticatorCard.title"))))):c.createElement("div",null,c.createElement(l.EmptyPlaceholder,{subtitle:[w("console:develop.features.applications.placeholders.emptyAuthenticatorsList.subtitles")]}),t&&c.createElement(kn.Z.Group,{centered:!0,itemsPerRow:3},c.createElement(kn.Z,{as:"div",className:"basic-card authenticator add-custom-authenticator-card ".concat(A?"with-labels":""),onClick:re},c.createElement(kn.Z.Content,{textAlign:"center"},c.createElement(l.GenericIcon,{transparent:!0,className:"mb-3",size:"mini",icon:(0,qe.s_)().addCircleOutline}),c.createElement(l.Text,{weight:"500"},w("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.addAuthenticatorModal.content.addNewAuthenticatorCard.title")))))))),c.createElement(B.Z.Actions,null,c.createElement(M.Z,null,c.createElement(M.Z.Row,{column:1},c.createElement(M.Z.Column,{mobile:8,tablet:8,computer:8},c.createElement(l.LinkButton,{floated:"left",onClick:function(e){return u(e,null)}},w("common:cancel"))),!W&&c.createElement(M.Z.Column,{mobile:8,tablet:8,computer:8},c.createElement(l.PrimaryButton,{floated:"right",onClick:function(){ne.compute((function(){null===N||void 0===N||N.forEach((function(e){ne.publish("application-sign-in-method-add-new-authenticator",{type:(0,nn.Z)(e.defaultAuthenticator.name)})}))})),g(N,F)},disabled:(0,R.Z)(N),"data-testid":"".concat(O,"-next-button")},w("common:add"))))))))};Gn.defaultProps={"data-testid":"add-authenticator-modal",showLabels:!0,size:"small"};var zn=n(92078);function Wn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,o,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(i=n.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){l=!0,o=e}finally{try{r||null==n.return||n.return()}finally{if(l)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Kn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Kn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Kn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var $n=function(e){var t=e.authenticators,n=e.className,i=e.onStepDelete,o=e.onAddAuthenticationClick,a=e.onStepOptionAuthenticatorChange,r=e.onStepOptionDelete,s=e.readOnly,u=e.showStepDeleteAction,p=e.showStepMeta,v=e.step,g=e.stepIndex,b=e.subjectStepId,E=e.attributeStepId,y=e.onSubjectCheckboxChange,A=e.onAttributeCheckboxChange,C=e["data-testid"],S=(0,d.$G)().t,I=Pn()("authentication-step-container timeline-body",n),O=Wn((0,c.useState)(!1),2),T=O[0],w=O[1];(0,c.useEffect)((function(){v.options.map((function(e){[Rt.bQ.TOTP_AUTHENTICATOR,Rt.bQ.EMAIL_OTP_AUTHENTICATOR,Rt.bQ.SMS_OTP_AUTHENTICATOR,Rt.bQ.IDENTIFIER_FIRST_AUTHENTICATOR].includes(e.authenticator)?w(!1):w(!0)}))}),[JSON.stringify(v.options)]);return c.createElement("div",{className:"timeline-item"},c.createElement("div",{className:"timeline-badge"},v.id),c.createElement("div",{className:I,"data-testid":C},p&&c.createElement("div",{className:"authentication-step-actions"},c.createElement(l.Heading,{className:"step-header",bold:"500",as:"h6"},S("common:step")," ",v.id),!s&&u&&c.createElement(f.Z,{className:"delete-button",name:"cancel",onClick:function(){return i(g)},"data-testid":"".concat(C,"-delete-button")})),c.createElement("div",{className:"authentication-step with-extension ".concat(v.options&&v.options instanceof Array&&v.options.length>0?"":"empty-placeholder-container")},v.options&&v.options instanceof Array&&v.options.length>0?c.createElement(c.Fragment,null,v.options.map((function(e,n){return function(e,n,i){if(t&&t instanceof Array&&t.length>0){var o,d,u,p=null;return(p=e.idp===Rt.bQ.LOCAL_IDP_IDENTIFIER?t.find((function(t){return t.defaultAuthenticator.name===e.authenticator})):t.find((function(t){return t.idp===e.idp})))?c.createElement(m.Z,{wide:!0,style:{minWidth:"200px"},key:n,hoverable:!0,disabled:!(null!==(o=p)&&void 0!==o&&o.authenticators&&p.authenticators instanceof Array&&p.authenticators.length>1),trigger:c.createElement("div",{className:"authenticator-item-wrapper","data-testid":"".concat(C,"-option")},c.createElement(kn.Z,{fluid:!0,className:"basic-card authenticator-card"},c.createElement(kn.Z.Content,null,!s&&c.createElement(xe.Z,{basic:!0,floating:!0,circular:!0,className:"close-button",size:"mini",onClick:!s&&function(){return r(n,i)},"data-testid":"".concat(C,"-close-button")},c.createElement(l.GenericIcon,{transparent:!0,size:"nano",icon:(0,h.s_)().crossIcon})),c.createElement(l.GenericIcon,{square:!0,inline:!0,className:"card-image",size:"micro",spaced:"right",floated:"left",icon:p.image,"data-testid":"".concat(C,"-image"),transparent:!0}),c.createElement("span",{"data-testid":"".concat(C,"-option-name")},Rt.Cr.getAuthenticatorDisplayName(e.authenticator)||p.displayName)))),content:c.createElement("div",null,c.createElement(xe.Z,{attached:"top"},S("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.actions.selectAuthenticator")),c.createElement(P.Z,{"data-testid":"".concat(C,"-authenticator-selection")},null===(d=p)||void 0===d||null===(u=d.authenticators)||void 0===u?void 0:u.map((function(t){return c.createElement(P.Z.Field,{key:t.authenticatorId},c.createElement(zn.Z,{label:t.name,name:t.name,value:t.authenticatorId,checked:t.name===e.authenticator,onChange:function(){return a(n,i,t)}}))}))))}):null}}(e,g,n)})),!s&&c.createElement(l.LinkButton,{"data-tourid":"add-authentication-options-button",className:"authenticator-item-wrapper",onClick:o},c.createElement(f.Z,{name:"plus"}),S("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.actions.addAuthentication"))):!s&&c.createElement(c.Fragment,null,c.createElement(l.LinkButton,{fluid:!0,"data-tourid":"add-authentication-options-button",onClick:o},c.createElement(f.Z,{name:"plus"}),S("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.actions.addAuthentication")),c.createElement(l.EmptyPlaceholder,{subtitle:[S("console:develop.features.applications.placeholders.emptyAuthenticatorStep.subtitles.0")],"data-testid":"".concat(C,"-empty-placeholder")}))),!s&&p&&v.options&&v.options instanceof Array&&v.options.length>0&&T&&c.createElement("div",{className:"checkboxes-extension"},c.createElement(j.Z,{label:S("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.forms.fields.subjectIdentifierFrom.label"),checked:b===g+1,onChange:function(){return y(g+1)}}),c.createElement(j.Z,{label:S("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.forms.fields.attributesFrom.label"),checked:E===g+1,onChange:function(){return A(g+1)}}))))};function Yn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Qn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yn(Object(n),!0).forEach((function(t){Jn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Jn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xn(e){return function(e){if(Array.isArray(e))return ni(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ti(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ei(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,o,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(i=n.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){l=!0,o=e}finally{try{r||null==n.return||n.return()}finally{if(l)throw o}}return a}(e,t)||ti(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ti(e,t){if(e){if("string"===typeof e)return ni(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ni(e,t):void 0}}function ni(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}$n.defaultProps={"data-testid":"authentication-step"};var ii=function(e){var t=e.authenticators,n=e.authenticationSequence,i=e.onIDPCreateWizardTrigger,o=e.onUpdate,s=e.readOnly,p=e.triggerUpdate,f=e.updateSteps,v=e.onAuthenticationSequenceChange,b=e.refreshAuthenticators,C=e["data-testid"],S=(0,d.$G)().t,I=(0,u.I0)(),O=(0,u.v9)((function(e){return e.config})),T=(0,u.v9)((function(e){var t;return null===(t=e.identityProvider)||void 0===t?void 0:t.groupedTemplates})),w=ei((0,c.useState)([]),2),L=w[0],P=w[1],M=ei((0,c.useState)([]),2),k=M[0],D=M[1],U=ei((0,c.useState)([]),2),j=U[0],Z=U[1],_=ei((0,c.useState)([]),2),x=_[0],F=_[1],H=ei((0,c.useState)([]),2),q=H[0],V=H[1],B=ei((0,c.useState)(1),2),G=B[0],z=B[1],W=ei((0,c.useState)(1),2),K=W[0],$=W[1],Y=ei((0,c.useState)(!1),2),Q=Y[0],J=Y[1],X=ei((0,c.useState)(1),2),ee=X[0],te=X[1],ne=ei((0,c.useState)(!1),2),ie=ne[0],oe=ne[1],ae=ei((0,c.useState)(void 0),2),re=ae[0],le=ae[1],se=ei((0,c.useState)(!1),2),ce=se[0],de=se[1],ue=(0,c.useRef)(null),pe=h.lD.getInstance();(0,c.useEffect)((function(){if(t&&Array.isArray(t)&&t[0]&&t[1]){var e=t[0],n=t[1],i=[],o=[],a=[],r=[];e.forEach((function(e){e.name!==Rt.bQ.BACKUP_CODE_AUTHENTICATOR&&(E.j.SECOND_FACTOR_AUTHENTICATORS.includes(e.id)?r.push(e):a.push(e))})),n.forEach((function(e){E.j.SOCIAL_AUTHENTICATORS.includes(e.defaultAuthenticator.authenticatorId)?i.push(e):o.push(e)})),F(r),Z(a),P(o),D(i)}}),[t]),(0,c.useEffect)((function(){n&&(V(null===n||void 0===n?void 0:n.steps),z(null===n||void 0===n?void 0:n.subjectStepId),$(null===n||void 0===n?void 0:n.attributeStepId))}),[JSON.stringify(n)]),(0,c.useEffect)((function(){p&&(ye()&&o({attributeStepId:K,requestPathAuthenticators:[],steps:q,subjectStepId:G,type:y.a1.USER_DEFINED}))}),[p]),(0,c.useEffect)((function(){if(null!==ue&&void 0!==ue&&ue.current)try{ue.current.scrollLeft=ue.current.scrollWidth}catch(e){}}),[q]),(0,c.useEffect)((function(){ce&&T&&T.length>0&&Se(T)}),[T,ce]),(0,c.useEffect)((function(){Xn(q).some((function(e){return!(0,R.Z)(e.options)}))?v(!1,q):v(!0,q)}),[q]);var me=function(e,t){var n=[].concat(Xn(j),Xn(L),Xn(k),Xn(x)).find((function(e){return e.id===t}));if(n){var i=Xn(q);e===i.length&&(i.push({id:i.length+1,options:[]}),f(!0));var o=function(e,t){var n,i=t.some((function(t){var n;return t.authenticator===(null===e||void 0===e||null===(n=e.defaultAuthenticator)||void 0===n?void 0:n.name)})),o=E.j.EIDP_AUTHENTICATORS.includes(null===e||void 0===e||null===(n=e.defaultAuthenticator)||void 0===n?void 0:n.name);return i&&o&&(i=t.some((function(t){return t.idp===(null===e||void 0===e?void 0:e.idp)}))),!i||(I((0,r.addAlert)({description:S("console:develop.features.applications.notifications.duplicateAuthenticationStep.genericError.description"),level:a.AlertLevels.WARNING,message:S("console:develop.features.applications.notifications.duplicateAuthenticationStep.genericError.message")})),!1)}(n,i[e].options);if(E.j.HANDLER_AUTHENTICATORS.includes(t)&&J(!0),!E.j.SECOND_FACTOR_AUTHENTICATORS.includes(t)||0!==e&&A.Yw.isSecondFactorAdditionValid(n.defaultAuthenticator.authenticatorId,e,i)){if(g.applicationConfig.signInMethod.authenticatorSelection.customAuthenticatorAdditionValidation(t,e,I)&&o){var l=n.authenticators.find((function(e){return e.authenticatorId===n.defaultAuthenticator.authenticatorId}));i[e].options.push({authenticator:l.name,idp:n.idp}),V(i)}}else I((0,r.addAlert)({description:S("console:develop.features.applications.notifications.secondFactorAuthenticatorToFirstStep.genericError.description"),level:a.AlertLevels.WARNING,message:S("console:develop.features.applications.notifications.secondFactorAuthenticatorToFirstStep.genericError.message")}))}},fe=function(e,t){var n,i,o=Xn(q),a=ei(A.Yw.getLeftAndRightSideSteps(e,o),2),r=a[0],l=a[1];if(0===e&&o[0].options[t].authenticator===Rt.bQ.IDENTIFIER_FIRST_AUTHENTICATOR&&null!==(n=o[1])&&void 0!==n&&null!==(i=n.options)&&void 0!==i&&i.find((function(e){return e.authenticator===Rt.bQ.MAGIC_LINK_AUTHENTICATOR})))ve();else{if(A.Yw.hasSpecificFactorsInSteps(Xn(E.j.SECOND_FACTOR_AUTHENTICATORS),l)){var s=o[e].options[t],c=A.Yw.countSpecificFactorInSteps(Xn(E.j.SECOND_FACTOR_AUTHENTICATORS),l)===A.Yw.countSpecificFactorInSteps([Rt.bQ.TOTP_AUTHENTICATOR,Rt.bQ.EMAIL_OTP_AUTHENTICATOR],l),d=[].concat(Xn(E.j.FIRST_FACTOR_AUTHENTICATORS),[Rt.bQ.IDENTIFIER_FIRST_AUTHENTICATOR]).includes(s.authenticator),u=[].concat(Xn(E.j.TOTP_HANDLERS),Xn(E.j.EMAIL_OTP_HANDLERS)).includes(s.authenticator),p=A.Yw.getImmediateStepHavingSpecificFactors(E.j.SECOND_FACTOR_AUTHENTICATORS,o);if(d||u){var m=0,f=0;if(o[e].options.filter((function(e){E.j.FIRST_FACTOR_AUTHENTICATORS.includes(e.authenticator)&&m++,[].concat(Xn(E.j.TOTP_HANDLERS),Xn(E.j.EMAIL_OTP_HANDLERS)).includes(e.authenticator)&&f++})),c&&f<=1||!c&&m<=1)if(!(c?A.Yw.hasSpecificFactorsInSteps([].concat(Xn(E.j.TOTP_HANDLERS),Xn(E.j.EMAIL_OTP_HANDLERS)),r):A.Yw.hasSpecificFactorsInSteps(E.j.FIRST_FACTOR_AUTHENTICATORS,r))){var v=ei(A.Yw.getLeftAndRightSideSteps(p,o),1)[0];if((c?A.Yw.countSpecificFactorInSteps([].concat(Xn(E.j.TOTP_HANDLERS),Xn(E.j.EMAIL_OTP_HANDLERS)),v):A.Yw.countSpecificFactorInSteps(E.j.FIRST_FACTOR_AUTHENTICATORS,v))<=1)return void ve()}}}o[e].options.splice(t,1),V(o)}},ve=function(){I((0,r.addAlert)({description:S("console:develop.features.applications.notifications.deleteOptionErrorDueToSecondFactorsOnRight.genericError.description"),level:a.AlertLevels.WARNING,message:S("console:develop.features.applications.notifications.deleteOptionErrorDueToSecondFactorsOnRight.genericError.message")}))},ge=function(e,t,n){var i=Xn(q);i[e].options[t].authenticator=n.name,V(i)},he=function(e){var t=Xn(q);if(t.length<=1)I((0,r.addAlert)({description:S("console:develop.features.applications.notifications.authenticationStepMin.genericError.description"),level:a.AlertLevels.WARNING,message:S("console:develop.features.applications.notifications.authenticationStepMin.genericError.message")}));else{var n=ei(A.Yw.getLeftAndRightSideSteps(e,t),3),i=n[0],o=n[1],l=n[2],s=A.Yw.hasSpecificFactorsInSteps(E.j.SECOND_FACTOR_AUTHENTICATORS,o),c=A.Yw.countSpecificFactorInSteps([Rt.bQ.TOTP_AUTHENTICATOR],o),d=A.Yw.countSpecificFactorInSteps(E.j.SECOND_FACTOR_AUTHENTICATORS,o)+A.Yw.countSpecificFactorInSteps(E.j.FIRST_FACTOR_AUTHENTICATORS,o);if(s)if(!(d===c?A.Yw.hasSpecificFactorsInSteps(E.j.TOTP_HANDLERS,i):A.Yw.hasSpecificFactorsInSteps(E.j.FIRST_FACTOR_AUTHENTICATORS,i)||A.Yw.checkImmediateStepHavingSpecificFactors(E.j.FIRST_FACTOR_AUTHENTICATORS,l)))return void I((0,r.addAlert)({description:S("console:develop.features.applications.notifications.authenticationStepDeleteErrorDueToSecondFactors.genericError.description"),level:a.AlertLevels.WARNING,message:S("console:develop.features.applications.notifications.authenticationStepDeleteErrorDueToSecondFactors.genericError.message")}));t.splice(e,1),t.forEach((function(e,t){return e.id=t+1})),V(t),f(!1)}},be=function(e){z(e)},Ee=function(e){$(e)},ye=function(){var e=Xn(q);return e.find((function(e){return(0,R.Z)(e.options)}))?(I((0,r.addAlert)({description:S("console:develop.features.applications.notifications.emptyAuthenticationStep.genericError.description"),level:a.AlertLevels.WARNING,message:S("console:develop.features.applications.notifications.emptyAuthenticationStep.genericError.message")})),!1):1!==e.length||1!==e[0].options.length||e[0].options[0].authenticator!==Rt.bQ.IDENTIFIER_FIRST_AUTHENTICATOR||(I((0,r.addAlert)({description:S("console:develop.features.applications.notifications.updateOnlyIdentifierFirstError.description"),level:a.AlertLevels.WARNING,message:S("console:develop.features.applications.notifications.updateOnlyIdentifierFirstError.message")})),!1)},Ae=function(e,t,n){var i;return(0,R.Z)(e)?[]:null===(i=O.ui)||void 0===i||!i.hiddenAuthenticators||!Array.isArray(O.ui.hiddenAuthenticators)||O.ui.hiddenAuthenticators.length<1?e:e.filter((function(e){return!O.ui.hiddenAuthenticators.includes(e.name)})).map((function(e){return Qn(Qn({},e),{},{category:t,categoryDisplayName:n})}))},Ce=function(){if(void 0===T){var e=O.ui.identityProviderTemplateLoadingStrategy?O.ui.identityProviderTemplateLoadingStrategy===Rt.w7.REMOTE:Rt.bQ.DEFAULT_IDP_TEMPLATE_LOADING_STRATEGY===Rt.w7.REMOTE;Rt.b9.getIdentityProviderTemplates(e).finally((function(){de(!0)}))}else Se(T)},Se=function(e){Rt.b9.categorizeTemplates(e).then((function(e){var t=[];e.filter((function(e){e.templates=(0,Rn.Z)(e.templates,["comingSoon"],["desc"]),e.templates.filter((function(e){null!==e&&void 0!==e&&e.tags&&Array.isArray(e.tags)&&e.tags.length>0&&(t=(0,N.Z)(t,e.tags))}))})),le(e),de(!1)})).catch((function(){le([]),de(!1)}))};return c.createElement("div",{className:"authentication-flow-wrapper","data-testid":C},c.createElement("div",{className:"authentication-flow-section timeline"},c.createElement("div",{className:"timeline-button start"},c.createElement(l.GenericIcon,{size:"x50",transparent:!0,icon:(0,qe.m9)().startButton})),c.createElement("div",{className:"authentication-steps-section",ref:ue},q&&q instanceof Array&&q.length>0?q.map((function(e,t){return c.createElement(c.Fragment,{key:t},c.createElement($n,{authenticators:[].concat(Xn(j),Xn(L),Xn(k),Xn(x)),onStepDelete:he,onStepOptionAuthenticatorChange:ge,onAddAuthenticationClick:function(){oe(!0),te(t)},onStepOptionDelete:fe,showStepMeta:q.length>1,showStepDeleteAction:q.length>1,step:e,stepIndex:t,readOnly:s,subjectStepId:G,attributeStepId:K,onAttributeCheckboxChange:Ee,onSubjectCheckboxChange:be,"data-testid":"".concat(C,"-authentication-step-").concat(t)}))})):null),!s&&c.createElement("div",{className:"timeline-button add"},c.createElement(m.Z,{trigger:c.createElement("div",null,c.createElement(l.GenericIcon,{link:!0,transparent:!0,size:"mini",fill:"primary",icon:(0,qe.m9)().addButton,onClick:function(){var e=Xn(q);e.push({id:e.length+1,options:[]}),pe.publish("application-sign-in-method-click-add-new-step"),V(e),f(!0)},"data-tourid":"add-new-step-button"})),position:"left center",content:"Add a new authentication step"})),c.createElement("div",{className:"timeline-button done"},c.createElement(l.GenericIcon,{size:"x50",transparent:!0,icon:(0,qe.m9)().doneButton}))),ie&&c.createElement(Gn,{refreshAuthenticators:b,authenticationSteps:q,allowSocialLoginAddition:!0,currentStep:ee,open:ie,onModalSubmit:function(e){e.map((function(e){me(ee,e.id)})),oe(!1)},onClose:function(){return oe(!1)},header:S("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.addAuthenticatorModal.heading"),authenticators:[].concat(Xn(Ae(j,Rt.Xi.LOCAL,S(Rt.Cr.getAuthenticatorTypeDisplayName(Rt.Xi.LOCAL)))),Xn(Ae(k,Rt.Xi.SOCIAL,S(Rt.Cr.getAuthenticatorTypeDisplayName(Rt.Xi.SOCIAL)))),Xn(Ae(x,Rt.Xi.SECOND_FACTOR,S(Rt.Cr.getAuthenticatorTypeDisplayName(Rt.Xi.SECOND_FACTOR)))),Xn(Ae(L,Rt.Xi.ENTERPRISE,S(Rt.Cr.getAuthenticatorTypeDisplayName(Rt.Xi.ENTERPRISE))))),showStepSelector:!1,stepCount:q.length,onAddNewClick:Ce,onIDPCreateWizardTrigger:i,categorizedIDPTemplates:re,subjectStepId:G,attributeStepId:K}),Q&&c.createElement(l.ConfirmationModal,{onClose:function(){return J(!1)},type:"warning",open:Q,primaryAction:S("common:confirm"),secondaryAction:S("common:cancel"),onPrimaryActionClick:function(){return J(!1)},"data-testid":"".concat(C,"-handler-disclaimer-modal"),closeOnDimmerClick:!1},c.createElement(l.ConfirmationModal.Header,{"data-testid":"".concat(C,"-delete-confirmation-modal-header")},S("console:develop.features.applications.confirmations.handlerAuthenticatorAddition.header")),c.createElement(l.ConfirmationModal.Message,{attached:!0,warning:!0,"data-testid":"".concat(C,"-delete-confirmation-modal-message")},S("console:develop.features.applications.confirmations.handlerAuthenticatorAddition.message")),c.createElement(l.ConfirmationModal.Content,{"data-testid":"".concat(C,"-delete-confirmation-modal-content")},S("console:develop.features.applications.confirmations.handlerAuthenticatorAddition.content"))))};ii.defaultProps={"data-testid":"step-based-flow"};var oi=JSON.parse('{"steps":[{"id":1,"options":[{"idp":"LOCAL","authenticator":"BasicAuthenticator"}]}]}');function ai(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ri(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ai(Object(n),!0).forEach((function(t){li(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ai(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function li(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function si(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,o,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(i=n.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){l=!0,o=e}finally{try{r||null==n.return||n.return()}finally{if(l)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return ci(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ci(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ci(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var di=function(e){var t,n=e.appId,i=e.authenticators,o=e.authenticationSequence,s=e.clientId,p=e.isLoading,m=e.setIsLoading,v=e.onIDPCreateWizardTrigger,E=e.onReset,y=e.onUpdate,C=e.readOnly,S=e.refreshAuthenticators,I=e["data-testid"],O=(0,d.$G)().t,T=(0,l.useDocumentation)().getLink,w=(0,u.I0)(),R=(0,u.v9)((function(e){return e.config})),L=si((0,c.useState)(o),2),P=L[0],k=L[1],N=si((0,c.useState)(!1),2),D=N[0],U=N[1],j=si((0,c.useState)(void 0),2),Z=j[0],_=j[1],x=si((0,c.useState)(void 0),2),F=x[0],H=x[1],q=si((0,c.useState)(void 0),2),V=q[0],B=q[1],G=si((0,c.useState)(1),2),z=G[0],W=G[1],K=si((0,c.useState)(!0),2),$=K[0],Y=K[1],Q=si((0,c.useState)(!1),2),J=Q[0],X=Q[1],ee=si((0,c.useState)(),2),te=ee[0],ne=ee[1],ie=si((0,c.useState)(void 0),2),oe=ie[0],ae=ie[1],re=h.lD.getInstance();(0,c.useEffect)((function(){var e=A.Yw.isConnectionsJITUPConflictWithMFA({federatedAuthenticators:i&&i[1],steps:te,subjectStepId:null===o||void 0===o?void 0:o.subjectStepId});ae(e)}),[z,i,te]),(0,c.useEffect)((function(){D&&U(!1)}),[D]),(0,c.useEffect)((function(){ce()}),[]),(0,c.useEffect)((function(){o&&null!==o&&void 0!==o&&o.steps&&Array.isArray(o.steps)&&W(o.steps.length)}),[o]);var se=function(e,t){var i;i=t?{authenticationSequence:ri(ri({},oi),{},{requestPathAuthenticators:V,script:""})}:{authenticationSequence:ri(ri({},e),{},{requestPathAuthenticators:V,script:Z})},m(!0),(0,b.bz)(n,i).then((function(){w((0,r.addAlert)({description:O("console:develop.features.applications.notifications.updateAuthenticationFlow.success.description"),level:a.AlertLevels.SUCCESS,message:O("console:develop.features.applications.notifications.updateAuthenticationFlow.success.message")})),y(n)})).catch((function(e){var t;e.response&&"APP-60001"===(null===(t=e.response.data)||void 0===t?void 0:t.code)?w((0,r.addAlert)({description:c.createElement("p",null,c.createElement(d.cC,{i18nKey:"console:develop.features.applications.notifications.conditionalScriptLoopingError.description"},"Looping constructs such as ",c.createElement(l.Code,null,"for"),", ",c.createElement(l.Code,null,"while")," and,",c.createElement(l.Code,null,"forEach")," are not allowed in the conditional authentication script.")),level:a.AlertLevels.ERROR,message:O("console:develop.features.applications.notifications.conditionalScriptLoopingError.message")})):e.response&&e.response.data&&e.response.data.description?w((0,r.addAlert)({description:e.response.data.description,level:a.AlertLevels.ERROR,message:O("console:develop.features.applications.notifications.updateAuthenticationFlow.error.message")})):w((0,r.addAlert)({description:O("console:develop.features.applications.notifications.updateAuthenticationFlow.genericError.description"),level:a.AlertLevels.ERROR,message:O("console:develop.features.applications.notifications.updateAuthenticationFlow.genericError.message")}))})).finally((function(){m(!1)}))},ce=function(){(0,b.fF)().then((function(e){H(e)})).catch((function(e){e.response&&e.response.data&&e.response.data.detail?w((0,r.addAlert)({description:O("console:develop.features.applications.edit.sections.signOnMethod.sections.requestPathAuthenticators.notifications.getRequestPathAuthenticators.error.description",{description:e.response.data.description}),level:a.AlertLevels.ERROR,message:O("console:develop.features.applications.edit.sections.signOnMethod.sections.requestPathAuthenticators.notifications.getRequestPathAuthenticators.error.message")})):w((0,r.addAlert)({description:O("console:develop.features.applications.edit.sections.signOnMethod.sections.requestPathAuthenticators.notifications.getRequestPathAuthenticators.genericError.description"),level:a.AlertLevels.ERROR,message:O("console:develop.features.applications.edit.sections.signOnMethod.sections.requestPathAuthenticators.notifications.getRequestPathAuthenticators.genericError.message")}))}))},de=function(){A.w1.isEmptyScript(Z)&&(_(A.w1.generateScript(z+1).join("\n")),Y(!0)),re.compute((function(){var e={"script-based":!A.w1.isDefaultScript(Z,z),"step-based":[]};te.forEach((function(t){var n={};Array.isArray(null===t||void 0===t?void 0:t.options)&&t.options.length>0&&(t.options.forEach((function(e,t){n[t]=(0,nn.Z)(null===e||void 0===e?void 0:e.authenticator)})),e["step-based"].push(n))})),re.publish("application-sign-in-method-click-update-button",{"client-id":s,type:e})})),U(!0)},ue=c.createElement(c.Fragment,null,c.createElement(l.Heading,{as:"h4"},O("console:develop.features.applications.edit.sections.signOnMethod.sections.requestPathAuthenticators.title")),c.createElement(l.Hint,null,O("console:develop.features.applications.edit.sections.signOnMethod.sections.requestPathAuthenticators.subTitle")),c.createElement(we.Forms,null,c.createElement(M.Z,null,c.createElement(M.Z.Row,{columns:1},c.createElement(M.Z.Column,{mobile:16,tablet:16,computer:8},c.createElement(we.Field,{name:"requestPathAuthenticators",label:"",type:"checkbox",required:!1,value:null===o||void 0===o?void 0:o.requestPathAuthenticators,requiredErrorMessage:"",children:null===F||void 0===F?void 0:F.map((function(e){return{label:e.displayName,value:e.name}})),listen:function(e){B(e.get("requestPathAuthenticators"))},readOnly:C,"data-testid":"".concat(I,"-request-path-authenticators")}))))));return c.createElement("div",null,c.createElement("div",null,c.createElement(l.Heading,{as:"h4",className:"display-inline-block"},O("console:develop.features.applications.edit.sections.signOnMethod.sections.customization.heading")),!C&&c.createElement("div",{className:"display-inline-block floated right"},c.createElement(l.LinkButton,{className:"pr-0",onClick:function(){se(null,!0),E()}},c.createElement(f.Z,{name:"refresh"}),O("console:develop.features.applications.edit.sections.signOnMethod.sections.customization.revertToDefaultButton.label")),c.createElement(l.Hint,{inline:!0,popup:!0},O("console:develop.features.applications.edit.sections.signOnMethod.sections.customization.revertToDefaultButton.hint")))),c.createElement(le.Z,{hidden:!0}),o.steps[0].options.find((function(e){return e.authenticator===Rt.bQ.FIDO_AUTHENTICATOR}))&&c.createElement(l.Message,{type:"warning",content:c.createElement(c.Fragment,null,c.createElement(d.cC,{i18nKey:O("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.types.usernameless.info")},"To sign in with passwordless login, your users should have their FIDO2 security keys or biometrics registered via My Account."),c.createElement(l.DocumentationLink,{link:T("develop.applications.editApplication.signInMethod.fido"),showEmptyLink:!1},O("common:learnMore")))}),o.steps[0].options.find((function(e){return e.authenticator===Rt.bQ.IDENTIFIER_FIRST_AUTHENTICATOR&&g.applicationConfig.signInMethod.identifierFirstWarning}))&&c.createElement(l.Message,{warning:!0},c.createElement(d.cC,{i18nKey:O("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.types.magicLink.warning")},"You can only use Identifier First authenticator with the Magic Link authenticator. Using it with any other authenticator can lead to unexpected behavior.")),c.createElement(ii,{refreshAuthenticators:S,authenticators:i,authenticationSequence:P,isLoading:p,onUpdate:se,triggerUpdate:D,readOnly:C,"data-testid":"".concat(I,"-step-based-flow"),updateSteps:function(e){W(e?z+1:z-1)},onIDPCreateWizardTrigger:v,onAuthenticationSequenceChange:function(e,t){X(e),ne(t)}}),c.createElement(le.Z,{className:"x1",hidden:!0}),null!==oe&&void 0!==oe&&oe.conflicting&&null!==oe&&void 0!==oe&&oe.idpList.length?function(){var e=oe.idpList,t=e.length>1;return c.createElement(l.Message,{"data-componentid":"jit-provisioning-mfa-in-sequence-warning-message","data-testid":"jit-provisioning-mfa-in-sequence-warning-message",type:"warning",header:"Warning",content:c.createElement(c.Fragment,null,t?c.createElement(c.Fragment,null,"Currently, Just-in-Time (JIT) user provisioning is ",c.createElement("strong",null,"disabled")," for the following connections:",c.createElement("ul",{className:"mb-3"},null===e||void 0===e?void 0:e.map((function(e,t){var n=e.name;return c.createElement("li",{key:t},c.createElement("strong",null,n))})))):c.createElement(c.Fragment,null,"Currently, Just-in-Time(JIT) user provisioning is disabled for the ",c.createElement("strong",null,e[0].name)," connection."),t?c.createElement(c.Fragment,null,"To use MFA with these connections, ",c.createElement("em",null,"enable JIT provisioning")," or use an ",c.createElement("em",null,"authentication script")," to skip the MFA options for these connections during user login."):c.createElement(c.Fragment,null,"To use MFA with this connection, ",c.createElement("em",null,"enable JIT provisioning")," or use an ",c.createElement("em",null,"authentication script")," to skip the MFA options for this connection during user login."),c.createElement(l.DocumentationLink,{link:T("develop.connections.edit.advancedSettings.jit")},"Learn More"))})}():null,c.createElement(le.Z,{className:"x2"}),isAdaptiveAuthenticationAvailable&&c.createElement(wn,{authenticationSequence:P,isLoading:p,onTemplateSelect:function(e){if(e){Y(!1);var t=ri({},P);if(e.code&&(t=ri(ri({},t),{},{requestPathAuthenticators:V,script:JSON.stringify(e.code)})),e.defaultAuthenticators){for(var n=[],i=0,o=Object.entries(e.defaultAuthenticators);i<o.length;i++){var a=si(o[i],2),r=a[0],l=a[1];n.push({id:parseInt(r,10),options:l.local.map((function(e){return{authenticator:e,idp:"LOCAL"}}))})}t=ri(ri({},t),{},{attributeStepId:1,steps:n,subjectStepId:1})}k(t)}},onScriptChange:function(e){_(e)},readOnly:C,"data-testid":"".concat(I,"-script-based-flow"),authenticationSteps:z,isDefaultScript:$,onAdaptiveScriptReset:function(){return Y(!0)}}),!1===(null===R||void 0===R||null===(t=R.ui)||void 0===t?void 0:t.isRequestPathAuthenticationEnabled)?null:F&&ue,C?null:c.createElement(c.Fragment,null,c.createElement(le.Z,{hidden:!0}),c.createElement(l.PrimaryButton,{onClick:de,"data-testid":"".concat(I,"-update-button"),disabled:J||p,loading:p},O("common:update"))))};di.defaultProps={"data-testid":"sign-in-method-customization"};var ui=n(34342),pi=function(e){var t,n,i=e.isLoading,o=e.onLoginFlowSelect,a=e.hiddenOptions,r=e["data-testid"],s=e.clientId,p=(0,d.$G)().t,m=(0,u.v9)((function(e){return e.config})),f=h.lD.getInstance();return c.createElement(_.Z,{basic:!0,loading:i,"data-testid":r,className:"sign-in-method-landing"},c.createElement(M.Z,null,c.createElement(M.Z.Row,null,c.createElement(M.Z.Column,{width:16},c.createElement(l.Heading,{as:"h2",textAlign:window.innerWidth<=ui.Z.onlyTablet.maxWidth?"center":"left"},p("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.heading")))),c.createElement(M.Z.Row,null,c.createElement(M.Z.Column,{computer:8,tablet:16,mobile:16,className:"flow-options-column"},c.createElement("div",{className:"pr-5 pl-5"},!a.includes(y.Tb.DEFAULT)&&c.createElement(c.Fragment,null,c.createElement(l.Heading,{as:"h4"},p("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.headings.default")),c.createElement(l.InfoCard,{fluid:!0,"data-testid":"basic-configuration-flow-card",image:(0,qe.C4)().basic,imageSize:"mini",header:p("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.types.defaultConfig.heading"),description:p("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.types.defaultConfig.description"),onClick:function(){f.publish("application-begin-sign-in-default-configuration",{"client-id":s}),o(y.Tb.DEFAULT)}})),(!a.includes(y.Tb.GOOGLE_LOGIN)||!a.includes(y.Tb.FACEBOOK_LOGIN)||!a.includes(y.Tb.GITHUB_LOGIN))&&c.createElement(c.Fragment,null,c.createElement(l.Heading,{as:"h4"},p("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.headings.socialLogin")),!a.includes(y.Tb.GOOGLE_LOGIN)&&c.createElement(l.InfoCard,{fluid:!0,"data-testid":"google-login-flow-card",imageSize:"mini",image:(0,qe.C4)().google,header:p("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.types.google.heading"),description:p("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.types.google.description"),onClick:function(){f.publish("application-begin-sign-in-google-social-login",{type:s}),o(y.Tb.GOOGLE_LOGIN)}}),!a.includes(y.Tb.GITHUB_LOGIN)&&c.createElement(l.InfoCard,{fluid:!0,"data-testid":"github-login-flow-card",imageSize:"mini",image:(0,qe.C4)().github,header:p("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.types.github.heading"),description:p("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.types.github.description"),onClick:function(){return o(y.Tb.GITHUB_LOGIN)}}),!a.includes(y.Tb.FACEBOOK_LOGIN)&&c.createElement(l.InfoCard,{fluid:!0,"data-testid":"facebook-login-flow-card",imageSize:"mini",image:(0,qe.C4)().facebook,header:p("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.types.facebook.heading"),description:p("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.types.facebook.description"),onClick:function(){return o(y.Tb.FACEBOOK_LOGIN)}})))),c.createElement(M.Z.Column,{computer:8,tablet:16,mobile:16,className:"flow-options-column"},c.createElement("div",{className:"pr-5 pl-5"},c.createElement(l.Heading,{as:"h4"},p("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.headings.multiFactorLogin")),!a.includes(y.Tb.SECOND_FACTOR_TOTP)&&c.createElement(l.InfoCard,{fluid:!0,"data-testid":"totp-mfa-flow-card",image:(0,qe.C4)().totp,imageSize:"mini",header:p("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.types.totp.heading"),description:p("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.types.totp.description"),onClick:function(){f.publish("application-begin-sign-in-totp-mfa",{"client-id":s}),o(y.Tb.SECOND_FACTOR_TOTP)}}),c.createElement(l.Heading,{as:"h4"},p("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.headings.passwordlessLogin")),!(null!==a&&void 0!==a&&a.includes(y.Tb.FIDO_LOGIN))&&!(null!==(t=m.ui)&&void 0!==t&&t.hiddenAuthenticators.includes(Rt.bQ.FIDO_AUTHENTICATOR))&&c.createElement(l.InfoCard,{fluid:!0,"data-testid":"usernameless-flow-card",image:(0,qe.C4)().fido,imageSize:"mini",header:p("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.types.usernameless.heading"),description:p("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.types.usernameless.description"),onClick:function(){f.publish("application-begin-sign-in-biometrics-password-less",{"client-id":s}),o(y.Tb.FIDO_LOGIN)}}),!(null!==a&&void 0!==a&&a.includes(y.Tb.MAGIC_LINK))&&!(null!==(n=m.ui)&&void 0!==n&&n.hiddenAuthenticators.includes(Rt.bQ.MAGIC_LINK_AUTHENTICATOR))&&c.createElement(l.InfoCard,{fluid:!0,"data-testid":"magic-link-flow-card",image:(0,qe.C4)().magicLink,imageSize:"mini",header:p("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.types.magicLink.heading"),description:p("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.types.magicLink.description"),onClick:function(){f.publish("application-begin-sign-in-magiclink-password-less",{"client-id":s}),o(y.Tb.MAGIC_LINK)}}))))))};pi.defaultProps={"data-testid":"sign-in-method-landing",hiddenOptions:[y.Tb.FACEBOOK_LOGIN,y.Tb.GITHUB_LOGIN]};var mi=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"FacebookAuthenticator","idp":"<FACEBOOK_IDP>"}]}]}'),fi=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"GithubAuthenticator","idp":"<GITHUB_IDP>"}]}]}'),vi=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"GoogleOIDCAuthenticator","idp":"<GOOGLE_IDP>"}]}]}'),gi=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"IdentifierExecutor","idp":"LOCAL"}]},{"id":2,"options":[{"authenticator":"MagicLinkAuthenticator","idp":"LOCAL"}]}],"attributeStepId":2,"subjectStepId":2}'),hi=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"BasicAuthenticator","idp":"LOCAL"}]},{"id":2,"options":[{"authenticator":"totp","idp":"LOCAL"}]}]}'),bi=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"BasicAuthenticator","idp":"LOCAL"},{"authenticator":"FIDOAuthenticator","idp":"LOCAL"}]}]}');function Ei(e){return function(e){if(Array.isArray(e))return Oi(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ii(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Ai(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yi(Object(n),!0).forEach((function(t){Ci(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ci(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Si(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,o,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(i=n.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){l=!0,o=e}finally{try{r||null==n.return||n.return()}finally{if(l)throw o}}return a}(e,t)||Ii(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ii(e,t){if(e){if("string"===typeof e)return Oi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Oi(e,t):void 0}}function Oi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Ti=null,wi=function(e){var t=e.appId,n=e.authenticationSequence,i=e.clientId,o=e.isLoading,a=e.onUpdate,r=e.readOnly,u=e["data-testid"],p=(0,d.$G)().t,m=Si((0,c.useState)(void 0),2),f=m[0],v=m[1],g=Si((0,c.useState)(void 0),2),b=g[0],C=g[1],S=Si((0,c.useState)(void 0),2),I=S[0],O=S[1],T=Si((0,c.useState)(void 0),2),w=T[0],L=T[1],P=Si((0,c.useState)(void 0),2),M=P[0],k=P[1],N=Si((0,c.useState)(void 0),2),D=N[0],U=N[1],j=Si((0,c.useState)(!1),2),Z=j[0],_=j[1],x=Si((0,c.useState)(!0),2),F=x[0],H=x[1],q=Si((0,c.useState)(!1),2),V=q[0],B=q[1],G=Si((0,c.useState)(void 0),2),z=G[0],W=G[1],K=Si((0,c.useState)(n),2),$=K[0],Y=K[1],Q=Si((0,c.useState)(void 0),2),J=Q[0],X=Q[1],ee=Si((0,c.useState)(void 0),2),te=ee[0],ne=ee[1],ie=Si((0,c.useState)(!1),2),oe=ie[0],ae=ie[1],re=Si((0,c.useState)(void 0),2),se=re[0],ce=re[1],de=h.lD.getInstance();(0,c.useEffect)((function(){ue().finally(),Te.LocalStorageUtils.setValueInLocalStorage(E.j.AUTHENTICATORS_LOCAL_STORAGE_KEY,JSON.stringify([]))}),[]),(0,c.useEffect)((function(){void 0!==n&&Y(n)}),[n]);var ue=function(e){return H(!0),Rt.zc.getAllAuthenticators().then((function(t){var n=[],i=[],o=[];t[1].filter((function(e){e.defaultAuthenticator.authenticatorId===Rt.bQ.GOOGLE_OIDC_AUTHENTICATOR_ID?n.push(e):e.defaultAuthenticator.authenticatorId===Rt.bQ.GITHUB_AUTHENTICATOR_ID?i.push(e):e.defaultAuthenticator.authenticatorId===Rt.bQ.FACEBOOK_AUTHENTICATOR_ID&&o.push(e)})),L(n),k(i),U(o),O(t),e&&e(t,n,i,o)})).finally((function(){H(!1)}))},pe=function(e,t,i,o){if(e)if(e===y.Tb.DEFAULT)de.publish("application-sign-in-method-click-add",{type:"default"}),Y(Ai(Ai({},n),(0,s.Z)(oi)));else if(e===y.Tb.SECOND_FACTOR_TOTP)de.publish("application-sign-in-method-click-add",{type:"second-factor-totp"}),Y(Ai(Ai({},n),(0,s.Z)(hi)));else if(e===y.Tb.FIDO_LOGIN)de.publish("application-sign-in-method-click-add",{type:"first-factor-fido"}),Y(Ai(Ai({},n),(0,s.Z)(bi)));else if(e===y.Tb.GOOGLE_LOGIN){if(de.publish("application-sign-in-method-click-add",{type:"google-login"}),C(y.Tb.GOOGLE_LOGIN),(0,R.Z)(t))return void _(!0);if(t.length>1)return W(t[0]),void B(!0);1===t.length&&Y(Ai(Ai({},n),me(t[0].idp,y.Tb.GOOGLE_LOGIN)))}else if(e===y.Tb.GITHUB_LOGIN){if(de.publish("application-sign-in-method-click-add",{type:"github-login"}),C(y.Tb.GITHUB_LOGIN),(0,R.Z)(i))return void _(!0);if(i.length>1)return W(i[0]),void B(!0);1===i.length&&Y(Ai(Ai({},n),me(i[0].idp,y.Tb.GITHUB_LOGIN)))}else if(e===y.Tb.FACEBOOK_LOGIN){if(de.publish("application-sign-in-method-click-add",{type:"facebook-login"}),C(y.Tb.FACEBOOK_LOGIN),(0,R.Z)(o))return void _(!0);if(o.length>1)return W(o[0]),void B(!0);1===o.length&&Y(Ai(Ai({},n),me(o[0].idp,y.Tb.FACEBOOK_LOGIN)))}else e===y.Tb.MAGIC_LINK&&(de.publish("application-sign-in-method-click-add",{type:"magic-link-login"}),Y(Ai(Ai({},n),(0,s.Z)(gi))));else Y(n);v(e)},me=function(e,t){var n={},i=null;return t===y.Tb.GOOGLE_LOGIN?(n=(0,s.Z)(vi),i=Rt.bQ.GOOGLE_OIDC_AUTHENTICATOR_NAME):t===y.Tb.GITHUB_LOGIN?(n=(0,s.Z)(fi),i=Rt.bQ.GITHUB_AUTHENTICATOR_NAME):t===y.Tb.FACEBOOK_LOGIN&&(n=(0,s.Z)(mi),i=Rt.bQ.FACEBOOK_AUTHENTICATOR_NAME),n.steps[0].options.forEach((function(t){t.authenticator===i&&(t.idp=e)})),n};return c.createElement(l.EmphasizedSegment,{className:"sign-on-methods-tab-content",padded:"very"},o||F?c.createElement(l.ContentLoader,{inline:"centered",active:!0}):r||f||!function(){var e,t,i;if(1!==(null===n||void 0===n||null===(e=n.steps)||void 0===e?void 0:e.length)||1!==(null===(t=n.steps[0].options)||void 0===t?void 0:t.length))return!1;var o=n.steps[0].options[0].authenticator===Rt.bQ.BASIC_AUTHENTICATOR,a=!n.script||A.w1.isDefaultScript(n.script,null===(i=n.steps)||void 0===i?void 0:i.length);return o&&a&&n.type===y.a1.DEFAULT}()?c.createElement(c.Fragment,null,c.createElement(di,{refreshAuthenticators:function(){return ue()},appId:t,authenticators:I,clientId:i,authenticationSequence:$,onIDPCreateWizardTrigger:function(e,t,n){X(n),ce("EXTERNAL"),ne(e),_(!1),ae(!0),Ti=t},onUpdate:a,onReset:function(){v(void 0),C(void 0),_(!1),B(!1),W(void 0),Y(n),ne(void 0),ce(void 0),ae(!1)},"data-testid":u,isLoading:F,setIsLoading:H,readOnly:r})):c.createElement(pi,{readOnly:r,clientId:i,onLoginFlowSelect:function(e){pe(e,w,M,D)},"data-testid":"".concat(u,"-landing")}),oe&&function(){if(te)return c.createElement(Rt.zy,{open:oe,type:te,selectedTemplate:J,onIDPCreate:function(){ue((function(e,t,n,i){ne(void 0),ae(!1),Ti&&Ti(),"INTERNAL"===se&&pe(b,t,n,i)})).finally()},onWizardClose:function(){ne(void 0),ce(void 0),ae(!1)}})}(),Z&&function(){var e=null,t=null;if(b===y.Tb.GOOGLE_LOGIN)e=Rt.bQ.IDP_TEMPLATE_IDS.GOOGLE,t=Rt.bQ.GOOGLE_OIDC_AUTHENTICATOR_DISPLAY_NAME;else if(b===y.Tb.GITHUB_LOGIN)e=Rt.bQ.IDP_TEMPLATE_IDS.GITHUB,t=Rt.bQ.GITHUB_AUTHENTICATOR_DISPLAY_NAME;else{if(b!==y.Tb.FACEBOOK_LOGIN)return null;e=Rt.bQ.IDP_TEMPLATE_IDS.FACEBOOK,t=Rt.bQ.FACEBOOK_AUTHENTICATOR_DISPLAY_NAME}return c.createElement(l.ConfirmationModal,{type:"info",onClose:function(){return _(!1)},open:Z,primaryAction:p("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.addMissingSocialAuthenticatorModal.primaryButton"),secondaryAction:p("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.addMissingSocialAuthenticatorModal.secondaryButton"),onSecondaryActionClick:function(){return _(!1)},onPrimaryActionClick:function(){ne(e),_(!1),ae(!0),ce("INTERNAL")},"data-testid":"".concat(u,"-add-missing-authenticator-modal"),closeOnDimmerClick:!1},c.createElement(l.ConfirmationModal.Header,null,p("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.addMissingSocialAuthenticatorModal.heading",{authenticator:t})),c.createElement(l.ConfirmationModal.Message,{attached:!0,info:!0},p("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.addMissingSocialAuthenticatorModal.content.message",{authenticator:t})),c.createElement(l.ConfirmationModal.Content,null,c.createElement(d.cC,{i18nKey:"console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.addMissingSocialAuthenticatorModal.content.body",tOptions:{authenticator:t}},"You do not have an active Social Connection configured with ",c.createElement(l.Code,null," ",t,"Authenticator"),". Click on the ",c.createElement("strong",null,"Configure")," button to register a new",c.createElement(l.Code,null,t," Social Connection")," or navigate to the ",c.createElement("a",{onClick:function(){h.m8.push(h.$x.getPaths().get("IDP"))},className:"external-link link pointing primary"},"Connections")," section manually.")))}(),V&&function(){var e=null,t=[];if(b===y.Tb.GOOGLE_LOGIN)t=Ei(w),e=Rt.bQ.GOOGLE_OIDC_AUTHENTICATOR_DISPLAY_NAME;else if(b===y.Tb.GITHUB_LOGIN)t=Ei(M),e=Rt.bQ.GITHUB_AUTHENTICATOR_DISPLAY_NAME;else{if(b!==y.Tb.FACEBOOK_LOGIN)return null;t=Ei(D),e=Rt.bQ.FACEBOOK_AUTHENTICATOR_DISPLAY_NAME}return c.createElement(l.ConfirmationModal,{type:"warning",className:"duplicate-social-authenticator-selection-modal",onClose:function(){return B(!1)},open:V,primaryAction:p("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.duplicateSocialAuthenticatorSelectionModal.primaryButton"),secondaryAction:p("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.duplicateSocialAuthenticatorSelectionModal.secondaryButton"),onSecondaryActionClick:function(){return B(!1)},onPrimaryActionClick:function(){Y(Ai(Ai({},n),me(z.idp,b))),v(b),B(!1)},"data-testid":"".concat(u,"-duplicate-authenticator-selection-modal"),closeOnDimmerClick:!1},c.createElement(l.ConfirmationModal.Header,null,p("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.duplicateSocialAuthenticatorSelectionModal.heading",{authenticator:e})),c.createElement(l.ConfirmationModal.Message,{attached:!0,warning:!0},p("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.duplicateSocialAuthenticatorSelectionModal.content.message",{authenticator:e})),c.createElement(l.ConfirmationModal.Content,{scrolling:!0},c.createElement(l.Text,null,c.createElement(d.cC,{i18nKey:"console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.duplicateSocialAuthenticatorSelectionModal.content.body",tOptions:{authenticator:e}},"You have multiple Social Connections configured with ",c.createElement(l.Code,null,e,"Authenticator"),". Select the desired one from the selection below to proceed.")),c.createElement(le.Z,{hidden:!0}),c.createElement("div",{className:"authenticator-grid"},t.filter((function(e){e.name,Rt.bQ.BACKUP_CODE_AUTHENTICATOR})).map((function(e,t){return c.createElement(l.LabeledCard,{key:t,multilineLabel:!0,className:"authenticator-card",size:"tiny",selected:(null===z||void 0===z?void 0:z.id)===e.id,image:e.image,label:Rt.Cr.getAuthenticatorDisplayName(e.name)||e.displayName,labelEllipsis:!0,"data-testid":"".concat(u,"-authenticator-").concat(e.name),onClick:function(){return W(e)}})})))))}())};function Ri(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,o,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(i=n.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){l=!0,o=e}finally{try{r||null==n.return||n.return()}finally{if(l)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Li(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Li(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Li(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}wi.defaultProps={"data-testid":"sign-on-methods"};var Pi=function(e){var t,n,i,s,p=e.appId,m=e.name,f=e.description,v=e.discoverability,h=e.featureConfig,E=e.hiddenFields,y=e.imageUrl,A=e.accessUrl,C=e.isLoading,S=e.onDelete,I=e.onUpdate,O=e.readOnly,T=e.isManagementApp,w=e.application,R=e["data-testid"],L=(0,u.I0)(),P=(0,d.$G)().t,M=(0,u.v9)((function(e){var t;return null===e||void 0===e||null===(t=e.auth)||void 0===t?void 0:t.allowedScopes})),k=(0,u.v9)((function(e){var t;return null===e||void 0===e||null===(t=e.config)||void 0===t?void 0:t.ui})),N=Ri((0,c.useState)(!1),2),D=N[0],U=N[1],j=Ri((0,c.useState)(!1),2),Z=j[0],_=j[1],x=Ri((0,c.useState)(!1),2),F=x[0],H=x[1];return C?c.createElement(l.EmphasizedSegment,{padded:"very"},c.createElement(l.ContentLoader,{inline:"centered",active:!0})):c.createElement(c.Fragment,null,c.createElement(l.EmphasizedSegment,{padded:"very"},c.createElement(Ft,{name:m,appId:p,application:w,description:f,discoverability:v,onSubmit:function(e){_(!0),(0,b.hN)(e).then((function(){L((0,r.addAlert)({description:P("console:develop.features.applications.notifications.updateApplication.success.description"),level:a.AlertLevels.SUCCESS,message:P("console:develop.features.applications.notifications.updateApplication.success.message")})),I(p)})).catch((function(e){e.response&&e.response.data&&e.response.data.description?L((0,r.addAlert)({description:e.response.data.description,level:a.AlertLevels.ERROR,message:P("console:develop.features.applications.notifications.updateApplication.error.message")})):L((0,r.addAlert)({description:P("console:develop.features.applications.notifications.updateApplication.genericError.description"),level:a.AlertLevels.ERROR,message:P("console:develop.features.applications.notifications.updateApplication.genericError.message")}))})).finally((function(){_(!1)}))},imageUrl:y,accessUrl:A,hiddenFields:E,readOnly:O||!(0,o.hasRequiredScopes)(null===h||void 0===h?void 0:h.applications,null===h||void 0===h||null===(t=h.applications)||void 0===t||null===(n=t.scopes)||void 0===n?void 0:n.update,M),hasRequiredScope:(0,o.hasRequiredScopes)(null===h||void 0===h?void 0:h.applications,null===h||void 0===h||null===(i=h.applications)||void 0===i||null===(s=i.scopes)||void 0===s?void 0:s.update,M),"data-testid":"".concat(R,"-form"),isSubmitting:Z,isManagementApp:T})),c.createElement(le.Z,{hidden:!0}),function(){var e,t,n,i,a,r;return(0,o.hasRequiredScopes)(null===h||void 0===h?void 0:h.applications,null===h||void 0===h||null===(e=h.applications)||void 0===e||null===(t=e.scopes)||void 0===t?void 0:t.update,M)?k.systemAppsIdentifiers.includes(m)?null:g.applicationConfig.editApplication.showDangerZone(w)&&(0,o.hasRequiredScopes)(null===h||void 0===h?void 0:h.applications,null===h||void 0===h||null===(n=h.applications)||void 0===n||null===(i=n.scopes)||void 0===i?void 0:i.delete,M)?c.createElement(l.DangerZoneGroup,{sectionHeader:P("console:develop.features.applications.dangerZoneGroup.header")},(0,o.hasRequiredScopes)(null===h||void 0===h?void 0:h.applications,null===h||void 0===h||null===(a=h.applications)||void 0===a||null===(r=a.scopes)||void 0===r?void 0:r.delete,M)&&c.createElement(l.DangerZone,{actionTitle:P("console:develop.features.applications.dangerZoneGroup.deleteApplication.actionTitle"),header:P("console:develop.features.applications.dangerZoneGroup.deleteApplication.header"),subheader:P("console:develop.features.applications.dangerZoneGroup.deleteApplication.subheader"),onActionClick:function(){return U(!0)},"data-testid":"".concat(R,"-danger-zone")})):null:null}(),c.createElement(l.ConfirmationModal,{onClose:function(){return U(!1)},type:"negative",open:D,assertionHint:P("console:develop.features.applications.confirmations.deleteApplication.assertionHint"),assertionType:"checkbox",primaryAction:P("common:confirm"),secondaryAction:P("common:cancel"),onSecondaryActionClick:function(){return U(!1)},onPrimaryActionClick:function(){return H(!0),void(0,b.rw)(p).then((function(){H(!1),L((0,r.addAlert)({description:P("console:develop.features.applications.notifications.deleteApplication.success.description"),level:a.AlertLevels.SUCCESS,message:P("console:develop.features.applications.notifications.deleteApplication.success.message")})),U(!1),S()})).catch((function(e){H(!1),e.response&&e.response.data&&e.response.data.description?L((0,r.addAlert)({description:e.response.data.description,level:a.AlertLevels.ERROR,message:P("console:develop.features.applications.notifications.deleteApplication.error.message")})):L((0,r.addAlert)({description:P("console:develop.features.applications.notifications.deleteApplication.genericError.description"),level:a.AlertLevels.ERROR,message:P("console:develop.features.applications.notifications.deleteApplication.genericError.message")}))}))},"data-testid":"".concat(R,"-application-delete-confirmation-modal"),closeOnDimmerClick:!1,primaryActionLoading:F},c.createElement(l.ConfirmationModal.Header,{"data-testid":"".concat(R,"-application-delete-confirmation-modal-header")},P("console:develop.features.applications.confirmations.deleteApplication.header")),c.createElement(l.ConfirmationModal.Message,{attached:!0,negative:!0,"data-testid":"".concat(R,"-application-delete-confirmation-modal-message")},P("console:develop.features.applications.confirmations.deleteApplication.message")),c.createElement(l.ConfirmationModal.Content,{"data-testid":"".concat(R,"-application-delete-confirmation-modal-content")},P("console:develop.features.applications.confirmations.deleteApplication.content"))))};Pi.defaultProps={"data-testid":"application-general-settings"};var Mi=n(46767);(function(e){var t=e.setProtocol,n=e.availableProtocols,i=e.setSAMLProtocol,o=e["data-testid"],a=(0,d.$G)().t;return c.createElement(l.EmphasizedSegment,{basic:!0,"data-testid":o},c.createElement(M.Z,null,function(){var e=function(){var e=[];if(n.includes(y.AI.OIDC)){var t={description:A.yf.resolveProtocolDescription(y.AI.OIDC),image:(0,qe.B0)().oidc,name:A.yf.resolveProtocolDisplayName(y.AI.OIDC),protocol:y.AI.OIDC};e.push(t)}if(n.includes(y.AI.SAML)){var i={description:"XML-based open security standard framework",image:(0,qe.B0)().saml,name:A.yf.resolveProtocolDisplayName(y.AI.SAML),protocol:y.AI.SAML};e.push(i)}if(n.includes(y.AI.WS_FEDERATION)){var a={description:A.yf.resolveProtocolDescription(y.AI.WS_FEDERATION),image:(0,qe.B0)()["passive-sts"],name:A.yf.resolveProtocolDisplayName(y.AI.WS_FEDERATION),protocol:y.AI.WS_FEDERATION};e.push(a)}return n.map((function(t){if(t!==y.AI.OIDC&&t!==y.AI.SAML&&t!==y.AI.WS_FEDERATION){var n={description:t,image:c.createElement(l.AnimatedAvatar,{name:t,size:"tiny","data-testid":"".concat(o,"-item-image-inner")}),name:t,protocol:t};e.push(n)}})),e}();return c.createElement(M.Z.Row,{className:"protocol-selection-wrapper check",textAlign:"center"},c.createElement(M.Z.Column,{width:16},c.createElement("div",{"data-testid":o},c.createElement(l.Heading,{as:"h2",className:"mb-1",compact:!0},a("console:develop.features.applications.edit.sections.access.protocolLanding.heading")),c.createElement(l.Text,{muted:!0},a("console:develop.features.applications.edit.sections.access.protocolLanding.subHeading")),c.createElement(le.Z,{hidden:!0}),!(0,R.Z)(e)&&Array.isArray(e)&&e.length>0&&c.createElement(kn.Z.Group,{centered:!0,className:"tech-selection-cards mt-3",itemsPerRow:9},e.map((function(e,n){var o;return c.createElement(Mi.Xy,{key:n,raised:!1,"data-testid":null!==(o=e["data-testid"])&&void 0!==o?o:"technology-card-".concat((0,nn.Z)(e.name)),onClick:e.protocol===y.AI.SAML?i:function(){return t(e.protocol)},displayName:e.name,overlayOpacity:.6,image:e.image,className:"protocol-card",showOption:e.protocol===y.AI.SAML})}))))))}()))}).defaultProps={"data-testid":"protocol-landing"};var ki=function(e){var t=e.setSAMLProtocol,n=e["data-testid"];return c.createElement(l.EmphasizedSegment,{basic:!0,"data-testid":n},c.createElement(M.Z,null,function(){var e=[{image:(0,qe.pr)().manual,mode:y.T6.MANUAL,name:A.yf.resolveSAMLConfigModeDisplayName(y.T6.MANUAL)},{image:(0,qe.pr)().fileBased,mode:y.T6.META_FILE,name:A.yf.resolveSAMLConfigModeDisplayName(y.T6.META_FILE)},{image:(0,qe.pr)().URLBased,mode:y.T6.META_URL,name:A.yf.resolveSAMLConfigModeDisplayName(y.T6.META_URL)}];return c.createElement(M.Z.Row,{className:"protocol-selection-wrapper check",textAlign:"center"},c.createElement(M.Z.Column,{width:16},c.createElement("div",{"data-testid":n},c.createElement(l.Heading,{as:"h2",className:"mb-1",compact:!0},"Which mode are you using?"),c.createElement(l.Text,{muted:!0},"Select the mode of configuration for your SAML application."),c.createElement(le.Z,{hidden:!0}),!(0,R.Z)(e)&&Array.isArray(e)&&e.length>0&&c.createElement(kn.Z.Group,{centered:!0,className:"tech-selection-cards mt-3",itemsPerRow:9},e.map((function(e,n){var i;return c.createElement(Mi.Xy,{key:n,raised:!1,"data-testid":null!==(i=e["data-testid"])&&void 0!==i?i:"technology-card-".concat((0,nn.Z)(e.name)),onClick:function(){return t(e.mode)},displayName:e.name,overlayOpacity:.6,image:e.image,className:"protocol-card",iconClass:e.mode===y.T6.META_FILE})}))))))}()))};ki.defaultProps={"data-testid":"protocol-saml-configuration-mode-landing"};var Ni=n(55625);function Di(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Ui(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Di(Object(n),!0).forEach((function(t){ji(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Di(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ji(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zi(e,t,n,i,o,a,r){try{var l=e[a](r),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(i,o)}function _i(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var a=e.apply(t,n);function r(e){Zi(a,i,o,r,l,"next",e)}function l(e){Zi(a,i,o,r,l,"throw",e)}r(void 0)}))}}function xi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,o,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(i=n.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){l=!0,o=e}finally{try{r||null==n.return||n.return()}finally{if(l)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Fi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fi(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Hi=function(e){var t=e.application,n=e.appId,i=e.appName,s=e.certificate,f=e.featureConfig,v=e.inboundProtocolConfig,C=e.inboundProtocols,S=e.isLoading,I=e.setIsLoading,O=e.onUpdate,T=e.allowedOriginList,w=e.onAllowedOriginsUpdate,R=e.onApplicationSecretRegenerate,L=e.isInboundProtocolConfigRequestLoading,P=e.readOnly,N=e.template,D=e.onProtocolUpdate,U=e.extendedAccessConfig,j=e.applicationTemplateId,_=e["data-testid"],x=(0,d.$G)().t,F=(0,l.useDocumentation)().getLink,H=(0,u.I0)(),q=(0,u.v9)((function(e){return e.application.meta.protocolMeta})),V=(0,u.v9)((function(e){var t;return null===e||void 0===e||null===(t=e.auth)||void 0===t?void 0:t.allowedScopes})),B=h.h.getState().config.deployment.tenant,G=(0,u.v9)((function(e){return e.config.deployment.allowMultipleAppProtocols})),z=xi((0,c.useState)(void 0),2),W=z[0],K=z[1],$=xi((0,c.useState)([]),2),Y=$[0],Q=$[1],J=xi((0,c.useState)(void 0),2),X=J[0],ee=J[1],te=xi((0,c.useState)(!1),2),ne=te[0],ie=te[1],oe=xi((0,c.useState)(!1),2),ae=oe[0],re=oe[1],se=xi((0,c.useState)(!1),2),ce=se[0],de=se[1],ue=xi((0,c.useState)(void 0),1)[0],pe=xi((0,c.useState)(!1),2),me=pe[0],fe=pe[1],ve=xi((0,c.useState)(void 0),2),ge=ve[0],he=ve[1],be=function(){var e=_i(regeneratorRuntime.mark((function e(t,i){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=!1,e.abrupt("return",(0,b.lp)(n,t,i).then((function(){H((0,r.addAlert)({description:x("console:develop.features.applications.notifications.updateInboundProtocolConfig.success.description"),level:a.AlertLevels.SUCCESS,message:x("console:develop.features.applications.notifications.updateInboundProtocolConfig.success.message")})),w()})).catch((function(e){var t,n;o=!0,null!==e&&void 0!==e&&null!==(t=e.response)&&void 0!==t&&null!==(n=t.data)&&void 0!==n&&n.description?H((0,r.addAlert)({description:e.response.data.description,level:a.AlertLevels.ERROR,message:x("console:develop.features.applications.notifications.updateInboundProtocolConfig.error.message")})):H((0,r.addAlert)({description:x("console:develop.features.applications.notifications.updateInboundProtocolConfig.genericError.description"),level:a.AlertLevels.ERROR,message:x("console:develop.features.applications.notifications.updateInboundProtocolConfig.genericError.message")}))})).finally((function(){D(),O(n),o||Ee()})));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ee=function(){N.id===Ve.id&&ge&&W===y.AI.SAML&&he(void 0)},ye=function(e){I(!0),(0,b.hN)(Ui({id:n},e.general)).then(_i(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,be(e.inbound,W);case 2:case"end":return t.stop()}}),t)})))).catch((function(e){e.response&&e.response.data&&e.response.data.description?H((0,r.addAlert)({description:e.response.data.description,level:a.AlertLevels.ERROR,message:x("console:develop.features.applications.notifications.updateApplication.error.message")})):H((0,r.addAlert)({description:x("console:develop.features.applications.notifications.updateApplication.genericError.description"),level:a.AlertLevels.ERROR,message:x("console:develop.features.applications.notifications.updateApplication.genericError.message")}))})).finally((function(){I(!1)}))},Ae=function(){(0,b.gh)(n).then((function(e){H((0,r.addAlert)({description:x("console:develop.features.applications.notifications.regenerateSecret.success.description"),level:a.AlertLevels.SUCCESS,message:x("console:develop.features.applications.notifications.regenerateSecret.success.message")})),R(e.data),O(n)})).catch((function(e){e.response&&e.response.data&&e.response.data.description?H((0,r.addAlert)({description:e.response.data.description,level:a.AlertLevels.ERROR,message:x("console:develop.features.applications.notifications.regenerateSecret.error.message")})):H((0,r.addAlert)({description:x("console:develop.features.applications.notifications.regenerateSecret.genericError.description"),level:a.AlertLevels.ERROR,message:x("console:develop.features.applications.notifications.regenerateSecret.genericError.message")}))}))},Ce=function(){(0,b.rA)(n).then((function(){H((0,r.addAlert)({description:x("console:develop.features.applications.notifications.revokeApplication.success.description"),level:a.AlertLevels.SUCCESS,message:x("console:develop.features.applications.notifications.revokeApplication.success.message")})),O(n)})).catch((function(e){e.response&&e.response.data&&e.response.data.description?H((0,r.addAlert)({description:e.response.data.description,level:a.AlertLevels.ERROR,message:x("console:develop.features.applications.notifications.revokeApplication.error.message")})):H((0,r.addAlert)({description:x("console:develop.features.applications.notifications.revokeApplication.success.description"),level:a.AlertLevels.ERROR,message:x("console:develop.features.applications.notifications.revokeApplication.success.message")}))}))};(0,c.useEffect)((function(){C.length>0&&Q(C)}),[C]);var Se=function(){return X?G?c.createElement(M.Z.Row,null,c.createElement(M.Z.Column,{mobile:16,tablet:16,computer:10},X.map((function(e,t){return c.createElement(m.Z,{key:t,trigger:c.createElement(Z.Z,{basic:!0,color:W===e?"red":"grey",content:W===e?"red":"grey",className:"mr-3 protocol-button",onClick:function(){return K(e)}},c.createElement(l.GenericIcon,{fill:W===e?"primary":"accent1",inline:!0,transparent:!0,icon:(0,qe.B0)()[e],size:"micro",spaced:"left",verticalAlign:"middle",className:"protocol-button-icon"}),c.createElement("div",{className:"protocol-change-title"},A.yf.resolveProtocolDisplayName(e))),content:A.yf.resolveProtocolDescription(e),position:"top center",size:"mini",hideOnScroll:!0,inverted:!0})})),c.createElement(le.Z,{hidden:!0}),c.createElement(le.Z,null))):c.createElement(c.Fragment,null,c.createElement(p.Z,{as:"h3",className:"display-flex"},c.createElement(l.GenericIcon,{transparent:!0,width:"auto",icon:(0,qe.B0)()[W],size:"x30",verticalAlign:"middle"}),c.createElement(p.Z.Content,{className:"mt-1"},c.createElement("strong",null," ",A.yf.resolveProtocolDisplayName(W)," "))),Ie(),c.createElement(le.Z,{hidden:!0})):null},Ie=function(){return W===y.AI.OIDC?c.createElement(p.Z,{as:"h6",color:"grey",compact:!0},x("console:develop.features.applications.forms.inboundOIDC.description",{protocol:A.yf.resolveProtocolDisplayName(y.AI.OIDC)}),c.createElement(l.DocumentationLink,{link:F("develop.applications.editApplication.oidcApplication.protocol.learnMore")},x("common:learnMore"))):W===y.AI.OAUTH2_OIDC?c.createElement(p.Z,{as:"h6",color:"grey",compact:!0},x("console:develop.features.applications.forms.inboundOIDC.description",{protocol:A.yf.resolveProtocolDisplayName(y.AI.OAUTH2_OIDC)}),c.createElement(l.DocumentationLink,{link:F("develop.applications.editApplication.oidcApplication.protocol.learnMore")},x("common:learnMore"))):W===y.AI.SAML?c.createElement(p.Z,{as:"h6",color:"grey",compact:!0},x("console:develop.features.applications.forms.inboundSAML.description"),c.createElement(l.DocumentationLink,{link:F("develop.applications.editApplication.samlApplication.protocol.learnMore")},x("common:learnMore"))):null};(0,c.useEffect)((function(){Object.values(y.Ii).map((function(e){if(e!==y.AI.WS_FEDERATION&&e!==y.AI.WS_TRUST){var t=e;Object.prototype.hasOwnProperty.call(q,t)||(0,b.WL)(t).then((function(e){H((0,Ni.vX)(t,e))})).catch((function(e){e.response&&e.response.data&&e.response.data.description?H((0,r.addAlert)({description:e.response.data.description,level:a.AlertLevels.ERROR,message:x("console:develop.features.applications.notifications.fetchProtocolMeta.error.message")})):H((0,r.addAlert)({description:x("console:develop.features.applications.notifications.fetchProtocolMeta.genericError.description"),level:a.AlertLevels.ERROR,message:x("console:develop.features.applications.notifications.fetchProtocolMeta.genericError.message")}))}))}}))}),[C]);return S||me||L?c.createElement(l.EmphasizedSegment,{padded:"very"},c.createElement(l.ContentLoader,{inline:"centered",active:!0})):W||0!==C.length||G||j!==E.j.CUSTOM_APPLICATION_SAML?c.createElement(M.Z,null,function(){var e=function(e){var t=null!==N&&void 0!==N&&N.authenticationProtocol?[N.authenticationProtocol]:Object.values(y.AI);return j===E.j.CUSTOM_APPLICATION_SAML?[y.AI.SAML]:j===E.j.CUSTOM_APPLICATION_OIDC?[y.AI.OAUTH2_OIDC]:j===E.j.CUSTOM_APPLICATION_PASSIVE_STS?[y.AI.WS_FEDERATION]:t=t.filter((function(t){return N&&N.id===Ve.id&&g.applicationConfig.customApplication.allowedProtocolTypes&&g.applicationConfig.customApplication.allowedProtocolTypes.length>0?!!g.applicationConfig.customApplication.allowedProtocolTypes.includes(t)&&t:!(t===y.AI.WS_TRUST||t===y.AI.CUSTOM||U&&t===y.AI.WS_FEDERATION||e&&t===e)&&t}))}();e=(0,k.Z)(e,(function(e){var t,n=(ji(t={},y.AI.OIDC,0),ji(t,y.AI.SAML,1),t);return C.length>0&&C.forEach((function(e,t){Object.values(y.AI).includes(e)&&(n=Ui(Ui({},n),{},ji({},e,t)))})),n[e]})),W||K(e[0]),X||ee(e)}(),c.createElement(M.Z.Row,null,c.createElement(M.Z.Column,{mobile:16,tablet:16,computer:16},function(){var e,n,i,a;if(!W)return null;return c.createElement(l.EmphasizedSegment,{className:"protocol-settings-section form-wrapper",padded:"very"},c.createElement("div",{className:"form-container with-max-width"},S?null:Se(),function(){var e=void 0,t=void 0;return j===E.j.CUSTOM_APPLICATION_OIDC&&(e=F("develop.applications.editApplication.standardBasedApplication.oauth2OIDC.protocol.learnMore"),t="console:develop.features.applications.forms.inboundOIDC.documentation"),j===E.j.CUSTOM_APPLICATION_SAML&&(e=F("develop.applications.editApplication.standardBasedApplication.saml.protocol.learnMore"),t="console:develop.features.applications.forms.inboundSAML.documentation"),e?c.createElement(c.Fragment,null,c.createElement(l.Message,{visible:!0,type:"info",content:c.createElement(d.cC,{i18nKey:t,tOptions:{protocol:A.yf.resolveProtocolDisplayName(W)}},"Read through our",c.createElement(l.DocumentationLink,{link:e},"documentation"),"to learn more about using",c.createElement(l.Code,{withBackground:!1},A.yf.resolveProtocolDisplayName(W)),"protocol to implement login in your applications.")}),c.createElement(le.Z,{hidden:!0})):null}(),Object.values(y.AI).includes(W)?c.createElement(Ut,{onUpdate:O,application:t,isLoading:S,setIsLoading:I,certificate:s,tenantDomain:B,allowedOrigins:T,metadata:q[W===y.AI.OAUTH2_OIDC?y.AI.OIDC:W],initialValues:(0,Ze.Z)(v,W===y.AI.OAUTH2_OIDC?y.AI.OIDC:W)?v[W===y.AI.OAUTH2_OIDC?y.AI.OIDC:W]:void 0,onSubmit:ye,type:W,onApplicationRegenerate:Ae,onApplicationRevoke:Ce,readOnly:P||!(0,o.hasRequiredScopes)(null===f||void 0===f?void 0:f.applications,null===f||void 0===f||null===(e=f.applications)||void 0===e||null===(n=e.scopes)||void 0===n?void 0:n.update,V),showSAMLCreation:W===y.AI.SAML,SAMLCreationOption:W===y.AI.SAML&&ge,template:N,"data-testid":"".concat(_,"-inbound-").concat(W,"-form")}):c.createElement(Ut,{onUpdate:O,application:t,isLoading:S,setIsLoading:I,certificate:s,metadata:q[W===y.AI.OAUTH2_OIDC?y.AI.OIDC:W],initialValues:(0,Ze.Z)(v,W===y.AI.OAUTH2_OIDC?y.AI.OIDC:W)?v[W===y.AI.OAUTH2_OIDC?y.AI.OIDC:W]:void 0,onSubmit:ye,type:y.AI.CUSTOM,readOnly:!(0,o.hasRequiredScopes)(null===f||void 0===f?void 0:f.applications,null===f||void 0===f||null===(i=f.applications)||void 0===i||null===(a=i.scopes)||void 0===a?void 0:a.update,V),template:N,"data-testid":"".concat(_,"-inbound-custom-form")})))}())),ne&&c.createElement($t.e8,{title:x("console:develop.features.applications.edit.sections.access.addProtocolWizard.heading"),subTitle:x("console:develop.features.applications.edit.sections.access.addProtocolWizard.subHeading",{appName:i}),closeWizard:function(){return ie(!1)},addProtocol:!0,selectedProtocols:C,onUpdate:O,appId:n,"data-testid":"".concat(_,"-protocol-add-wizard")}),ae&&c.createElement(l.ConfirmationModal,{onClose:function(){return re(!1)},type:"negative",open:ae,assertion:ue,assertionHint:c.createElement("p",null,c.createElement(d.cC,{i18nKey:"console:develop.features.applications.confirmations.deleteProtocol.assertionHint",tOptions:{name:ue}},"Please type ",c.createElement("strong",null,ue)," to confirm.")),assertionType:"input",primaryAction:x("common:confirm"),secondaryAction:x("common:cancel"),onSecondaryActionClick:function(){return re(!1)},onPrimaryActionClick:function(){var e;e=ue,(0,b.yY)(n,e).then((function(){H((0,r.addAlert)({description:x("console:develop.features.applications.notifications.deleteProtocolConfig.success.description",{protocol:e}),level:a.AlertLevels.SUCCESS,message:x("console:develop.features.applications.notifications.deleteProtocolConfig.success.message")})),O(n)})).catch((function(e){var t,n,i,o;null!==e&&void 0!==e&&null!==(t=e.response)&&void 0!==t&&null!==(n=t.data)&&void 0!==n&&n.description?H((0,r.addAlert)({description:null===e||void 0===e||null===(i=e.response)||void 0===i||null===(o=i.data)||void 0===o?void 0:o.description,level:a.AlertLevels.ERROR,message:x("console:develop.features.applications.notifications.deleteProtocolConfig.error.message")})):H((0,r.addAlert)({description:x("console:develop.features.applications.notifications.deleteProtocolConfig.genericError.description"),level:a.AlertLevels.ERROR,message:x("console:develop.features.applications.notifications.deleteProtocolConfig.genericError.message")}))})),re(!1)},"data-testid":"".concat(_,"-protocol-delete-confirmation-modal"),closeOnDimmerClick:!1},c.createElement(l.ConfirmationModal.Header,{"data-testid":"".concat(_,"-protocol-delete-confirmation-modal-header")},x("console:develop.features.applications.confirmations.deleteProtocol.header")),c.createElement(l.ConfirmationModal.Message,{attached:!0,negative:!0,"data-testid":"".concat(_,"-protocol-delete-confirmation-modal-message")},x("console:develop.features.applications.confirmations.deleteProtocol.message")),c.createElement(l.ConfirmationModal.Content,{"data-testid":"".concat(_,"-protocol-delete-confirmation-modal-content")},x("console:develop.features.applications.confirmations.deleteProtocol.content"))),ce&&c.createElement(l.ConfirmationModal,{onClose:function(){return re(!1)},type:"negative",open:ce,primaryAction:x("common:confirm"),secondaryAction:x("common:cancel"),onSecondaryActionClick:function(){de(!1)},onPrimaryActionClick:function(){var e;e=W,fe(!0),(0,b.yY)(n,e).then((function(){O(n)})).catch((function(e){var t,n,i,o;null!==e&&void 0!==e&&null!==(t=e.response)&&void 0!==t&&null!==(n=t.data)&&void 0!==n&&n.description?H((0,r.addAlert)({description:null===e||void 0===e||null===(i=e.response)||void 0===i||null===(o=i.data)||void 0===o?void 0:o.description,level:a.AlertLevels.ERROR,message:x("console:develop.features.applications.notifications.deleteProtocolConfig.error.message")})):H((0,r.addAlert)({description:x("console:develop.features.applications.notifications.deleteProtocolConfig.genericError.description"),level:a.AlertLevels.ERROR,message:x("console:develop.features.applications.notifications.deleteProtocolConfig.genericError.message")}))})).finally((function(){fe(!1),K(void 0)})),de(!1)},"data-testid":"".concat(_,"-protocol-delete-confirmation-modal"),closeOnDimmerClick:!1},c.createElement(l.ConfirmationModal.Header,{"data-testid":"".concat(_,"-protocol-delete-confirmation-modal-header")},x("console:develop.features.applications.confirmations.changeProtocol.header")),c.createElement(l.ConfirmationModal.Message,{attached:!0,negative:!0,"data-testid":"".concat(_,"-protocol-delete-confirmation-modal-message")},x("console:develop.features.applications.confirmations.changeProtocol.message",{name:W})),c.createElement(l.ConfirmationModal.Content,{"data-testid":"".concat(_,"-protocol-delete-confirmation-modal-content")},x("console:develop.features.applications.confirmations.changeProtocol.content")))):c.createElement(ki,{setSAMLProtocol:function(e){he(e),K(y.AI.SAML),Y.push(y.AI.SAML)}})};function qi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,o,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(i=n.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){l=!0,o=e}finally{try{r||null==n.return||n.return()}finally{if(l)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Vi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vi(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}Hi.defaultProps={"data-testid":"application-access-configuration",extendedAccessConfig:!1};var Bi=function(e){var t,n,i=e.appId,s=e.advancedConfigurations,p=e.featureConfig,m=e.onUpdate,f=e.readOnly,v=e.template,g=e["data-testid"],h=(0,d.$G)().t,E=(0,u.I0)(),y=(0,u.v9)((function(e){var t;return null===e||void 0===e||null===(t=e.auth)||void 0===t?void 0:t.allowedScopes})),A=qi((0,c.useState)(!1),2),C=A[0],S=A[1];return c.createElement(l.EmphasizedSegment,{className:"advanced-configuration-section",padded:"very"},c.createElement(Ie,{config:s,onSubmit:function(e){S(!0),(0,b.TH)(i,e).then((function(){E((0,r.addAlert)({description:h("console:develop.features.applications.notifications.updateAdvancedConfig.success.description"),level:a.AlertLevels.SUCCESS,message:h("console:develop.features.applications.notifications.updateAdvancedConfig.success.message")})),m(i)})).catch((function(e){var t,n;null!==e&&void 0!==e&&null!==(t=e.response)&&void 0!==t&&null!==(n=t.data)&&void 0!==n&&n.description?E((0,r.addAlert)({description:e.response.data.description,level:a.AlertLevels.ERROR,message:h("console:develop.features.applications.notifications.updateAdvancedConfig.error.message")})):E((0,r.addAlert)({description:h("console:develop.features.applications.notifications.updateAdvancedConfig.genericError.description"),level:a.AlertLevels.ERROR,message:h("console:develop.features.applications.notifications.updateAdvancedConfig.genericError.message")}))})).finally((function(){S(!1)}))},readOnly:f||!(0,o.hasRequiredScopes)(null===p||void 0===p?void 0:p.applications,null===p||void 0===p||null===(t=p.applications)||void 0===t||null===(n=t.scopes)||void 0===n?void 0:n.update,y),template:v,"data-testid":"".concat(g,"-form"),isSubmitting:C}))};function Gi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,o,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(i=n.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){l=!0,o=e}finally{try{r||null==n.return||n.return()}finally{if(l)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return zi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zi(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}Bi.defaultProps={"data-testid":"application-advanced-settings"};var Wi=n(19486).AsgardeoSPAClient.getInstance(),Ki=function(e){var t=(0,d.$G)().t,n=(0,u.I0)(),i=e.oidcConfigurations,o=e["data-testid"],s=Gi((0,c.useState)(void 0),2),p=s[0],m=s[1];return(0,c.useEffect)((function(){void 0===p&&Wi.getOIDCServiceEndpoints().then((function(e){m({authorize:null===e||void 0===e?void 0:e.authorizationEndpoint,jwks:null===e||void 0===e?void 0:e.jwksUri,logout:null===e||void 0===e?void 0:e.endSessionEndpoint,oidcSessionIFrame:null===e||void 0===e?void 0:e.checkSessionIframe,revoke:null===e||void 0===e?void 0:e.revocationEndpoint,token:null===e||void 0===e?void 0:e.tokenEndpoint})})).catch((function(){n((0,r.addAlert)({description:t("console:develop.features.applications.notifications.fetchOIDCServiceEndpoints.genericError.description"),level:a.AlertLevels.ERROR,message:t("console:develop.features.applications.notifications.fetchOIDCServiceEndpoints.genericError.message")}))}))})),c.createElement(P.Z,null,c.createElement(M.Z,{verticalAlign:"middle"},c.createElement(M.Z.Row,{columns:2},c.createElement(M.Z.Column,{mobile:8,tablet:8,computer:5},c.createElement(l.GenericIcon,{icon:(0,qe.RO)().endpoints.issuer,size:"micro",square:!0,transparent:!0,inline:!0,className:"left-icon",verticalAlign:"middle",spaced:"right"}),c.createElement("label",{"data-testid":"".concat(o,"-introspection-label")},t("console:develop.features.applications.helpPanel.tabs.start.content.oidcConfigurations.labels.issuer"))),c.createElement(M.Z.Column,{mobile:8,tablet:8,computer:11},c.createElement(l.CopyInputField,{value:null===i||void 0===i?void 0:i.tokenEndpoint,"data-testid":"".concat(o,"-introspection-readonly-input")}))),c.createElement(M.Z.Row,{columns:2},c.createElement(M.Z.Column,{mobile:8,tablet:8,computer:5},c.createElement(l.GenericIcon,{icon:(0,qe.RO)().endpoints.wellKnown,size:"micro",square:!0,transparent:!0,inline:!0,className:"left-icon",verticalAlign:"middle",spaced:"right"}),c.createElement("label",{"data-testid":"".concat(o,"-introspection-label")},t("console:develop.features.applications.helpPanel.tabs.start.content.oidcConfigurations.labels.wellKnown"))),c.createElement(M.Z.Column,{mobile:8,tablet:8,computer:11},c.createElement(l.CopyInputField,{value:null===i||void 0===i?void 0:i.wellKnownEndpoint,"data-testid":"".concat(o,"-introspection-readonly-input")}))),c.createElement(M.Z.Row,{columns:2},c.createElement(M.Z.Column,{mobile:8,tablet:8,computer:5},c.createElement(l.GenericIcon,{icon:(0,qe.RO)().endpoints.authorize,size:"micro",square:!0,transparent:!0,inline:!0,className:"left-icon",verticalAlign:"middle",spaced:"right"}),c.createElement("label",{"data-testid":"".concat(o,"-authorize-label")},t("console:develop.features.applications.helpPanel.tabs.start.content.oidcConfigurations.labels.authorize"))),c.createElement(M.Z.Column,{mobile:8,tablet:8,computer:11},c.createElement(l.CopyInputField,{value:null===i||void 0===i?void 0:i.authorizeEndpoint,"data-testid":"".concat(o,"-authorize-readonly-input")}))),c.createElement(M.Z.Row,{columns:2},c.createElement(M.Z.Column,{mobile:8,tablet:8,computer:5},c.createElement(l.GenericIcon,{icon:(0,qe.RO)().endpoints.token,size:"micro",square:!0,transparent:!0,inline:!0,className:"left-icon",verticalAlign:"middle",spaced:"right"}),c.createElement("label",{"data-testid":"".concat(o,"-token-label")},t("console:develop.features.applications.helpPanel.tabs.start.content.oidcConfigurations.labels.token"))),c.createElement(M.Z.Column,{mobile:8,tablet:8,computer:11},c.createElement(l.CopyInputField,{value:null===i||void 0===i?void 0:i.tokenEndpoint,"data-testid":"".concat(o,"-token-readonly-input")}))),c.createElement(M.Z.Row,{columns:2},c.createElement(M.Z.Column,{mobile:8,tablet:8,computer:5},c.createElement(l.GenericIcon,{icon:(0,qe.RO)().endpoints.userInfo,size:"micro",square:!0,transparent:!0,inline:!0,className:"left-icon",verticalAlign:"middle",spaced:"right"}),c.createElement("label",{"data-testid":"".concat(o,"-userInfo-label")},t("console:develop.features.applications.helpPanel.tabs.start.content.oidcConfigurations.labels.userInfo"))),c.createElement(M.Z.Column,{mobile:8,tablet:8,computer:11},c.createElement(l.CopyInputField,{value:null===i||void 0===i?void 0:i.userEndpoint,"data-testid":"".concat(o,"-userInfo-readonly-input")}))),c.createElement(M.Z.Row,{columns:2},c.createElement(M.Z.Column,{mobile:8,tablet:8,computer:5},c.createElement(l.GenericIcon,{icon:(0,qe.RO)().endpoints.introspect,size:"micro",square:!0,transparent:!0,inline:!0,className:"left-icon",verticalAlign:"middle",spaced:"right"}),c.createElement("label",{"data-testid":"".concat(o,"-introspection-label")},t("console:develop.features.applications.helpPanel.tabs.start.content.oidcConfigurations.labels.introspection"))),c.createElement(M.Z.Column,{mobile:8,tablet:8,computer:11},c.createElement(l.CopyInputField,{value:null===i||void 0===i?void 0:i.introspectionEndpoint,"data-testid":"".concat(o,"-introspection-readonly-input")}))),c.createElement(M.Z.Row,{columns:2},c.createElement(M.Z.Column,{mobile:8,tablet:8,computer:5},c.createElement(l.GenericIcon,{icon:(0,qe.RO)().endpoints.jwks,size:"micro",square:!0,transparent:!0,inline:!0,className:"left-icon",verticalAlign:"middle",spaced:"right"}),c.createElement("label",{"data-testid":"".concat(o,"-jwks-label")},t("console:develop.features.applications.helpPanel.tabs.start.content.oidcConfigurations.labels.jwks"))),c.createElement(M.Z.Column,{mobile:8,tablet:8,computer:11},c.createElement(l.CopyInputField,{value:null===i||void 0===i?void 0:i.jwksEndpoint,"data-testid":"".concat(o,"-jwks-readonly-input")}))),c.createElement(M.Z.Row,{columns:2},c.createElement(M.Z.Column,{mobile:8,tablet:8,computer:5},c.createElement(l.GenericIcon,{icon:(0,qe.RO)().endpoints.revoke,size:"micro",square:!0,transparent:!0,inline:!0,className:"left-icon",verticalAlign:"middle",spaced:"right"}),c.createElement("label",{"data-testid":"".concat(o,"-token-revoke-label")},t("console:develop.features.applications.helpPanel.tabs.start.content.oidcConfigurations.labels.revoke"))),c.createElement(M.Z.Column,{mobile:8,tablet:8,computer:11},c.createElement(l.CopyInputField,{value:null===i||void 0===i?void 0:i.tokenRevocationEndpoint,"data-testid":"".concat(o,"-token-revoke-readonly-input")}))),c.createElement(M.Z.Row,{columns:2},c.createElement(M.Z.Column,{mobile:8,tablet:8,computer:5},c.createElement(l.GenericIcon,{icon:c.createElement(f.Z,{className:"mr-0",name:"power off"}),size:"micro",square:!0,transparent:!0,inline:!0,className:"left-icon",verticalAlign:"middle",spaced:"right"}),c.createElement("label",{"data-testid":"".concat(o,"-logout-label")},t("console:develop.features.applications.helpPanel.tabs.start.content.oidcConfigurations.labels.endSession"))),c.createElement(M.Z.Column,{mobile:8,tablet:8,computer:11},c.createElement(l.CopyInputField,{value:null===i||void 0===i?void 0:i.endSessionEndpoint,"data-testid":"".concat(o,"-logout-readonly-input")})))))};Ki.defaultProps={"data-testid":"applications-help-panel-oidc-configs"};var $i=n(39341),Yi=function(e){var t=(0,d.$G)().t,n=e.samlConfigurations,i=e["data-testid"],o=h.h.getState().config.deployment.tenant;return c.createElement(P.Z,null,c.createElement(M.Z,{verticalAlign:"middle"},c.createElement(M.Z.Row,{columns:2},c.createElement(M.Z.Column,{mobile:8,tablet:8,computer:5},c.createElement(l.GenericIcon,{icon:(0,qe.RO)().endpoints.issuer,size:"micro",square:!0,transparent:!0,inline:!0,className:"left-icon",verticalAlign:"middle",spaced:"right"}),c.createElement("label",{"data-testid":"".concat(i,"-issuer-label")},t("console:develop.features.applications.helpPanel.tabs.start.content.samlConfigurations.labels.issuer"))),c.createElement(M.Z.Column,{mobile:8,tablet:8,computer:11},c.createElement(l.CopyInputField,{value:null===n||void 0===n?void 0:n.issuer,"data-testid":"".concat(i,"-issuer-readonly-input")}))),c.createElement(M.Z.Row,{columns:2},c.createElement(M.Z.Column,{mobile:8,tablet:8,computer:5},c.createElement(l.GenericIcon,{icon:(0,qe.RO)().endpoints.samlSSO,size:"micro",square:!0,transparent:!0,inline:!0,className:"left-icon",verticalAlign:"middle",spaced:"right"}),c.createElement("label",{"data-testid":"".concat(i,"-sso-label")},t("console:develop.features.applications.helpPanel.tabs.start.content.samlConfigurations.labels.sso"))),c.createElement(M.Z.Column,{mobile:8,tablet:8,computer:11},c.createElement(l.CopyInputField,{value:null===n||void 0===n?void 0:n.ssoUrl,"data-testid":"".concat(i,"-sso-readonly-input")}))),c.createElement(M.Z.Row,{columns:2},c.createElement(M.Z.Column,{mobile:8,tablet:8,computer:5},c.createElement(l.GenericIcon,{icon:(0,qe.RO)().endpoints.samlSLO,size:"micro",square:!0,transparent:!0,inline:!0,className:"left-icon",verticalAlign:"middle",spaced:"right"}),c.createElement("label",{"data-testid":"".concat(i,"-slo-label")},t("console:develop.features.applications.helpPanel.tabs.start.content.samlConfigurations.labels.slo"))),c.createElement(M.Z.Column,{mobile:8,tablet:8,computer:11},c.createElement(l.CopyInputField,{value:null===n||void 0===n?void 0:n.sloUrl,"data-testid":"".concat(i,"-slo-readonly-input")}))),c.createElement(M.Z.Row,{columns:2},c.createElement(M.Z.Column,{mobile:8,tablet:8,computer:5},c.createElement(l.GenericIcon,{icon:(0,qe.RO)().endpoints.certificate,size:"micro",square:!0,transparent:!0,inline:!0,className:"left-icon",verticalAlign:"middle",spaced:"right"}),c.createElement("label",{"data-testid":"".concat(i,"-certificate-label")},t("console:develop.features.applications.helpPanel.tabs.start.content.samlConfigurations.labels.certificate"))),c.createElement(M.Z.Column,{mobile:8,tablet:8,computer:11},c.createElement(Z.Z,{"data-testid":"".concat(i,"-certificate-button"),className:"idp-certificate-download-button",basic:!0,size:"tiny",color:"orange",onClick:function(){return Te.CertificateManagementUtils.exportCertificate(o,null===n||void 0===n?void 0:n.certificate)}},c.createElement(f.Z,{name:"download"}),t("console:develop.features.applications.helpPanel.tabs.start.content.samlConfigurations.buttons.certificate")))),c.createElement(M.Z.Row,{columns:2},c.createElement(M.Z.Column,{mobile:8,tablet:8,computer:5},c.createElement(l.GenericIcon,{icon:(0,qe.RO)().endpoints.metadata,size:"micro",square:!0,transparent:!0,inline:!0,className:"left-icon",verticalAlign:"middle",spaced:"right"}),c.createElement("label",{"data-testid":"".concat(i,"-metadata-label")},t("console:develop.features.applications.helpPanel.tabs.start.content.samlConfigurations.labels.metadata"))),c.createElement(M.Z.Column,{mobile:8,tablet:8,computer:11},c.createElement(Z.Z,{"data-testid":"".concat(i,"-metadata-button"),basic:!0,size:"tiny",color:"orange",onClick:function(){var e=new Blob([null===n||void 0===n?void 0:n.metadata],{type:"text/xml"});(0,$i.saveAs)(e,"SAML-Metadata.xml")}},c.createElement(f.Z,{name:"download"}),t("console:develop.features.applications.helpPanel.tabs.start.content.samlConfigurations.buttons.metadata"))))))};Yi.defaultProps={"data-testid":"applications-help-panel-saml-configs"};function Qi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,o,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(i=n.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){l=!0,o=e}finally{try{r||null==n.return||n.return()}finally{if(l)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Ji(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ji(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ji(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Xi=function(e){var t=e.inboundProtocols,n=e.isOIDCConfigLoading,i=e.isSAMLConfigLoading,o=e.templateId,a=e["data-testid"],r=(0,u.v9)((function(e){return e.application.oidcConfigurations})),s=(0,u.v9)((function(e){return e.application.samlConfigurations})),p=(0,d.$G)().t,m=(0,l.useDocumentation)().getLink,f=Qi((0,c.useState)(!1),2),v=f[0],g=f[1],h=Qi((0,c.useState)(!1),2),b=h[0],y=h[1],A=Qi((0,c.useState)(!1),2),C=A[0],S=A[1];return(0,c.useEffect)((function(){void 0!=t&&t.length>0&&t.map((function(e){"oauth2"==e.type?(g(!0),S(n)):"samlsso"==e.type&&(y(!0),S(i))}))}),[t]),C?c.createElement(l.EmphasizedSegment,{padded:"very"},c.createElement(l.ContentLoader,{inline:"centered",active:!0})):c.createElement(l.EmphasizedSegment,{loading:C,padded:"very","data-testid":a},c.createElement(M.Z,{className:"form-container with-max-width"},c.createElement(M.Z.Row,null,c.createElement(M.Z.Column,null,(v||o===Ve.id||o===E.j.CUSTOM_APPLICATION_OIDC)&&c.createElement(c.Fragment,null,c.createElement(l.Heading,{ellipsis:!0,as:"h4"},p("console:develop.features.applications.edit.sections.info.oidcHeading")),c.createElement(l.Heading,{as:"h6",color:"grey",compact:!0},p("console:develop.features.applications.edit.sections.info.oidcSubHeading"),c.createElement(l.DocumentationLink,{link:o===Ge.id?m("develop.applications.editApplication.singlePageApplication.info.learnMore"):m("develop.applications.editApplication.oidcApplication.info.learnMore")},p("common:learnMore"))),c.createElement(le.Z,{hidden:!0}),c.createElement(Ki,{oidcConfigurations:r})),v&&b?c.createElement(c.Fragment,null,c.createElement(le.Z,{className:"x2",hidden:!0})):null,(b||o===E.j.CUSTOM_APPLICATION_SAML)&&c.createElement(c.Fragment,null,c.createElement(l.Heading,{ellipsis:!0,as:"h4"},p("console:develop.features.applications.edit.sections.info.samlHeading")),c.createElement(l.Heading,{as:"h6",color:"grey",compact:!0},p("console:develop.features.applications.edit.sections.info.samlSubHeading"),c.createElement(l.DocumentationLink,{link:m("develop.applications.editApplication.samlApplication.info.learnMore")},p("common:learnMore"))),c.createElement(le.Z,{hidden:!0}),c.createElement(Yi,{samlConfigurations:s}))))))};function eo(e){return function(e){if(Array.isArray(e))return ro(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ao(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function to(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function no(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?to(Object(n),!0).forEach((function(t){io(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):to(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function io(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,o,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(i=n.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){l=!0,o=e}finally{try{r||null==n.return||n.return()}finally{if(l)throw o}}return a}(e,t)||ao(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ao(e,t){if(e){if("string"===typeof e)return ro(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ro(e,t):void 0}}function ro(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}Xi.defaultProps={"data-testid":"application-server-endpoints"};var lo=function(e){var t=e.application,n=e.featureConfig,i=e.isLoading,s=e.setIsLoading,p=e.getConfiguredInboundProtocolsList,m=e.getConfiguredInboundProtocolConfigs,f=e.onDelete,C=e.onUpdate,S=e.template,I=e.readOnly,O=e.urlSearchParams,k=e["data-testid"],N=(0,d.$G)().t,D=(0,u.I0)(),U=(0,u.v9)((function(e){return e.application.meta.inboundProtocols})),j=(0,u.v9)((function(e){return e.application.oidcConfigurations})),Z=(0,u.v9)((function(e){return e.application.samlConfigurations})),_=(0,u.v9)((function(e){return e.config.ui.isClientSecretHashEnabled})),x=(0,u.v9)((function(e){return e.auth.tenantDomain})),F=oo((0,c.useState)(!0),2),H=F[0],q=F[1],V=oo((0,c.useState)(void 0),2),B=V[0],G=V[1],z=oo((0,c.useState)(void 0),2),W=z[0],K=z[1],$=oo((0,c.useState)(!1),2),Y=$[0],Q=$[1],J=oo((0,c.useState)(void 0),2),X=J[0],ee=J[1],te=oo((0,c.useState)([]),2),ne=te[0],ie=te[1],oe=oo((0,c.useState)(!1),2),ae=oe[0],re=oe[1],le=oo((0,c.useState)(!1),2),se=le[0],ce=le[1],de=oo((0,c.useState)(!1),2),ue=de[0],pe=de[1],me=oo((0,c.useState)({clientId:"",clientSecret:""}),2),fe=me[0],ve=me[1],ge=oo((0,c.useState)(!1),2),he=ge[0],be=ge[1],Ee=oo((0,c.useState)(!1),2),ye=Ee[0],Se=Ee[1],Ie=oo((0,c.useState)(void 0),2),Oe=Ie[0],Te=Ie[1],we=oo((0,c.useState)(void 0),2),Re=we[0],Le=we[1],Pe=oo((0,c.useState)(void 0),2),Me=Pe[0],ke=Pe[1],Ne=h.lD.getInstance(),De=t.advancedConfigurations.fragment,Ue=function(e){ce(!0),C(e)};(0,c.useEffect)((function(){if(S){var e=0;if(g.applicationConfig.editApplication.extendTabs&&(e=1),Le(e),(0,R.Z)(window.location.hash)){if(O.get(E.j.APP_STATE_STRONG_AUTH_PARAM_KEY)!==E.j.APP_STATE_STRONG_AUTH_PARAM_VALUE)return void je(e);S.id===Ve.id?Ze(3):Ze(4)}}}),[S]),(0,c.useEffect)((function(){if(void 0!==Me&&!window.location.hash.includes(y.El.VIEW)&&!(0,R.Z)(window.location.hash)){var e=window.location.hash.split("#"+y.El.TAB_INDEX);if(2===e.length&&(0,R.Z)(e[0])&&/^\d+$/.test(e[1])){var t=parseInt(e[1],10);if((0,w.Z)(t,0,Me)){if(t===Oe)return;Ze(t)}else je(Re)}else je(Re)}}),[window.location.hash,Me]),(0,c.useEffect)((function(){var e=[];Ce.F.isCurrentOrganizationRoot()&&(0,h.ZY)().then((function(t){t.map((function(t){e.push(t.url)})),ie(e)})).catch((function(e){var t,n;null!==e&&void 0!==e&&null!==(t=e.response)&&void 0!==t&&null!==(n=t.data)&&void 0!==n&&n.description?D((0,r.addAlert)({description:e.response.data.description,level:a.AlertLevels.ERROR,message:N("console:develop.features.applications.notifications.fetchAllowedCORSOrigins.error.message")})):D((0,r.addAlert)({description:N("console:develop.features.applications.notifications.fetchAllowedCORSOrigins.genericError.description"),level:a.AlertLevels.ERROR,message:N("console:develop.features.applications.notifications.fetchAllowedCORSOrigins.genericError.message")}))}))}),[ae]),(0,c.useEffect)((function(){(0,R.Z)(U)&&(Q(!0),A.yf.getInboundProtocols(v.oK,!1).finally((function(){Q(!1)})))}),[U]),(0,c.useEffect)((function(){null!==t&&void 0!==t&&t.inboundProtocols&&null!==t&&void 0!==t&&t.id&&_e(t.id)}),[null===t||void 0===t?void 0:t.inboundProtocols]),(0,c.useEffect)((function(){void 0===Z&&(Se(!0),A.yf.getSAMLApplicationMeta().finally((function(){Se(!1)})))}),[Z,W]),(0,c.useEffect)((function(){void 0===j&&(be(!0),A.yf.getOIDCApplicationMeta().finally((function(){be(!1)})))}),[j,W]),(0,c.useEffect)((function(){var e;if((!X||se)&&null!==S&&void 0!==S&&null!==(e=S.content)&&void 0!==e&&e.quickStart&&null!==t&&void 0!==t&&t.id&&!H){W&&Z&&Z.certificate&&(W.certificate=Z.certificate,W.ssoUrl=Z.ssoUrl,W.issuer=Z.issuer);var n=(0,g.ComponentExtensionPlaceholder)({component:"application",props:{application:t,content:S.content.quickStart,inboundProtocolConfig:W,inboundProtocols:B,onApplicationUpdate:function(){C(null===t||void 0===t?void 0:t.id)},onTriggerTabUpdate:function(e){Te(e)},template:S},subComponent:"edit",type:"tab"});ee(n),ce(!1)}}),[X,S,t,B,W,H]),(0,c.useEffect)((function(){O.get(E.j.APP_STATE_URL_SEARCH_PARAM_KEY)&&pe(!0)}),[O.get(E.j.CLIENT_SECRET_HASH_ENABLED_URL_SEARCH_PARAM_KEY)]);var je=function(e){S.id===Ve.id&&e>0?Ze(e-1):Ze(e)},Ze=function(e){h.m8.push({hash:"#".concat(y.El.TAB_INDEX).concat(e),pathname:window.location.pathname}),Te(e)},_e=function(e){var n,i={},o=[],l=[],s=[];(null===t||void 0===t||null===(n=t.inboundProtocols)||void 0===n?void 0:n.length)>0?(t.inboundProtocols.forEach((function(t){if("openid"!==t.type){var n=function(e){var t=e;return"oauth2"===t?t=y.AI.OIDC:"passivests"===t?t=y.AI.WS_FEDERATION:"wstrust"===t?t=y.AI.WS_TRUST:"samlsso"===t&&(t=y.AI.SAML),t}(t.type);s.push(n),l.push((0,b.S2)(e,n))}})),q(!0),T().all(l).then(T().spread((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach((function(e,t){i=no(no({},i),{},io({},s[t],e)),o.push(s[t])}))}))).catch((function(e){var t,n,i,o,l,s;404!==(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)&&(null!==e&&void 0!==e&&e.response&&null!==e&&void 0!==e&&null!==(n=e.response)&&void 0!==n&&n.data&&null!==e&&void 0!==e&&null!==(i=e.response)&&void 0!==i&&null!==(o=i.data)&&void 0!==o&&o.description?D((0,r.addAlert)({description:null===(l=e.response)||void 0===l||null===(s=l.data)||void 0===s?void 0:s.description,level:a.AlertLevels.ERROR,message:N("console:develop.features.applications.notifications.getInboundProtocolConfig.error.message")})):D((0,r.addAlert)({description:N("console:develop.features.applications.notifications.getInboundProtocolConfig.genericError.description"),level:a.AlertLevels.ERROR,message:N("console:develop.features.applications.notifications.getInboundProtocolConfig.genericError.message")})))})).finally((function(){!function(e){if(e.saml){var t,n=null===(t=e.saml.singleSignOnProfile)||void 0===t?void 0:t.assertion;if(n){var i=n.nameIdFormat;n.nameIdFormat=i.replace(/\//g,":")}}}(i),ce(!0),G(o),K(i),q(!1),p(o),m(i)}))):(G([]),K({}),q(!1),p([]),m({}))},xe=function(){null!==t&&void 0!==t&&t.id&&_e(t.id)},Fe=function(e){!(0,R.Z)(e)&&e.clientSecret&&e.clientId&&(ve({clientId:e.clientId,clientSecret:e.clientSecret}),pe(!0))},He=function(){var e;return c.createElement(l.ResourceTab.Pane,{controlledSegmentation:!0},c.createElement(Pi,{accessUrl:t.accessUrl,appId:t.id,description:t.description,discoverability:null===(e=t.advancedConfigurations)||void 0===e?void 0:e.discoverableByEndUsers,hiddenFields:["imageUrl"],imageUrl:t.imageUrl,name:t.name,application:t,isLoading:i,onDelete:f,onUpdate:Ue,featureConfig:n,template:S,readOnly:I||g.applicationConfig.editApplication.getTabPanelReadOnlyStatus("APPLICATION_EDIT_GENERAL_SETTINGS",t),"data-testid":"".concat(k,"-general-settings"),isManagementApp:t.isManagementApp}))},qe=function(){var e;return c.createElement(l.ResourceTab.Pane,{controlledSegmentation:!0},c.createElement(Hi,{application:t,allowedOriginList:ne,certificate:null===(e=t.advancedConfigurations)||void 0===e?void 0:e.certificate,onAllowedOriginsUpdate:function(){return re(!ae)},onApplicationSecretRegenerate:Fe,appId:t.id,appName:t.name,applicationTemplateId:t.templateId,extendedAccessConfig:void 0!==X,isLoading:i,setIsLoading:s,onUpdate:Ue,onProtocolUpdate:xe,isInboundProtocolConfigRequestLoading:H,inboundProtocolsLoading:H,inboundProtocolConfig:W,inboundProtocols:B,featureConfig:n,template:S,readOnly:I||g.applicationConfig.editApplication.getTabPanelReadOnlyStatus("APPLICATION_EDIT_ACCESS_CONFIG",t),"data-testid":"".concat(k,"-access-settings")}))},Be=function(){return c.createElement(l.ResourceTab.Pane,{controlledSegmentation:!0},c.createElement(Ae,{appId:t.id,technology:t.inboundProtocols,claimConfigurations:t.claimConfiguration,featureConfig:n,onlyOIDCConfigured:((null===t||void 0===t?void 0:t.templateId)===Ve.id||(null===t||void 0===t?void 0:t.templateId)===E.j.CUSTOM_APPLICATION_OIDC)&&0===B.length||1===B.length&&B[0]===y.AI.OIDC,onUpdate:Ue,applicationTemplateId:null===t||void 0===t?void 0:t.templateId,readOnly:I,"data-testid":"".concat(k,"-attribute-settings")}))},Ge=function(){var e;return c.createElement(l.ResourceTab.Pane,{controlledSegmentation:!0},c.createElement(wi,{application:t,appId:t.id,authenticationSequence:t.authenticationSequence,clientId:null===W||void 0===W||null===(e=W.oidc)||void 0===e?void 0:e.clientId,isLoading:i,onUpdate:Ue,featureConfig:n,readOnly:I,"data-testid":"".concat(k,"-sign-on-methods")}))},ze=function(){return c.createElement(l.ResourceTab.Pane,{controlledSegmentation:!0},c.createElement(Bi,{appId:t.id,advancedConfigurations:t.advancedConfigurations,onUpdate:Ue,featureConfig:n,readOnly:I,template:S,"data-testid":"".concat(k,"-advanced-settings")}))},We=function(){return g.applicationConfig.editApplication.showProvisioningSettings?c.createElement(l.ResourceTab.Pane,{controlledSegmentation:!0},c.createElement(tn,{application:t,provisioningConfigurations:t.provisioningConfigurations,onUpdate:Ue,featureConfig:n,readOnly:I,"data-testid":"".concat(k,"-provisioning-settings")})):null},Ke=function(){return c.createElement(l.ResourceTab.Pane,{controlledSegmentation:!0},c.createElement(Xi,{inboundProtocols:null===t||void 0===t?void 0:t.inboundProtocols,isOIDCConfigLoading:he,isSAMLConfigLoading:ye,templateId:null===t||void 0===t?void 0:t.templateId,"data-testid":"".concat(k,"-server-endpoints")}))};return!t||Y||void 0==B||!X&&g.applicationConfig.editApplication.extendTabs&&(null===t||void 0===t?void 0:t.templateId)!==E.j.CUSTOM_APPLICATION_OIDC&&(null===t||void 0===t?void 0:t.templateId)!==E.j.CUSTOM_APPLICATION_PASSIVE_STS&&(null===t||void 0===t?void 0:t.templateId)!==E.j.CUSTOM_APPLICATION_SAML?c.createElement(l.ContentLoader,null):c.createElement(c.Fragment,null,c.createElement(l.ResourceTab,{activeIndex:Oe,"data-testid":"".concat(k,"-resource-tabs"),defaultActiveIndex:Re,onTabChange:function(e,t){Ne.compute((function(){Ne.publish("application-switch-edit-application-tabs",{type:t.panes[t.activeIndex].componentId})})),Ze(t.activeIndex)},panes:function(){var e=[];if(!X&&g.applicationConfig.editApplication.extendTabs&&(null===t||void 0===t?void 0:t.templateId)!==E.j.CUSTOM_APPLICATION_OIDC&&(null===t||void 0===t?void 0:t.templateId)!==E.j.CUSTOM_APPLICATION_PASSIVE_STS&&(null===t||void 0===t?void 0:t.templateId)!==E.j.CUSTOM_APPLICATION_SAML)return[];if(X&&X.length>0&&(null===t||void 0===t?void 0:t.templateId)!==Ve.id&&(null===t||void 0===t?void 0:t.templateId)!==E.j.CUSTOM_APPLICATION_OIDC&&(null===t||void 0===t?void 0:t.templateId)!==E.j.CUSTOM_APPLICATION_PASSIVE_STS&&(null===t||void 0===t?void 0:t.templateId)!==E.j.CUSTOM_APPLICATION_SAML&&e.push.apply(e,eo(X)),n){var i,a,r,l,s,d,u;if((0,o.isFeatureEnabled)(null===n||void 0===n?void 0:n.applications,E.j.FEATURE_DICTIONARY.get("APPLICATION_EDIT_GENERAL_SETTINGS")))g.applicationConfig.editApplication.isTabEnabledForApp(null===W||void 0===W||null===(i=W.oidc)||void 0===i?void 0:i.clientId,y.wF.GENERAL,x)&&e.push({componentId:"general",menuItem:c.createElement(L.Z.Item,{"data-tourid":"general"},N("console:develop.features.applications.edit.sections.general.tabName")),render:function(){var e;return g.applicationConfig.editApplication.getOveriddenTab(null===W||void 0===W||null===(e=W.oidc)||void 0===e?void 0:e.clientId,y.wF.GENERAL,He(),t.name,t.id,x)}});if((0,o.isFeatureEnabled)(null===n||void 0===n?void 0:n.applications,E.j.FEATURE_DICTIONARY.get("APPLICATION_EDIT_ACCESS_CONFIG"))&&!De)g.applicationConfig.editApplication.isTabEnabledForApp(null===W||void 0===W||null===(a=W.oidc)||void 0===a?void 0:a.clientId,y.wF.PROTOCOL,x)&&e.push({componentId:"protocol",menuItem:N("console:develop.features.applications.edit.sections.access.tabName"),render:qe});if((0,o.isFeatureEnabled)(null===n||void 0===n?void 0:n.applications,E.j.FEATURE_DICTIONARY.get("APPLICATION_EDIT_ATTRIBUTE_MAPPING"))&&!De)g.applicationConfig.editApplication.isTabEnabledForApp(null===W||void 0===W||null===(r=W.oidc)||void 0===r?void 0:r.clientId,y.wF.USER_ATTRIBUTES,x)&&e.push({componentId:"user-attributes",menuItem:c.createElement(L.Z.Item,{"data-tourid":"attributes"},N("console:develop.features.applications.edit.sections.attributes.tabName")),render:function(){var e;return g.applicationConfig.editApplication.getOveriddenTab(null===W||void 0===W||null===(e=W.oidc)||void 0===e?void 0:e.clientId,y.wF.USER_ATTRIBUTES,Be(),t.name,t.id,x)}});if((0,o.isFeatureEnabled)(null===n||void 0===n?void 0:n.applications,E.j.FEATURE_DICTIONARY.get("APPLICATION_EDIT_SIGN_ON_METHOD_CONFIG")))g.applicationConfig.editApplication.isTabEnabledForApp(null===W||void 0===W||null===(l=W.oidc)||void 0===l?void 0:l.clientId,y.wF.SIGN_IN_METHOD,x)&&e.push({componentId:"sign-in-method",menuItem:c.createElement(L.Z.Item,{"data-tourid":"sign-in-methods"},N("console:develop.features.applications.edit.sections.signOnMethod.tabName")),render:Ge});if(g.applicationConfig.editApplication.showProvisioningSettings&&(0,o.isFeatureEnabled)(null===n||void 0===n?void 0:n.applications,E.j.FEATURE_DICTIONARY.get("APPLICATION_EDIT_PROVISIONING_SETTINGS"))&&!De)g.applicationConfig.editApplication.isTabEnabledForApp(null===W||void 0===W||null===(s=W.oidc)||void 0===s?void 0:s.clientId,y.wF.PROVISIONING,x)&&e.push({componentId:"provisioning",menuItem:N("console:develop.features.applications.edit.sections.provisioning.tabName"),render:We});if((0,o.isFeatureEnabled)(null===n||void 0===n?void 0:n.applications,E.j.FEATURE_DICTIONARY.get("APPLICATION_EDIT_ADVANCED_SETTINGS"))&&!De)g.applicationConfig.editApplication.isTabEnabledForApp(null===W||void 0===W||null===(d=W.oidc)||void 0===d?void 0:d.clientId,y.wF.ADVANCED,x)&&e.push({componentId:"advanced",menuItem:c.createElement(L.Z.Item,{"data-tourid":"advanced"},N("console:develop.features.applications.edit.sections.advanced.tabName")),render:ze});if((0,o.isFeatureEnabled)(null===n||void 0===n?void 0:n.applications,E.j.FEATURE_DICTIONARY.get("APPLICATION_EDIT_INFO"))&&(null===t||void 0===t?void 0:t.templateId)!=E.j.CUSTOM_APPLICATION_PASSIVE_STS&&!De)g.applicationConfig.editApplication.isTabEnabledForApp(null===W||void 0===W||null===(u=W.oidc)||void 0===u?void 0:u.clientId,y.wF.INFO,x)&&e.push({componentId:"info",menuItem:{content:N("console:develop.features.applications.edit.sections.info.tabName"),icon:"info circle grey"},render:Ke});return e}return[{componentId:"general",menuItem:N("console:develop.features.applications.edit.sections.general.tabName"),render:He},{componentId:"protocol",menuItem:N("console:develop.features.applications.edit.sections.access.tabName"),render:qe},{componentId:"user-attributes",menuItem:N("console:develop.features.applications.edit.sections.attributes.tabName"),render:Be},{componentId:"sign-in-method",menuItem:N("console:develop.features.applications.edit.sections.signOnMethod.tabName"),render:Ge},g.applicationConfig.editApplication.showProvisioningSettings&&{componentId:"provisioning",menuItem:N("console:develop.features.applications.edit.sections.provisioning.tabName"),render:We},{componentId:"advanced",menuItem:N("console:develop.features.applications.edit.sections.advanced.tabName"),render:ze},{componentId:"info",menuItem:{content:N("console:develop.features.applications.edit.sections.info.tabName"),icon:"info circle grey"},render:Ke}]}(),onInitialize:function(e){var t=e.panesLength;ke(t)}}),ue&&function(){if(!_)return null;if(!B.includes(y.AI.OIDC)||(0,R.Z)(null===W||void 0===W?void 0:W.oidc)||!W.oidc.clientId||!W.oidc.clientSecret)return null;var e=fe.clientSecret||W.oidc.clientSecret,t=fe.clientId||W.oidc.clientId;return c.createElement(l.ConfirmationModal,{"data-testid":"".concat(k,"-client-secret-hash-disclaimer-modal"),type:"warning",open:!0,primaryAction:N("common:confirm"),onPrimaryActionClick:function(){pe(!1),ve({clientId:"",clientSecret:""})}},c.createElement(l.ConfirmationModal.Header,{"data-testid":"".concat(k,"-client-secret-hash-disclaimer-modal-header")},N("console:develop.features.applications.confirmations.clientSecretHashDisclaimer.modal.header")),c.createElement(l.ConfirmationModal.Message,{attached:!0,warning:!0,"data-testid":"".concat(k,"-client-secret-hash-disclaimer-modal-message")},N("console:develop.features.applications.confirmations.clientSecretHashDisclaimer.modal.message")),c.createElement(l.ConfirmationModal.Content,{"data-testid":"".concat(k,"-client-secret-hash-disclaimer-modal-content")},c.createElement(P.Z,null,c.createElement(M.Z.Row,null,c.createElement(M.Z.Column,null,c.createElement(P.Z.Field,null,c.createElement("label",null,N("console:develop.features.applications.confirmations.clientSecretHashDisclaimer.forms.clientIdSecretForm.clientId.label")),c.createElement(l.CopyInputField,{value:t,hideSecretLabel:N("console:develop.features.applications.confirmations.clientSecretHashDisclaimer.forms.clientIdSecretForm.clientId.hide"),showSecretLabel:N("console:develop.features.applications.confirmations.clientSecretHashDisclaimer.forms.clientIdSecretForm.clientId.show"),"data-testid":"".concat(k,"-client-secret-readonly-input")})),c.createElement(P.Z.Field,null,c.createElement("label",null,N("console:develop.features.applications.confirmations.clientSecretHashDisclaimer.forms.clientIdSecretForm.clientSecret.label")),c.createElement(l.CopyInputField,{secret:!0,value:e,hideSecretLabel:N("console:develop.features.applications.confirmations.clientSecretHashDisclaimer.forms.clientIdSecretForm.clientSecret.hide"),showSecretLabel:N("console:develop.features.applications.confirmations.clientSecretHashDisclaimer.forms.clientIdSecretForm.clientSecret.show"),"data-testid":"".concat(k,"-client-secret-readonly-input")})))))))}())};lo.defaultProps={"data-testid":"edit-application",getConfiguredInboundProtocolConfigs:function(){return null},getConfiguredInboundProtocolsList:function(){return null}}},65337:function(e,t,n){"use strict";n.d(t,{Eg:function(){return c},oK:function(){return d},P5:function(){return b},We:function(){return h},qo:function(){return R},KE:function(){return w},MZ:function(){return m},qF:function(){return S},vw:function(){return C},Nf:function(){return p},Eu:function(){return u}});var i,o,a,r=n(71367),l=n(41264);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=new Map([["passivests",r.j.CUSTOM_APPLICATION_PASSIVE_STS],["openid",r.j.CUSTOM_APPLICATION_OIDC],["oauth2",r.j.CUSTOM_APPLICATION_OIDC],["samlsso",r.j.CUSTOM_APPLICATION_SAML]]),d=[{displayName:"OpenID Connect",enabled:!0,id:"oidc",logo:"oidc",name:"oidc",type:"oauth2"},{displayName:"OpenID",enabled:!1,id:"openid",logo:"openid",name:"openid",type:"openid"},{displayName:"SAML 2.0",enabled:!0,id:"saml",logo:"saml",name:"saml",type:"samlsso"},{displayName:"WS-Federation",enabled:!0,id:"passive-sts",logo:"wsFed",name:"ws-federation",type:"passivests"},{displayName:"WS-Trust",enabled:!0,id:"ws-trust",logo:"wsTrust",name:"ws-trust",type:"wstrust"}],u=(s(i={},l.AI.SAML,"SAML"),s(i,l.AI.OIDC,"OpenID Connect"),s(i,l.AI.OAUTH2_OIDC,"OAuth2.0/OpenID Connect"),s(i,l.AI.WS_FEDERATION,"Passive STS"),s(i,l.AI.WS_TRUST,"WS-Trust"),s(i,l.AI.CUSTOM,"Custom"),i),p=(s(o={},l.AI.SAML,"Open-standard for authentication and authorization."),s(o,l.AI.OIDC,"Authentication layer on top of OAuth 2.0"),s(o,l.AI.WS_FEDERATION,"Enable STS in a web browser."),s(o,l.AI.WS_TRUST,"Standard that provides extensions to WS-Security."),s(o,l.AI.CUSTOM,"Custom protocol."),o),m=(s(a={},l.T6.MANUAL,"Manual"),s(a,l.T6.META_FILE,"File Based"),s(a,l.T6.META_URL,"URL Based"),a);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h={authenticationProtocol:"oidc",id:l.EL.OIDC,image:"oidc",name:"OIDC",templateId:r.j.CUSTOM_APPLICATION_OIDC},b=v(v({},h),{},{application:{inboundProtocolConfiguration:{oidc:{grantTypes:["authorization_code"],publicClient:!1,state:l.ZM.ACTIVE}},name:""}});function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){A(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var C={authenticationProtocol:"saml",id:l.EL.SAML,image:"saml",name:"SAML",templateId:r.j.CUSTOM_APPLICATION_SAML},S=y(y({},C),{},{application:{inboundProtocolConfiguration:{saml:{manualConfiguration:{assertionConsumerUrls:[""],issuer:""}}},name:""}});function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){T(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w={authenticationProtocol:"passive-sts",id:l.EL.WS_FEDERATION,image:"wsFed",name:"Passive STS",templateId:r.j.CUSTOM_APPLICATION_PASSIVE_STS},R=O(O({},w),{},{application:{inboundProtocolConfiguration:{passiveSts:{realm:"",replyTo:""}},name:""}})},30237:function(e,t,n){"use strict";n.d(t,{z:function(){return h}});var i=n(88742),o=n(26278),a=n(96462),r=n(68905),l=n(83913),s=n(85027),c=n(44706),d=n(12847),u=n(50714),p=["applicationId","subOrganizationList","clientId","onClose","data-componentid"];function m(){return m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},m.apply(this,arguments)}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,o,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(i=n.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){l=!0,o=e}finally{try{r||null==n.return||n.return()}finally{if(l)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function g(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var h=function(e){var t=e.applicationId,n=e.subOrganizationList,v=e.clientId,h=e.onClose,b=e["data-componentid"],E=g(e,p),y=(0,l.I0)(),A=(0,l.v9)((function(e){return e.organization.organization})),C=f((0,r.useState)([]),2),S=C[0],I=C[1],O=d.lD.getInstance(),T=(0,r.useCallback)((function(){S&&(0,u.Bn)(A.id,t,S).then((function(e){h(null,null),y((0,o.addAlert)({description:"Application Shared with the organization(s) successfully",level:i.AlertLevels.SUCCESS,message:"Application shared!"})),O.publish("application-share",{"client-id":v})})).catch((function(e){h(null,null),e.response.data.message?y((0,o.addAlert)({description:e.response.data.message,level:i.AlertLevels.ERROR,message:"Application sharing failed!"})):y((0,o.addAlert)({description:"Application sharing failed. Please try again",level:i.AlertLevels.ERROR,message:"Application sharing failed!"})),O.publish("application-share-error",{"client-id":v})}))}),[S]);return r.createElement(s.Z,m({closeOnDimmerClick:!0,dimmer:"blurring",size:"tiny",closeOnDocumentClick:!0,closeOnEscape:!0,"data-testid":"".concat(b,"-view-certificate-modal")},E),r.createElement(s.Z.Header,null,"Share Application"),r.createElement(s.Z.Content,null,r.createElement(c.Z,null,r.createElement(c.Z.Select,{options:null===n||void 0===n?void 0:n.map((function(e){return{key:e.id,text:e.name,value:e.id}})),value:S,placeholder:"Select Organization(s)",onChange:function(e,t){I(t.value)},search:!0,multiple:!0,fluid:!0,label:"Select the list of organization to be shared with","data-testid":"".concat(b,"-role-select-dropdown")}))),r.createElement(s.Z.Actions,null,r.createElement(a.LinkButton,{onClick:function(){return h(null,null)}},"Cancel"),r.createElement(a.PrimaryButton,{disabled:!S,onClick:function(){T()},"data-testid":"".concat(b,"-save-button")},"Share Application")))};h.defaultProps={"data-componentid":"application-share-modal"}},30418:function(e,t,n){"use strict";n.d(t,{K:function(){return u}});var i=n(26776),o=n(96462),a=n(68905),r=n(64805),l=n(85027),s=n(12847);function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,o,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(i=n.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){l=!0,o=e}finally{try{r||null==n.return||n.return()}finally{if(l)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var u=function(e){var t=e.selectedExternalClaims,n=e.setAvailableExternalClaims,d=e.setInitialSelectedExternalClaims,u=e.showAddModal,p=e.setShowAddModal,m=e.availableExternalClaims,f=e.isScopeSection,v=e.scopeName,g=e["data-testid"],h=c((0,i.useTrigger)(),2),b=h[0],E=h[1],y=(0,r.$G)().t,A=function(){p(!1)};return a.createElement(l.Z,{open:u,size:"large",className:"user-roles attribute-modal","data-testid":g},a.createElement(l.Z.Header,null,y("console:develop.features.applications.edit.sections.attributes.selection.addWizard.header"),a.createElement(o.Heading,{subHeading:!0,ellipsis:!0,as:"h6"},f?y("console:manage.features.oidcScopes.addAttributes.description",{name:v}):y("console:develop.features.applications.edit.sections.attributes.selection.addWizard.subHeading"))),a.createElement(l.Z.Content,{image:!0},u&&a.createElement(s.iz,{triggerSubmit:b,setAvailableExternalClaims:n,setInitialSelectedExternalClaims:d,selectedExternalClaims:t,availableExternalClaims:m,onUpdate:A})),a.createElement(l.Z.Actions,null,a.createElement(o.LinkButton,{onClick:A,"data-testid":"".concat(g,"-cancel-button")},y("common:cancel")),a.createElement(o.PrimaryButton,{onClick:function(){E()},"data-testid":"".concat(g,"-save-button")},y("common:save"))))};u.defaultProps={"data-testid":"application-attribute-selection-wizard-other-dialects"}},5749:function(e,t,n){var i={".":[67897,9],"./":[67897,9],"./component-extension":[23253,9],"./component-extension.tsx":[23253,9],"./components/example":[27713,9,7713],"./components/example.tsx":[27713,9,7713],"./components/tests/example.test":[51032,9,9273,1032],"./components/tests/example.test.tsx":[51032,9,9273,1032],"./config":[61543,9],"./config.ts":[61543,9],"./configs":[62363,9],"./configs/":[62363,9],"./configs/analytics":[54547,9],"./configs/analytics.ts":[54547,9],"./configs/application":[68594,9],"./configs/application.tsx":[68594,9],"./configs/attribute":[9325,9],"./configs/attribute.ts":[9325,9],"./configs/common":[3893,9],"./configs/common.tsx":[3893,9],"./configs/documentation":[34849,9],"./configs/documentation.ts":[34849,9],"./configs/endpoints":[24544,9],"./configs/endpoints.ts":[24544,9],"./configs/identity-provider":[72393,9],"./configs/identity-provider.tsx":[72393,9],"./configs/identity-providers-templates":[15693,9],"./configs/identity-providers-templates/":[15693,9],"./configs/identity-providers-templates/index":[15693,9],"./configs/identity-providers-templates/index.ts":[15693,9],"./configs/index":[62363,9],"./configs/index.ts":[62363,9],"./configs/models":[37503,9],"./configs/models/":[37503,9],"./configs/models/analytics":[11834,9,1834],"./configs/models/analytics.ts":[11834,9,1834],"./configs/models/application":[160,9,160],"./configs/models/application.ts":[160,9,160],"./configs/models/attribute":[1516,9,1516],"./configs/models/attribute.ts":[1516,9,1516],"./configs/models/common":[32828,9],"./configs/models/common.ts":[32828,9],"./configs/models/documentation":[35725,9,5725],"./configs/models/documentation.ts":[35725,9,5725],"./configs/models/endpoints":[21830,9,1830],"./configs/models/endpoints.ts":[21830,9,1830],"./configs/models/group":[3198,9,3198],"./configs/models/group.ts":[3198,9,3198],"./configs/models/identity-providers":[8313,9,8313],"./configs/models/identity-providers.ts":[8313,9,8313],"./configs/models/index":[37503,9],"./configs/models/index.ts":[37503,9],"./configs/models/organization":[71795,9,7744],"./configs/models/organization.ts":[71795,9,7744],"./configs/models/scim":[19234,9,9234],"./configs/models/scim.ts":[19234,9,9234],"./configs/models/server-configuration":[60471,9,471],"./configs/models/server-configuration.ts":[60471,9,471],"./configs/models/user":[72687,9,2687],"./configs/models/user.ts":[72687,9,2687],"./configs/models/userstores":[21119,9,1119],"./configs/models/userstores.ts":[21119,9,1119],"./configs/organization":[43495,9],"./configs/organization.ts":[43495,9],"./configs/scim":[25460,9],"./configs/scim.ts":[25460,9],"./configs/server-configuration":[89039,9],"./configs/server-configuration.tsx":[89039,9],"./configs/user":[50618,9],"./configs/user.ts":[50618,9],"./configs/userstores":[15409,9],"./configs/userstores.tsx":[15409,9],"./extension":[88585,9],"./extension-menu":[30328,9],"./extension-menu.tsx":[30328,9],"./extension.tsx":[88585,9],"./extensions-manager":[29213,9],"./extensions-manager.ts":[29213,9],"./i18n":[99345,9,9345],"./i18n/":[99345,9,9345],"./i18n/index":[99345,9,9345],"./i18n/index.ts":[99345,9,9345],"./i18n/models":[33106,9,3106],"./i18n/models/":[33106,9,3106],"./i18n/models/extensions":[84377,9,4377],"./i18n/models/extensions-bundle":[43168,9,3168],"./i18n/models/extensions-bundle.ts":[43168,9,3168],"./i18n/models/extensions.ts":[84377,9,4377],"./i18n/models/index":[33106,9,3106],"./i18n/models/index.ts":[33106,9,3106],"./i18n/resources":[96433,9,6433],"./i18n/resources/":[96433,9,6433],"./i18n/resources/en-US":[47675,9,7675],"./i18n/resources/en-US/":[47675,9,7675],"./i18n/resources/en-US/extensions":[58558,9,8558],"./i18n/resources/en-US/extensions.ts":[58558,9,8558],"./i18n/resources/en-US/index":[47675,9,7675],"./i18n/resources/en-US/index.ts":[47675,9,7675],"./i18n/resources/fr-FR":[36446,9,6446],"./i18n/resources/fr-FR/":[36446,9,6446],"./i18n/resources/fr-FR/extensions":[34303,9,4303],"./i18n/resources/fr-FR/extensions.ts":[34303,9,4303],"./i18n/resources/fr-FR/index":[36446,9,6446],"./i18n/resources/fr-FR/index.ts":[36446,9,6446],"./i18n/resources/index":[96433,9,6433],"./i18n/resources/index.ts":[96433,9,6433],"./i18n/resources/si-LK":[2639,9,2235],"./i18n/resources/si-LK/":[2639,9,2235],"./i18n/resources/si-LK/extensions":[1663,9,1663],"./i18n/resources/si-LK/extensions.ts":[1663,9,1663],"./i18n/resources/si-LK/index":[2639,9,2235],"./i18n/resources/si-LK/index.ts":[2639,9,2235],"./i18n/tmp/meta.f9a6d2b8":[53005,3,3005],"./i18n/tmp/meta.f9a6d2b8.json":[53005,3,3005],"./i18n/tsconfig":[69040,3,9040],"./i18n/tsconfig.json":[69040,3,9040],"./index":[67897,9],"./index.ts":[67897,9],"./models":[36756,9,6756],"./models.ts":[36756,9,6756],"./test-configs/__mocks__/server/handlers":[35063,9,5063],"./test-configs/__mocks__/server/handlers.ts":[35063,9,5063],"./test-configs/__mocks__/window":[51154,7,1154],"./test-configs/__mocks__/window.ts":[51154,7,1154],"./test-configs/setup-test":[15017,9,5017],"./test-configs/setup-test.ts":[15017,9,5017]};function o(e){if(!n.o(i,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=i[e],o=t[0];return Promise.all(t.slice(2).map(n.e)).then((function(){return n.t(o,16|t[1])}))}o.keys=function(){return Object.keys(i)},o.id=5749,e.exports=o}}]);