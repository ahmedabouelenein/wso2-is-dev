"use strict";(self.webpackChunk_wso2is_console=self.webpackChunk_wso2is_console||[]).push([[7798],{33581:function(e,t,n){n.d(t,{Sf:function(){return y},At:function(){return I},mK:function(){return Z},ag:function(){return F},pD:function(){return O},go:function(){return C},DJ:function(){return R},Q3:function(){return T},Tg:function(){return z},OL:function(){return A},SN:function(){return b},jY:function(){return M},cs:function(){return k},hc:function(){return H},Rh:function(){return U},Rz:function(){return x},T_:function(){return L},PL:function(){return w},xy:function(){return q},GY:function(){return D},$X:function(){return S},Fv:function(){return B},DM:function(){return V},Lv:function(){return j},wI:function(){return P},VN:function(){return _},Z1:function(){return G},Wm:function(){return N},ez:function(){return Q},af:function(){return E}});var i=n(19486),r=n(82817),o=n(88742),a=n(62363),l=n(12847),c=n(79949),d=n(21307),u=["id"],s=["authenticatorId"],m=["connectorId"];function p(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||v(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function v(e,t){if(e){if("string"===typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var g=i.AsgardeoSPAClient.getInstance().httpRequest.bind(i.AsgardeoSPAClient.getInstance()),y=(i.AsgardeoSPAClient.getInstance().httpRequestAll.bind(i.AsgardeoSPAClient.getInstance()),function(e){var t={data:e,headers:{Accept:"application/json","Access-Control-Allow-Origin":l.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:o.HttpMethods.POST,url:l.h.getState().config.endpoints.identityProviders};return g(t).then((function(e){return 201!==e.status?Promise.reject(new Error("Failed to create the application.")):Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))}),b=function(e,t,n,i){var r={headers:{Accept:"application/json","Access-Control-Allow-Origin":l.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:o.HttpMethods.GET,params:{filter:n,limit:e,offset:t,requiredAttributes:i},url:l.h.getState().config.endpoints.identityProviders};return g(r).then((function(e){return 200!==e.status?Promise.reject(new Error("Failed to get IdP list from: ")):Promise.resolve(e.data)})).catch((function(e){return Promise.reject(e)}))},E=function(e,t,n,i){var r={headers:{Accept:"application/json","Content-Type":"application/json"},method:o.HttpMethods.GET,params:{filter:n,limit:e,offset:t,requiredAttributes:i},url:l.h.getState().config.endpoints.identityProviders},a=(0,c.Z)(r),d=a.data,u=a.error;return{data:d,error:u,isLoading:!u&&!d,isValidating:a.isValidating,mutate:a.mutate}},A=function(e){var t={headers:{Accept:"application/json","Access-Control-Allow-Origin":l.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:o.HttpMethods.GET,url:l.h.getState().config.endpoints.identityProviders+"/"+e};return g(t).then((function(e){return 200!==e.status?Promise.reject(new Error("Failed to get idp details from: ")):Promise.resolve(e.data)})).catch((function(e){return Promise.reject(e)}))},I=function(e){var t={headers:{Accept:"application/json","Access-Control-Allow-Origin":l.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:o.HttpMethods.DELETE,url:l.h.getState().config.endpoints.identityProviders+"/"+e};return g(t).then((function(e){return 204!==e.status?Promise.reject(new Error("Failed to delete the identity provider.")):Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},P=function(e){var t=e.id,n=f(e,u),i=[];for(var r in n)void 0!==n[r]&&i.push({operation:"REPLACE",path:"/"+r,value:n[r]});var a={data:i,headers:{Accept:"application/json","Access-Control-Allow-Origin":l.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:o.HttpMethods.PATCH,url:l.h.getState().config.endpoints.identityProviders+"/"+t};return g(a).then((function(e){return 200!==e.status?Promise.reject(new Error("Failed to update identity provider: "+t)):Promise.resolve(e.data)})).catch((function(e){return Promise.reject(e)}))},S=function(e,t){var n=t.authenticatorId,i={data:f(t,s),headers:{Accept:"application/json","Access-Control-Allow-Origin":l.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:o.HttpMethods.PUT,url:l.h.getState().config.endpoints.identityProviders+"/"+e+"/federated-authenticators/"+n};return g(i).then((function(t){return 200!==t.status?Promise.reject(new Error("Failed to update identity provider: "+e)):Promise.resolve(t.data)})).catch((function(e){return Promise.reject(e)}))},O=function(e,t){var n={headers:{Accept:"application/json","Access-Control-Allow-Origin":l.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:o.HttpMethods.GET,url:l.h.getState().config.endpoints.identityProviders+"/"+e+"/federated-authenticators/"+t};return g(n).then((function(e){return 200!==e.status?Promise.reject(new Error("Failed to get federated authenticator details for: "+t)):Promise.resolve(e.data)})).catch((function(e){return Promise.reject(e)}))},C=function(e){var t={headers:{Accept:"application/json","Access-Control-Allow-Origin":l.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:o.HttpMethods.GET,url:l.h.getState().config.endpoints.identityProviders+"/meta/federated-authenticators/"+e};return g(t).then((function(t){return 200!==t.status?Promise.reject(new Error("Failed to get federated authenticator meta details for: "+e)):Promise.resolve(t.data)})).catch((function(e){return Promise.reject(e)}))},T=function(){var e={headers:{Accept:"application/json","Access-Control-Allow-Origin":l.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:o.HttpMethods.GET,url:l.h.getState().config.endpoints.identityProviders+"/meta/federated-authenticators"};return g(e).then((function(e){return 200!==e.status?Promise.reject(new Error("Failed to get federated authenticators list")):Promise.resolve(e.data)})).catch((function(e){return Promise.reject(e)}))},R=function(e){var t={headers:{Accept:"application/json","Access-Control-Allow-Origin":l.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:o.HttpMethods.GET,url:l.h.getState().config.endpoints.identityProviders+"/meta/federated-authenticators/"+e};return g(t).then((function(t){return 200!==t.status?Promise.reject(new Error("Failed to get federated authenticator metadata for: "+e)):Promise.resolve(t.data)})).catch((function(e){return Promise.reject(e)}))},w=function(e){var t={headers:{Accept:"application/json","Access-Control-Allow-Origin":l.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:o.HttpMethods.GET,url:l.h.getState().config.endpoints.identityProviders+"/meta/outbound-provisioning-connectors/"+e};return g(t).then((function(t){return 200!==t.status?Promise.reject(new Error("Failed to get outbound provisioning connector metadata for: "+e)):Promise.resolve(t.data)})).catch((function(e){return Promise.reject(e)}))},L=function(e,t){var n={headers:{Accept:"application/json","Access-Control-Allow-Origin":l.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:o.HttpMethods.GET,url:l.h.getState().config.endpoints.identityProviders+"/"+e+"/provisioning/outbound-connectors/"+t};return g(n).then((function(e){return 200!==e.status?Promise.reject(new Error("Failed to get outbound provisioning connector for: "+t)):Promise.resolve(e.data)})).catch((function(e){return Promise.reject(e)}))},N=function(e,t){var n=t.connectorId,i={data:f(t,m),headers:{Accept:"application/json","Access-Control-Allow-Origin":l.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:o.HttpMethods.PUT,url:l.h.getState().config.endpoints.identityProviders+"/"+e+"/provisioning/outbound-connectors/"+n};return g(i).then((function(t){return 200!==t.status?Promise.reject(new Error("Failed to update identity provider: "+e)):Promise.resolve(t.data)})).catch((function(e){return Promise.reject(e)}))},_=function(e,t){var n={data:t,headers:{Accept:"application/json","Access-Control-Allow-Origin":l.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:o.HttpMethods.PUT,url:l.h.getState().config.endpoints.identityProviders+"/"+e+"/provisioning/jit"};return g(n).then((function(t){return 200!==t.status?Promise.reject(new Error("Failed to update jit configuration: "+e)):Promise.resolve(t.data)})).catch((function(e){throw new r.IdentityAppsApiException(d.bQ.IDENTITY_PROVIDER_JIT_PROVISIONING_UPDATE_ERROR,e.stack,e.code,e.request,e.response,e.config)}))},D=function(e,t){var n={data:t,headers:{Accept:"application/json","Access-Control-Allow-Origin":l.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:o.HttpMethods.PUT,url:l.h.getState().config.endpoints.identityProviders+"/"+e+"/claims"};return g(n).then((function(t){return 200!==t.status?Promise.reject(new Error("Failed to update identity provider: "+e)):Promise.resolve(t.data)})).catch((function(e){throw new r.IdentityAppsApiException(d.bQ.IDENTITY_PROVIDER_CLAIMS_UPDATE_ERROR,e.stack,e.code,e.request,e.response,e.config)}))},k=function(e,t,n){var i={headers:{Accept:"application/json","Access-Control-Allow-Origin":l.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:o.HttpMethods.GET,params:{filter:n,limit:e,offset:t},url:l.h.getState().config.endpoints.identityProviders+"/templates"};return g(i).then((function(e){if(200!==e.status)throw new r.IdentityAppsApiException(d.bQ.IDENTITY_PROVIDER_TEMPLATES_LIST_FETCH_INVALID_STATUS_CODE_ERROR,null,e.status,e.request,e,e.config);return Promise.resolve(e.data)})).catch((function(e){throw new r.IdentityAppsApiException(d.bQ.IDENTITY_PROVIDER_TEMPLATES_LIST_FETCH_ERROR,e.stack,e.code,e.request,e.response,e.config)}))},M=function(e){var t={headers:{Accept:"application/json","Access-Control-Allow-Origin":l.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:o.HttpMethods.GET,url:l.h.getState().config.endpoints.identityProviders+"/templates/"+e};return g(t).then((function(e){if(200!==e.status)throw new r.IdentityAppsApiException(d.bQ.IDENTITY_PROVIDER_TEMPLATE_FETCH_INVALID_STATUS_CODE_ERROR,null,e.status,e.request,e,e.config);return Promise.resolve(e.data)})).catch((function(e){throw new r.IdentityAppsApiException(d.bQ.IDENTITY_PROVIDER_TEMPLATE_FETCH_ERROR,e.stack,e.code,e.request,e.response,e.config)}))},j=function(e,t){var n={data:t,headers:{Accept:"application/json","Access-Control-Allow-Origin":l.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:o.HttpMethods.PUT,url:l.h.getState().config.endpoints.identityProviders+"/"+e+"/roles"};return g(n).then((function(t){return 200!==t.status?Promise.reject(new Error("Failed to update identity provider: "+e)):Promise.resolve(t.data)})).catch((function(e){return Promise.reject(e)}))},U=function(){var e={headers:{Accept:"application/json","Access-Control-Allow-Origin":l.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:o.HttpMethods.GET,url:l.h.getState().config.endpoints.localAuthenticators};return g(e).then((function(e){if(200!==e.status)throw new r.IdentityAppsApiException(d.bQ.LOCAL_AUTHENTICATORS_FETCH_INVALID_STATUS_CODE_ERROR,null,e.status,e.request,e,e.config);return Promise.resolve(e.data)})).catch((function(e){throw new r.IdentityAppsApiException(d.bQ.LOCAL_AUTHENTICATORS_FETCH_ERROR,e.stack,e.code,e.request,e.response,e.config)}))},H=function(e){var t={headers:{Accept:"application/json","Content-Type":"application/json"},method:o.HttpMethods.GET,url:"".concat(l.h.getState().config.endpoints.localAuthenticators,"/").concat(e)};return g(t).then((function(e){if(200!==e.status)throw new r.IdentityAppsApiException(d.bQ.LOCAL_AUTHENTICATOR_FETCH_INVALID_STATUS_CODE_ERROR,null,e.status,e.request,e,e.config);return Promise.resolve(e.data)})).catch((function(e){throw new r.IdentityAppsApiException(d.bQ.LOCAL_AUTHENTICATOR_FETCH_ERROR,e.stack,e.code,e.request,e.response,e.config)}))},F=function(e,t){var n={headers:{Accept:"application/json","Access-Control-Allow-Origin":l.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:o.HttpMethods.GET,params:{filter:e},url:l.h.getState().config.endpoints.authenticators};return g(n).then((function(e){if(200!==e.status)throw new r.IdentityAppsApiException(d.bQ.AUTHENTICATORS_FETCH_INVALID_STATUS_CODE_ERROR,null,e.status,e.request,e,e.config);var n=[].concat(p(e.data),p(a.identityProviderConfig.authenticatorResponseExtension));return t?Promise.resolve(n.filter((function(e){return e.type===t}))):Promise.resolve(e.data)})).catch((function(e){throw new r.IdentityAppsApiException(d.bQ.AUTHENTICATORS_FETCH_ERROR,e.stack,e.code,e.request,e.response,e.config)}))},Z=function(){var e={headers:{Accept:"application/json","Access-Control-Allow-Origin":l.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:o.HttpMethods.GET,url:l.h.getState().config.endpoints.authenticatorTags};return g(e).then((function(e){if(200!==e.status)throw new r.IdentityAppsApiException(d.bQ.AUTHENTICATOR_TAGS_FETCH_INVALID_STATUS_CODE_ERROR,null,e.status,e.request,e,e.config);return Promise.resolve(e.data)})).catch((function(e){throw new r.IdentityAppsApiException(d.bQ.AUTHENTICATOR_TAGS_FETCH_ERROR,e.stack,e.code,e.request,e.response,e.config)}))},x=function(e){var t={headers:{Accept:"application/json","Access-Control-Allow-Origin":l.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:o.HttpMethods.GET,url:"".concat(l.h.getState().config.endpoints.multiFactorAuthenticators,"/connectors/").concat(e)};return g(t).then((function(e){if(200!==e.status)throw new r.IdentityAppsApiException(d.bQ.MULTI_FACTOR_AUTHENTICATOR_FETCH_INVALID_STATUS_CODE_ERROR,null,e.status,e.request,e,e.config);return Promise.resolve(e.data)})).catch((function(e){throw new r.IdentityAppsApiException(d.bQ.MULTI_FACTOR_AUTHENTICATOR_FETCH_ERROR,e.stack,e.code,e.request,e.response,e.config)}))},G=function(e,t){var n={data:{operation:"UPDATE",properties:t.properties},headers:{Accept:"application/json","Access-Control-Allow-Origin":l.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:o.HttpMethods.PATCH,url:"".concat(l.h.getState().config.endpoints.multiFactorAuthenticators,"/connectors/").concat(e)};return g(n).then((function(e){if(200!==e.status)throw new r.IdentityAppsApiException(d.bQ.MULTI_FACTOR_AUTHENTICATOR_UPDATE_INVALID_STATUS_CODE_ERROR,null,e.status,e.request,e,e.config);return Promise.resolve(e.data)})).catch((function(e){throw new r.IdentityAppsApiException(d.bQ.MULTI_FACTOR_AUTHENTICATOR_UPDATE_ERROR,e.stack,e.code,e.request,e.response,e.config)}))},q=function(){var e={headers:{Accept:"application/json","Access-Control-Allow-Origin":l.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:o.HttpMethods.GET,url:l.h.getState().config.endpoints.identityProviders+"/meta/outbound-provisioning-connectors"};return g(e).then((function(e){return 200!==e.status?Promise.reject(new Error("Failed to fetch outbound provisioning connectors")):Promise.resolve(e.data)})).catch((function(e){return Promise.reject(e)}))},V=function(e,t){var n={data:t,headers:{Accept:"application/json","Access-Control-Allow-Origin":l.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:o.HttpMethods.PATCH,url:l.h.getState().config.endpoints.identityProviders+"/"+e};return g(n).then((function(t){return 200!==t.status?Promise.reject(new Error("Failed to update identity provider: "+e)):Promise.resolve(t.data)})).catch((function(e){throw new r.IdentityAppsApiException(d.bQ.IDENTITY_PROVIDER_CERTIFICATE_UPDATE_ERROR,e.stack,e.code,e.request,e.response,e.config)}))},Q=function(e,t){var n={data:e,headers:{Accept:"application/json","Access-Control-Allow-Origin":l.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:o.HttpMethods.PUT,url:l.h.getState().config.endpoints.identityProviders+"/"+t+"/provisioning/outbound-connectors/"};return g(n).then((function(e){return 200!==e.status?Promise.reject(new Error("Failed to update identity provider: "+t)):Promise.resolve(e.data)})).catch((function(e){return Promise.reject(e)}))},B=function(e,t){var n={data:e,headers:{Accept:"application/json","Access-Control-Allow-Origin":l.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:o.HttpMethods.PUT,url:l.h.getState().config.endpoints.identityProviders+"/"+t+"/federated-authenticators/"};return g(n).then((function(e){return 200!==e.status?Promise.reject(new Error("Failed to update identity provider: "+t)):Promise.resolve(e.data)})).catch((function(e){return Promise.reject(e)}))},z=function(e){var t={headers:{Accept:"application/json","Access-Control-Allow-Origin":l.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:o.HttpMethods.GET,url:l.h.getState().config.endpoints.identityProviders+"/"+e+"/connected-apps/"};return g(t).then((function(t){return 200!==t.status?Promise.reject(new Error("Failed to get connected apps for the IDP: "+e)):Promise.resolve(t.data)})).catch((function(e){return Promise.reject(e)}))}},11518:function(e,t,n){n.d(t,{OG:function(){return o},rj:function(){return b},Yg:function(){return T},bS:function(){return D},f6:function(){return F}});var i=n(68905),r=n(29970),o=function(e){var t=e.metadata,n=e.mode,o=e.initialValues,a=e.onSubmit,l=e.triggerSubmit,c=e.enableSubmitButton,d=e.showCustomProperties,u=e.readOnly,s=(e.isSubmitting,e["data-testid"]);return i.createElement(r.F,{mode:n,onSubmit:a,initialValues:o,enableSubmitButton:c,triggerSubmit:l,metadata:t,"data-testid":s,showCustomProperties:d,readOnly:u})};o.defaultProps={enableSubmitButton:!0};var a=n(23339),l=n(96462),c=n(48749),d=n(38739),u=n(87289),s=n(64805),m=n(99104),p=n(21307);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,r,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);a=!0);}catch(e){l=!0,r=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var b=function(e){var t=e.metadata,n=e.initialValues,r=e.onSubmit,o=e.readOnly,f=e.isSubmitting,y=e["data-testid"],b=(0,s.$G)().t,E=g((0,i.useState)(void 0),2),A=(E[0],E[1]),I=g((0,i.useState)(void 0),2),P=I[0],S=I[1];(0,i.useEffect)((function(){if(!(0,u.Z)(null===n||void 0===n?void 0:n.properties)){var e=null,i=null;n.properties.map((function(n){var r=null===t||void 0===t?void 0:t.properties.find((function(e){return e.key===n.key})),o=n.name.replace(/\./g,"_");e=v(v({},e),{},h({},o,{meta:r,value:"true"===n.value||"false"===n.value?JSON.parse(n.value):n.value})),i=v(v({},i),{},h({},o,"true"===n.value||"false"===n.value?JSON.parse(n.value):n.value))})),A(e),S(i)}}),[n]);return i.createElement(a.l0,{uncontrolledForm:!1,onSubmit:function(e){r(function(e){for(var t=[],i=0,r=Object.entries(e);i<r.length;i++){var o=g(r[i],2),a=o[0],l=o[1];if(void 0!==a){var c=a.replace(/_/g,".");t.push({name:c,value:(0,d.Z)(l)?l.toString():l})}}return v(v({},n),{},{properties:t})}(e))},initialValues:P,validate:function(e){var t={EmailOTP_ExpiryTime:void 0,EmailOTP_OTPLength:void 0,EmailOTP_OtpRegex_UseNumericChars:void 0};return e.EmailOTP_ExpiryTime?c.I.isInteger(e.EmailOTP_ExpiryTime)?(parseInt(e.EmailOTP_ExpiryTime,10)<p.bQ.EMAIL_OTP_AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.EXPIRY_TIME_MIN_VALUE||parseInt(e.EmailOTP_ExpiryTime,10)>p.bQ.EMAIL_OTP_AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.EXPIRY_TIME_MAX_VALUE)&&(t.EmailOTP_ExpiryTime=b("console:develop.features.authenticationProvider.forms.authenticatorSettings.emailOTP.expiryTime.validations.range")):t.EmailOTP_ExpiryTime=b("console:develop.features.authenticationProvider.forms.authenticatorSettings.emailOTP.expiryTime.validations.invalid"):t.EmailOTP_ExpiryTime=b("console:develop.features.authenticationProvider.forms.authenticatorSettings.emailOTP.expiryTime.validations.required"),e.EmailOTP_OTPLength?c.I.isInteger(e.EmailOTP_OTPLength)?(parseInt(e.EmailOTP_OTPLength,10)<p.bQ.EMAIL_OTP_AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.OTP_LENGTH_MIN_VALUE||parseInt(e.EmailOTP_OTPLength,10)>p.bQ.EMAIL_OTP_AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.OTP_LENGTH_MAX_VALUE)&&(t.EmailOTP_OTPLength=b("console:develop.features.authenticationProvider.forms.authenticatorSettings.emailOTP.tokenLength.validations.range")):t.EmailOTP_OTPLength=b("console:develop.features.authenticationProvider.forms.authenticatorSettings.emailOTP.tokenLength.validations.invalid"):t.EmailOTP_OTPLength=b("console:develop.features.authenticationProvider.forms.authenticatorSettings.emailOTP.tokenLength.validations.required"),t}},i.createElement(a.gN.Input,{ariaLabel:"Email OTP expiry time",inputType:"number",name:"EmailOTP_ExpiryTime",label:b("console:develop.features.authenticationProvider.forms.authenticatorSettings.emailOTP.expiryTime.label"),labelPosition:"right",placeholder:b("console:develop.features.authenticationProvider.forms.authenticatorSettings.emailOTP.expiryTime.placeholder"),hint:i.createElement(s.cC,{i18nKey:"console:develop.features.authenticationProvider.forms.authenticatorSettings.emailOTP.expiryTime.hint"},"The generated passcode will be expired after this defined time period. Please pick a value between ",i.createElement(l.Code,null,"1 second")," & ",i.createElement(l.Code,null,"86400 seconds(1 day)"),"."),required:!0,readOnly:o,min:p.bQ.EMAIL_OTP_AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.EXPIRY_TIME_MIN_VALUE,maxLength:p.bQ.EMAIL_OTP_AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.EXPIRY_TIME_MAX_LENGTH,minLength:p.bQ.EMAIL_OTP_AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.EXPIRY_TIME_MIN_LENGTH,width:16,"data-testid":"".concat(y,"-email-otp-expiry-time")},i.createElement("input",null),i.createElement(m.Z,null,b("console:develop.features.authenticationProvider.forms.authenticatorSettings.emailOTP.expiryTime.unit"))),i.createElement(a.gN.Input,{ariaLabel:"Email OTP token length",inputType:"number",name:"EmailOTP_OTPLength",label:b("console:develop.features.authenticationProvider.forms.authenticatorSettings.emailOTP.tokenLength.label"),placeholder:b("console:develop.features.authenticationProvider.forms.authenticatorSettings.emailOTP.tokenLength.placeholder"),hint:i.createElement(s.cC,{i18nKey:"console:develop.features.authenticationProvider.forms.authenticatorSettings.emailOTP.tokenLength.hint"},"The number of allowed characters in the OTP token. Please pick a value between",i.createElement(l.Code,null,"4-10"),"."),required:!0,readOnly:o,maxLength:p.bQ.EMAIL_OTP_AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.OTP_LENGTH_MAX_LENGTH,minLength:p.bQ.EMAIL_OTP_AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.OTP_LENGTH_MIN_LENGTH,width:16,"data-testid":"".concat(y,"-email-otp-token-length")}),i.createElement(a.gN.Checkbox,{ariaLabel:"Use numeric characters for OTP token",name:"EmailOTP_OtpRegex_UseNumericChars",label:b("console:develop.features.authenticationProvider.forms.authenticatorSettings.emailOTP.useNumericChars.label"),hint:i.createElement(s.cC,{i18nKey:"console:develop.features.authenticationProvider.forms.authenticatorSettings.emailOTP.useNumericChars.hint"},"Only numeric characters (",i.createElement(l.Code,null,"0-9"),") are used for the OTP token. Please clear this checkbox to enable alphanumeric characters."),readOnly:o,width:16,"data-testid":"".concat(y,"-otp-regex-use-numeric")}),i.createElement(a.gN.Button,{size:"small",buttonType:"primary_btn",ariaLabel:"Email OTP authenticator update button",name:"update-button","data-testid":"".concat(y,"-submit-button"),disabled:f,loading:f,label:b("common:update"),hidden:o}))};b.defaultProps={"data-testid":"email-otp-authenticator-form",enableSubmitButton:!0};var E=n(70515),A=n(59867);function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,r,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);a=!0);}catch(e){l=!0,r=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var T=function(e){var t,n,r,o,c,d,m,f,v,h,g,y,b,I,C,T,R,w,L,N,_,D,k=e.metadata,M=e.mode,j=e.initialValues,U=e.onSubmit,H=e.readOnly,F=e.isSubmitting,Z=e["data-testid"],x=(0,s.$G)().t,G=O((0,i.useState)(void 0),2),q=G[0],V=G[1],Q=O((0,i.useState)(void 0),2),B=Q[0],z=Q[1];(0,i.useEffect)((function(){if(!(0,u.Z)(null===j||void 0===j?void 0:j.properties)){var e=null,t=null;j.properties.map((function(n){var i=null===k||void 0===k?void 0:k.properties.find((function(e){return e.key===n.key}));e=P(P({},e),{},S({},n.key,{meta:i,value:n.value})),t=P(P({},t),{},S({},n.key,n.value))})),V(e),z(t)}}),[j]);return i.createElement(a.l0,{uncontrolledForm:!1,onSubmit:function(e){return U(function(e){for(var t=[],n=0,i=Object.entries(e);n<i.length;n++){var r=O(i[n],2),o=r[0],a=r[1];void 0!==o&&t.push({key:o,value:a})}return P(P({},j),{},{properties:t})}(e))},initialValues:B},i.createElement(a.gN.Input,{ariaLabel:"Facebook authenticator client ID",inputType:"default",name:"ClientId",label:x("console:develop.features.authenticationProvider.forms.authenticatorSettings.facebook.clientId.label"),placeholder:x("console:develop.features.authenticationProvider.forms.authenticatorSettings.facebook.clientId.placeholder"),hint:x("console:develop.features.authenticationProvider.forms.authenticatorSettings.facebook.clientId.hint"),required:null===q||void 0===q||null===(t=q.ClientId)||void 0===t||null===(n=t.meta)||void 0===n?void 0:n.isMandatory,readOnly:H||M!==A.Pk.CREATE&&(null===q||void 0===q||null===(r=q.ClientId)||void 0===r||null===(o=r.meta)||void 0===o?void 0:o.readOnly),value:null===q||void 0===q||null===(c=q.ClientId)||void 0===c?void 0:c.value,maxLength:null===q||void 0===q||null===(d=q.ClientId)||void 0===d||null===(m=d.meta)||void 0===m?void 0:m.maxLength,minLength:p.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.CLIENT_ID_MIN_LENGTH,width:16,"data-testid":"".concat(Z,"-client-id")}),i.createElement(a.gN.Input,{ariaLabel:"Facebook authenticator client secret",className:"addon-field-wrapper",inputType:"password",type:"password",name:"ClientSecret",label:x("console:develop.features.authenticationProvider.forms.authenticatorSettings.facebook.clientSecret.label"),placeholder:x("console:develop.features.authenticationProvider.forms.authenticatorSettings.facebook.clientSecret.placeholder"),hint:i.createElement(s.cC,{i18nKey:"console:develop.features.authenticationProvider.forms.authenticatorSettings.facebook.clientSecret.hint"},"The ",i.createElement(l.Code,null,"App secret")," value of the Facebook application."),required:null===q||void 0===q||null===(f=q.ClientSecret)||void 0===f||null===(v=f.meta)||void 0===v?void 0:v.isMandatory,readOnly:H||M!==A.Pk.CREATE&&(null===q||void 0===q||null===(h=q.ClientSecret)||void 0===h||null===(g=h.meta)||void 0===g?void 0:g.readOnly),value:null===q||void 0===q||null===(y=q.ClientSecret)||void 0===y?void 0:y.value,maxLength:null===q||void 0===q||null===(b=q.ClientSecret)||void 0===b||null===(I=b.meta)||void 0===I?void 0:I.maxLength,minLength:p.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.CLIENT_SECRET_MIN_LENGTH,width:16,"data-testid":"".concat(Z,"-client-secret")}),i.createElement(a.gN.Input,{ariaLabel:"Facebook authenticator authorized redirect URL",inputType:"copy_input",name:"callBackUrl",label:x("console:develop.features.authenticationProvider.forms.authenticatorSettings.facebook.callbackUrl.label"),placeholder:x("console:develop.features.authenticationProvider.forms.authenticatorSettings.facebook.callbackUrl.placeholder"),hint:x("console:develop.features.authenticationProvider.forms.authenticatorSettings.facebook.callbackUrl.hint"),required:null===q||void 0===q||null===(C=q.callBackUrl)||void 0===C||null===(T=C.meta)||void 0===T?void 0:T.isMandatory,value:null===q||void 0===q||null===(R=q.callBackUrl)||void 0===R?void 0:R.value,readOnly:H||M!==A.Pk.CREATE&&(null===q||void 0===q||null===(w=q.callBackUrl)||void 0===w||null===(L=w.meta)||void 0===L?void 0:L.readOnly),maxLength:null===q||void 0===q||null===(N=q.callBackUrl)||void 0===N||null===(_=N.meta)||void 0===_?void 0:_.maxLength,minLength:p.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.CALLBACK_URL_MIN_LENGTH,width:16,"data-testid":"".concat(Z,"-authorized-redirect-url")}),(null===q||void 0===q||null===(D=q.Scope)||void 0===D?void 0:D.value)&&q.Scope.value.split&&q.Scope.value.split(",").length>0&&i.createElement(l.FormSection,{heading:x("console:develop.features.authenticationProvider.forms.authenticatorSettings.facebook.scopes.heading")},i.createElement("div",{className:"authenticator-dynamic-properties"},q.Scope.value.split(",").map((function(e,t){var n=function(e){return e===p.bQ.FACEBOOK_SCOPE_DICTIONARY.EMAIL?{description:x("console:develop.features.authenticationProvider.forms.authenticatorSettings.facebook.scopes.list.email.description"),displayName:i.createElement(l.Code,{compact:!0,withBackground:!1,fontSize:"inherit",fontColor:"inherit"},p.bQ.FACEBOOK_SCOPE_DICTIONARY.EMAIL),icon:"envelope outline"}:e===p.bQ.FACEBOOK_SCOPE_DICTIONARY.PUBLIC_PROFILE?{description:x("console:develop.features.authenticationProvider.forms.authenticatorSettings.facebook.scopes.list.profile.description"),displayName:i.createElement(l.Code,{compact:!0,withBackground:!1,fontSize:"inherit",fontColor:"inherit"},p.bQ.FACEBOOK_SCOPE_DICTIONARY.PUBLIC_PROFILE),icon:"user outline"}:{description:"",displayName:e,icon:"key"}}(e);return i.createElement("div",{key:t,className:"authenticator-dynamic-property","data-testid":e},i.createElement("div",{className:"authenticator-dynamic-property-name-container"},i.createElement(l.GenericIcon,{square:!0,inline:!0,transparent:!0,icon:i.createElement(E.Z,{name:n.icon}),size:"micro",className:"scope-icon",spaced:"right",verticalAlign:"top"}),i.createElement("div",{"data-testid":"".concat(e,"-name")},n.displayName)),i.createElement("div",{className:"authenticator-dynamic-property-description","data-testid":"".concat(e,"-description")},n.description))}))),i.createElement(l.Hint,{compact:!0},i.createElement(s.cC,{i18nKey:"console:develop.features.authenticationProvider.forms.authenticatorSettings.facebook.scopes.hint"},"Permissions provide a way for connected apps to access data from Facebook. Click ",i.createElement("a",{href:"https://developers.facebook.com/docs/permissions/reference",target:"_blank",rel:"noopener noreferrer"},"here")," to learn more."))),i.createElement(a.gN.Button,{size:"small",buttonType:"primary_btn",ariaLabel:"Facebook authenticator update button",name:"update-button","data-testid":"".concat(Z,"-submit-button"),disabled:F,loading:F,label:x("common:update"),hidden:H}))};function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){L(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,r,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);a=!0);}catch(e){l=!0,r=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}T.defaultProps={"data-testid":"facebook-authenticator-form",enableSubmitButton:!0};var D=function(e){var t,n,r,o,c,d,m,f,v,h,g,y,b,I,P,S,O,C,T,R,_,D,k=e.metadata,M=e.mode,j=e.initialValues,U=e.onSubmit,H=e.readOnly,F=e.isSubmitting,Z=e["data-testid"],x=(0,s.$G)().t,G=N((0,i.useState)(void 0),2),q=G[0],V=G[1],Q=N((0,i.useState)(void 0),2),B=Q[0],z=Q[1];(0,i.useEffect)((function(){if(!(0,u.Z)(null===j||void 0===j?void 0:j.properties)){var e=null,t=null;j.properties.map((function(n){var i=null===k||void 0===k?void 0:k.properties.find((function(e){return e.key===n.key}));e=w(w({},e),{},L({},n.key,{meta:i,value:n.value})),t=w(w({},t),{},L({},n.key,n.value))})),V(e),z(t)}}),[j]);return i.createElement(a.l0,{uncontrolledForm:!1,onSubmit:function(e){return U(function(e){for(var t=[],n=0,i=Object.entries(e);n<i.length;n++){var r=N(i[n],2),o=r[0],a=r[1];void 0!==o&&t.push({key:o,value:a})}return w(w({},j),{},{properties:t})}(e))},initialValues:B},i.createElement(a.gN.Input,{ariaLabel:"GitHub authenticator client ID",inputType:"default",name:"ClientId",label:x("console:develop.features.authenticationProvider.forms.authenticatorSettings.github.clientId.label"),placeholder:x("console:develop.features.authenticationProvider.forms.authenticatorSettings.github.clientId.placeholder"),hint:i.createElement(s.cC,{i18nKey:"console:develop.features.authenticationProvider.forms.authenticatorSettings.github.clientId.hint"},"The ",i.createElement(l.Code,null,"Client ID")," you received from GitHub for your OAuth app."),required:null===q||void 0===q||null===(t=q.ClientId)||void 0===t||null===(n=t.meta)||void 0===n?void 0:n.isMandatory,readOnly:H||M!==A.Pk.CREATE&&(null===q||void 0===q||null===(r=q.ClientId)||void 0===r||null===(o=r.meta)||void 0===o?void 0:o.readOnly),value:null===q||void 0===q||null===(c=q.ClientId)||void 0===c?void 0:c.value,maxLength:null===q||void 0===q||null===(d=q.ClientId)||void 0===d||null===(m=d.meta)||void 0===m?void 0:m.maxLength,minLength:p.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.CLIENT_ID_MIN_LENGTH,width:16,"data-testid":"".concat(Z,"-client-id")}),i.createElement(a.gN.Input,{ariaLabel:"GitHub authenticator client secret",className:"addon-field-wrapper",inputType:"password",type:"password",name:"ClientSecret",label:x("console:develop.features.authenticationProvider.forms.authenticatorSettings.github.clientSecret.label"),placeholder:x("console:develop.features.authenticationProvider.forms.authenticatorSettings.github.clientSecret.placeholder"),hint:i.createElement(s.cC,{i18nKey:"console:develop.features.authenticationProvider.forms.authenticatorSettings.github.clientSecret.hint"},"The ",i.createElement(l.Code,null,"Client secret")," you received from GitHub for your OAuth app."),required:null===q||void 0===q||null===(f=q.ClientSecret)||void 0===f||null===(v=f.meta)||void 0===v?void 0:v.isMandatory,readOnly:H||M!==A.Pk.CREATE&&(null===q||void 0===q||null===(h=q.ClientSecret)||void 0===h||null===(g=h.meta)||void 0===g?void 0:g.readOnly),value:null===q||void 0===q||null===(y=q.ClientSecret)||void 0===y?void 0:y.value,maxLength:null===q||void 0===q||null===(b=q.ClientSecret)||void 0===b||null===(I=b.meta)||void 0===I?void 0:I.maxLength,minLength:p.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.CLIENT_SECRET_MIN_LENGTH,width:16,"data-testid":"".concat(Z,"-client-secret")}),i.createElement(a.gN.Input,{ariaLabel:"GitHub authenticator authorized redirect URL",inputType:"copy_input",name:"callbackUrl",label:x("console:develop.features.authenticationProvider.forms.authenticatorSettings.github.callbackUrl.label"),placeholder:x("console:develop.features.authenticationProvider.forms.authenticatorSettings.github.callbackUrl.placeholder"),hint:x("console:develop.features.authenticationProvider.forms.authenticatorSettings.github.callbackUrl.hint"),required:null===q||void 0===q||null===(P=q.callbackUrl)||void 0===P||null===(S=P.meta)||void 0===S?void 0:S.isMandatory,value:null===q||void 0===q||null===(O=q.callbackUrl)||void 0===O?void 0:O.value,readOnly:H||M!==A.Pk.CREATE&&(null===q||void 0===q||null===(C=q.callbackUrl)||void 0===C||null===(T=C.meta)||void 0===T?void 0:T.readOnly),maxLength:null===q||void 0===q||null===(R=q.callbackUrl)||void 0===R||null===(_=R.meta)||void 0===_?void 0:_.maxLength,minLength:p.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.CALLBACK_URL_MIN_LENGTH,width:16,"data-testid":"".concat(Z,"-authorized-redirect-url")}),(null===q||void 0===q||null===(D=q.scope)||void 0===D?void 0:D.value)&&q.scope.value.split&&q.scope.value.split(" ").length>0&&i.createElement(l.FormSection,{heading:x("console:develop.features.authenticationProvider.forms.authenticatorSettings.github.scopes.heading")},i.createElement("div",{className:"authenticator-dynamic-properties"},q.scope.value.split(" ").map((function(e,t){var n=function(e){return e===p.bQ.GITHUB_SCOPE_DICTIONARY.USER_READ?{description:x("console:develop.features.authenticationProvider.forms.authenticatorSettings.github.scopes.list.profile.description"),displayName:i.createElement(l.Code,{compact:!0,withBackground:!1,fontSize:"inherit",fontColor:"inherit"},p.bQ.GITHUB_SCOPE_DICTIONARY.USER_READ),icon:"user outline"}:e===p.bQ.GITHUB_SCOPE_DICTIONARY.USER_EMAIL?{description:x("console:develop.features.authenticationProvider.forms.authenticatorSettings.github.scopes.list.email.description"),displayName:i.createElement(l.Code,{compact:!0,withBackground:!1,fontSize:"inherit",fontColor:"inherit"},p.bQ.GITHUB_SCOPE_DICTIONARY.USER_EMAIL),icon:"envelope outline"}:{description:"",displayName:e,icon:"key"}}(e);return i.createElement("div",{key:t,className:"authenticator-dynamic-property","data-testid":e},i.createElement("div",{className:"authenticator-dynamic-property-name-container"},i.createElement(l.GenericIcon,{square:!0,inline:!0,transparent:!0,icon:i.createElement(E.Z,{name:n.icon}),size:"micro",className:"authenticator-dynamic-property-icon",spaced:"right",verticalAlign:"top"}),i.createElement("div",{"data-testid":"".concat(e,"-name")},n.displayName)),i.createElement("div",{className:"authenticator-dynamic-property-description","data-testid":"".concat(e,"-description")},n.description))}))),i.createElement(l.Hint,null,i.createElement(s.cC,{i18nKey:"console:develop.features.authenticationProvider.forms.authenticatorSettings.github.scopes.hint"},"The scopes specifies the type of access provided for connected apps to access data from GitHub. Click ",i.createElement("a",{href:"https://docs.github.com/en/developers/apps/building-oauth-apps/scopes-for-oauth-apps",target:"_blank",rel:"noopener noreferrer"},"here")," to learn more."))),i.createElement(a.gN.Button,{size:"small",buttonType:"primary_btn",ariaLabel:"GitHub authenticator update button",name:"update-button","data-testid":"".concat(Z,"-submit-button"),disabled:F,loading:F,label:x("common:update"),hidden:H}))};function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function U(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,r,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);a=!0);}catch(e){l=!0,r=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return H(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return H(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}D.defaultProps={enableSubmitButton:!0};var F=function(e){var t,n,r,o,c,d,m,f,v,h,g,y,b,I,P,S,O,C,T,R,w,L,N,_,D,k=e.metadata,H=e.mode,F=e.initialValues,Z=e.onSubmit,x=e.readOnly,G=e.isSubmitting,q=e["data-testid"],V=(0,s.$G)().t,Q=U((0,i.useState)(void 0),2),B=Q[0],z=Q[1],Y=U((0,i.useState)(void 0),2),K=Y[0],$=Y[1];(0,i.useEffect)((function(){if(!(0,u.Z)(null===F||void 0===F?void 0:F.properties)){var e=null,t=null;F.properties.map((function(n){var i=null===k||void 0===k?void 0:k.properties.find((function(e){return e.key===n.key}));e=M(M({},e),{},j({},n.key,{meta:i,value:n.value})),t=M(M({},t),{},j({},n.key,n.value))})),z(e),$(t)}}),[F]);var W=function(e){var t=[];try{t=e.split("scope=")[1].split(" ")}catch(e){}return t};return i.createElement(a.l0,{uncontrolledForm:!1,onSubmit:function(e){return Z(function(e){for(var t=[],n=0,i=Object.entries(e);n<i.length;n++){var r=U(i[n],2),o=r[0],a=r[1];void 0!==o&&t.push({key:o,value:a})}return M(M({},F),{},{properties:t})}(e))},initialValues:K},i.createElement(a.gN.Input,{ariaLabel:"Google authenticator client ID",inputType:"default",name:"ClientId",label:V("console:develop.features.authenticationProvider.forms.authenticatorSettings.google.clientId.label"),placeholder:V("console:develop.features.authenticationProvider.forms.authenticatorSettings.google.clientId.placeholder"),hint:i.createElement(s.cC,{i18nKey:"console:develop.features.authenticationProvider.forms.authenticatorSettings.google.clientId.hint"},"The ",i.createElement(l.Code,null,"Client ID")," you received from Google for your OAuth app."),required:null===B||void 0===B||null===(t=B.ClientId)||void 0===t||null===(n=t.meta)||void 0===n?void 0:n.isMandatory,readOnly:x||H!==A.Pk.CREATE&&(null===B||void 0===B||null===(r=B.ClientId)||void 0===r||null===(o=r.meta)||void 0===o?void 0:o.readOnly),value:null===B||void 0===B||null===(c=B.ClientId)||void 0===c?void 0:c.value,maxLength:p.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.CLIENT_ID_MAX_LENGTH,minLength:p.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.CLIENT_ID_MIN_LENGTH,width:16,"data-testid":"".concat(q,"-client-id")}),i.createElement(a.gN.Input,{ariaLabel:"Google authenticator client secret",className:"addon-field-wrapper",inputType:"password",type:"password",name:"ClientSecret",label:V("console:develop.features.authenticationProvider.forms.authenticatorSettings.google.clientSecret.label"),placeholder:V("console:develop.features.authenticationProvider.forms.authenticatorSettings.google.clientSecret.placeholder"),hint:i.createElement(s.cC,{i18nKey:"console:develop.features.authenticationProvider.forms.authenticatorSettings.google.clientSecret.hint"},"The ",i.createElement(l.Code,null,"App secret")," value of the Google application."),required:null===B||void 0===B||null===(d=B.ClientSecret)||void 0===d||null===(m=d.meta)||void 0===m?void 0:m.isMandatory,readOnly:x||H!==A.Pk.CREATE&&(null===B||void 0===B||null===(f=B.ClientSecret)||void 0===f||null===(v=f.meta)||void 0===v?void 0:v.readOnly),value:null===B||void 0===B||null===(h=B.ClientSecret)||void 0===h?void 0:h.value,maxLength:null===B||void 0===B||null===(g=B.ClientSecret)||void 0===g||null===(y=g.meta)||void 0===y?void 0:y.maxLength,minLength:p.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.CLIENT_SECRET_MIN_LENGTH,width:16,"data-testid":"".concat(q,"-client-secret")}),i.createElement(a.gN.Input,{ariaLabel:"Google authenticator authorized redirect URL",inputType:"copy_input",name:"callbackUrl",label:V("console:develop.features.authenticationProvider.forms.authenticatorSettings.google.callbackUrl.label"),placeholder:V("console:develop.features.authenticationProvider.forms.authenticatorSettings.google.callbackUrl.placeholder"),hint:V("console:develop.features.authenticationProvider.forms.authenticatorSettings.google.callbackUrl.hint"),required:null===B||void 0===B||null===(b=B.callbackUrl)||void 0===b||null===(I=b.meta)||void 0===I?void 0:I.isMandatory,value:null===B||void 0===B||null===(P=B.callbackUrl)||void 0===P?void 0:P.value,readOnly:x||H!==A.Pk.CREATE&&(null===B||void 0===B||null===(S=B.callbackUrl)||void 0===S||null===(O=S.meta)||void 0===O?void 0:O.readOnly),maxLength:null===B||void 0===B||null===(C=B.callbackUrl)||void 0===C||null===(T=C.meta)||void 0===T?void 0:T.maxLength,minLength:p.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.CALLBACK_URL_MIN_LENGTH,width:16,"data-testid":"".concat(q,"-authorized-redirect-url")}),i.createElement(a.gN.Input,{ariaLabel:V("console:develop.features.authenticationProvider.forms.authenticatorSettings.google.AdditionalQueryParameters.ariaLabel"),inputType:"default",name:"AdditionalQueryParameters",label:V("console:develop.features.authenticationProvider.forms.authenticatorSettings.google.AdditionalQueryParameters.label"),placeholder:V("console:develop.features.authenticationProvider.forms.authenticatorSettings.google.AdditionalQueryParameters.placeholder"),hint:V("console:develop.features.authenticationProvider.forms.authenticatorSettings.google.AdditionalQueryParameters.hint"),required:null===B||void 0===B||null===(R=B.AdditionalQueryParameters)||void 0===R||null===(w=R.meta)||void 0===w?void 0:w.isMandatory,value:null===B||void 0===B||null===(L=B.AdditionalQueryParameters)||void 0===L?void 0:L.value,readOnly:x||H!==A.Pk.CREATE&&(null===B||void 0===B||null===(N=B.AdditionalQueryParameters)||void 0===N||null===(_=N.meta)||void 0===_?void 0:_.readOnly),maxLength:p.bQ.GOOGLE_AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.ADDITIONAL_QUERY_PARAMS_MAX_LENGTH,minLength:p.bQ.GOOGLE_AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.ADDITIONAL_QUERY_PARAMS_MIN_LENGTH,width:16,"data-testid":"".concat(q,"-additional-query-parameters")}),(null===B||void 0===B||null===(D=B.AdditionalQueryParameters)||void 0===D?void 0:D.value)&&!(0,u.Z)(W(B.AdditionalQueryParameters.value))&&i.createElement(l.FormSection,{heading:V("console:develop.features.authenticationProvider.forms.authenticatorSettings.google.scopes.heading")},i.createElement("div",{className:"authenticator-dynamic-properties"},W(B.AdditionalQueryParameters.value).map((function(e,t){var n=function(e){return e===p.bQ.GOOGLE_SCOPE_DICTIONARY.EMAIL?{description:V("console:develop.features.authenticationProvider.forms.authenticatorSettings.google.scopes.list.email.description"),displayName:i.createElement(l.Code,{compact:!0,withBackground:!1,fontSize:"inherit",fontColor:"inherit"},p.bQ.GOOGLE_SCOPE_DICTIONARY.EMAIL),icon:"envelope outline"}:e===p.bQ.GOOGLE_SCOPE_DICTIONARY.OPENID?{description:V("console:develop.features.authenticationProvider.forms.authenticatorSettings.google.scopes.list.openid.description"),displayName:i.createElement(l.Code,{compact:!0,withBackground:!1,fontSize:"inherit",fontColor:"inherit"},p.bQ.GOOGLE_SCOPE_DICTIONARY.OPENID),icon:"openid"}:e===p.bQ.GOOGLE_SCOPE_DICTIONARY.PROFILE?{description:V("console:develop.features.authenticationProvider.forms.authenticatorSettings.google.scopes.list.profile.description"),displayName:i.createElement(l.Code,{compact:!0,withBackground:!1,fontSize:"inherit",fontColor:"inherit"},p.bQ.GOOGLE_SCOPE_DICTIONARY.PROFILE),icon:"user outline"}:{description:"",displayName:e,icon:"key"}}(e);return i.createElement("div",{key:t,className:"authenticator-dynamic-property","data-testid":e},i.createElement("div",{className:"authenticator-dynamic-property-name-container"},i.createElement(l.GenericIcon,{square:!0,inline:!0,transparent:!0,icon:i.createElement(E.Z,{name:n.icon}),size:"micro",className:"scope-icon",spaced:"right",verticalAlign:"top"}),i.createElement("div",{"data-testid":"".concat(e,"-name")},n.displayName)),i.createElement("div",{className:"authenticator-dynamic-property-description","data-testid":"".concat(e,"-description")},n.description))}))),i.createElement(l.Hint,{compact:!0},i.createElement(s.cC,{i18nKey:"console:develop.features.authenticationProvider.forms.authenticatorSettings.google.scopes.hint"},"Scopes provide a way for connected apps to access data from Google. Click ",i.createElement("a",{href:"https://developers.google.com/identity/protocols/oauth2/openid-connect#scope-param",target:"_blank",rel:"noopener noreferrer"},"here")," to learn more."))),i.createElement(a.gN.Button,{size:"small",buttonType:"primary_btn",ariaLabel:"Google authenticator update button",name:"update-button","data-testid":"".concat(q,"-submit-button"),disabled:G,loading:G,label:V("common:update"),hidden:x}))};F.defaultProps={"data-testid":"google-authenticator-form",enableSubmitButton:!0}},29970:function(e,t,n){n.d(t,{F:function(){return E}});var i=n(69883),r=n(26776),o=n(87289),a=n(68905),l=n(64805),c=n(23177),d=n(84504),u=n(59867),s=n(47418),m=n(39971);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e){return function(e){if(Array.isArray(e))return b(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||y(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,r,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);a=!0);}catch(e){l=!0,r=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||y(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){if(e){if("string"===typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var E=function(e){var t,n=e.metadata,p=e.mode,v=e.initialValues,y=e.onSubmit,b=e.triggerSubmit,E=e.enableSubmitButton,A=e.showCustomProperties,I=e.readOnly,P=e.isSubmitting,S=e["data-testid"],O=(0,l.$G)().t,C=g((0,a.useState)(void 0),2),T=C[0],R=C[1],w=g((0,a.useState)(void 0),2),L=w[0],N=w[1],_=function(e,t,n){switch(null===n||void 0===n?void 0:n.toUpperCase()){case m.F$.BOOLEAN:case m.F$.RADIO:return null===e||void 0===e?void 0:e.includes(t);default:return e}},D=function(e,t,n,i,r){return n?a.createElement(c.Z.Row,{columns:2,key:null===t||void 0===t?void 0:t.displayOrder},a.createElement(c.Z.Column,{mobile:2,tablet:2,computer:1}),a.createElement(c.Z.Column,{mobile:14,tablet:14,computer:7},(0,m.xc)(e,f(f({},t),{},{readOnly:p!==u.Pk.CREATE&&I}),p,r,i))):a.createElement(c.Z.Row,{columns:1,key:null===t||void 0===t?void 0:t.displayOrder},a.createElement(c.Z.Column,{mobile:16,tablet:16,computer:8},(0,m.xc)(e,f(f({},t),{},{readOnly:p!==u.Pk.CREATE&&I}),p,r,i)))},k=function(e,t){if("IsLogoutReqSigned"===e||"ISAuthnReqSigned"===e){var i=function(e){var t=null===n||void 0===n?void 0:n.properties.find((function(t){return t.key===e}));t&&(t.isDisabled=!1)},r=function(e){var t,i=null===n||void 0===n||null===(t=n.properties)||void 0===t?void 0:t.find((function(t){return t.key===e}));i&&(i.isDisabled=!0)},o=function(e){return e&&Array.isArray(e)&&e.length>0||"string"===typeof e&&"true"==e},a=t.get("IsLogoutReqSigned"),l=t.get("ISAuthnReqSigned");o(a)||o(l)?(i("SignatureAlgorithm"),i("DigestAlgorithm")):(r("SignatureAlgorithm"),r("DigestAlgorithm"))}},M=function(e,t){var i,r="IsUserIdInClaims";if(e===r){var o=function(e){var t=null===n||void 0===n?void 0:n.properties.find((function(e){return e.key===r}));t&&(t.displayName=e)};(i=t.get(r))&&Array.isArray(i)&&i.length>0||"string"===typeof i&&"true"==i?o("Use NameID as the User Identifier"):o("User Identifier found among claims")}},j=function(e,t){var n,i,r;k(e,t),M(e,t),R(f(f({},T),{},{properties:null!==T&&void 0!==T&&T.properties?null===T||void 0===T||null===(n=T.properties)||void 0===n?void 0:n.map((function(n){var i,r;return n.key===e?{key:e,value:null===t||void 0===t||null===(i=t.get(e))||void 0===i||null===(r=i.includes(e))||void 0===r?void 0:r.toString()}:n})):[{key:e,value:null===t||void 0===t||null===(i=t.get(e))||void 0===i||null===(r=i.includes(e))||void 0===r?void 0:r.toString()}]}))};return(0,a.useEffect)((function(){var e;R(v);var t=(null===v||void 0===v||null===(e=v.properties)||void 0===e?void 0:e.reduce((function(e,t){var n=t.key,i=t.value;return e.set(n,i)}),new Map))||new Map;k("IsLogoutReqSigned",t),k("ISAuthnReqSigned",t),M("IsUserIdInClaims",t)}),[]),(0,a.useEffect)((function(){var e;if(T){var t=[];null===T||void 0===T||null===(e=T.properties)||void 0===e||e.forEach((function(e){var i;null!==n&&void 0!==n&&null!==(i=n.properties)&&void 0!==i&&i.find((function(t){return t.key===e.key}))||t.push(e.key+"="+e.value)})),N(t.join(", "))}}),[T]),a.createElement(r.Forms,{onSubmit:function(e){y(function(e){var t,i,r=[],a=A?e.get("customProperties"):L;null===e||void 0===e||e.forEach((function(e,t){var i=(0,s.Oe)(t,null===n||void 0===n?void 0:n.properties);void 0===t||(0,o.Z)(e)||"customProperties"===t||r.push({key:t,value:_(e,t,null===i||void 0===i?void 0:i.type)})}));var l=null===a||void 0===a||null===(t=a.toString())||void 0===t||null===(i=t.split(","))||void 0===i?void 0:i.map((function(e){var t=e.split("=");return{key:t[0],value:t[1]}}));return(null===l||void 0===l?void 0:l.length)>0&&r.push.apply(r,h(l)),null!==v&&void 0!==v&&v.properties?f(f({},v),{},{properties:[].concat(r)}):f(f({},n),{},{properties:[].concat(r)})}(e))},submitState:b,"data-testid":"".concat(S,"-form")},a.createElement(c.Z,null,function e(t,n){var i=[];return null===t||void 0===t||t.forEach((function(t){if(!(0,o.Z)(null===t||void 0===t?void 0:t.displayName)){var r,l,c=null===T||void 0===T||null===(r=T.properties)||void 0===r?void 0:r.find((function(e){return e.key===t.key}));l=function(e){var t;return(null===e||void 0===e||null===(t=e.subProperties)||void 0===t?void 0:t.length)>0&&(0,m.Ql)(e,p)===m.fS.CHECKBOX}(t)?function(e){var t;return(null===e||void 0===e||null===(t=e.subProperties)||void 0===t?void 0:t.length)>0&&(0,m.Ql)(e,p)===m.fS.RADIO}(t)?a.createElement(a.Fragment,{key:null===t||void 0===t?void 0:t.key},D(c,t,n,"".concat(S,"-form"),j)):a.createElement(a.Fragment,{key:null===t||void 0===t?void 0:t.key},D(c,t,n,"".concat(S,"-form"),j),e(null===t||void 0===t?void 0:t.subProperties,!0)):D(c,t,n,"".concat(S,"-form"),j),i.push(l)}})),i.sort((function(e,t){return Number(e.key)-Number(t.key)}))}(null===n||void 0===n?void 0:n.properties,!1),A&&L&&a.createElement(c.Z.Row,{columns:1},a.createElement(c.Z.Column,{mobile:16,tablet:16,computer:8},a.createElement(r.Field,{name:"customProperties",label:O("console:develop.features.authenticationProvider.forms.common.customProperties"),required:!1,requiredErrorMessage:O("console:develop.features.authenticationProvider.forms.common.requiredErrorMessage"),type:"queryParams",value:L,"data-testid":"".concat(S,"-","customProperties"),readOnly:I}))),E&&(t="Update",a.createElement(c.Z.Row,{columns:1},a.createElement(c.Z.Column,{mobile:16,tablet:16,computer:8},a.createElement(i.di,{when:i.TA.IDP_EDIT},a.createElement(d.Z,{primary:!0,type:"submit",size:"small",className:"form-button",isSubmitting:P,loading:P,"data-testid":"".concat(S,"-submit-button")},t)))))))};E.defaultProps={enableSubmitButton:!0}},26826:function(e,t,n){n.d(t,{p:function(){return S},J:function(){return C}});var i=n(68905),r=n(72393),o=n(21307),a=n(11518),l=n(23339),c=n(96462),d=n(64805),u=n(83913),s=n(23177),m=n(5554),p=n(94185);function f(e){return function(e){if(Array.isArray(e))return E(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||b(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,r,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);a=!0);}catch(e){l=!0,r=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||b(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){if(e){if("string"===typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?E(e,t):void 0}}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var A="console:develop.features.authenticationProvider.forms.authenticatorSettings.saml",I=function(e){var t,n=e.authenticator,r=e.onSubmit,o=e.readOnly,a=e.isSubmitting,v=e["data-testid"],g=(0,u.v9)((function(e){return e.config})),b=(0,d.$G)().t,E=y((0,i.useState)({}),2),I=E[0],S=E[1],O=y((0,i.useState)(!1),2),C=O[0],T=O[1],R=y((0,i.useState)(!1),2),w=R[0],L=R[1],N=y((0,i.useState)(!1),2),_=N[0],D=N[1],k=y((0,i.useState)(!1),2),M=k[0],j=k[1],U=(null===g||void 0===g||null===(t=g.deployment)||void 0===t?void 0:t.customServerHost)+"/commonauth",H=y((0,i.useState)(!1),2),F=H[0],Z=H[1],x=y((0,i.useState)(!1),2),G=x[0],q=x[1],V=y((0,i.useState)(!1),2),Q=V[0],B=V[1],z=(0,i.useMemo)((function(){var e,t,i,r,o=y((0,p.qb)(n),2),a=o[0],l=o[1];return{AuthRedirectUrl:a({defaultValue:U,key:"AuthRedirectUrl"}),DigestAlgorithm:a({defaultValue:"SHA1",key:"DigestAlgorithm"}),IdPEntityId:a({defaultValue:"",key:"IdPEntityId"}),NameIDType:a({defaultValue:null!==(e=null===(t=l({key:"NameIDType"}))||void 0===t?void 0:t.defaultValue)&&void 0!==e?e:p.vD,key:"NameIDType"}),RequestMethod:a({defaultValue:null!==(i=null===(r=l({key:"RequestMethod"}))||void 0===r?void 0:r.defaultValue)&&void 0!==i?i:p.oU,key:"RequestMethod"}),SPEntityId:a({defaultValue:"",key:"SPEntityId"}),SSOUrl:a({defaultValue:"",key:"SSOUrl"}),SignatureAlgorithm:a({defaultValue:"RSA with SHA1",key:"SignatureAlgorithm"}),commonAuthQueryParams:a({defaultValue:"",key:"commonAuthQueryParams"}),LogoutReqUrl:a({defaultValue:"",key:"LogoutReqUrl"}),IncludeProtocolBinding:a({defaultValue:!1,key:"IncludeProtocolBinding"}),ISAuthnReqSigned:a({defaultValue:!1,key:"ISAuthnReqSigned"}),IsAuthnRespSigned:a({defaultValue:!1,key:"IsAuthnRespSigned"}),IsLogoutEnabled:a({defaultValue:!1,key:"IsLogoutEnabled"}),IsLogoutReqSigned:a({defaultValue:!1,key:"IsLogoutReqSigned"}),IsSLORequestAccepted:a({defaultValue:!1,key:"IsSLORequestAccepted"}),IsUserIdInClaims:a({defaultValue:!1,key:"IsUserIdInClaims"})}}),[]);(0,i.useEffect)((function(){T(z.IsSLORequestAccepted),L(z.IncludeProtocolBinding),D(z.IsUserIdInClaims),j(z.IsLogoutEnabled),Z(z.IsLogoutReqSigned),q(z.ISAuthnReqSigned),S(h({},z))}),[z]),(0,i.useEffect)((function(){B(F||G)}),[F,G]);var Y=function(){return F||G?p.C1:function(){}};return i.createElement(l.l0,{onSubmit:function(e){var t={ISAuthnReqSigned:G,IncludeProtocolBinding:w,IsLogoutEnabled:M,IsLogoutReqSigned:F,IsSLORequestAccepted:C,IsUserIdInClaims:_},i=new Set(Object.keys(t)),o=h(h({},n.data),{},{properties:[].concat(f(Object.keys(e).filter((function(e){return!i.has(e)})).map((function(t){return{key:t,value:e[t]}}))),f(Object.keys(t).map((function(e){return{key:e,value:t[e]}}))))});r(o)},uncontrolledForm:!0,initialValues:I},i.createElement(l.gN.Input,{required:!0,name:"SPEntityId",value:null===I||void 0===I?void 0:I.SPEntityId,placeholder:b("".concat(A,".SPEntityId.placeholder")),ariaLabel:b("".concat(A,".SPEntityId.ariaLabel")),inputType:"default",maxLength:p.Qp.max,minLength:p.Qp.min,label:i.createElement(c.FormInputLabel,{htmlFor:"SPEntityId"},b("".concat(A,".SPEntityId.label"))),validate:(0,p.A3)(p.C1,(0,p.d_)(p.Qp)),hint:i.createElement(i.Fragment,null,"This value will be used as the ",i.createElement(c.Code,null,"<saml2:Issuer>")," in the SAML requests initiated from ",g.ui.productName," to external Identity Provider (IdP). You need to provide a unique value as the service provider ",i.createElement(c.Code,null,"entityId"),"."),readOnly:o}),i.createElement(l.gN.Input,{required:!0,name:"SSOUrl",value:null===I||void 0===I?void 0:I.SSOUrl,inputType:"default",placeholder:b("".concat(A,".SSOUrl.placeholder")),ariaLabel:b("".concat(A,".SSOUrl.ariaLabel")),"data-testid":"".concat(v,"-SSOUrl-field"),label:i.createElement(c.FormInputLabel,{htmlFor:"SSOUrl"},b("".concat(A,".SSOUrl.label"))),maxLength:p.Ml.max,minLength:p.Ml.min,validate:(0,p.A3)(p.C1,p.CB,(0,p.d_)(p.Ml)),hint:b("".concat(A,".SSOUrl.hint"),{productName:g.ui.productName}),readOnly:o}),i.createElement(l.gN.Input,{name:"AuthRedirectUrl",value:null===I||void 0===I?void 0:I.AuthRedirectUrl,inputType:"copy_input",placeholder:b("".concat(A,".AuthRedirectUrl.placeholder")),ariaLabel:b("".concat(A,".AuthRedirectUrl.ariaLabel")),"data-testid":"".concat(v,"-authorized-redirect-url"),label:i.createElement(c.FormInputLabel,{htmlFor:"AuthRedirectUrl",disabled:!0},b("".concat(A,".AuthRedirectUrl.label"))),maxLength:p.wr.max,minLength:p.wr.min,hint:b("".concat(A,".AuthRedirectUrl.hint"),{productName:g.ui.productName}),readOnly:o}),i.createElement(l.gN.Input,{required:!0,name:"IdPEntityId",value:null===I||void 0===I?void 0:I.IdPEntityId,inputType:"default",placeholder:b("".concat(A,".IdPEntityId.placeholder")),ariaLabel:b("".concat(A,".IdPEntityId.ariaLabel")),"data-testid":"".concat(v,"-IdPEntityId-field"),label:i.createElement(c.FormInputLabel,{htmlFor:"IdPEntityId",disabled:!0},b("".concat(A,".IdPEntityId.label"))),maxLength:p.UG.max,minLength:p.UG.min,validate:(0,p.A3)(p.C1,(0,p.d_)(p.UG)),hint:i.createElement(i.Fragment,null,"This is the ",i.createElement(c.Code,null,"<saml2:Issuer>")," value specified in the SAML responses issued by the external IdP. Also, this needs to be a unique value to identify the external IdP within your organization."),readOnly:o}),i.createElement(l.gN.Dropdown,{required:!0,name:"NameIDType",value:null===I||void 0===I?void 0:I.NameIDType,defaultValue:null===I||void 0===I?void 0:I.NameIDType,placeholder:b("".concat(A,".NameIDType.placeholder")),ariaLabel:b("".concat(A,".NameIDType.ariaLabel")),"data-testid":"".concat(v,"-NameIDType-field"),options:(0,p.Ex)(),label:i.createElement(c.FormInputLabel,{htmlFor:"NameIDType"},b("".concat(A,".NameIDType.label"))),validate:p.C1,hint:b("".concat(A,".NameIDType.hint"),{productName:g.ui.productName}),readOnly:o}),i.createElement(l.gN.Dropdown,{required:!0,name:"RequestMethod",value:null===I||void 0===I?void 0:I.RequestMethod,defaultValue:null===I||void 0===I?void 0:I.RequestMethod,placeholder:b("".concat(A,".RequestMethod.placeholder")),ariaLabel:b("".concat(A,".RequestMethod.ariaLabel")),"data-testid":"".concat(v,"-RequestMethod-field"),options:(0,p.Hd)(),label:i.createElement(c.FormInputLabel,{htmlFor:"RequestMethod"},b("".concat(A,".RequestMethod.label"))),validate:p.C1,hint:b("".concat(A,".RequestMethod.hint")),readOnly:o}),i.createElement("div",null),i.createElement(c.FormSection,{heading:"Single Logout"},i.createElement(s.Z,null,i.createElement(P,null,i.createElement(l.gN.Checkbox,{name:"IsSLORequestAccepted",initialValue:C,ariaLabel:b("".concat(A,".IsSLORequestAccepted.ariaLabel")),"data-testid":"".concat(v,"-IsSLORequestAccepted-field"),label:i.createElement(c.FormInputLabel,{htmlFor:"IsSLORequestAccepted"},b("".concat(A,".IsSLORequestAccepted.label"))),hint:b("".concat(A,".IsSLORequestAccepted.hint"),{productName:g.ui.productName}),listen:function(e){return T(Boolean(e))},readOnly:o})),i.createElement(P,null,i.createElement(l.gN.Checkbox,{required:!1,name:"IsLogoutEnabled",initialValue:M,ariaLabel:b("".concat(A,".IsLogoutEnabled.ariaLabel")),"data-testid":"".concat(v,"-IsLogoutEnabled-field"),label:i.createElement(c.FormInputLabel,{htmlFor:"IsLogoutEnabled"},b("".concat(A,".IsLogoutEnabled.label"))),hint:b("".concat(A,".IsLogoutEnabled.hint")),listen:function(e){return j(Boolean(e))},readOnly:o})),i.createElement(P,null,i.createElement(l.gN.Input,{name:"LogoutReqUrl",value:null===I||void 0===I?void 0:I.LogoutReqUrl,inputType:"url",disabled:!M,placeholder:b("".concat(A,".LogoutReqUrl.placeholder")),ariaLabel:b("".concat(A,".LogoutReqUrl.ariaLabel")),"data-testid":"".concat(v,"-LogoutReqUrl-field"),label:i.createElement(c.FormInputLabel,{htmlFor:"LogoutReqUrl"},b("".concat(A,".LogoutReqUrl.label"))),maxLength:p.Gq.max,minLength:p.Gq.min,hint:b("".concat(A,".LogoutReqUrl.hint")),readOnly:o}))),i.createElement(m.Z,{hidden:!0})),i.createElement(c.FormSection,{heading:"Request & Response Signing"},i.createElement(s.Z,null,i.createElement(P,null,i.createElement(l.gN.Checkbox,{required:!1,disabled:!1,name:"IsAuthnRespSigned",ariaLabel:b("".concat(A,".IsAuthnRespSigned.ariaLabel")),"data-testid":"".concat(v,"-IsAuthnRespSigned-field"),label:i.createElement(c.FormInputLabel,{htmlFor:"IsAuthnRespSigned"},b("".concat(A,".IsAuthnRespSigned.label"))),hint:b("".concat(A,".IsAuthnRespSigned.hint")),readOnly:o})),i.createElement(P,null,i.createElement(l.gN.Checkbox,{required:!1,name:"IsLogoutReqSigned",initialValue:F,ariaLabel:b("".concat(A,".IsLogoutReqSigned.ariaLabel")),"data-testid":"".concat(v,"-IsLogoutReqSigned-field"),label:i.createElement(c.FormInputLabel,{htmlFor:"IsLogoutEnabled"},b("".concat(A,".IsLogoutReqSigned.label"))),hint:b("".concat(A,".IsLogoutReqSigned.hint"),{productName:g.ui.productName}),listen:function(e){return Z(Boolean(e))},readOnly:o})),i.createElement(P,null,i.createElement(l.gN.Checkbox,{required:!1,name:"ISAuthnReqSigned",initialValue:G,ariaLabel:b("".concat(A,".ISAuthnReqSigned.ariaLabel")),"data-testid":"".concat(v,"-ISAuthnReqSigned-field"),label:i.createElement(c.FormInputLabel,{htmlFor:"ISAuthnReqSigned"},b("".concat(A,".ISAuthnReqSigned.label"))),hint:b("".concat(A,".ISAuthnReqSigned.hint"),{productName:g.ui.productName}),listen:function(e){return q(Boolean(e))},readOnly:o})),i.createElement(P,null,i.createElement(l.gN.Dropdown,{value:null===I||void 0===I?void 0:I.SignatureAlgorithm,required:Q,name:"SignatureAlgorithm",type:"select",disabled:!Q,placeholder:b("".concat(A,".SignatureAlgorithm.placeholder")),ariaLabel:b("".concat(A,".SignatureAlgorithm.ariaLabel")),"data-testid":"".concat(v,"-SignatureAlgorithm-field"),options:(0,p.rP)(n.meta),label:i.createElement(c.FormInputLabel,{htmlFor:"SignatureAlgorithm"},b("".concat(A,".SignatureAlgorithm.label"))),validate:Y(),readOnly:o})),i.createElement(P,null,i.createElement(l.gN.Dropdown,{required:Q,name:"DigestAlgorithm",value:null===I||void 0===I?void 0:I.DigestAlgorithm,type:"select",disabled:!Q,placeholder:b("".concat(A,".DigestAlgorithm.placeholder")),ariaLabel:b("".concat(A,".DigestAlgorithm.ariaLabel")),"data-testid":"".concat(v,"-DigestAlgorithm-field"),options:(0,p.xU)(n.meta),label:i.createElement(c.FormInputLabel,{htmlFor:"DigestAlgorithm"},b("".concat(A,".DigestAlgorithm.label"))),validate:Y(),readOnly:o}))),i.createElement(m.Z,{hidden:!0})),i.createElement(c.FormSection,{heading:"Advanced"},i.createElement(s.Z,null,i.createElement(P,null,i.createElement(l.gN.Checkbox,{required:!1,name:"IncludeProtocolBinding",initialValue:w,ariaLabel:b("".concat(A,".IncludeProtocolBinding.ariaLabel")),"data-testid":"".concat(v,"-IncludeProtocolBinding-field"),label:i.createElement(c.FormInputLabel,{htmlFor:"IncludeProtocolBinding"},b("".concat(A,".IncludeProtocolBinding.label"))),hint:b("".concat(A,".IncludeProtocolBinding.hint")),listen:function(e){return L(Boolean(e))},readOnly:o})),i.createElement(P,null,i.createElement(l.gN.Checkbox,{required:!1,name:"IsUserIdInClaims",initialValue:_,ariaLabel:b("".concat(A,".IsUserIdInClaims.ariaLabel")),"data-testid":"".concat(v,"-IsUserIdInClaims-field"),label:i.createElement(c.FormInputLabel,{htmlFor:"IsUserIdInClaims"},b("".concat(A,".IsUserIdInClaims.label"))),hint:b("".concat(A,".IsUserIdInClaims.hint")),listen:function(e){return D(Boolean(e))},readOnly:o})),i.createElement(P,null,i.createElement(l.gN.QueryParams,{value:null===I||void 0===I?void 0:I.commonAuthQueryParams,label:b("".concat(A,".commonAuthQueryParams.label")),ariaLabel:b("".concat(A,".commonAuthQueryParams.ariaLabel")),name:"commonAuthQueryParams",readOnly:o}))),i.createElement(m.Z,{hidden:!0})),i.createElement(l.gN.Button,{size:"small",buttonType:"primary_btn",ariaLabel:"SAML authenticator update button",name:"update-button","data-testid":"".concat(v,"-submit-button"),disabled:a,loading:a,label:b("common:update"),hidden:o}))};I.defaultProps={"data-testid":"saml-authenticator-settings-form"};var P=function(e){var t=e.width,n=void 0===t?16:t,r=e.children;return i.createElement(s.Z.Row,{columns:1},i.createElement(s.Z.Column,{width:n},r))},S=function(e){var t=e.authenticator,n=e.metadata,l=e.mode,c=e.initialValues,d=e.onSubmit,u=e.type,s=e.triggerSubmit,m=e.enableSubmitButton,p=e.showCustomProperties,f=e.isReadOnly,v=e.isSubmitting,h=e.templateId,g=e["data-testid"],y=r.identityProviderConfig.editIdentityProvider.getOverriddenAuthenticatorForm(u,h,{"data-componentid":g,enableSubmitButton:m,initialValues:c,isSubmitting:v,metadata:n,onSubmit:d,readOnly:f,showCustomProperties:p,triggerSubmit:s});if(y)return y;switch(u){case o.bQ.GOOGLE_OIDC_AUTHENTICATOR_ID:return i.createElement(a.f6,{mode:l,initialValues:c,metadata:n,onSubmit:d,triggerSubmit:s,enableSubmitButton:m,"data-testid":g,showCustomProperties:p,readOnly:f,isSubmitting:v});case o.bQ.FACEBOOK_AUTHENTICATOR_ID:return i.createElement(a.Yg,{mode:l,initialValues:c,metadata:n,onSubmit:d,triggerSubmit:s,enableSubmitButton:m,"data-testid":g,showCustomProperties:p,readOnly:f,isSubmitting:v});case o.bQ.GITHUB_AUTHENTICATOR_ID:return i.createElement(a.bS,{mode:l,initialValues:c,metadata:n,onSubmit:d,triggerSubmit:s,enableSubmitButton:m,"data-testid":g,showCustomProperties:p,readOnly:f,isSubmitting:v});case o.bQ.EMAIL_OTP_AUTHENTICATOR_ID:return i.createElement(a.rj,{mode:l,initialValues:c,metadata:n,onSubmit:d,triggerSubmit:s,enableSubmitButton:m,"data-testid":g,showCustomProperties:p,readOnly:f,isSubmitting:v});case o.bQ.SAML_AUTHENTICATOR_ID:return i.createElement(I,{mode:l,onSubmit:d,authenticator:t,readOnly:f,isSubmitting:v});default:return i.createElement(a.OG,{mode:l,initialValues:c,metadata:n,onSubmit:d,triggerSubmit:s,enableSubmitButton:m,"data-testid":g,showCustomProperties:p,readOnly:f,isSubmitting:v})}};S.defaultProps={enableSubmitButton:!0},S.defaultProps={"data-testid":"idp-edit-authenticator-settings-form-factory"};var O=n(33012),C=function(e){var t=e.metadata,n=e.mode,r=e.initialValues,o=e.onSubmit,a=(e.type,e.triggerSubmit),l=e.enableSubmitButton,c=e.isReadOnly,d=e["data-testid"];return i.createElement(i.Fragment,null,i.createElement(O.Ev,{mode:n,initialValues:r,metadata:t,onSubmit:o,triggerSubmit:a,enableSubmitButton:l,"data-testid":d,readOnly:c}))};C.defaultProps={enableSubmitButton:!0},C.defaultProps={"data-testid":"idp-edit-outbound-provisioning-settings-form-factory"}},39971:function(e,t,n){n.d(t,{F$:function(){return r},fS:function(){return i},Ql:function(){return h},xc:function(){return g}});var i,r,o=n(26776),a=n(22260),l=n(96462),c=n(48749),d=n(68905),u=n(23177),s=n(59867),m=n(67897),p=n(95823),f=function(e,t){return t.map((function(t){return{key:e,text:"RequestMethod"===e?v(t):t,value:t}}))},v=function(e){switch(e){case"redirect":return"HTTP Redirect";case"post":return"HTTP Post";case"as_request":return"As Per Request";default:return e}};!function(e){e.CHECKBOX="CheckBox",e.TEXT="Text",e.TABLE="Table",e.CONFIDENTIAL="Confidential",e.URL="URL",e.QUERY_PARAMS="QueryParameters",e.DROP_DOWN="DropDown",e.RADIO="Radio",e.COPY_INPUT="CopyInput"}(i||(i={})),function(e){e.BOOLEAN="BOOLEAN",e.FIELD_COMPONENT_KEYWORD_URL="URL",e.FIELD_COMPONENT_KEYWORD_QUERY_PARAMETER="QUERYPARAM",e.SCOPE_KEY="scopes",e.RADIO="RADIO"}(r||(r={}));var h=function(e,t){var n,o,a;return(null===e||void 0===e||null===(n=e.type)||void 0===n?void 0:n.toUpperCase())===r.BOOLEAN?i.CHECKBOX:null!==e&&void 0!==e&&e.isConfidential?i.CONFIDENTIAL:(null===e||void 0===e?void 0:e.key)===r.SCOPE_KEY?i.TABLE:null!==e&&void 0!==e&&e.key.toUpperCase().includes(r.FIELD_COMPONENT_KEYWORD_URL)?"callbackUrl"===(null===e||void 0===e?void 0:e.key)&&t!==s.Pk.CREATE?i.COPY_INPUT:i.URL:null!==e&&void 0!==e&&e.key.toUpperCase().includes(r.FIELD_COMPONENT_KEYWORD_QUERY_PARAMETER)?i.QUERY_PARAMS:(null===e||void 0===e||null===(o=e.options)||void 0===o?void 0:o.length)>0?i.DROP_DOWN:(null===(a=e.type)||void 0===a?void 0:a.toUpperCase())===r.RADIO?i.RADIO:i.TEXT},g=function(e,t,n,r,s){switch(h(t,n)){case i.CHECKBOX:return r?function(e,t,n,i){return d.createElement(d.Fragment,null,d.createElement(o.Field,{name:null===t||void 0===t?void 0:t.key,key:null===t||void 0===t?void 0:t.key,type:"checkbox",required:null===t||void 0===t?void 0:t.isMandatory,value:null!==e&&void 0!==e&&e.value?[null===e||void 0===e?void 0:e.key]:[],requiredErrorMessage:a.I18n.instance.t("console:develop.features.authenticationProvider.forms.common.requiredErrorMessage"),children:[{label:null===t||void 0===t?void 0:t.displayName,value:e?e.key:null===t||void 0===t?void 0:t.key}],listen:function(e){n(t.key,e)},disabled:null===t||void 0===t?void 0:t.isDisabled,readOnly:null===t||void 0===t?void 0:t.readOnly,"data-testid":"".concat(i,"-").concat(null===t||void 0===t?void 0:t.key)}),(null===t||void 0===t?void 0:t.description)&&d.createElement(l.Hint,{disabled:null===t||void 0===t?void 0:t.isDisabled},null===t||void 0===t?void 0:t.description))}(e,t,r,s):function(e,t,n){return d.createElement(d.Fragment,null,d.createElement(o.Field,{name:null===t||void 0===t?void 0:t.key,key:null===t||void 0===t?void 0:t.key,type:"checkbox",required:!1,value:"true"==(null===e||void 0===e?void 0:e.value)?[null===e||void 0===e?void 0:e.key]:[],requiredErrorMessage:a.I18n.instance.t("console:develop.features.authenticationProvider.forms.common.requiredErrorMessage"),children:[{label:null===t||void 0===t?void 0:t.displayName,value:e?e.key:null===t||void 0===t?void 0:t.key}],disabled:null===t||void 0===t?void 0:t.isDisabled,readOnly:null===t||void 0===t?void 0:t.readOnly,"data-testid":"".concat(n,"-").concat(null===t||void 0===t?void 0:t.key)}),(null===t||void 0===t?void 0:t.description)&&d.createElement(l.Hint,{disabled:null===t||void 0===t?void 0:t.isDisabled},null===t||void 0===t?void 0:t.description))}(e,t,s);case i.RADIO:return r?function(e,t,n,i){var r;return d.createElement(d.Fragment,null,d.createElement(o.Field,{label:null===t||void 0===t?void 0:t.displayName,name:null===t||void 0===t?void 0:t.key,key:null===t||void 0===t?void 0:t.key,type:"radio",required:null===t||void 0===t?void 0:t.isMandatory,value:null===t||void 0===t?void 0:t.defaultValue,default:null===t||void 0===t?void 0:t.defaultValue,requiredErrorMessage:a.I18n.instance.t("console:develop.features.authenticationProvider.forms.common.requiredErrorMessage"),children:null===t||void 0===t||null===(r=t.subProperties)||void 0===r?void 0:r.map((function(e,t){return{label:e.displayName,value:e.defaultValue}})),listen:function(e){n(null===t||void 0===t?void 0:t.key,e)},disabled:null===t||void 0===t?void 0:t.isDisabled,readOnly:null===t||void 0===t?void 0:t.readOnly,"data-testid":"".concat(i,"-").concat(null===t||void 0===t?void 0:t.key)}),(null===t||void 0===t?void 0:t.description)&&d.createElement(l.Hint,{disabled:null===t||void 0===t?void 0:t.isDisabled},null===t||void 0===t?void 0:t.description))}(0,t,r,s):function(e,t,n){var i;return d.createElement(d.Fragment,null,d.createElement(o.Field,{label:null===t||void 0===t?void 0:t.displayName,name:null===t||void 0===t?void 0:t.key,key:null===t||void 0===t?void 0:t.key,type:"radio",required:null===t||void 0===t?void 0:t.isMandatory,default:null===t||void 0===t?void 0:t.defaultValue,requiredErrorMessage:a.I18n.instance.t("console:develop.features.authenticationProvider.forms.common.requiredErrorMessage"),children:null===t||void 0===t||null===(i=t.subProperties)||void 0===i?void 0:i.map((function(e,t){return{label:e.displayName,value:e.defaultValue}})),disabled:null===t||void 0===t?void 0:t.isDisabled,readOnly:null===t||void 0===t?void 0:t.readOnly,"data-testid":"".concat(n,"-").concat(null===t||void 0===t?void 0:t.key)}),(null===t||void 0===t?void 0:t.description)&&d.createElement(l.Hint,{disabled:null===t||void 0===t?void 0:t.isDisabled},null===t||void 0===t?void 0:t.description))}(0,t,s);case i.CONFIDENTIAL:return function(e,t,n){return d.createElement(d.Fragment,null,d.createElement(o.Field,{showPassword:"Show Secret",hidePassword:"Hide Secret",label:null===t||void 0===t?void 0:t.displayName,name:null===t||void 0===t?void 0:t.key,placeholder:null===t||void 0===t?void 0:t.defaultValue,required:null===t||void 0===t?void 0:t.isMandatory,requiredErrorMessage:a.I18n.instance.t("console:develop.features.authenticationProvider.forms.common.requiredErrorMessage"),value:null===e||void 0===e?void 0:e.value,type:"password",disabled:null===t||void 0===t?void 0:t.isDisabled,readOnly:null===t||void 0===t?void 0:t.readOnly,validation:function(e,n){null!==t&&void 0!==t&&t.maxLength&&e.length>t.maxLength&&(n.isValid=!1,n.errorMessages.push(t.displayName+" cannot have more than "+t.maxLength+" characters."))},"data-testid":"".concat(n,"-").concat(null===t||void 0===t?void 0:t.key)}),(null===t||void 0===t?void 0:t.description)&&d.createElement(l.Hint,{disabled:null===t||void 0===t?void 0:t.isDisabled},null===t||void 0===t?void 0:t.description))}(e,t,s);case i.URL:return function(e,t,n){return d.createElement(d.Fragment,null,d.createElement(o.Field,{name:null===t||void 0===t?void 0:t.key,label:null===t||void 0===t?void 0:t.displayName,required:null===t||void 0===t?void 0:t.isMandatory,requiredErrorMessage:a.I18n.instance.t("console:develop.features.authenticationProvider.forms.common.requiredErrorMessage"),placeholder:null===t||void 0===t?void 0:t.defaultValue,validation:function(e,n){c.I.url(e)||(n.isValid=!1,n.errorMessages.push(a.I18n.instance.t("console:develop.features.authenticationProvider.forms.common.invalidURLErrorMessage"))),null!==m.commonConfig&&void 0!==m.commonConfig&&m.commonConfig.blockLoopBackCalls&&p.URLUtils.isLoopBackCall(e)&&("OAuth2AuthzEPUrl"===(null===t||void 0===t?void 0:t.key)||"OAuth2TokenEPUrl"===(null===t||void 0===t?void 0:t.key)||"UserInfoUrl"===(null===t||void 0===t?void 0:t.key))&&(n.isValid=!1,n.errorMessages.push(a.I18n.instance.t("console:develop.features.idp.forms.common.internetResolvableErrorMessage")))},type:"text",value:null===e||void 0===e?void 0:e.value,key:null===t||void 0===t?void 0:t.key,disabled:null===t||void 0===t?void 0:t.isDisabled,readOnly:null===t||void 0===t?void 0:t.readOnly,"data-testid":"".concat(n,"-").concat(null===t||void 0===t?void 0:t.key)}),(null===t||void 0===t?void 0:t.description)&&d.createElement(l.Hint,{disabled:null===t||void 0===t?void 0:t.isDisabled},null===t||void 0===t?void 0:t.description))}(e,t,s);case i.COPY_INPUT:return function(e,t,n){return d.createElement(d.Fragment,null,d.createElement("div",{className:"field ".concat(null!==t&&void 0!==t&&t.isMandatory?"required":"")},d.createElement("label",null,null===t||void 0===t?void 0:t.displayName)),d.createElement(l.CopyInputField,{key:null===t||void 0===t?void 0:t.key,"data-testid":"".concat(n,"-").concat(null===t||void 0===t?void 0:t.key),value:null===e||void 0===e?void 0:e.value}),(null===t||void 0===t?void 0:t.description)&&d.createElement(l.Hint,{disabled:null===t||void 0===t?void 0:t.isDisabled},null===t||void 0===t?void 0:t.description))}(e,t,s);case i.QUERY_PARAMS:return function(e,t,n){return d.createElement(d.Fragment,null,d.createElement(o.Field,{name:null===t||void 0===t?void 0:t.key,label:null===t||void 0===t?void 0:t.displayName,required:null===t||void 0===t?void 0:t.isMandatory,requiredErrorMessage:a.I18n.instance.t("console:develop.features.authenticationProvider.forms.common.requiredErrorMessage"),validation:function(e,t){c.I.url("https://www.sample.com?"+e)||(t.isValid=!1,t.errorMessages.push(a.I18n.instance.t("console:develop.features.authenticationProvider.forms.common.invalidQueryParamErrorMessage")))},type:"queryParams",value:null===e||void 0===e?void 0:e.value,key:null===t||void 0===t?void 0:t.key,disabled:null===t||void 0===t?void 0:t.isDisabled,readOnly:null===t||void 0===t?void 0:t.readOnly,"data-testid":"".concat(n,"-").concat(null===t||void 0===t?void 0:t.key)}),(null===t||void 0===t?void 0:t.description)&&d.createElement(l.Hint,{disabled:null===t||void 0===t?void 0:t.isDisabled},null===t||void 0===t?void 0:t.description))}(e,t,s);case i.DROP_DOWN:return function(e,t,n){return d.createElement(d.Fragment,null,d.createElement(o.Field,{name:(null===e||void 0===e?void 0:e.key)||(null===t||void 0===t?void 0:t.key),label:null===t||void 0===t?void 0:t.displayName,required:null===t||void 0===t?void 0:t.isMandatory,requiredErrorMessage:a.I18n.instance.t("console:develop.features.authenticationProvider.forms.common.requiredErrorMessage"),type:"dropdown",value:(null===e||void 0===e?void 0:e.value)||(null===t||void 0===t?void 0:t.key),key:(null===e||void 0===e?void 0:e.key)||(null===t||void 0===t?void 0:t.key),children:f(null===e||void 0===e?void 0:e.key,null===t||void 0===t?void 0:t.options),disabled:null===t||void 0===t?void 0:t.isDisabled,readOnly:null===t||void 0===t?void 0:t.readOnly,"data-testid":"".concat(n,"-").concat(null===t||void 0===t?void 0:t.key)}),(null===t||void 0===t?void 0:t.description)&&d.createElement(l.Hint,{disabled:null===t||void 0===t?void 0:t.isDisabled},null===t||void 0===t?void 0:t.description))}(e,t,s);case i.TABLE:return function(e,t,n){return d.createElement(d.Fragment,null,d.createElement("div",{className:"field read-only"},d.createElement("div",null,d.createElement("div",{className:"field"},d.createElement("label",null,null===t||void 0===t?void 0:t.displayName)))),d.createElement(o.Field,{hidden:!0,name:null===t||void 0===t?void 0:t.key,label:null===t||void 0===t?void 0:t.displayName,required:null===t||void 0===t?void 0:t.isMandatory,requiredErrorMessage:a.I18n.instance.t("console:develop.features.authenticationProvider.forms.common.requiredErrorMessage"),placeholder:null===t||void 0===t?void 0:t.defaultValue,type:"text",value:null===e||void 0===e?void 0:e.value,key:null===e||void 0===e?void 0:e.key,disabled:null===t||void 0===t?void 0:t.isDisabled,readOnly:null===t||void 0===t?void 0:t.readOnly,"data-testid":"".concat(n,"-").concat(null===t||void 0===t?void 0:t.key),validation:function(e,n){null!==t&&void 0!==t&&t.regex&&!RegExp(t.regex).test(e)&&(n.isValid=!1,n.errorMessages.push(a.I18n.instance.t("console:manage.features.users.forms.validation.formatError",{field:null===t||void 0===t?void 0:t.displayName}))),null!==t&&void 0!==t&&t.maxLength&&e.length>t.maxLength&&(n.isValid=!1,n.errorMessages.push(t.displayName+" cannot have more than "+t.maxLength+" characters."))}}),d.createElement(u.Z,null,null===e||void 0===e?void 0:e.value.split(" ").map((function(e,i){return d.createElement(u.Z.Row,{columns:3,key:i},d.createElement(u.Z.Column,{mobile:1,tablet:1,computer:1},d.createElement(l.GenericIcon,{icon:t.properties[e].icon,size:"micro",square:!0,transparent:!0,inline:!0,className:"left-icon",verticalAlign:"top",spaced:"left"})),d.createElement(u.Z.Column,{mobile:2,tablet:2,computer:2},d.createElement("div",{"data-testid":"".concat(n,"-authorize-label"),className:"scope-name"},e)),d.createElement(u.Z.Column,{mobile:13,tablet:13,computer:13},d.createElement("div",{"data-testid":"".concat(n,"-authorize-label"),className:"scope-name"},t.properties[e].description)))}))),(null===t||void 0===t?void 0:t.description)&&d.createElement(l.Hint,{disabled:null===t||void 0===t?void 0:t.isDisabled},null===t||void 0===t?void 0:t.description))}(e,t,s);default:return function(e,t,n){return d.createElement(d.Fragment,null,d.createElement(o.Field,{name:null===t||void 0===t?void 0:t.key,label:null===t||void 0===t?void 0:t.displayName,required:null===t||void 0===t?void 0:t.isMandatory,requiredErrorMessage:a.I18n.instance.t("console:develop.features.authenticationProvider.forms.common.requiredErrorMessage"),placeholder:null===t||void 0===t?void 0:t.defaultValue,type:"text",value:null===e||void 0===e?void 0:e.value,key:null===e||void 0===e?void 0:e.key,disabled:null===t||void 0===t?void 0:t.isDisabled,readOnly:null===t||void 0===t?void 0:t.readOnly,"data-testid":"".concat(n,"-").concat(null===t||void 0===t?void 0:t.key),validation:function(e,n){null!==t&&void 0!==t&&t.regex&&!RegExp(t.regex).test(e)&&(n.isValid=!1,n.errorMessages.push(a.I18n.instance.t("console:manage.features.users.forms.validation.formatError",{field:null===t||void 0===t?void 0:t.displayName}))),null!==t&&void 0!==t&&t.maxLength&&e.length>t.maxLength&&(n.isValid=!1,n.errorMessages.push(t.displayName+" cannot have more than "+t.maxLength+" characters."))}}),(null===t||void 0===t?void 0:t.description)&&d.createElement(l.Hint,{disabled:null===t||void 0===t?void 0:t.isDisabled},null===t||void 0===t?void 0:t.description))}(e,t,s)}}},87385:function(e,t,n){n.d(t,{xg:function(){return g},pw:function(){return b.p},DU:function(){return p},Oz:function(){return C},Jz:function(){return b.J}});var i=n(23339),r=n(96462),o=n(48749),a=n(68905),l=n(64805),c=n(5554),d=n(23177),u=n(67897),s=n(21307),m=n(37109),p=function(e){var t=e.name,n=e.description,p=e.imageUrl,f=e.onSubmit,v=e.onUpdate,h=e.editingIDP,g=e.idpList,y=e.hideIdPLogoEditField,b=e.isReadOnly,E=e.isSaml,A=(e.isOidc,e.isSubmitting),I=e["data-testid"],P=(0,a.useMemo)((function(){return u.identityProviderConfig.editIdentityProvider.getCertificateOptionsForTemplate(null===h||void 0===h?void 0:h.templateId)}),[]),S=(0,l.$G)().t,O=function(e){var t,n,i;f({description:null===(t=e.description)||void 0===t?void 0:t.toString(),image:null===(n=e.image)||void 0===n?void 0:n.toString(),isPrimary:!!e.isPrimary,name:null===(i=e.name)||void 0===i?void 0:i.toString()})};return a.createElement(a.Fragment,null,a.createElement(r.EmphasizedSegment,{padded:"very"},a.createElement(i.l0,{uncontrolledForm:!1,onSubmit:function(e){O(e)},"data-testid":I},a.createElement(i.gN.Input,{ariaLabel:"name",inputType:"resource_name",name:"name",label:S("console:develop.features.authenticationProvider.forms.generalDetails.name.label"),required:!0,message:S("console:develop.features.authenticationProvider.forms.generalDetails.name.validations.empty"),placeholder:t,validation:function(e){return function(e){if(!o.I.isValidResourceName(e))return S("console:develop.features.authenticationProvider.templates.enterprise.validation.name");var n=!1;return(null===g||void 0===g?void 0:g.count)>0&&(null===g||void 0===g||g.identityProviders.map((function(i){(null===i||void 0===i?void 0:i.name)===e&&t!==e&&(n=!0)}))),n?S("console:develop.features.authenticationProvider.forms.generalDetails.name.validations.duplicate"):void 0}(e)},value:t,maxLength:50,minLength:3,"data-testid":"".concat(I,"-idp-name"),hint:S("console:develop.features.authenticationProvider.forms.generalDetails.name.hint"),readOnly:b}),a.createElement(i.gN.Textarea,{name:"description",ariaLabel:"description",label:S("console:develop.features.authenticationProvider.forms.generalDetails.description.label"),required:!1,placeholder:S("console:develop.features.authenticationProvider.forms.generalDetails.description.placeholder"),value:n,"data-testid":"".concat(I,"-idp-description"),maxLength:300,minLength:3,hint:S("console:develop.features.authenticationProvider.forms.generalDetails.description.hint"),readOnly:b}),!y&&a.createElement(i.gN.Input,{name:"image",ariaLabel:"image",inputType:"url",label:S("console:develop.features.authenticationProvider.forms.generalDetails.image.label"),required:!1,placeholder:S("console:develop.features.authenticationProvider.forms.generalDetails.image.placeholder"),value:p,"data-testid":"".concat(I,"-idp-image"),maxLength:s.bQ.GENERAL_FORM_CONSTRAINTS.IMAGE_URL_MAX_LENGTH,minLength:s.bQ.GENERAL_FORM_CONSTRAINTS.IMAGE_URL_MIN_LENGTH,hint:S("console:develop.features.authenticationProvider.forms.generalDetails.image.hint"),readOnly:b}),!b&&a.createElement(i.gN.Button,{ariaLabel:"Update General Details",size:"small",buttonType:"primary_btn",label:S("common:update"),name:"submit",disabled:A,loading:A}))),function(){var e=u.identityProviderConfig.generalDetailsForm.showCertificate;return void 0===P||P.JWKS||P.PEM||(e=!1),e}()&&a.createElement(a.Fragment,null,a.createElement(c.Z,{hidden:!0}),a.createElement(d.Z,null,a.createElement(d.Z.Row,{columns:1},a.createElement(d.Z.Column,{mobile:16,tablet:16,computer:16},a.createElement(r.Heading,{as:"h4"},"Certificates")))),a.createElement(m.v_,{isJWKSEnabled:void 0!==P?P.JWKS:!E,isReadOnly:b,editingIDP:h,onUpdate:v,isPEMEnabled:void 0===P||P.PEM})))};p.defaultProps={"data-testid":"idp-edit-general-settings-form",enableWizardMode:!1,hideIdPLogoEditField:!1,triggerSubmit:!1};var f=n(69883),v=n(26776),h=n(84504),g=function(e){var t=e.config,n=e.onSubmit,i=e.isReadOnly,o=e.isSubmitting,c=e["data-testid"],u=(0,l.$G)().t;return a.createElement(v.Forms,{onSubmit:function(e){return n(function(e){var t;return{alias:e.get("alias"),homeRealmIdentifier:e.get("homeRealmIdentifier"),isFederationHub:!(null===(t=e.get("federationHub"))||void 0===t||!t.includes("federationHub"))}}(e))}},a.createElement(d.Z,null,a.createElement(d.Z.Row,{columns:1},a.createElement(d.Z.Column,{mobile:16,tablet:16,computer:8},a.createElement(v.Field,{name:"federationHub",label:"",required:!1,requiredErrorMessage:u("console:develop.features.authenticationProvider.forms.common.requiredErrorMessage"),value:null!==t&&void 0!==t&&t.isFederationHub?["federationHub"]:[],type:"checkbox",children:[{label:u("console:develop.features.authenticationProvider.forms.advancedConfigs.federationHub.label"),value:"federationHub"}],toggle:!0,"data-testid":"".concat(c,"-federation-hub"),readOnly:i}),a.createElement(r.Hint,null,u("console:develop.features.authenticationProvider.forms.advancedConfigs.federationHub.hint")))),a.createElement(d.Z.Row,{columns:1},a.createElement(d.Z.Column,{mobile:16,tablet:16,computer:8},a.createElement(v.Field,{name:"homeRealmIdentifier",label:u("console:develop.features.authenticationProvider.forms.advancedConfigs.homeRealmIdentifier.label"),required:!1,requiredErrorMessage:"",placeholder:u("console:develop.features.authenticationProvider.forms.advancedConfigs.homeRealmIdentifier.placeholder"),type:"text",value:t.homeRealmIdentifier,"data-testid":"".concat(c,"-home-realm-identifier"),readOnly:i}),a.createElement(r.Hint,null,u("console:develop.features.authenticationProvider.forms.advancedConfigs.homeRealmIdentifier.hint")))),a.createElement(d.Z.Row,{columns:1},a.createElement(d.Z.Column,{mobile:16,tablet:16,computer:8},a.createElement(v.Field,{name:"alias",label:u("console:develop.features.authenticationProvider.forms.advancedConfigs.alias.label"),required:!1,requiredErrorMessage:"",placeholder:u("console:develop.features.authenticationProvider.forms.advancedConfigs.alias.placeholder"),type:"text",value:t.alias,"data-testid":"".concat(c,"-alias"),readOnly:i}),a.createElement(r.Hint,null,u("console:develop.features.authenticationProvider.forms.advancedConfigs.alias.hint")))),a.createElement(d.Z.Row,{columns:1},a.createElement(d.Z.Column,{mobile:16,tablet:16,computer:8},a.createElement(f.di,{when:f.TA.IDP_EDIT},a.createElement(h.Z,{primary:!0,type:"submit",size:"small",className:"form-button",loading:o,disabled:o,"data-testid":"".concat(c,"-update-button")},u("common:update")))))))};g.defaultProps={"data-testid":"idp-edit-advance-settings"};var y,b=n(26826),E=(n(11518),n(33012),n(30032)),A=n.n(E),I=n(83913),P=n(59867);function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,r,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);a=!0);}catch(e){l=!0,r=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}!function(e){e.ENABLE_JIT_PROVISIONING_KEY="enableJITProvisioning",e.PROVISIONING_USER_STORE_DOMAIN_KEY="provisioningUserstoreDomain",e.PROVISIONING_SCHEME_TYPE_KEY="provisioningScheme"}(y||(y={}));var C=function(e){var t,n,i,o,c,s,m=e.initialValues,p=e.onSubmit,g=e.useStoreList,b=e.isReadOnly,E=e.isSubmitting,O=e["data-testid"],C=(0,l.$G)().t,T=(0,r.useDocumentation)().getLink,R=((0,I.v9)((function(e){return e.config})),S((0,a.useState)(!1),2)),w=R[0],L=R[1];(0,a.useEffect)((function(){null!==m&&void 0!==m&&m.isEnabled&&L(null===m||void 0===m?void 0:m.isEnabled)}),[m]);var N=[{label:C("console:develop.features.authenticationProvider.forms.jitProvisioning.provisioningScheme.children.0"),value:P.vA.PROMPT_USERNAME_PASSWORD_CONSENT},{label:C("console:develop.features.authenticationProvider.forms.jitProvisioning.provisioningScheme.children.1"),value:P.vA.PROMPT_PASSWORD_CONSENT},{label:C("console:develop.features.authenticationProvider.forms.jitProvisioning.provisioningScheme.children.2"),value:P.vA.PROMPT_CONSENT},{label:C("console:develop.features.authenticationProvider.forms.jitProvisioning.provisioningScheme.children.3"),value:P.vA.PROVISION_SILENTLY}],_=a.createElement("div",{style:{animationDuration:"350ms"},className:A()("ui image warning scale transition",{"hidden animating out":w,"visible animating in":!w})},a.createElement(r.Message,{"data-componentid":"proxy-mode-conflict-warning-message","data-testid":"proxy-mode-conflict-warning-message",type:"warning",header:"Warning",content:a.createElement(a.Fragment,null,"JIT user provisioning should be enabled for external identity providers (connections) when there are MFA mechanisms such as ",a.createElement(r.Code,null,"TOTP")," and ",a.createElement(r.Code,null,"Email OTP")," configured in an application's login flow.",a.createElement(r.DocumentationLink,{link:T("develop.connections.edit.advancedSettings.jit")},"Learn More"))}));return a.createElement(v.Forms,{onSubmit:function(e){return p(function(e){var t,n,i;return{isEnabled:null!==(t=e.get(y.ENABLE_JIT_PROVISIONING_KEY).includes(y.ENABLE_JIT_PROVISIONING_KEY))&&void 0!==t?t:null===m||void 0===m?void 0:m.isEnabled,scheme:null!==(n=e.get(y.PROVISIONING_SCHEME_TYPE_KEY))&&void 0!==n?n:null===m||void 0===m?void 0:m.scheme,userstore:null!==(i=e.get(y.PROVISIONING_USER_STORE_DOMAIN_KEY))&&void 0!==i?i:m.userstore}}(e))}},a.createElement(d.Z,null,null!==u.identityProviderConfig&&void 0!==u.identityProviderConfig&&null!==(t=u.identityProviderConfig.jitProvisioningSettings)&&void 0!==t&&null!==(n=t.enableJitProvisioningField)&&void 0!==n&&n.show?a.createElement(d.Z.Row,{columns:1},a.createElement(d.Z.Column,{mobile:16,tablet:16,computer:7},a.createElement(v.Field,{name:y.ENABLE_JIT_PROVISIONING_KEY,label:"",required:!1,requiredErrorMessage:"",value:null!==m&&void 0!==m&&m.isEnabled?[y.ENABLE_JIT_PROVISIONING_KEY]:[],type:"checkbox",listen:function(e){L(e.get(y.ENABLE_JIT_PROVISIONING_KEY).includes(y.ENABLE_JIT_PROVISIONING_KEY))},children:[{label:C("console:develop.features.authenticationProvider.forms.jitProvisioning.enableJITProvisioning.label"),value:y.ENABLE_JIT_PROVISIONING_KEY}],"data-testid":"".concat(O,"-is-enable"),readOnly:b}),a.createElement(r.Hint,null,"When enabled, users who log in with this identity provider will be provisioned to your organization."),w?a.createElement(a.Fragment,null):_)):a.createElement(a.Fragment,null),null!==u.identityProviderConfig&&void 0!==u.identityProviderConfig&&null!==(i=u.identityProviderConfig.jitProvisioningSettings)&&void 0!==i&&null!==(o=i.userstoreDomainField)&&void 0!==o&&o.show?a.createElement(d.Z.Row,{columns:1},a.createElement(d.Z.Column,{mobile:16,tablet:16,computer:7},a.createElement(v.Field,{name:y.PROVISIONING_USER_STORE_DOMAIN_KEY,label:C("console:develop.features.authenticationProvider.forms.jitProvisioning.provisioningUserStoreDomain.label"),required:!1,requiredErrorMessage:"",type:"dropdown",default:g&&g.length>0&&g[0].name,value:null===m||void 0===m?void 0:m.userstore,children:function(){var e=[];return g&&(null===g||void 0===g||g.map((function(t){e.push({key:g.indexOf(t),text:null===t||void 0===t?void 0:t.name,value:null===t||void 0===t?void 0:t.name})}))),e}(),disabled:!w,"data-testid":"".concat(O,"-user-store-domain"),readOnly:b}),a.createElement(r.Hint,null,C("console:develop.features.authenticationProvider.forms.jitProvisioning.provisioningUserStoreDomain.hint")))):a.createElement(a.Fragment,null),null!==u.identityProviderConfig&&void 0!==u.identityProviderConfig&&null!==(c=u.identityProviderConfig.jitProvisioningSettings)&&void 0!==c&&null!==(s=c.provisioningSchemeField)&&void 0!==s&&s.show?a.createElement(d.Z.Row,{columns:1},a.createElement(d.Z.Column,{mobile:16,tablet:16,computer:7},a.createElement(a.Fragment,null,a.createElement(v.Field,{required:!1,requiredErrorMessage:"",label:C("console:develop.features.authenticationProvider.forms.jitProvisioning.provisioningScheme.label"),name:y.PROVISIONING_SCHEME_TYPE_KEY,default:null!==m&&void 0!==m&&m.scheme?null===m||void 0===m?void 0:m.scheme:P.vA.PROMPT_USERNAME_PASSWORD_CONSENT,type:"radio",children:N,disabled:!w,"data-testid":"".concat(O,"-scheme"),readOnly:b}),a.createElement(r.Hint,null,C("console:develop.features.authenticationProvider.forms.jitProvisioning.provisioningScheme.hint"))))):a.createElement(a.Fragment,null),a.createElement(d.Z.Row,{columns:1},a.createElement(d.Z.Column,{mobile:16,tablet:16,computer:7},a.createElement(f.di,{when:f.TA.IDP_EDIT},a.createElement(h.Z,{primary:!0,type:"submit",size:"small",className:"form-button",loading:E,disabled:E,"data-testid":"".concat(O,"-update-button")},C("common:update")))))))};C.defaultProps={"data-testid":"idp-edit-jit-provisioning-settings"}},33012:function(e,t,n){n.d(t,{Ev:function(){return o}});var i=n(68905),r=n(29970),o=function(e){var t=e.metadata,n=e.mode,o=e.initialValues,a=e.onSubmit,l=e.triggerSubmit,c=e.enableSubmitButton,d=e.readOnly,u=e["data-testid"];return i.createElement(r.F,{mode:n,onSubmit:a,initialValues:o,enableSubmitButton:c,triggerSubmit:l,metadata:t,"data-testid":u,readOnly:d})};o.defaultProps={enableSubmitButton:!0};n(39971)},85869:function(e,t,n){n.d(t,{zy:function(){return re.zy},Ui:function(){return C},mF:function(){return ie},uw:function(){return j},L6:function(){return q},Ex:function(){return v.Ex},Df:function(){return v.Df},qV:function(){return v.qV}});var i=n(8890),r=n(88742),o=n(26278),a=n(96462),l=n(81771),c=n(87289),d=n(68905),u=n(64805),s=n(83913),m=n(70515),p=n(5554),f=n(22946),v=n(47418),h=n(62363),g=n(7882),y=n(12847),b=n(33581),E=n(21307),A=n(33349),I=n(11380);function P(e,t,n,i,r,o,a){try{var l=e[o](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(i,r)}function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,r,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);a=!0);}catch(e){l=!0,r=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var C=function(e){var t=e.authenticators,n=e.isFiltering,O=e.isLoading,C=e.onEmptyListPlaceholderActionClick,T=e.onIdentityProviderDelete,R=e.onItemClick,w=e.onSearchQueryClear,L=e.searchQuery,N=e.onUpdate,_=e["data-testid"],D=(0,u.$G)().t,k=(0,s.I0)(),M=S((0,d.useState)(!1),2),j=M[0],U=M[1],H=S((0,d.useState)(void 0),2),F=H[0],Z=H[1],x=S((0,d.useState)(void 0),2),G=x[0],q=x[1],V=S((0,d.useState)(!1),2),Q=V[0],B=V[1],z=S((0,d.useState)(!0),2),Y=z[0],K=z[1],$=(0,s.v9)((function(e){return e.config.ui.features})),W=(0,s.v9)((function(e){var t;return null===e||void 0===e||null===(t=e.auth)||void 0===t?void 0:t.allowedScopes})),J=y.lD.getInstance(),X=function(e){K(!0),(0,b.Tg)(e).then(function(){var n,i=(n=regeneratorRuntime.mark((function n(i){var a,l,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(0!==i.count){n.next=5;break}Z(t.find((function(t){return t.id===e}))),U(!0),n.next=13;break;case 5:return B(!0),a=i.connectedApps.map((function(e){return(0,g.sl)(e.appId)})),n.next=9,Promise.all(a.map((function(e){return e.catch((function(e){k((0,o.addAlert)({description:(null===e||void 0===e?void 0:e.description)||"Error occurred while trying to retrieve connected applications.",level:r.AlertLevels.ERROR,message:(null===e||void 0===e?void 0:e.message)||"Error Occurred."}))}))})));case 9:l=n.sent,c=[],l.forEach((function(e){c.push(e.name)})),q(c);case 13:case"end":return n.stop()}}),n)})),function(){var e=this,t=arguments;return new Promise((function(i,r){var o=n.apply(e,t);function a(e){P(o,i,r,a,l,"next",e)}function l(e){P(o,i,r,a,l,"throw",e)}a(void 0)}))});return function(e){return i.apply(this,arguments)}}()).catch((function(e){k((0,o.addAlert)({description:(null===e||void 0===e?void 0:e.description)||"Error occurred while trying to retrieve connected applications.",level:r.AlertLevels.ERROR,message:(null===e||void 0===e?void 0:e.message)||"Error Occurred."}))})).finally((function(){K(!1)}))},ee=function(e,t){var n;n=t.id,y.m8.push(y.$x.getPaths().get("IDP_EDIT").replace(":id",n)),R&&R(e,t)};return d.createElement(d.Fragment,null,d.createElement(a.ResourceGrid,{isLoading:O,isPaginating:!1,isEmpty:!t||!Array.isArray(t)||t.length<=0,emptyPlaceholder:O?null:L||n?d.createElement(a.EmptyPlaceholder,{action:d.createElement(a.LinkButton,{onClick:w},"Clear search query"),image:(0,y.jF)().emptySearch,imageSize:"tiny",title:D("console:develop.features.authenticationProvider.placeHolders.emptyIDPSearchResults.title"),subtitle:[D("console:develop.features.authenticationProvider.placeHolders.emptyIDPSearchResults.subtitles.0",{searchQuery:L}),D("console:develop.features.authenticationProvider.placeHolders.emptyIDPSearchResults.subtitles.1")],"data-testid":"".concat(_,"-empty-search-placeholder")}):0===(null===t||void 0===t?void 0:t.length)?d.createElement(a.EmptyPlaceholder,{className:"list-placeholder",action:C&&d.createElement(a.PrimaryButton,{onClick:C},d.createElement(m.Z,{name:"add"}),D("console:develop.features.authenticationProvider.buttons.addIDP")),image:(0,y.jF)().newList,imageSize:"tiny",subtitle:[D("console:develop.features.authenticationProvider.placeHolders.emptyIDPList.subtitles.0")],"data-testid":"".concat(_,"-empty-placeholder")}):null},null===t||void 0===t?void 0:t.map((function(e,t){var n,r,o,u,s=(0,l.Z)(h.identityProviderConfig.authenticators,e.id),m=I.z.isConnectorIdentityProvider(e),p=I.z.isConnectorIdentityProvider(e)||"FEDERATED"===e.type;return d.createElement(d.Fragment,{key:t},d.createElement(a.ResourceGrid.Card,{editButtonLabel:D("common:setup"),onEdit:function(t){J.compute((function(){var t,n;J.publish("connections-click-template-setup",{type:m?A.C.getAuthenticatorTemplateName(null===(t=e.federatedAuthenticators)||void 0===t?void 0:t.defaultAuthenticatorId)?A.C.getAuthenticatorTemplateName(null===(n=e.federatedAuthenticators)||void 0===n?void 0:n.defaultAuthenticatorId):"other":A.C.getAuthenticatorTemplateName(e.id)?A.C.getAuthenticatorTemplateName(e.id):""})})),ee(t,e)},onDelete:(0,i.hasRequiredScopes)(null===$||void 0===$?void 0:$.identityProviders,null===$||void 0===$||null===(n=$.identityProviders)||void 0===n||null===(r=n.scopes)||void 0===r?void 0:r.delete,W)?function(){return X(e.id)}:null,showActions:!0,showResourceEdit:!0,showResourceDelete:p&&!E.bQ.DELETING_FORBIDDEN_IDPS.includes(e.name),isResourceComingSoon:null===s||void 0===s?void 0:s.isComingSoon,comingSoonRibbonLabel:D("common:comingSoon"),resourceName:m?e.name:A.C.getAuthenticatorDisplayName(e.id)?A.C.getAuthenticatorDisplayName(e.id):e.displayName||e.name,resourceCategory:A.C.getAuthenticatorCategory(m?null===(o=e.federatedAuthenticators)||void 0===o?void 0:o.defaultAuthenticatorId:e.id),resourceDescription:(0,c.Z)(e.description)?m?"":A.C.getAuthenticatorDescription(e.id):e.description,resourceImage:null!==(u=e.image)&&void 0!==u?u:A.C.getAuthenticatorIcon(e.id),tags:m?I.z.resolveIDPTags(e.federatedAuthenticators):e.tags,"data-testid":"".concat(_,"-").concat(e.name)}))}))),F&&d.createElement(a.ConfirmationModal,{onClose:function(){return U(!1)},type:"negative",open:j,assertion:null===F||void 0===F?void 0:F.name,assertionHint:D("console:develop.features.authenticationProvider.confirmations.deleteIDP.assertionHint"),assertionType:"checkbox",primaryAction:D("common:confirm"),secondaryAction:D("common:cancel"),onSecondaryActionClick:function(){return U(!1)},onPrimaryActionClick:function(){return e=F.id,void(0,b.At)(e).then((function(){N(),k((0,o.addAlert)({description:D("console:develop.features.authenticationProvider.notifications.deleteConnection.success.description"),level:r.AlertLevels.SUCCESS,message:D("console:develop.features.authenticationProvider.notifications.deleteConnection.success.message")}))})).catch((function(e){(0,v.wb)(e)})).finally((function(){U(!1),Z(void 0),T()}));var e},"data-testid":"".concat(_,"-delete-confirmation-modal"),closeOnDimmerClick:!1},d.createElement(a.ConfirmationModal.Header,{"data-testid":"".concat(_,"-delete-confirmation-modal-header")},D("console:develop.features.authenticationProvider.confirmations.deleteIDP.header")),d.createElement(a.ConfirmationModal.Message,{attached:!0,negative:!0,"data-testid":"".concat(_,"-delete-confirmation-modal-message")},D("console:develop.features.authenticationProvider.confirmations.deleteIDP.message")),d.createElement(a.ConfirmationModal.Content,{"data-testid":"".concat(_,"-delete-confirmation-modal-content")},D("console:develop.features.authenticationProvider.confirmations.deleteIDP.content"))),Q&&d.createElement(a.ConfirmationModal,{onClose:function(){return B(!1)},type:"negative",open:Q,secondaryAction:D("common:close"),onSecondaryActionClick:function(){return B(!1)},"data-testid":"".concat(_,"-delete-idp-confirmation"),closeOnDimmerClick:!1},d.createElement(a.ConfirmationModal.Header,{"data-testid":"".concat(_,"-delete-idp-confirmation")},D("console:develop.features.authenticationProvider.confirmations.deleteIDPWithConnectedApps.header")),d.createElement(a.ConfirmationModal.Message,{attached:!0,negative:!0,"data-testid":"".concat(_,"-delete-idp-confirmation")},D("console:develop.features.authenticationProvider.confirmations.deleteIDPWithConnectedApps.message")),d.createElement(a.ConfirmationModal.Content,{"data-testid":"".concat(_,"-delete-idp-confirmation")},D("console:develop.features.authenticationProvider.confirmations.deleteIDPWithConnectedApps.content"),d.createElement(p.Z,{hidden:!0}),d.createElement(f.Z,{ordered:!0,className:"ml-6"},Y?d.createElement(a.ContentLoader,null):null===G||void 0===G?void 0:G.map((function(e,t){return d.createElement(f.Z.Item,{key:t},e)}))))))};C.defaultProps={"data-testid":"authenticator-grid"};var T=n(23177),R=n(30372),w=n(26826),L=n(67897),N=n(59867);function _(e){return function(e){if(Array.isArray(e))return M(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||k(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,r,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);a=!0);}catch(e){l=!0,r=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||k(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){if(e){if("string"===typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?M(e,t):void 0}}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var j=function(e){var t=e.authenticator,n=e.isLoading,i=e.defaultActiveIndex,c=e.isTabExtensionsAvailable,m=e.onUpdate,p=e.type,f=e.isReadOnly,v=e["data-testid"],h=(0,s.I0)(),g=(0,u.$G)().t,y=D((0,d.useState)(void 0),2),A=y[0],I=y[1],P=D((0,d.useState)(!1),2),S=P[0],O=P[1];(0,d.useEffect)((function(){var e;if(!A&&t){var n=(0,l.Z)(L.identityProviderConfig.authenticators,t.id);if(null!==n&&void 0!==n&&null!==(e=n.content)&&void 0!==e&&e.quickStart){var i=(0,L.ComponentExtensionPlaceholder)({component:"identityProvider",props:{content:n.content.quickStart},subComponent:"edit",type:"tab"});Array.isArray(i)&&i.length>0&&c(!0),I(i)}}}),[t,A]);var C,k=function(e){O(!0),(0,b.Z1)(t.id,e).then((function(){h((0,o.addAlert)({description:g("console:develop.features.authenticationProvider.notifications.updateEmailOTPAuthenticator.success.description"),level:r.AlertLevels.SUCCESS,message:g("console:develop.features.authenticationProvider.notifications.updateEmailOTPAuthenticator.success.message")})),m(t.id)})).catch((function(e){e.response&&e.response.data&&e.response.data.description?h((0,o.addAlert)({description:g("console:develop.features.authenticationProvider.notifications.updateEmailOTPAuthenticator.error.description",{description:e.response.data.description}),level:r.AlertLevels.ERROR,message:g("console:develop.features.authenticationProvider.notifications.updateEmailOTPAuthenticator.error.message")})):h((0,o.addAlert)({description:g("console:develop.features.authenticationProvider.notifications.updateEmailOTPAuthenticator.genericError.description"),level:r.AlertLevels.ERROR,message:g("console:develop.features.authenticationProvider.notifications.updateEmailOTPAuthenticator.genericError.message")}))})).finally((function(){O(!1)}))},M=function(){return d.createElement(a.ResourceTab.Pane,{controlledSegmentation:!0},n?d.createElement(a.ContentLoader,null):d.createElement("div",{className:"authentication-section"},d.createElement(T.Z,null,d.createElement(T.Z.Row,null,d.createElement(T.Z.Column,{width:16},d.createElement(a.EmphasizedSegment,{padded:"very"},d.createElement(w.p,{mode:N.Pk.EDIT,metadata:null,showCustomProperties:!1,initialValues:t,onSubmit:k,type:p,"data-testid":"".concat(v,"-").concat(t.name,"-content"),isReadOnly:f,isSubmitting:S})))))))};return t?d.createElement(a.ResourceTab,{"data-testid":"".concat(v,"-resource-tabs"),panes:function(){var e=[];return A&&A.length>0&&e.push.apply(e,_(A)),[E.bQ.TOTP_AUTHENTICATOR_ID,E.bQ.FIDO_AUTHENTICATOR_ID,E.bQ.MAGIC_LINK_AUTHENTICATOR_ID].includes(t.id)||e.push({menuItem:g("console:develop.features.authenticationProvider.edit.common.settings.tabName"),render:M}),t.id===E.bQ.EMAIL_OTP_AUTHENTICATOR_ID&&e.push({menuItem:d.createElement(R.Z.Item,{disabled:!0,key:"messages",className:"upcoming-item"},d.createElement(u.cC,{i18nKey:"console:develop.features.authenticationProvider.edit.emailOTP.emailTemplate.tabName"},"Email Template ",d.createElement("span",{className:"coming-soon-label"},"(Coming Soon)"))),render:null}),e}(),defaultActiveIndex:(C=i,[E.bQ.TOTP_AUTHENTICATOR_ID,E.bQ.FIDO_AUTHENTICATOR_ID,E.bQ.MAGIC_LINK_AUTHENTICATOR_ID].includes(t.id)?0:C)}):null};j.defaultProps={"data-testid":"multi-factor-authenticator-edit",defaultActiveIndex:1};var U=n(69883),H=n(82791),F=n(99104);function Z(e,t,n,i,r,o,a){try{var l=e[o](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(i,r)}function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,r,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);a=!0);}catch(e){l=!0,r=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return G(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var q=function(e){var t,n=e.advancedSearch,l=e.defaultListItemLimit,c=e.isLoading,h=e.list,A=e.onEmptyListPlaceholderActionClick,I=e.onIdentityProviderDelete,P=e.onListItemClick,S=e.onSearchQueryClear,O=e.searchQuery,C=e.selection,T=e.showListItemActions,R=e["data-testid"],w=(0,s.I0)(),L=x((0,d.useState)(!1),2),N=L[0],_=L[1],D=x((0,d.useState)(void 0),2),k=D[0],M=D[1],j=x((0,d.useState)(void 0),2),G=j[0],q=j[1],V=x((0,d.useState)(!1),2),Q=V[0],B=V[1],z=x((0,d.useState)(!0),2),Y=z[0],K=z[1],$=(0,u.$G)().t,W=(0,s.v9)((function(e){return e.config.ui.features})),J=(0,s.v9)((function(e){var t;return null===e||void 0===e||null===(t=e.auth)||void 0===t?void 0:t.allowedScopes})),X=function(e){y.m8.push(y.$x.getPaths().get("IDP_EDIT").replace(":id",e))},ee=function(e){K(!0),(0,b.Tg)(e).then(function(){var t,n=(t=regeneratorRuntime.mark((function t(n){var i,a,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==n.count){t.next=5;break}M(h.identityProviders.find((function(t){return t.id===e}))),_(!0),t.next=13;break;case 5:return B(!0),i=n.connectedApps.map((function(e){return(0,g.sl)(e.appId)})),t.next=9,Promise.all(i.map((function(e){return e.catch((function(e){w((0,o.addAlert)({description:(null===e||void 0===e?void 0:e.description)||"Error occurred while trying to retrieve connected applications.",level:r.AlertLevels.ERROR,message:(null===e||void 0===e?void 0:e.message)||"Error Occurred."}))}))})));case 9:a=t.sent,l=[],a.forEach((function(e){l.push(e.name)})),q(l);case 13:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(i,r){var o=t.apply(e,n);function a(e){Z(o,i,r,a,l,"next",e)}function l(e){Z(o,i,r,a,l,"throw",e)}a(void 0)}))});return function(e){return n.apply(this,arguments)}}()).catch((function(e){w((0,o.addAlert)({description:(null===e||void 0===e?void 0:e.description)||"Error occurred while trying to retrieve connected applications.",level:r.AlertLevels.ERROR,message:(null===e||void 0===e?void 0:e.message)||"Error Occurred."}))})).finally((function(){K(!1)}))},te=function(){return O?d.createElement(a.EmptyPlaceholder,{action:d.createElement(a.LinkButton,{onClick:S},"Clear search query"),image:(0,y.jF)().emptySearch,imageSize:"tiny",title:$("console:develop.features.idp.placeHolders.emptyIDPSearchResults.title"),subtitle:[$("console:develop.features.idp.placeHolders.emptyIDPSearchResults.subtitles.0",{searchQuery:O}),$("console:develop.features.idp.placeHolders.emptyIDPSearchResults.subtitles.1")],"data-testid":"".concat(R,"-empty-search-placeholder")}):0===(null===h||void 0===h?void 0:h.totalResults)?d.createElement(a.EmptyPlaceholder,{className:"list-placeholder",action:A&&d.createElement(U.di,{when:U.TA.IDP_WRITE},d.createElement(a.PrimaryButton,{onClick:A},d.createElement(m.Z,{name:"add"}),$("console:develop.features.idp.buttons.addIDP"))),image:(0,y.jF)().newList,imageSize:"tiny",subtitle:[$("console:develop.features.idp.placeHolders.emptyIDPList.subtitles.0")],"data-testid":"".concat(R,"-empty-placeholder")}):null};return d.createElement(d.Fragment,null,d.createElement(a.DataTable,{className:"identity-providers-table",externalSearch:n,isLoading:c,loadingStateOptions:{count:null!==l&&void 0!==l?l:y.ru.DEFAULT_RESOURCE_LIST_ITEM_LIMIT,imageType:"square"},actions:function(){if(T)return[{"data-testid":"".concat(R,"-item-edit-button"),hidden:function(){return!1},icon:function(){var e,t;return(0,i.hasRequiredScopes)(null===W||void 0===W?void 0:W.identityProviders,null===W||void 0===W||null===(e=W.identityProviders)||void 0===e||null===(t=e.scopes)||void 0===t?void 0:t.update,J)?"pencil alternate":"eye"},onClick:function(e,t){return X(t.id)},popupText:function(){var e,t;return(0,i.hasRequiredScopes)(null===W||void 0===W?void 0:W.identityProviders,null===W||void 0===W||null===(e=W.identityProviders)||void 0===e||null===(t=e.scopes)||void 0===t?void 0:t.update,J)?$("common:edit"):$("common:view")},renderer:"semantic-icon"},{"data-testid":"".concat(R,"-item-delete-button"),hidden:function(e){var t,n;return E.bQ.DELETING_FORBIDDEN_IDPS.includes(e.name)||!(0,i.hasRequiredScopes)(null===W||void 0===W?void 0:W.identityProviders,null===W||void 0===W||null===(t=W.identityProviders)||void 0===t||null===(n=t.scopes)||void 0===n?void 0:n.delete,J)},icon:function(){return"trash alternate"},onClick:function(e,t){return ee(t.id)},popupText:function(){return $("common:delete")},renderer:"semantic-icon"}]}(),columns:[{allowToggleVisibility:!1,dataIndex:"name",id:"name",key:"name",render:function(e){var t=e.federatedAuthenticators.defaultAuthenticatorId===E.bQ.ORGANIZATION_ENTERPRISE_AUTHENTICATOR_ID;return d.createElement(H.Z,{image:!0,as:"h6",className:"header-with-icon","data-testid":"".concat(R,"-item-heading")},e.image?d.createElement(a.AppAvatar,{size:"mini",name:e.name,image:e.image,spaced:"right","data-testid":"".concat(R,"-item-image")}):d.createElement(a.AppAvatar,{image:d.createElement(a.AnimatedAvatar,{name:e.name,size:"mini","data-testid":"".concat(R,"-item-image-inner")}),size:"mini",spaced:"right","data-testid":"".concat(R,"-item-image")}),d.createElement(H.Z.Content,null,e.name,t&&d.createElement(F.Z,{size:"mini",color:"teal"},"Organization IDP"),d.createElement(H.Z.Subheader,{"data-testid":"".concat(R,"-item-sub-heading")},e.description)))},title:$("console:develop.features.idp.list.name")},{allowToggleVisibility:!1,dataIndex:"action",id:"actions",key:"actions",textAlign:"right",title:$("console:develop.features.idp.list.actions")}],data:null===h||void 0===h||null===(t=h.identityProviders)||void 0===t?void 0:t.filter((function(e){return"LOCAL"!==e.name})),onRowClick:function(e,t){X(t.id),P&&P(e,t)},placeholders:te(),selectable:C,showHeader:!1,transparent:!c&&null!==te(),"data-testid":R}),k&&d.createElement(a.ConfirmationModal,{onClose:function(){return _(!1)},type:"negative",open:N,assertion:null===k||void 0===k?void 0:k.name,assertionHint:$("console:develop.features.authenticationProvider.confirmations.deleteIDP.assertionHint"),assertionType:"checkbox",primaryAction:$("common:confirm"),secondaryAction:$("common:cancel"),onSecondaryActionClick:function(){return _(!1)},onPrimaryActionClick:function(){return e=k.id,void(0,b.At)(e).then((function(){w((0,o.addAlert)({description:$("console:develop.features.idp.notifications.deleteIDP.success.description"),level:r.AlertLevels.SUCCESS,message:$("console:develop.features.idp.notifications.deleteIDP.success.message")}))})).catch((function(e){(0,v.wb)(e)})).finally((function(){_(!1),M(void 0),I()}));var e},"data-testid":"".concat(R,"-delete-confirmation-modal"),closeOnDimmerClick:!1},d.createElement(a.ConfirmationModal.Header,{"data-testid":"".concat(R,"-delete-confirmation-modal-header")},$("console:develop.features.idp.confirmations.deleteIDP.header")),d.createElement(a.ConfirmationModal.Message,{attached:!0,negative:!0,"data-testid":"".concat(R,"-delete-confirmation-modal-message")},$("console:develop.features.idp.confirmations.deleteIDP.message")),d.createElement(a.ConfirmationModal.Content,{"data-testid":"".concat(R,"-delete-confirmation-modal-content")},$("console:develop.features.idp.confirmations.deleteIDP.content"))),Q&&d.createElement(a.ConfirmationModal,{onClose:function(){return B(!1)},type:"negative",open:Q,secondaryAction:$("common:close"),onSecondaryActionClick:function(){return B(!1)},"data-testid":"".concat(R,"-delete-idp-confirmation"),closeOnDimmerClick:!1},d.createElement(a.ConfirmationModal.Header,{"data-testid":"".concat(R,"-delete-idp-confirmation")},$("console:develop.features.idp.confirmations.deleteIDPWithConnectedApps.header")),d.createElement(a.ConfirmationModal.Message,{attached:!0,negative:!0,"data-testid":"".concat(R,"-delete-idp-confirmation")},$("console:develop.features.idp.confirmations.deleteIDPWithConnectedApps.message")),d.createElement(a.ConfirmationModal.Content,{"data-testid":"".concat(R,"-delete-idp-confirmation")},$("console:develop.features.idp.confirmations.deleteIDPWithConnectedApps.content"),d.createElement(p.Z,{hidden:!0}),d.createElement(f.Z,{ordered:!0,className:"ml-6"},Y?d.createElement(a.ContentLoader,null):null===G||void 0===G?void 0:G.map((function(e,t){return d.createElement(f.Z.Item,{key:t},e)}))))))};q.defaultProps={"data-testid":"idp-list",selection:!0,showListItemActions:!0};n(41443);var V=n(37109),Q=n(3844),B=n(6997),z=n(87385);function Y(e){return function(e){if(Array.isArray(e))return W(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||$(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,r,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);a=!0);}catch(e){l=!0,r=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||$(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $(e,t){if(e){if("string"===typeof e)return W(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?W(e,t):void 0}}function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var J=function(e){var t=e.idpId,n=e.isLoading,i=e.jitProvisioningConfigurations,l=e.onUpdate,c=e.isReadOnly,m=e.loader,p=e["data-testid"],f=(0,s.I0)(),v=(0,u.$G)().t,h=K((0,d.useState)([]),2),g=h[0],E=h[1],A=K((0,d.useState)(!1),2),I=A[0];A[1];return(0,d.useEffect)((function(){var e=[];e.push({id:"PRIMARY",name:"PRIMARY"}),B.F.isCurrentOrganizationRoot()?(0,Q.getUserStoreList)(y.h.getState().config.endpoints.userStores).then((function(t){e.push.apply(e,Y(t.data)),E(e)})).catch((function(){E(e)})):E(e)}),[]),n?d.createElement(m,null):d.createElement(a.EmphasizedSegment,{padded:"very"},d.createElement(z.Oz,{idpId:t,initialValues:i,onSubmit:function(e){(0,b.VN)(t,e).then((function(){f((0,o.addAlert)({description:v("console:develop.features.authenticationProvider.notifications.updateJITProvisioning.success.description"),level:r.AlertLevels.SUCCESS,message:v("console:develop.features.authenticationProvider.notifications.updateJITProvisioning.success.message")})),l(t)})).catch((function(){f((0,o.addAlert)({description:v("console:develop.features.authenticationProvider.notifications.updateJITProvisioning.genericError.description"),level:r.AlertLevels.ERROR,message:v("console:develop.features.authenticationProvider.notifications.updateJITProvisioning.genericError.message")}))}))},useStoreList:g,"data-testid":p,isReadOnly:c,isSubmitting:I}))};function X(e){return function(e){if(Array.isArray(e))return ne(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||te(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ee(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,r,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);a=!0);}catch(e){l=!0,r=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||te(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function te(e,t){if(e){if("string"===typeof e)return ne(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ne(e,t):void 0}}function ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}J.defaultProps={"data-testid":"idp-edit-jit-provisioning-settings"};var ie=function(e){var t=e.identityProvider,n=e.isLoading,i=e.isSaml,r=e.isOidc,o=e.onDelete,l=e.onUpdate,c=e.template,u=e.isTabExtensionsAvailable,s=e.type,m=e.isReadOnly,p=e["data-testid"],f=ee((0,d.useState)(void 0),2),v=f[0],h=f[1],g=ee((0,d.useState)(0),2),y=g[0],b=g[1],A=t.federatedAuthenticators.defaultAuthenticatorId===E.bQ.ORGANIZATION_ENTERPRISE_AUTHENTICATOR_ID,I=new URLSearchParams(location.search),P={alias:t.alias,certificate:t.certificate,homeRealmIdentifier:t.homeRealmIdentifier,isFederationHub:t.isFederationHub},S=function(){return d.createElement(a.EmphasizedSegment,{padded:!0},d.createElement(a.ContentLoader,{inline:"centered",active:!0}))},O=function(){var e,c;return d.createElement(a.ResourceTab.Pane,{controlledSegmentation:!0},d.createElement(V.q$,{hideIdPLogoEditField:null===(e=L.identityProviderConfig.utils)||void 0===e?void 0:e.hideLogoInputFieldInIdPGeneralSettingsForm(null===t||void 0===t||null===(c=t.federatedAuthenticators)||void 0===c?void 0:c.defaultAuthenticatorId),isSaml:i,isOidc:r,editingIDP:t,description:t.description,isEnabled:t.isEnabled,imageUrl:t.image,name:t.name,isLoading:n,onDelete:o,onUpdate:l,"data-testid":"".concat(p,"-general-settings"),isReadOnly:m,loader:S}))},C=function(){return d.createElement(a.ResourceTab.Pane,{controlledSegmentation:!0},d.createElement(V.og,{idpId:t.id,initialClaims:t.claims,initialRoleMappings:t.roles.mappings,isLoading:n,onUpdate:l,hideIdentityClaimAttributes:i&&L.identityProviderConfig.utils.hideIdentityClaimAttributes(t.federatedAuthenticators.defaultAuthenticatorId),isRoleMappingsEnabled:i||L.identityProviderConfig.utils.isRoleMappingsEnabled(t.federatedAuthenticators.defaultAuthenticatorId),"data-testid":"".concat(p,"-attribute-settings"),provisioningAttributesEnabled:i||L.identityProviderConfig.utils.isProvisioningAttributesEnabled(t.federatedAuthenticators.defaultAuthenticatorId),isReadOnly:m,loader:S,isSaml:i}))},T=function(){return d.createElement(a.ResourceTab.Pane,{controlledSegmentation:!0},d.createElement(V.iw,{identityProvider:t,isLoading:n,onUpdate:l,"data-testid":"".concat(p,"-authenticator-settings"),isReadOnly:m,loader:S}))},R=function(){var e;return d.createElement(a.ResourceTab.Pane,{controlledSegmentation:!0},d.createElement(V.bc,{identityProvider:t,outboundConnectors:null===(e=t.provisioning)||void 0===e?void 0:e.outboundConnectors,isLoading:n,onUpdate:l,"data-testid":"".concat(p,"-outbound-provisioning-settings"),isReadOnly:m,loader:S}))},w=function(){var e;return d.createElement(a.ResourceTab.Pane,{controlledSegmentation:!0},d.createElement(J,{idpId:t.id,jitProvisioningConfigurations:null===(e=t.provisioning)||void 0===e?void 0:e.jit,isLoading:n,onUpdate:l,"data-testid":"".concat(p,"-jit-provisioning-settings"),isReadOnly:m,loader:S}))},_=function(){return d.createElement(a.ResourceTab.Pane,{controlledSegmentation:!0},d.createElement(V.yC,{editingIDP:t,advancedConfigurations:P,onUpdate:l,"data-testid":"".concat(p,"-advance-settings"),isReadOnly:m,isLoading:n,loader:S}))};(0,d.useEffect)((function(){var e;if(!v&&null!==c&&void 0!==c&&null!==(e=c.content)&&void 0!==e&&e.quickStart&&null!==t&&void 0!==t&&t.id){var n=(0,L.ComponentExtensionPlaceholder)({component:"identityProvider",props:{content:c.content.quickStart,identityProvider:t,template:c},subComponent:"edit",type:"tab"});Array.isArray(n)&&n.length>0&&(u(!0),I.get(E.bQ.IDP_STATE_URL_SEARCH_PARAM_KEY)||b(1)),h(n)}}),[c,v,t]);var D=function(e){var t=L.identityProviderConfig.editIdentityProvider.isTabEnabledForIdP(e,N.BH.USER_ATTRIBUTES);return void 0===t||t};return!t||n?d.createElement(S,null):d.createElement(a.ResourceTab,{"data-testid":"".concat(p,"-resource-tabs"),panes:function(){var e,t=[];(v&&v.length>0&&t.push.apply(t,X(v)),t.push({menuItem:"General",render:O}),!A&&t.push({menuItem:"Settings",render:T}),!(i&&L.identityProviderConfig.editIdentityProvider.attributesSettings)&&!D(s)||A||t.push({menuItem:"Attributes",render:C}),L.identityProviderConfig.editIdentityProvider.showOutboundProvisioning&&!A&&t.push({menuItem:"Outbound Provisioning",render:R}),L.identityProviderConfig.editIdentityProvider.showJitProvisioning&&!A)&&t.push({menuItem:null===(e=L.identityProviderConfig.jitProvisioningSettings)||void 0===e?void 0:e.menuItemName,render:w});return L.identityProviderConfig.editIdentityProvider.showAdvancedSettings&&!A&&t.push({menuItem:"Advanced",render:_}),t}(),defaultActiveIndex:y,onTabChange:function(e,t){b(t.activeIndex)}})};ie.defaultProps={"data-testid":"idp-edit"};var re=n(82291)},41443:function(e,t,n){n.d(t,{v:function(){return d},e:function(){return c}});var i=n(59413),r=n(21307),o=n(33349);function a(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var c=function(){return[].concat(a([{authenticatorId:r.bQ.OFFICE_365_AUTHENTICATOR_ID,description:"Seamless integration with Office 365.",displayName:"Office 365",icon:(0,i.nI)().office365,name:r.bQ.OFFICE_365_AUTHENTICATOR_NAME},{authenticatorId:r.bQ.TWITTER_AUTHENTICATOR_ID,description:"Login users with existing Twitter accounts.",displayName:"Twitter",icon:(0,i.nI)().twitter,name:r.bQ.TWITTER_AUTHENTICATOR_NAME},{authenticatorId:r.bQ.FACEBOOK_AUTHENTICATOR_ID,description:"Login users with existing Facebook accounts.",displayName:"Facebook",icon:(0,i.nI)().facebook,name:r.bQ.FACEBOOK_AUTHENTICATOR_NAME},{authenticatorId:r.bQ.GOOGLE_OIDC_AUTHENTICATOR_ID,description:"Login users with existing Google accounts.",displayName:"Google",icon:(0,i.nI)().google,name:r.bQ.GOOGLE_OIDC_AUTHENTICATOR_NAME},{authenticatorId:r.bQ.MS_LIVE_AUTHENTICATOR_ID,description:"Login users with their Microsoft Live accounts.",displayName:"Microsoft Windows Live",icon:(0,i.nI)().microsoft,name:r.bQ.MS_LIVE_AUTHENTICATOR_NAME},{authenticatorId:r.bQ.PASSIVE_STS_AUTHENTICATOR_ID,description:"Login users with WS Federation.",displayName:"Passive STS",icon:(0,i.nI)().wsFed,name:r.bQ.PASSIVE_STS_AUTHENTICATOR_NAME},{authenticatorId:r.bQ.IWA_KERBEROS_AUTHENTICATOR_ID,description:"Login users to Microsoft Windows servers.",displayName:"IWA Kerberos",icon:(0,i.nI)().iwaKerberos,name:r.bQ.IWA_KERBEROS_AUTHENTICATOR_NAME},{authenticatorId:r.bQ.SAML_AUTHENTICATOR_ID,description:"Login users with their accounts using SAML protocol.",displayName:"SAML",icon:(0,i.nI)().saml,name:r.bQ.SAML_AUTHENTICATOR_NAME},{authenticatorId:r.bQ.OIDC_AUTHENTICATOR_ID,description:"Login users with their accounts using OpenID Connect protocol.",displayName:"OpenID Connect",icon:(0,i.nI)().oidc,name:r.bQ.OIDC_AUTHENTICATOR_NAME},{authenticatorId:r.bQ.LEGACY_EMAIL_OTP_AUTHENTICATOR_ID,description:o.C.getAuthenticatorDescription(r.bQ.LEGACY_EMAIL_OTP_AUTHENTICATOR_ID),displayName:"Email OTP",icon:(0,i.nI)().emailOTP,name:r.bQ.LEGACY_EMAIL_OTP_AUTHENTICATOR_NAME},{authenticatorId:r.bQ.SMS_OTP_AUTHENTICATOR_ID,description:o.C.getAuthenticatorDescription("U01TT1RQ"),displayName:"SMS OTP",icon:(0,i.nI)().smsOTP,name:r.bQ.SMS_OTP_AUTHENTICATOR_NAME}]),a([{authenticatorId:r.bQ.YAHOO_AUTHENTICATOR_ID,description:"Login users with their Yahoo accounts.",displayName:"Yahoo",icon:(0,i.nI)().yahoo,name:r.bQ.YAHOO_AUTHENTICATOR_NAME},{authenticatorId:r.bQ.GITHUB_AUTHENTICATOR_ID,description:"Login users with existing GitHub accounts",displayName:"GitHub",icon:(0,i.nI)().github,name:r.bQ.GITHUB_AUTHENTICATOR_NAME}]),a(function(){var e,t,n,i;return null!==(e=null===(t=window.AppUtils)||void 0===t||null===(n=t.getConfig())||void 0===n||null===(i=n.extensions)||void 0===i?void 0:i.connectors)&&void 0!==e?e:[]}()))},d=[{connectorId:"Z29vZ2xlYXBwcw",displayName:"Google",icon:(0,i.C4)().google,name:"googleapps",self:"/t/carbon.super/api/server/v1/identity-providers/meta/outbound-provisioning-connectors/Z29vZ2xlYXBwcw"},{connectorId:"c2FsZXNmb3JjZQ",displayName:"Salesforce",icon:(0,i.ML)().salesforce,name:"salesforce",self:"/t/carbon.super/api/server/v1/identity-providers/meta/outbound-provisioning-connectors/c2FsZXNmb3JjZQ"},{connectorId:"c2NpbQ",displayName:"SCIM",icon:(0,i.ML)().scim,name:"scim",self:"/t/carbon.super/api/server/v1/identity-providers/meta/outbound-provisioning-connectors/c2NpbQ"}]},37109:function(e,t,n){n.d(t,{yC:function(){return Xe},og:function(){return Wt},iw:function(){return Pe},q$:function(){return ee},v_:function(){return F},bc:function(){return Ye},EP:function(){return It}});var i=n(69883),r=n(88742),o=n(26278),a=n(95823),l=n(23339),c=n(96462),d=n(48749),u=n(68905),s=n(64805),m=n(83913),p=n(75153),f=n(23177),v=n(70515),h=n(5554),g=n(85027),y=n(12847),b=n(33581);function E(e,t,n,i,r,o,a){try{var l=e[o](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(i,r)}function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,r,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);a=!0);}catch(e){l=!0,r=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var P=function(e){var t,n=e["data-componentid"],i=e.isOpen,a=e.onClose,d=e.currentlyEditingIdP,p=e.refreshIdP,h=(0,s.$G)().t,I=(0,m.I0)(),P=A((0,c.useWizardAlert)(),3),S=P[0],O=P[1],C=P[2],T=A((0,u.useState)(""),2),R=T[0],w=T[1],L=A((0,u.useState)(!0),2),N=L[0],_=L[1],D=A((0,u.useState)(!1),2),k=D[0],M=D[1],j=function(){var e,t=(e=regeneratorRuntime.mark((function e(){var t,n,i,l,c,u,s,m,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(M(!0),null===d||void 0===d||null===(t=d.certificate)||void 0===t||null===(n=t.certificates)||void 0===n||!n.includes(R)){e.next=6;break}return I((0,o.addAlert)({description:h("console:develop.features.authenticationProvider.notifications.duplicateCertificateUpload.error.description",{idp:d.name}),level:r.AlertLevels.ERROR,message:h("console:develop.features.authenticationProvider.notifications.duplicateCertificateUpload.error.message")})),M(!1),a(),e.abrupt("return");case 6:return u=null!==d&&void 0!==d&&null!==(i=d.certificate)&&void 0!==i&&i.certificates?null===d||void 0===d||null===(l=d.certificate)||void 0===l||null===(c=l.certificates)||void 0===c?void 0:c.length:0,s=[{operation:"ADD",path:"/certificate/certificates/"+u,value:R}],m=function(){I((0,o.addAlert)({description:h("console:develop.features.authenticationProvider.notifications.updateIDPCertificate.success.description"),level:r.AlertLevels.SUCCESS,message:h("console:develop.features.authenticationProvider.notifications.updateIDPCertificate.success.message")})),M(!1),a(),p(d.id)},f=function(e){if(e.response&&e.response.data&&e.response.data.description)return O({description:e.response.data.description,level:r.AlertLevels.ERROR,message:h("console:develop.features.authenticationProvider.notifications.updateIDPCertificate.error.message")}),void M(!1);O({description:h("console:develop.features.authenticationProvider.notifications.updateIDPCertificate.genericError.description"),level:r.AlertLevels.ERROR,message:h("console:develop.features.authenticationProvider.notifications.updateIDPCertificate.genericError.message")}),M(!1)},e.next=12,(0,b.DM)(d.id,s).then(m).catch(f);case 12:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(i,r){var o=e.apply(t,n);function a(e){E(o,i,r,a,l,"next",e)}function l(e){E(o,i,r,a,l,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}();return u.createElement(g.Z,{className:"certificate-display",dimmer:"blurring",size:"tiny",open:i,onClose:a,"data-testid":"".concat(n,"-view-certificate-modal")},u.createElement(g.Z.Header,{className:"wizard-header"},h("console:develop.features.authenticationProvider.modals.addCertificate.title"),u.createElement(c.Heading,{as:"h6"},h("console:develop.features.authenticationProvider.modals.addCertificate.subTitle",{idpName:null!==(t=null===d||void 0===d?void 0:d.name)&&void 0!==t?t:""}))),u.createElement(g.Z.Content,{className:"content-container"},S&&C,u.createElement(l.l0,{onSubmit:function(){return{}},uncontrolledForm:!0},u.createElement(c.FilePicker,{key:1,fileStrategy:new c.CertFileStrategy,normalizeStateOnRemoveOperations:!0,onChange:function(e){try{var t,n;w(btoa(null!==(t=null===(n=e.serialized)||void 0===n?void 0:n.pem)&&void 0!==t?t:"")),_((!e.pastedContent||!e.file)&&!e.serialized&&!e.valid)}catch(e){O({description:e&&(null===e||void 0===e?void 0:e.message),level:r.AlertLevels.ERROR,message:"An unknown error occurred."})}},uploadButtonText:"Upload Certificate File",dropzoneText:"Drag and drop a certificate file here.",pasteAreaPlaceholderText:"Paste IdP certificate in PEM format.",icon:(0,y._5)().uploadPlaceholder,placeholderIcon:u.createElement(v.Z,{name:"file alternate",size:"huge"}),"data-testid":"".concat(n,"-form-wizard--pem-certificate")})),k&&u.createElement(c.ContentLoader,null)),u.createElement(g.Z.Actions,null,u.createElement(f.Z,null,u.createElement(f.Z.Row,{column:1},u.createElement(f.Z.Column,{mobile:8,tablet:8,computer:8},u.createElement(c.LinkButton,{floated:"left",onClick:a,"data-testid":"".concat(n,"-cancel-button")},h("common:cancel"))),u.createElement(f.Z.Column,{mobile:8,tablet:8,computer:8},u.createElement(c.PrimaryButton,{disabled:N||k,floated:"right",loading:k,onClick:j,"data-testid":"".concat(n,"-finish-button")},h("common:finish")))))))};P.defaultProps={"data-componentid":"add-certificate-modal"};var S="console:develop.features.authenticationProvider.placeHolders.emptyCertificateList",O=function(e){var t=e["data-componentid"],n=e.onAddCertificateClicked,r=(0,s.$G)().t;return u.createElement(p.Z,null,u.createElement(c.EmptyPlaceholder,{title:r("".concat(S,".title")),image:(0,y.jF)().emptyList,subtitle:[r("".concat(S,".subtitles.0")),r("".concat(S,".subtitles.1"))],imageSize:"tiny",action:u.createElement(i.di,{when:i.TA.IDP_EDIT},u.createElement(c.PrimaryButton,{onClick:n,"data-testid":"".concat(t,"-emptyPlaceholder-add-certificate-button"),type:"button"},u.createElement(v.Z,{name:"add"}),r("console:develop.features.authenticationProvider.buttons.addCertificate"))),"data-testid":"".concat(t,"-empty-placeholder")}))};O.defaultProps={"data-componentid":"empty-certificates-placeholder"};var C=n(57002),T=n(70787),R=n.n(T),w=n(7626),L=function(e){var t=e["data-componentid"],n=e.certificateToDisplay,i=e.show,r=e.onCloseClicked,o=(0,s.$G)().t,l=u.createElement(p.Z,{className:"certificate","data-testid":t},u.createElement("p",{className:"certificate-field"},"We were unable to read this certificate. Currently we only support displaying public key information in certificate types of ",C.CertificateManagementConstants.SUPPORTED_KEY_ALGORITHMS.map((function(e,t){return u.createElement("span",{key:"".concat(e,"+").concat(t)},u.createElement(c.Code,null,e),"\xa0")}))," key algorithms. Support for ",u.createElement("strong",null,"Elliptic Curve Cryptography"),"\xa0 key algorithms will be enabled soon."));return u.createElement(g.Z,{className:"certificate-display",dimmer:"blurring",size:"tiny",open:i,onClose:function(){return r(n)},"data-testid":"".concat(t,"-view-certificate-modal")},u.createElement(g.Z.Header,null,u.createElement("div",{className:"certificate-ribbon"},u.createElement(c.GenericIcon,{inline:!0,transparent:!0,size:"auto",icon:(0,y._5)().ribbon}),u.createElement("div",{className:"certificate-alias"},"View Certificate - ",null!==n&&void 0!==n&&n.alias?n.alias:null!==n&&void 0!==n&&n.issuerDN?a.CertificateManagementUtils.searchIssuerDNAlias(null===n||void 0===n?void 0:n.issuerDN):N),u.createElement("br",null),u.createElement("div",{className:"certificate-serial"},"Serial Number: ",null===n||void 0===n?void 0:n.serialNumber))),u.createElement(g.Z.Content,{className:"certificate-content"},null!==n&&void 0!==n&&n.infoUnavailable?l:u.createElement(c.Certificate,{certificate:n,labels:{issuerDN:o("console:manage.features.certificates.keystore.summary.issuerDN"),subjectDN:o("console:manage.features.certificates.keystore.summary.subjectDN"),validFrom:o("console:manage.features.certificates.keystore.summary.validFrom"),validTill:o("console:manage.features.certificates.keystore.summary.validTill"),version:o("console:manage.features.certificates.keystore.summary.version")}})))},N="";function _(e,t,n,i,r,o,a){try{var l=e[o](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(i,r)}function D(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,r,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);a=!0);}catch(e){l=!0,r=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}L.defaultProps={"data-componentid":"show-certificate-modal"};var M=function(e){var t,n=e["data-componentid"],i=e.currentlyEditingIdP,d=e.refreshIdP,p=e.isReadOnly,h=(0,s.$G)().t,g=(0,m.I0)(),E=D((0,u.useState)(),2),A=E[0],I=E[1],P=D((0,u.useState)(!1),2),S=P[0],O=P[1],T=D((0,u.useState)(null),2),N=T[0],k=T[1],M=D((0,u.useState)(!1),2),j=M[0],U=M[1];(0,u.useEffect)((function(){H()}),[]),(0,u.useEffect)((function(){H()}),[null===i||void 0===i||null===(t=i.certificate)||void 0===t?void 0:t.certificates]);var H=function(){var e,t;if((null===i||void 0===i||null===(e=i.certificate)||void 0===e||null===(t=e.certificates)||void 0===t?void 0:t.length)>0){var n,r,o=[];null===i||void 0===i||null===(n=i.certificate)||void 0===n||null===(r=n.certificates)||void 0===r||r.map((function(e){a.CertificateManagementUtils.canSafelyParseCertificate(e)?null===o||void 0===o||o.push(a.CertificateManagementUtils.displayCertificate(null,e)):null===o||void 0===o||o.push(C.CertificateManagementConstants.DUMMY_DISPLAY_CERTIFICATE)})),I([].concat(o))}},F=function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var n,a,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return U(!0),n=[{operation:"REMOVE",path:"/certificate/certificates/"+t,value:null}],a=function(){g((0,o.addAlert)({description:h("console:develop.features.authenticationProvider.notifications.deleteCertificate.success.description"),level:r.AlertLevels.SUCCESS,message:h("console:develop.features.authenticationProvider.notifications.deleteCertificate.success.message")})),d(i.id),U(!1)},l=function(e){if(e.response&&e.response.data&&e.response.data.description)return g((0,o.addAlert)({description:e.response.data.description,level:r.AlertLevels.ERROR,message:h("console:develop.features.authenticationProvider.notifications.deleteCertificate.error.message")})),void U(!1);g((0,o.addAlert)({description:h("console:develop.features.authenticationProvider.notifications.deleteCertificate.genericError.description"),level:r.AlertLevels.ERROR,message:h("console:develop.features.authenticationProvider.notifications.deleteCertificate.genericError.message")})),U(!1)},e.next=6,(0,b.DM)(null===i||void 0===i?void 0:i.id,n).then(a).catch(l);case 6:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(i,r){var o=e.apply(t,n);function a(e){_(o,i,r,a,l,"next",e)}function l(e){_(o,i,r,a,l,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}(),Z=function(e){k(e),O(!0)},x=function(e,t,n){var i,o,l=R()(t);switch(a.CertificateManagementUtils.determineCertificateValidityState({from:e,to:t})){case r.CertificateValidity.VALID:i="check circle",o="green";break;case r.CertificateValidity.WILL_EXPIRE_SOON:i="exclamation circle",o="yellow";break;default:i="times circle",o="red"}return u.createElement(u.Fragment,null,n+C.CertificateManagementConstants.SPACE_CHARACTER,u.createElement(w.Z,{trigger:u.createElement(v.Z,{name:i,color:o}),content:"Expiry date: "+l.format("DD/MM/YYYY"),inverted:!0,position:"top left",size:"mini"}))},G=function(e){return u.createElement("span",{className:"with-muted-list-item-header"},"Unable to visualize the certificate details\xa0",u.createElement(w.Z,{trigger:u.createElement(v.Z,{onClick:function(){return Z(e)},name:"info circle",color:"grey"}),content:"Click for more info",inverted:!0,position:"top left",size:"mini"}))},q=function(e,t){return[{hidden:null===e||void 0===e?void 0:e.infoUnavailable,disabled:null===e||void 0===e?void 0:e.infoUnavailable,"data-componentid":"".concat(n,"-edit-cert-").concat(t,"-button"),icon:"eye",onClick:function(){return Z(e)},popupText:"Preview",type:"button"},{"data-componentid":"".concat(n,"-delete-cert-").concat(t,"-button"),icon:"trash alternate",onClick:function(){return F(t)},popupText:"Delete",type:"button"}]},V=function(e){return u.createElement(c.UserAvatar,{name:null!==e&&void 0!==e&&e.infoUnavailable?C.CertificateManagementConstants.QUESTION_MARK:a.CertificateManagementUtils.searchIssuerDNAlias(null===e||void 0===e?void 0:e.issuerDN),size:"mini",floated:"left"})};return u.createElement(l.l0,{onSubmit:C.CertificateManagementConstants.NO_OPERATIONS,uncontrolledForm:!0},u.createElement(f.Z,null,u.createElement(f.Z.Row,null,u.createElement(f.Z.Column,null,u.createElement(c.ResourceList,{fill:!0,relaxed:!1,className:"application-list",isLoading:j,loadingStateOptions:{count:y.ru.DEFAULT_RESOURCE_LIST_ITEM_LIMIT,imageType:"circular"},readOnly:p},null===A||void 0===A?void 0:A.map((function(e,t){return u.createElement(c.ResourceListItem,{key:t,actionsColumnWidth:3,descriptionColumnWidth:9,actions:q(e,t),actionsFloated:"right",avatar:V(e),itemHeader:null!==e&&void 0!==e&&e.infoUnavailable?G(e):x(e.validFrom,e.validTill,a.CertificateManagementUtils.searchIssuerDNAlias(null===e||void 0===e?void 0:e.issuerDN)),itemDescription:null!==e&&void 0!==e&&e.infoUnavailable?null:(n=e.validFrom,i=e.validTill,a.CertificateManagementUtils.getValidityPeriodInHumanReadableFormat(n,i))});var n,i})))))),u.createElement(L,{show:S,certificateToDisplay:N,onCloseClicked:function(){return O(!1)}}))};M.defaultProps={"data-componentid":"idp-certificates-list"};var j=n(67897);function U(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,r,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);a=!0);}catch(e){l=!0,r=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return H(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return H(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var F=function(e){var t,n,g,y,E=e["data-componentid"],A=e.editingIDP,I=e.onUpdate,S=e.isReadOnly,C=e.isJWKSEnabled,T=e.isPEMEnabled,R=U((0,u.useState)(),2),w=R[0],L=R[1],N=U((0,u.useState)(!1),2),_=N[0],D=N[1],k=U((0,u.useState)(!1),2),H=k[0],F=k[1],q=U((0,u.useState)(!1),2),V=q[0],Q=q[1],B=U((0,u.useState)(),2),z=B[0],Y=B[1],K=(0,s.$G)().t,$=(0,m.I0)();(0,u.useEffect)((function(){W()}),[]),(0,u.useEffect)((function(){W()}),[A]);var W=function(){var e,t,n,i;C?(null===A||void 0===A||null===(e=A.certificate)||void 0===e||null===(t=e.certificates)||void 0===t?void 0:t.length)>0?L("certificates"):(Y(null!==(n=null===A||void 0===A||null===(i=A.certificate)||void 0===i?void 0:i.jwksUri)&&void 0!==n?n:G),L("jwks")):L("certificates")},J=function(){D(!0)},X=u.createElement(l.l0,{uncontrolledForm:!0,initialValues:{jwks_endpoint:null===A||void 0===A||null===(t=A.certificate)||void 0===t?void 0:t.jwksUri},onSubmit:function(e){var t,n=[{operation:null!==A&&void 0!==A&&null!==(t=A.certificate)&&void 0!==t&&t.jwksUri?"REPLACE":"ADD",path:"/certificate/jwksUri",value:e.jwks_endpoint}];F(!0);(0,b.DM)(A.id,n).then((function(){$((0,o.addAlert)({description:K("console:develop.features.authenticationProvider.notifications.updateIDPCertificate.success.description"),level:r.AlertLevels.SUCCESS,message:K("console:develop.features.authenticationProvider.notifications.updateIDPCertificate.success.message")})),I(A.id)})).catch((function(e){e.response&&e.response.data&&e.response.data.description?$((0,o.addAlert)({description:e.response.data.description,level:r.AlertLevels.ERROR,message:K("console:develop.features.authenticationProvider.notifications.updateIDPCertificate.error.message")})):$((0,o.addAlert)({description:K("console:develop.features.authenticationProvider.notifications.updateIDPCertificate.genericError.description"),level:r.AlertLevels.ERROR,message:K("console:develop.features.authenticationProvider.notifications.updateIDPCertificate.genericError.message")}))})).finally((function(){F(!1)}))}},u.createElement(l.gN.Input,{required:!0,hint:u.createElement(u.Fragment,null,"A JSON Web Key (JWK) Set is a JSON object that represents a set of JWKs. The JSON object MUST have a ",u.createElement(c.Code,null,"keys")," member, with its value being an array of JWKs."),label:"JWKS Endpoint URL",ariaLabel:"JWKS Endpoint URL",inputType:"url",width:16,validation:function(e){return e&&d.I.url(e)?null!==j.commonConfig&&void 0!==j.commonConfig&&j.commonConfig.blockLoopBackCalls&&a.URLUtils.isLoopBackCall(e)?(Q(!1),K("console:develop.features.idp.forms.common.internetResolvableErrorMessage")):void Q(!0):(Q(!1),K("console:develop.features.applications.forms.inboundSAML.fields.metaURL.validations.invalid"))},listen:function(e){return Y(e)},placeholder:"https://{ oauth-provider-url }/oauth/jwks",maxLength:Z,minLength:x,name:"jwks_endpoint"}),u.createElement(i.di,{when:i.TA.IDP_EDIT},u.createElement(c.PrimaryButton,{type:"submit","data-testid":"".concat(E,"-save-button"),loading:H,disabled:!z||!V||z===(null===A||void 0===A||null===(n=A.certificate)||void 0===n?void 0:n.jwksUri)||H},K("common:update")))),ee=u.createElement(u.Fragment,null,null!==A&&void 0!==A&&null!==(g=A.certificate)&&void 0!==g&&null!==(y=g.certificates)&&void 0!==y&&y.length?u.createElement(p.Z,null,u.createElement(f.Z,null,u.createElement(f.Z.Row,{columns:1},u.createElement(f.Z.Column,{width:16},u.createElement(i.di,{when:i.TA.IDP_EDIT},u.createElement(c.PrimaryButton,{floated:"right",onClick:J,"data-testid":"".concat(E,"-add-certificate-button")},u.createElement(v.Z,{name:"add"}),K("console:develop.features.authenticationProvider.buttons.addCertificate"))))),u.createElement(f.Z.Row,{columns:1},u.createElement(f.Z.Column,{width:16},u.createElement(M,{isReadOnly:S,currentlyEditingIdP:A,refreshIdP:I}))))):u.createElement(O,{onAddCertificateClicked:J}));return C||T?u.createElement(c.EmphasizedSegment,{padded:"very"},u.createElement(f.Z,null,C&&T&&u.createElement(f.Z.Row,{columns:1},u.createElement(f.Z.Column,{computer:8,mobile:16,widescreen:8,tablet:16},u.createElement(u.Fragment,null,u.createElement(c.Switcher,{widths:"two",compact:!0,"data-testid":"".concat(E,"-switcher"),selectedValue:w,onChange:function(e){var t=e.value;L(t)},options:[{label:"Use JWKS Endpoint",value:"jwks"},{label:"Provide Certificates",value:"certificates"}]}),u.createElement(h.Z,{hidden:!0})))),u.createElement(f.Z.Row,{columns:1},u.createElement(f.Z.Column,{computer:8,mobile:16,widescreen:8,tablet:16},"jwks"===w?X:u.createElement(u.Fragment,null,ee,u.createElement(c.Hint,null,"Upload certificate(s) for this Identity Provider. You can include multiple certificates in case if there's any certificate rotations. You can upload ",c.CertFileStrategy.DEFAULT_MIMES.map((function(e,t){return u.createElement("span",{key:e},u.createElement(c.Code,null,e),t!==c.CertFileStrategy.DEFAULT_MIMES.length-1&&u.createElement(u.Fragment,null,"\xa0"))}))," types of certificates."))))),T&&u.createElement(P,{currentlyEditingIdP:A,refreshIdP:I,isOpen:_,onClose:function(){D(!1)}})):null};F.defaultProps={"data-componentid":"idp-certificates",isJWKSEnabled:!0,isPEMEnabled:!0};var Z=2048,x=10,G="",q=n(22946),V=n(7882),Q=n(21307),B=n(87385),z=n(47418);function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function K(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $(e,t,n,i,r,o,a){try{var l=e[o](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(i,r)}function W(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var o=e.apply(t,n);function a(e){$(o,i,r,a,l,"next",e)}function l(e){$(o,i,r,a,l,"throw",e)}a(void 0)}))}}function J(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,r,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);a=!0);}catch(e){l=!0,r=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return X(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return X(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function X(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var ee=function(e){var t=e.editingIDP,n=e.name,a=e.description,l=e.isEnabled,d=e.imageUrl,p=e.isLoading,f=e.onDelete,v=e.onUpdate,g=e.isReadOnly,y=e.hideIdPLogoEditField,E=e.isSaml,A=e.isOidc,I=e.loader,P=e["data-testid"],S=(0,m.I0)(),O=(0,s.$G)().t,C=J((0,u.useState)(!1),2),T=C[0],R=C[1],w=J((0,u.useState)(void 0),2),L=w[0],N=w[1],_=J((0,u.useState)(!1),2),D=_[0],k=_[1],M=J((0,u.useState)(!0),2),j=M[0],U=M[1],H=J((0,u.useState)({}),2),F=H[0],Z=H[1],x=J((0,u.useState)(!1),2),G=x[0],$=x[1],X=J((0,u.useState)(!1),2),ee=X[0],te=X[1];(0,u.useEffect)((function(){ne()}),[]);var ne=function(){$(!0),(0,b.SN)(null,null,null).then((function(e){Z(e)})).catch((function(e){(0,z.Df)(e)})).finally((function(){$(!1)}))},ie=function(e){te(!0),(0,b.wI)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach((function(t){K(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({id:t.id},e)).then((function(){S((0,o.addAlert)({description:O("console:develop.features.authenticationProvider.notifications.updateIDP.success.description"),level:r.AlertLevels.SUCCESS,message:O("console:develop.features.authenticationProvider.notifications.updateIDP.success.message")})),v(t.id)})).catch((function(e){(0,z.Nf)(e)})).finally((function(){te(!1)}))};return p||G?u.createElement(I,null):u.createElement(u.Fragment,null,u.createElement(B.DU,{isSaml:E,isOidc:A,hideIdPLogoEditField:y,name:n,editingIDP:t,description:a,onSubmit:ie,onUpdate:v,imageUrl:d,idpList:F,"data-testid":"".concat(P,"-form"),isReadOnly:g,isSubmitting:ee}),u.createElement(h.Z,{hidden:!0}),!Q.bQ.DELETING_FORBIDDEN_IDPS.includes(n)&&u.createElement(i.di,{when:i.TA.IDP_EDIT||i.TA.IDP_DELETE},u.createElement(c.DangerZoneGroup,{sectionHeader:O("console:develop.features.authenticationProvider.dangerZoneGroup.header")},u.createElement(i.di,{when:i.TA.IDP_EDIT},u.createElement(c.DangerZone,{actionTitle:O("console:develop.features.authenticationProvider.dangerZoneGroup.disableIDP.actionTitle",{state:O(l?"common:disable":"common:enable")}),header:O("console:develop.features.authenticationProvider.dangerZoneGroup.disableIDP.header",{state:O(l?"common:disable":"common:enable")}),subheader:O(l?"console:develop.features.authenticationProvider.dangerZoneGroup.disableIDP.subheader":"console:develop.features.authenticationProvider.dangerZoneGroup.disableIDP.subheader2"),onActionClick:void 0,toggle:{checked:l,onChange:function(e,n){U(!0),(0,b.Tg)(t.id).then(function(){var e=W(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:0===t.count?ie({isEnabled:n.checked}):S((0,o.addAlert)({description:"There are applications using this identity provider.",level:r.AlertLevels.WARNING,message:"Cannot Disable."}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){S((0,o.addAlert)({description:(null===e||void 0===e?void 0:e.description)||"Error occurred while trying to retrieve connected applications.",level:r.AlertLevels.ERROR,message:(null===e||void 0===e?void 0:e.message)||"Error Occurred."}))})).finally((function(){U(!1)}))}},"data-testid":"".concat(P,"-disable-idp-danger-zone")})),u.createElement(i.di,{when:i.TA.IDP_DELETE},u.createElement(c.DangerZone,{actionTitle:O("console:develop.features.authenticationProvider.dangerZoneGroup.deleteIDP.actionTitle"),header:O("console:develop.features.authenticationProvider.dangerZoneGroup.deleteIDP.header"),subheader:O("console:develop.features.authenticationProvider.dangerZoneGroup.deleteIDP.subheader"),onActionClick:function(){U(!0),(0,b.Tg)(t.id).then(function(){var e=W(regeneratorRuntime.mark((function e(t){var n,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==t.count){e.next=4;break}R(!0),e.next=12;break;case 4:return k(!0),n=t.connectedApps.map((function(e){return(0,V.sl)(e.appId)})),e.next=8,Promise.all(n.map((function(e){return e.catch((function(e){S((0,o.addAlert)({description:(null===e||void 0===e?void 0:e.description)||"Error occurred while trying to retrieve connected applications.",level:r.AlertLevels.ERROR,message:(null===e||void 0===e?void 0:e.message)||"Error Occurred."}))}))})));case 8:i=e.sent,a=[],i.forEach((function(e){a.push(e.name)})),N(a);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){S((0,o.addAlert)({description:(null===e||void 0===e?void 0:e.description)||"Error occurred while trying to retrieve connected applications.",level:r.AlertLevels.ERROR,message:(null===e||void 0===e?void 0:e.message)||"Error Occurred."}))})).finally((function(){U(!1)}))},"data-testid":"".concat(P,"-delete-idp-danger-zone")})))),T&&u.createElement(c.ConfirmationModal,{onClose:function(){return R(!1)},type:"negative",open:T,assertion:n,assertionHint:O("console:develop.features.authenticationProvider.confirmations.deleteIDP.assertionHint"),assertionType:"checkbox",primaryAction:O("common:confirm"),secondaryAction:O("common:cancel"),onSecondaryActionClick:function(){return R(!1)},onPrimaryActionClick:function(){(0,b.At)(t.id).then((function(){S((0,o.addAlert)({description:O("console:develop.features.authenticationProvider.notifications.deleteIDP.success.description"),level:r.AlertLevels.SUCCESS,message:O("console:develop.features.authenticationProvider.notifications.deleteIDP.success.message")})),R(!1),f()})).catch((function(e){(0,z.wb)(e)}))},"data-testid":"".concat(P,"-delete-idp-confirmation"),closeOnDimmerClick:!1},u.createElement(c.ConfirmationModal.Header,{"data-testid":"".concat(P,"-delete-idp-confirmation")},O("console:develop.features.authenticationProvider.confirmations.deleteIDP.header")),u.createElement(c.ConfirmationModal.Message,{attached:!0,warning:!0,"data-testid":"".concat(P,"-delete-idp-confirmation")},O("console:develop.features.authenticationProvider.confirmations.deleteIDP.message")),u.createElement(c.ConfirmationModal.Content,{"data-testid":"".concat(P,"-delete-idp-confirmation")},O("console:develop.features.authenticationProvider.confirmations.deleteIDP.content"))),D&&u.createElement(c.ConfirmationModal,{onClose:function(){return k(!1)},type:"negative",open:D,secondaryAction:O("common:close"),onSecondaryActionClick:function(){return k(!1)},"data-testid":"".concat(P,"-delete-idp-confirmation"),closeOnDimmerClick:!1},u.createElement(c.ConfirmationModal.Header,{"data-testid":"".concat(P,"-delete-idp-confirmation")},O("console:develop.features.authenticationProvider.confirmations.deleteIDPWithConnectedApps.header")),u.createElement(c.ConfirmationModal.Message,{attached:!0,warning:!0,"data-testid":"".concat(P,"-delete-idp-confirmation")},O("console:develop.features.authenticationProvider.confirmations.deleteIDPWithConnectedApps.message")),u.createElement(c.ConfirmationModal.Content,{"data-testid":"".concat(P,"-delete-idp-confirmation")},O("console:develop.features.authenticationProvider.confirmations.deleteIDPWithConnectedApps.content"),u.createElement(h.Z,{hidden:!0}),u.createElement(q.Z,{ordered:!0,className:"ml-6"},j?u.createElement(c.ContentLoader,null):null===L||void 0===L?void 0:L.map((function(e,t){return u.createElement(q.Z.Item,{key:t},e)}))))))};ee.defaultProps={"data-testid":"idp-edit-general-settings",hideIdPLogoEditField:!1};var te=n(25479),ne=n(87289),ie=n(6841),re=n(72393),oe=n(46767),ae=n(47962),le=n(59428),ce=n(59867),de=n(11380),ue=n(41443),se=n(37320);function me(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Ee(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw o}}}}function pe(e){return function(e){if(Array.isArray(e))return Ae(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ee(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fe(Object(n),!0).forEach((function(t){he(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function he(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ge(e,t,n,i,r,o,a){try{var l=e[o](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(i,r)}function ye(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var o=e.apply(t,n);function a(e){ge(o,i,r,a,l,"next",e)}function l(e){ge(o,i,r,a,l,"throw",e)}a(void 0)}))}}function be(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,r,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);a=!0);}catch(e){l=!0,r=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||Ee(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ee(e,t){if(e){if("string"===typeof e)return Ae(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ae(e,t):void 0}}function Ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Ie=2048,Pe=function(e){var t=e.identityProvider,n=e.isLoading,a=e.onUpdate,l=e.isReadOnly,d=e.loader,p=e["data-testid"],h=(0,m.I0)(),g=(0,s.$G)().t,E=(0,m.v9)((function(e){return e.identityProvider.meta.authenticators})),A=(0,m.v9)((function(e){var t;return null===(t=e.identityProvider)||void 0===t?void 0:t.groupedTemplates})),I=be((0,u.useState)(!1),2),P=I[0],S=I[1],O=be((0,u.useState)(void 0),2),C=O[0],T=O[1],R=be((0,u.useState)([]),2),w=R[0],L=R[1],N=be((0,u.useState)(void 0),2),_=N[0],D=N[1],k=be((0,u.useState)(void 0),2),M=k[0],j=k[1],U=be((0,u.useState)(!1),2),H=U[0],F=U[1],Z=be((0,u.useState)(!1),2),x=Z[0],G=Z[1],q=be((0,u.useState)([]),2),V=q[0],Y=q[1],K=be((0,u.useState)(void 0),2),$=K[0],W=K[1],J=be((0,u.useState)(void 0),2),X=J[0],ee=J[1],fe=(0,m.v9)((function(e){return e.config})),he=(0,u.useMemo)((function(){var e;return(null===re.identityProviderConfig||void 0===re.identityProviderConfig||null===(e=re.identityProviderConfig.templates)||void 0===e?void 0:e.expertMode)&&(t.templateId===le.id||!t.templateId)}),[t,re.identityProviderConfig]);(0,u.useEffect)((function(){Te()}),[w]),(0,u.useEffect)((function(){if(void 0===A){W(!0);var e=fe.ui.identityProviderTemplateLoadingStrategy?fe.ui.identityProviderTemplateLoadingStrategy===ce.w7.REMOTE:Q.bQ.DEFAULT_IDP_TEMPLATE_LOADING_STRATEGY===ce.w7.REMOTE;de.b.getIdentityProviderTemplates(e,!1,!0).finally((function(){return W(!1)}))}}),[A]),(0,u.useEffect)((function(){(0,ne.Z)(E)&&de.z.getAuthenticators()}),[E]);var ge=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(Ee(e),!he&&e.authenticatorId===Q.bQ.GOOGLE_OIDC_AUTHENTICATOR_ID){var i=e.properties,l=!0;i.forEach((function(e){"ClientId"!==e.key&&"ClientSecret"!==e.key||(0,ne.Z)(e.value)&&(l=!1)})),e.isEnabled=l,Le(i,"scopes")}(null===e||void 0===e?void 0:e.tags)&&delete e.tags,G(!0),(0,b.$X)(t.id,e).then((function(){n&&h((0,o.addAlert)({description:g("console:develop.features.authenticationProvider.notifications.updateFederatedAuthenticator.success.description"),level:r.AlertLevels.SUCCESS,message:g("console:develop.features.authenticationProvider.notifications.updateFederatedAuthenticator.success.message")})),a(t.id)})).catch((function(e){e.response&&e.response.data&&e.response.data.description?h((0,o.addAlert)({description:g("console:develop.features.authenticationProvider.notifications.updateFederatedAuthenticator.error.description",{description:e.response.data.description}),level:r.AlertLevels.ERROR,message:g("console:develop.features.authenticationProvider.notifications.updateFederatedAuthenticator.error.message")})):h((0,o.addAlert)({description:g("console:develop.features.authenticationProvider.notifications.updateFederatedAuthenticator.genericError.description"),level:r.AlertLevels.ERROR,message:g("console:develop.features.authenticationProvider.notifications.updateFederatedAuthenticator.genericError.message")}))})).finally((function(){G(!1)}))},Ee=function(e){var n,i=w.find((function(e){return t.federatedAuthenticators.defaultAuthenticatorId===e.id})),r=null===i||void 0===i||null===(n=i.data)||void 0===n?void 0:n.properties.findIndex((function(e){return"callbackUrl"===e.key}));r>=0&&e.properties.push(i.data.properties[r])},Ae=function(e){return new Promise((function(n){(0,b.pD)(t.id,e).then((function(t){(0,b.go)(e).then((function(i){n({data:t,id:e,meta:i})})).catch((function(e){(0,z.Rw)(e)}))})).catch((function(e){!function(e){e.response&&e.response.data&&e.response.data.description?h((0,o.addAlert)({description:g("console:develop.features.authenticationProvider.notifications.getFederatedAuthenticator.error.description",{description:e.response.data.description}),level:r.AlertLevels.ERROR,message:g("console:develop.features.authenticationProvider.notifications.getFederatedAuthenticator.error.message")})):h((0,o.addAlert)({description:g("console:develop.features.authenticationProvider.notifications.getFederatedAuthenticator.genericError.description"),level:r.AlertLevels.ERROR,message:g("console:develop.features.authenticationProvider.notifications.getFederatedAuthenticator.genericError.message")}))}(e)}))}))};function Pe(){return(Pe=ye(regeneratorRuntime.mark((function e(){var n,i,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],i=me(t.federatedAuthenticators.authenticators),e.prev=2,i.s();case 4:if((r=i.n()).done){e.next=13;break}return o=r.value,e.t0=n,e.next=9,Ae(o.authenticatorId);case 9:e.t1=e.sent,e.t0.push.call(e.t0,e.t1);case 11:e.next=4;break;case 13:e.next=18;break;case 15:e.prev=15,e.t2=e.catch(2),i.e(e.t2);case 18:return e.prev=18,i.f(),e.finish(18);case 21:return e.abrupt("return",n);case 22:case"end":return e.stop()}}),e,null,[[2,15,18,21]])})))).apply(this,arguments)}(0,u.useEffect)((function(){var e;(0,ne.Z)(null===(e=t.federatedAuthenticators)||void 0===e?void 0:e.authenticators)||(ee(!0),L([]),function(){return Pe.apply(this,arguments)}().then((function(e){var n=e[0].data;if(he||(n.isEnabled=!0),!t.federatedAuthenticators.defaultAuthenticatorId&&t.federatedAuthenticators.authenticators.length>0){var i;n.isDefault=!0;var r=Boolean(null===t||void 0===t||null===(i=t.federatedAuthenticators)||void 0===i?void 0:i.defaultAuthenticatorId);ge(n,r)}L(e)})).finally((function(){return ee(!1)})))}),[null===t||void 0===t?void 0:t.federatedAuthenticators]);var Se=function(e,t,n){var i=w.find((function(e){return e.id===n})).data;i.isDefault=t.checked,ge(i)},Oe=function(e,n,i){var l=w.find((function(e){return e.id===i})).data;l.isDefault&&!n.checked?(h((0,o.addAlert)({description:g("console:develop.features.authenticationProvider.notifications.disableAuthenticator.error.description"),level:r.AlertLevels.WARNING,message:g("console:develop.features.authenticationProvider.notifications.disableAuthenticator.error.message")})),a(t.id)):(l.isEnabled=n.checked,ge(l))},Ce=function(e,n){if(n)if(n!=t.federatedAuthenticators.defaultAuthenticatorId){var i=w.find((function(e){return e.id===n}));i&&(T(i.data),S(!0))}else h((0,o.addAlert)({description:g("console:develop.features.authenticationProvider.notifications.deleteDefaultAuthenticator.error.description"),level:r.AlertLevels.WARNING,message:g("console:develop.features.authenticationProvider.notifications.deleteDefaultAuthenticator.error.message")}))},Te=function(){var e,t,n=null===w||void 0===w?void 0:w.map((function(e){return e.id})),i=null===A||void 0===A?void 0:A.filter((function(e){var t,i,r,o;return(null===e||void 0===e||null===(t=e.idp)||void 0===t||null===(i=t.federatedAuthenticators)||void 0===i?void 0:i.defaultAuthenticatorId)&&!(null!==n&&void 0!==n&&n.includes(null===e||void 0===e||null===(r=e.idp)||void 0===r||null===(o=r.federatedAuthenticators)||void 0===o?void 0:o.defaultAuthenticatorId))}));null===i||void 0===i||i.sort((function(e,t){return(null===e||void 0===e?void 0:e.displayOrder)>(null===t||void 0===t?void 0:t.displayOrder)?1:-1}));var r=(0,ie.Z)((0,ue.e)(),"authenticatorId"),o=(0,te.Z)(E);o=null===(t=o=null===(e=o)||void 0===e?void 0:e.map((function(e){return ve(ve({},e),r[null===e||void 0===e?void 0:e.authenticatorId])})))||void 0===t?void 0:t.filter((function(e){return!n.includes(null===e||void 0===e?void 0:e.authenticatorId)})),j(o),D(i)};var Re=function(e){var t;return null===(t=e.data)||void 0===t?void 0:t.isDefault},we=function(e){var t,n,i,r,o=Re(e);return[{defaultChecked:o,disabled:(null===(t=e.data)||void 0===t?void 0:t.isDefault)||!(null!==(n=e.data)&&void 0!==n&&n.isEnabled),label:g(o?"console:develop.features.authenticationProvider.forms.authenticatorAccordion.default.0":"console:develop.features.authenticationProvider.forms.authenticatorAccordion.default.1"),onChange:Se,type:"checkbox"},{defaultChecked:null===(i=e.data)||void 0===i?void 0:i.isEnabled,disabled:o,label:g(null!==(r=e.data)&&void 0!==r&&r.isEnabled?"console:develop.features.authenticationProvider.forms.authenticatorAccordion.enable.0":"console:develop.features.authenticationProvider.forms.authenticatorAccordion.enable.1"),onChange:Oe,type:"toggle"}]},Le=function(e,t){var n=e.find((function(e){return e.key===t})),i=e.indexOf(n);i>=0&&e.splice(i,1)},Ne=function(e,t){if(t){var n=pe(V);if(n.includes(t.accordionIndex)){var i=n.indexOf(t.accordionIndex);n.splice(i,1)}else n.push(t.accordionIndex);Y(n)}},_e=function(){Te(),F(!0)};return n||X?u.createElement(d,null):u.createElement("div",{className:"authentication-section"},u.createElement(f.Z,null,u.createElement(f.Z.Row,null,u.createElement(f.Z.Column,{width:16},u.createElement(c.EmphasizedSegment,{padded:"very"},function(){if(w.length>0){var e,n;if(he)return function(){var e=function(e){var t=(0,ue.e)().find((function(t){return(null===t||void 0===t?void 0:t.authenticatorId)===(null===e||void 0===e?void 0:e.id)?t:null}));return null!==t&&void 0!==t&&t.icon?t.icon:(0,ae.nI)().default},n=function(e){var t,n,i=(0,ue.e)().find((function(t){return(null===t||void 0===t?void 0:t.authenticatorId)===(null===e||void 0===e?void 0:e.id)?t:null}));return null!==i&&void 0!==i&&i.displayName?i.displayName:(null===(t=e.meta)||void 0===t?void 0:t.displayName)||(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.name)||e.id};return u.createElement(f.Z,null,u.createElement(f.Z.Row,null,u.createElement(f.Z.Column,{width:16,textAlign:"right"},u.createElement(c.PrimaryButton,{onClick:_e,disabled:Q.bQ.SHOW_PREDEFINED_TEMPLATES_IN_EXPERT_MODE_SETUP?(0,ne.Z)(_)&&(0,ne.Z)(M):(0,ne.Z)(M),loading:$,"data-testid":"".concat(p,"-add-authenticator-button")},u.createElement(v.Z,{name:"add"}),g("console:develop.features.authenticationProvider.buttons.addAuthenticator")))),u.createElement(f.Z.Row,null,u.createElement(f.Z.Column,{width:16},w.map((function(i,r){var o,a;return u.createElement(oe.Us,{key:r,globalActions:[{disabled:Re(i),icon:"trash alternate",onClick:Ce,popoverText:"Remove Authenticator",type:"icon"}],authenticators:[{actions:we(i),content:i&&u.createElement(B.pw,{mode:ce.Pk.CREATE,authenticator:i,metadata:i.meta,showCustomProperties:i.id!==Q.bQ.GITHUB_AUTHENTICATOR_ID,initialValues:i.data,onSubmit:ge,type:void 0,"data-testid":"".concat(p,"-").concat(null===(o=i.meta)||void 0===o?void 0:o.name,"-content"),isReadOnly:l,isSubmitting:x,templateId:t.templateId}),hideChevron:(0,ne.Z)(null===(a=i.meta)||void 0===a?void 0:a.properties),icon:{icon:e(i)},id:null===i||void 0===i?void 0:i.id,title:n(i)}],accordionActiveIndexes:V,accordionIndex:r,handleAccordionOnClick:Ne,"data-testid":"".concat(p,"-accordion")})})))))}();var r=w.find((function(e){return t.federatedAuthenticators.defaultAuthenticatorId===e.id}));if(!r)return;if(r.id===Q.bQ.OIDC_AUTHENTICATOR_ID){r.meta.properties.map((function(e){"ClientId"===e.key?(e.displayName="Client ID",e.description="The client identifier value of the identity provider.",e.maxLength=100):"ClientSecret"===e.key?(e.displayName="Client secret",e.description="The client secret value of the identity provider.",e.maxLength=100):"callbackUrl"===e.key?(e.displayName="Authorized redirect URL",e.description="The ".concat(fe.ui.productName," URL to which the user needs to be redirected\n                            after completing the authentication at the identity provider. The\n                            identity provider needs to send the authorization code to this URL upon\n                            successful authentication."),e.readOnly=!0):"OAuth2AuthzEPUrl"===e.key?(e.displayName="Authorization endpoint URL",e.description="The standard authorization endpoint URL obtained from the identity provider.",e.maxLength=Ie):"OAuth2TokenEPUrl"===e.key?(e.displayName="Token endpoint URL",e.description="The standard token endpoint URL obtained from the identity provider.",e.maxLength=Ie):"UserInfoUrl"===e.key?(e.displayName="User info endpoint URL",e.description="The URL corresponding to the userinfo endpoint.",e.maxLength=Ie):"commonAuthQueryParams"===e.key?(e.displayName="Additional query parameters",e.description="These  will be sent to the identity provider as query parameters in the authentication request. \nE.g., loginHint=hint1"):"IsBasicAuthEnabled"===e.key&&(e.displayName="Enable HTTP basic authentication for client authentication",e.description="Specify whether to enable HTTP basic authentication. Unless, client credentials will be sent in the request body")})),Le(r.meta.properties,"IsUserIdInClaims");r.data.properties.push({key:"OIDCLogoutEPUrl"});var o={description:"The URL of the identity provider to which ".concat(fe.ui.productName," will send session\n                        invalidation requests."),displayName:"Logout URL",displayOrder:7,isConfidential:!1,isMandatory:!1,key:"OIDCLogoutEPUrl",options:[],subProperties:[],type:"URL"};r.meta.properties.push(o)}return u.createElement(B.pw,{mode:ce.Pk.EDIT,authenticator:r,metadata:r.meta,showCustomProperties:r.id!==Q.bQ.GITHUB_AUTHENTICATOR_ID,initialValues:r.data,onSubmit:ge,type:null===(e=r.meta)||void 0===e?void 0:e.authenticatorId,"data-testid":"".concat(p,"-").concat(null===(n=r.meta)||void 0===n?void 0:n.name,"-content"),isReadOnly:l,isSubmitting:x,templateId:t.templateId})}return u.createElement(c.EmptyPlaceholder,{action:u.createElement(i.di,{when:i.TA.IDP_EDIT},u.createElement(c.PrimaryButton,{onClick:_e,loading:$,"data-testid":"".concat(p,"-add-authenticator-button")},u.createElement(v.Z,{name:"add"}),g("console:develop.features.authenticationProvider.buttons.addAuthenticator"))),image:(0,y.jF)().newList,imageSize:"tiny",title:g("console:develop.features.authenticationProvider.placeHolders.emptyAuthenticatorList.title"),subtitle:[g("console:develop.features.authenticationProvider.placeHolders.emptyAuthenticatorList.subtitles.0"),g("console:develop.features.authenticationProvider.placeHolders.emptyAuthenticatorList.subtitles.1"),g("console:develop.features.authenticationProvider.placeHolders.emptyAuthenticatorList.subtitles.2")],"data-testid":"".concat(p,"-empty-placeholder")})}())))),C&&u.createElement(c.ConfirmationModal,{onClose:function(){return S(!1)},type:"negative",open:P,assertion:null===C||void 0===C?void 0:C.name,assertionHint:u.createElement("p",null,u.createElement(s.cC,{i18nKey:"console:develop.features.authenticationProvider.confirmations.deleteAuthenticator.assertionHint",tOptions:{name:null===C||void 0===C?void 0:C.name}},"Please type ",u.createElement("strong",null,null===C||void 0===C?void 0:C.name)," to confirm.")),assertionType:"input",primaryAction:g("common:confirm"),secondaryAction:g("common:cancel"),onSecondaryActionClick:function(){return S(!1)},onPrimaryActionClick:function(){return function(e){var n=[],i=w.find((function(t){return t.id===e}));w.map((function(e){e.id!==i.id&&n.push(e.data)}));var l={authenticators:n,defaultAuthenticatorId:t.federatedAuthenticators.defaultAuthenticatorId};(0,b.Fv)(l,t.id).then((function(){h((0,o.addAlert)({description:g("console:develop.features.authenticationProvider.notifications.updateFederatedAuthenticators.success.description"),level:r.AlertLevels.SUCCESS,message:g("console:develop.features.authenticationProvider.notifications.updateFederatedAuthenticators.success.message")})),a(t.id)})).catch((function(e){e.response&&e.response.data&&e.response.data.description?h((0,o.addAlert)({description:e.response.data.description,level:r.AlertLevels.ERROR,message:g("console:develop.features.authenticationProvider.notifications.updateFederatedAuthenticators.error.message")})):h((0,o.addAlert)({description:g("console:develop.features.authenticationProvider.notifications.updateFederatedAuthenticators.genericError.description"),level:r.AlertLevels.ERROR,message:g("console:develop.features.authenticationProvider.notifications.updateFederatedAuthenticators.genericError.message")}))})),T(void 0),S(!1)}(C.authenticatorId)},"data-testid":"".concat(p,"-authenticator-delete-confirmation"),closeOnDimmerClick:!1},u.createElement(c.ConfirmationModal.Header,{"data-testid":"".concat(p,"-authenticator-delete-confirmation")},g("console:develop.features.authenticationProvider.confirmations.deleteAuthenticator.header")),u.createElement(c.ConfirmationModal.Message,{attached:!0,negative:!0,"data-testid":"".concat(p,"-authenticator-delete-confirmation")},g("console:develop.features.authenticationProvider.confirmations.deleteAuthenticator.message")),u.createElement(c.ConfirmationModal.Content,{"data-testid":"".concat(p,"-authenticator-delete-confirmation")},g("console:develop.features.authenticationProvider.confirmations.deleteAuthenticator.content"))),H&&u.createElement(se.P,{title:g("console:develop.features.authenticationProvider.modals.addAuthenticator.title"),subTitle:g("console:develop.features.authenticationProvider.modals.addAuthenticator.subTitle",{idpName:t.name}),closeWizard:function(){F(!1),L([]),a(t.id)},manualModeOptions:M,availableTemplates:Q.bQ.SHOW_PREDEFINED_TEMPLATES_IN_EXPERT_MODE_SETUP&&_,idpId:t.id,"data-testid":"".concat(p,"-authenticator-create-wizard")}))};Pe.defaultProps={"data-testid":"idp-edit-authenticator-settings"};var Se=n(3844),Oe=n(38021),Ce=n(24933),Te=n(44706),Re=n(84504),we=n(99104),Le=n(6997);function Ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function _e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ne(Object(n),!0).forEach((function(t){De(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function De(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ke(e){return function(e){if(Array.isArray(e))return Ue(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||je(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Me(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,r,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);a=!0);}catch(e){l=!0,r=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||je(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function je(e,t){if(e){if("string"===typeof e)return Ue(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ue(e,t):void 0}}function Ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var He=function(e){var t=e.idpId,n=e.idpRoles,a=e.isReadOnly,l=e.onUpdate,d=e["data-testid"],p=Me((0,u.useState)(void 0),2),h=p[0],g=p[1],y=Me((0,u.useState)(void 0),2),E=y[0],A=y[1],I=Me((0,u.useState)(void 0),2),P=I[0],S=I[1],O=Me((0,u.useState)(!1),2),C=O[0],T=O[1],R=(0,m.I0)(),L=(0,s.$G)().t;(0,u.useEffect)((function(){Le.F.isCurrentOrganizationRoot()&&((0,Se.getRolesList)(null).then((function(e){if(200===e.status){var t,n=e.data;S(null===n||void 0===n||null===(t=n.Resources)||void 0===t?void 0:t.filter((function(e){return!(e.displayName.includes("Application/")||e.displayName.includes("Internal/"))})))}})).catch((function(e){(0,z.A0)(e)})),A(void 0===n.outboundProvisioningRoles?[]:n.outboundProvisioningRoles))}),[]);return u.createElement(f.Z,null,u.createElement(f.Z.Row,null,u.createElement(f.Z.Column,{width:8},u.createElement(c.Heading,{as:"h5"},L("console:develop.features.authenticationProvider.forms.outboundProvisioningRoles.heading")))),u.createElement(f.Z.Row,null,u.createElement(f.Z.Column,{width:8},u.createElement(Te.Z,{className:"outbound-provisioning-roles role-select-dropdown"},u.createElement(Te.Z.Select,{options:null===P||void 0===P?void 0:P.map((function(e){return{key:e.id,text:e.displayName,value:e.displayName}})),value:h,placeholder:L("console:develop.features.authenticationProvider.forms.outboundProvisioningRoles.placeHolder"),onChange:function(e,t){var n;(0,ne.Z)(null===t||void 0===t||null===(n=t.value)||void 0===n?void 0:n.toString())||g(t.value.toString())},search:!0,label:L("console:develop.features.authenticationProvider.forms.outboundProvisioningRoles.label"),"data-testid":"".concat(d,"-role-select-dropdown"),readOnly:a}),u.createElement(w.Z,{trigger:u.createElement(i.di,{when:i.TA.IDP_EDIT},u.createElement(Re.Z,{onClick:function(e){return e.preventDefault(),void((0,ne.Z)(h)||((0,ne.Z)(E.find((function(e){return e===h})))&&A([].concat(ke(E),[h])),g("")))},icon:"add",type:"button",disabled:!1,className:"inline"})),position:"top center",content:L("console:develop.features.authenticationProvider.forms.outboundProvisioningRoles.popup.content"),inverted:!0,"data-testid":"".concat(d,"-add-button")})),u.createElement(c.Hint,null,L("console:develop.features.authenticationProvider.forms.outboundProvisioningRoles.hint")),E&&(null===E||void 0===E?void 0:E.map((function(e,t){return u.createElement(i.di,{key:t,when:i.TA.IDP_EDIT},u.createElement(we.Z,null,e,u.createElement(v.Z,{name:"delete",onClick:function(){return t=e,void((0,ne.Z)(t)||A((0,Oe.Z)(E,(function(e){return!(0,Ce.Z)(t,e)}))));var t},"data-testid":"".concat(d,"-delete-button")})))}))))),u.createElement(f.Z.Row,null,u.createElement(f.Z.Column,{width:8},u.createElement(i.di,{when:i.TA.IDP_EDIT},u.createElement(Re.Z,{primary:!0,size:"small",loading:C,disabled:C,onClick:function(){var e;void 0!==E&&(e=E,T(!0),(0,b.Lv)(t,_e(_e({},n),{},{outboundProvisioningRoles:e})).then((function(){R((0,o.addAlert)({description:L("console:develop.features.authenticationProvider.notifications.updateIDPRoleMappings.success.description"),level:r.AlertLevels.SUCCESS,message:L("console:develop.features.authenticationProvider.notifications.updateIDPRoleMappings.success.message")})),l(t)})).catch((function(e){(0,z.St)(e)})).finally((function(){T(!1)})))},"data-testid":"".concat(d,"-update-button")},L("common:update"))))))};He.defaultProps={"data-testid":"idp-edit-outbound-provisioning-settings-roles"};var Fe=n(10783),Ze=n(82291);function xe(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Be(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw o}}}}function Ge(e){return function(e){if(Array.isArray(e))return ze(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Be(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qe(e,t,n,i,r,o,a){try{var l=e[o](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(i,r)}function Ve(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var o=e.apply(t,n);function a(e){qe(o,i,r,a,l,"next",e)}function l(e){qe(o,i,r,a,l,"throw",e)}a(void 0)}))}}function Qe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,r,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);a=!0);}catch(e){l=!0,r=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||Be(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Be(e,t){if(e){if("string"===typeof e)return ze(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ze(e,t):void 0}}function ze(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Ye=function(e){var t=e.identityProvider,n=e.outboundConnectors,a=e.isLoading,l=e.onUpdate,d=e.isReadOnly,g=(e.loader,e["data-testid"]),E=(0,m.I0)(),A=(0,s.$G)().t,I=Qe((0,u.useState)(!1),2),P=I[0],S=I[1],O=Qe((0,u.useState)(!1),2),C=O[0],T=O[1],R=Qe((0,u.useState)([]),2),w=R[0],L=R[1],N=Qe((0,u.useState)(void 0),2),_=N[0],D=N[1],k=Qe((0,u.useState)([]),2),M=k[0],j=k[1];(0,u.useEffect)((function(){L([]),function(){return H.apply(this,arguments)}().then((function(e){L(e)}))}),[t]);var U=function(e){return new Promise((function(n){(0,b.T_)(t.id,e).then((function(t){(0,b.PL)(e).then((function(i){n({data:t,id:e,meta:i})})).catch((function(e){(0,z.x8)(e)}))})).catch((function(e){e.response&&e.response.data&&e.response.data.description?E((0,o.addAlert)({description:A("console:develop.features.authenticationProvider.notifications.getOutboundProvisioningConnector.error.description",{description:e.response.data.description}),level:r.AlertLevels.ERROR,message:A("console:develop.features.authenticationProvider.notifications.getOutboundProvisioningConnector.error.message")})):E((0,o.addAlert)({description:A("console:develop.features.authenticationProvider.notifications.getOutboundProvisioningConnector.genericError.description"),level:r.AlertLevels.ERROR,message:A("console:develop.features.authenticationProvider.notifications.getOutboundProvisioningConnector.genericError.message")}))}))}))};function H(){return(H=Ve(regeneratorRuntime.mark((function e(){var n,i,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],i=xe(t.provisioning.outboundConnectors.connectors),e.prev=2,i.s();case 4:if((r=i.n()).done){e.next=13;break}return o=r.value,e.t0=n,e.next=9,U(o.connectorId);case 9:e.t1=e.sent,e.t0.push.call(e.t0,e.t1);case 11:e.next=4;break;case 13:e.next=18;break;case 15:e.prev=15,e.t2=e.catch(2),i.e(e.t2);case 18:return e.prev=18,i.f(),e.finish(18);case 21:return e.abrupt("return",n);case 22:case"end":return e.stop()}}),e,null,[[2,15,18,21]])})))).apply(this,arguments)}var F=function(e){(0,b.Wm)(t.id,e).then((function(){E((0,o.addAlert)({description:A("console:develop.features.authenticationProvider.notifications.updateOutboundProvisioningConnector.success.description"),level:r.AlertLevels.SUCCESS,message:A("console:develop.features.authenticationProvider.notifications.updateOutboundProvisioningConnector.success.message")})),l(t.id)})).catch((function(e){(0,z.hN)(e)}))},Z=function(e,t){if(t){var n=w.find((function(e){return e.id==t}));n&&(D(n),S(!0))}},x=function(e,t,n){var i=w.find((function(e){return e.id===n})).data;i.isEnabled=t.checked,F(i)},G=function(e){var t,n;return[{defaultChecked:null===(t=e.data)||void 0===t?void 0:t.isEnabled,label:A(null!==(n=e.data)&&void 0!==n&&n.isEnabled?"console:develop.features.authenticationProvider.forms.outboundConnectorAccordion.enable.0":"console:develop.features.authenticationProvider.forms.outboundConnectorAccordion.enable.1"),onChange:x,type:"toggle"}]},q=function(e,t){if(t){var n=Ge(M);if(n.includes(t.accordionIndex)){var i=n.indexOf(t.accordionIndex);n.splice(i,1)}else n.push(t.accordionIndex);j(n)}};return u.createElement(c.EmphasizedSegment,null,u.createElement(f.Z.Row,null,u.createElement(f.Z.Column,{width:8},u.createElement(c.Heading,{as:"h4"},"OutBound Provisioning Connectors"))),n.connectors.length>0?a?u.createElement(c.ContentLoader,null):u.createElement("div",{className:"default-provisioning-connector-section"},u.createElement(f.Z,null,u.createElement(f.Z.Row,null,u.createElement(f.Z.Column,null,u.createElement(i.di,{when:i.TA.IDP_EDIT},u.createElement(c.PrimaryButton,{floated:"right",onClick:function(){return T(!0)},"data-testid":"".concat(g,"-add-connector-button")},u.createElement(v.Z,{name:"add"}),A("console:develop.features.authenticationProvider.buttons.addConnector"))))),u.createElement(f.Z.Row,null,u.createElement(f.Z.Column,null,w.map((function(e,t){var n,i,r,o;return u.createElement(y.Us,{key:t,globalActions:[{disabled:null===(n=e.data)||void 0===n?void 0:n.isEnabled,icon:"trash alternate",onClick:Z,type:"icon"}],authenticators:[{actions:G(e),content:u.createElement(B.Jz,{mode:ce.Pk.EDIT,metadata:e.meta,initialValues:e.data,onSubmit:F,type:null===(i=e.meta)||void 0===i?void 0:i.name,"data-testid":"".concat(g,"-").concat(null===(r=e.meta)||void 0===r?void 0:r.name,"-content"),isReadOnly:d}),id:null===e||void 0===e?void 0:e.id,title:null===e||void 0===e||null===(o=e.meta)||void 0===o?void 0:o.displayName}],"data-testid":"".concat(g,"-accordion"),accordionActiveIndexes:M,accordionIndex:t,handleAccordionOnClick:q})})))))):u.createElement(f.Z,null,u.createElement(f.Z.Row,null,u.createElement(f.Z.Column,{width:8},u.createElement(h.Z,{hidden:!0}),u.createElement(p.Z,null,u.createElement(c.EmptyPlaceholder,{title:A("console:develop.features.authenticationProvider.placeHolders.emptyConnectorList.title"),image:(0,y.jF)().emptyList,subtitle:[A("console:develop.features.authenticationProvider.placeHolders.emptyConnectorList.subtitles.0"),A("console:develop.features.authenticationProvider.placeHolders.emptyConnectorList.subtitles.1")],imageSize:"tiny",action:u.createElement(i.di,{when:i.TA.IDP_EDIT},u.createElement(c.PrimaryButton,{onClick:function(){return T(!0)},"data-testid":"".concat(g,"-add-connector-button")},u.createElement(v.Z,{name:"add"}),A("console:develop.features.authenticationProvider.buttons.addConnector"))),"data-testid":"".concat(g,"-empty-placeholder")})),u.createElement(h.Z,{hidden:!0})))),_&&u.createElement(c.ConfirmationModal,{onClose:function(){return S(!1)},type:"negative",open:P,assertion:null===_||void 0===_?void 0:_.meta.name,assertionHint:u.createElement("p",null,u.createElement(s.cC,{i18nKey:"console:develop.features.authenticationProvider.confirmations.deleteConnector.assertionHint",tOptions:{name:null===_||void 0===_?void 0:_.meta.name}},"Please type ",u.createElement("strong",null,null===_||void 0===_?void 0:_.meta.name)," to confirm.")),assertionType:"input",primaryAction:A("common:confirm"),secondaryAction:A("common:cancel"),onSecondaryActionClick:function(){return S(!1)},onPrimaryActionClick:function(){return function(e){var n=[];w.map((function(t){t.id!==e.id&&n.push(t.data)}));var i={connectors:n,defaultConnectorId:""};(0,b.ez)(i,t.id).then((function(){E((0,o.addAlert)({description:A("console:develop.features.authenticationProvider.notifications.updateOutboundProvisioningConnectors.success.description"),level:r.AlertLevels.SUCCESS,message:A("console:develop.features.authenticationProvider.notifications.updateOutboundProvisioningConnectors.success.message")})),l(t.id)})).catch((function(e){e.response&&e.response.data&&e.response.data.description?E((0,o.addAlert)({description:e.response.data.description,level:r.AlertLevels.ERROR,message:A("console:develop.features.authenticationProvider.notifications.updateOutboundProvisioningConnectors.error.message")})):E((0,o.addAlert)({description:A("console:develop.features.authenticationProvider.notifications.updateOutboundProvisioningConnectors.genericError.description"),level:r.AlertLevels.ERROR,message:A("console:develop.features.authenticationProvider.notifications.updateOutboundProvisioningConnectors.genericError.message")}))})),D(void 0),S(!1)}(_)},"data-testid":"".concat(g,"-authenticator-delete-confirmation"),closeOnDimmerClick:!1},u.createElement(c.ConfirmationModal.Header,{"data-testid":"".concat(g,"-authenticator-delete-confirmation")},A("console:develop.features.authenticationProvider.confirmations.deleteConnector.header")),u.createElement(c.ConfirmationModal.Message,{attached:!0,negative:!0,"data-testid":"".concat(g,"-authenticator-delete-confirmation")},A("console:develop.features.authenticationProvider.confirmations.deleteConnector.message")),u.createElement(c.ConfirmationModal.Content,{"data-testid":"".concat(g,"-authenticator-delete-confirmation")},A("console:develop.features.authenticationProvider.confirmations.deleteConnector.content"))),C&&u.createElement(Ze.WJ,{closeWizard:function(){return T(!1)},updateIdentityProvider:l,identityProvider:t,onUpdate:l,"data-testid":"".concat(g,"-connector-create-wizard")}),null!==t&&void 0!==t&&t.roles&&!a?u.createElement(Fe.Yr,null,u.createElement(He,{idpRoles:null===t||void 0===t?void 0:t.roles,idpId:null===t||void 0===t?void 0:t.id,"data-testid":"".concat(g,"-roles"),isReadOnly:d,onUpdate:l})):u.createElement(c.ContentLoader,null))};function Ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function $e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function We(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,r,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);a=!0);}catch(e){l=!0,r=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Je(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Je(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Je(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}Ye.defaultProps={"data-testid":"idp-edit-outbound-provisioning-settings"};var Xe=function(e){var t=e.editingIDP,n=e.advancedConfigurations,i=e.onUpdate,a=e.isReadOnly,l=e.isLoading,d=e.loader,p=e["data-testid"],f=(0,m.I0)(),v=We((0,u.useState)(!1),2),h=v[0],g=v[1],y=(0,s.$G)().t;return l?u.createElement(d,null):u.createElement(c.EmphasizedSegment,{className:"advanced-configuration-section"},u.createElement(B.xg,{config:n,onSubmit:function(e){g(!0),(0,b.wI)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ke(Object(n),!0).forEach((function(t){$e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({id:t.id},e)).then((function(){f((0,o.addAlert)({description:y("console:develop.features.authenticationProvider.notifications.updateIDP.success.description"),level:r.AlertLevels.SUCCESS,message:y("console:develop.features.authenticationProvider.notifications.updateIDP.success.message")})),i(t.id)})).catch((function(e){(0,z.Nf)(e)})).finally((function(){g(!1)}))},"data-testid":p,isReadOnly:a,isSubmitting:h}))};Xe.defaultProps={"data-testid":"idp-edit-advance-settings"};var et=n(26776),tt=n(58704),nt=n(1410),it=function(e){var t=e.attribute,n=e.updateMapping,i=e.mapping,r=e.placeholder,o=e.isReadOnly,a=e["data-testid"],l=(0,s.$G)().t;return u.createElement(tt.Z.Row,{"data-testid":a},u.createElement(tt.Z.Cell,null,null===t||void 0===t?void 0:t.displayName),u.createElement(u.Fragment,null,u.createElement(tt.Z.Cell,{error:(0,ne.Z)(i)},u.createElement(nt.Z,{placeholder:r,value:(0,ne.Z)(i)?"":i,onChange:function(e){var i=e.target.value;n({claim:t,mappedValue:i})},required:!0,"data-testid":"".concat(a,"-input"),readOnly:o}),(0,ne.Z)(i)&&u.createElement(we.Z,{basic:!0,color:"red",pointing:"left"},l("console:develop.features.authenticationProvider.forms.attributeSettings.attributeListItem.validation.empty")))))};it.defaultProps={"data-testid":"attribute-list-item"};var rt=n(98812),ot=n(80954),at=n(43017);function lt(e){return function(e){if(Array.isArray(e))return ut(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||dt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ct(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,r,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);a=!0);}catch(e){l=!0,r=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||dt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dt(e,t){if(e){if("string"===typeof e)return ut(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ut(e,t):void 0}}function ut(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var st=function(e){var t=e.selectedAttributes,n=e.setSelectedAttributes,i=e.showAddModal,r=e.setShowAddModal,o=e.attributesList,a=e["data-testid"],l=(0,s.$G)().t,d=ct((0,u.useState)([]),2),m=d[0],p=d[1],f=ct((0,u.useState)([]),2),v=f[0],h=f[1],y=ct((0,u.useState)([]),2),b=y[0],E=y[1],A=ct((0,u.useState)([]),2),I=A[0],P=A[1],S=ct((0,u.useState)([]),2),O=S[0],C=S[1],T=ct((0,u.useState)([]),2),R=T[0],w=T[1],L=ct((0,u.useState)(!1),2),N=L[0],_=L[1],D=ct((0,u.useState)(!1),2),k=D[0],M=D[1];(0,u.useEffect)((function(){w(k?b:[])}),[k]),(0,u.useEffect)((function(){C(N?m:[])}),[N]),(0,u.useEffect)((function(){if(i){var e=o.filter((function(e){return(0,ne.Z)((0,rt.Z)(t,(function(t){return t.claim.uri===e.uri})))}));p(e),h(e),E(t.map((function(e){return e.claim}))),P(t.map((function(e){return e.claim})))}else p([]),h([]),E([]),P([]);w([]),C([]),M(!1),_(!1)}),[i]);return u.createElement(g.Z,{open:i,size:"small",className:"user-attributes","data-testid":"".concat(a,"-modal")},u.createElement(g.Z.Header,{"data-testid":"".concat(a,"-modal-header")},l("console:develop.features.authenticationProvider.modals.attributeSelection.title"),u.createElement(c.Heading,{subHeading:!0,ellipsis:!0,as:"h6"},l("console:develop.features.authenticationProvider.modals.attributeSelection.subTitle"))),u.createElement(g.Z.Content,{image:!0,"data-testid":"".concat(a,"-modal-content")},u.createElement(c.TransferComponent,{searchPlaceholder:l("console:develop.features.authenticationProvider.modals.attributeSelection.content.searchPlaceholder"),addItems:function(){var e=lt(b);(null===O||void 0===O?void 0:O.length)>0&&O.map((function(t){null!==e&&void 0!==e&&e.includes(t)||e.push(t)})),E(e),P(e),p(m.filter((function(t){return!(null!==e&&void 0!==e&&e.includes(t))}))),h(v.filter((function(t){return!(null!==e&&void 0!==e&&e.includes(t))}))),C(O.filter((function(t){return!(null!==e&&void 0!==e&&e.includes(t))}))),_(!1)},removeItems:function(){var e=lt(m);(null===R||void 0===R?void 0:R.length)>0&&R.map((function(t){null!==e&&void 0!==e&&e.includes(t)||e.push(t)})),p(e),h(e),E(null===b||void 0===b?void 0:b.filter((function(t){return!(null!==e&&void 0!==e&&e.includes(t))}))),P(null===I||void 0===I?void 0:I.filter((function(t){return!(null!==e&&void 0!==e&&e.includes(t))}))),w(R.filter((function(t){return!(null!==e&&void 0!==e&&e.includes(t))}))),M(!1)},handleUnelectedListSearch:function(e){var t=e.target.value;if(t.length>0){var n=m.filter((function(e){return-1!==e.displayName.toLowerCase().indexOf(t.toLowerCase())})),i=m.filter((function(e){return-1!==e.uri.toLowerCase().indexOf(t.toLowerCase())}));h((0,ot.Z)((0,at.Z)(n,i),"displayName"))}else h(m)},handleSelectedListSearch:function(e){var t=e.target.value;t.length>0?P(I.filter((function(e){return-1!==e.uri.toLowerCase().indexOf(t.toLowerCase())}))):P(b)},"data-testid":"".concat(a,"-modal-content")},u.createElement(c.TransferList,{isListEmpty:!(v.length>0),listType:"unselected",listHeaders:["Attribute"],handleHeaderCheckboxChange:function(){_(!N)},isHeaderCheckboxChecked:N,"data-testid":"".concat(a,"-modal-content-unselected-list"),emptyPlaceholderDefaultContent:l("console:manage.features.transferList.list.emptyPlaceholders.default")},null===v||void 0===v?void 0:v.map((function(e){return u.createElement(c.TransferListItem,{handleItemChange:function(){return function(e){var t=lt(O);null!==t&&void 0!==t&&t.includes(e)?(t.splice(t.indexOf(e),1),C(t)):(t.push(e),C(t))}(e)},key:e.uri,listItem:e.displayName,listItemId:e.id,listItemIndex:e.uri,isItemChecked:O.includes(e),showSecondaryActions:!1,showListSubItem:!0,listSubItem:e.uri===e.displayName?"":e.uri,"data-testid":"".concat(a,"-modal-content-unselected-list-item-").concat(e.id)})}))),u.createElement(c.TransferList,{isListEmpty:!(I.length>0),listType:"selected",listHeaders:["Attribute"],handleHeaderCheckboxChange:function(){M(!k)},isHeaderCheckboxChecked:k,"data-testid":"".concat(a,"-modal-content-selected-list"),emptyPlaceholderDefaultContent:l("console:manage.features.transferList.list.emptyPlaceholders.default")},null===I||void 0===I?void 0:I.map((function(e){return u.createElement(c.TransferListItem,{handleItemChange:function(){return function(e){var t=lt(R);null!==t&&void 0!==t&&t.includes(e)?(t.splice(t.indexOf(e),1),w(t)):(t.push(e),w(t))}(e)},key:e.uri,listItem:e.displayName,listItemId:e.id,listItemIndex:e.uri,isItemChecked:R.includes(e),showSecondaryActions:!1,showListSubItem:!0,listSubItem:e.uri===e.displayName?"":e.uri,"data-testid":"".concat(a,"-modal-content-selected-list-item-").concat(e.id)})}))))),u.createElement(g.Z.Actions,{"data-testid":"".concat(a,"-modal-actions")},u.createElement(c.LinkButton,{onClick:function(){r(!1)},"data-testid":"".concat(a,"-modal-cancel-button")},l("common:cancel")),u.createElement(c.PrimaryButton,{onClick:function(){n(b.map((function(e){var n=t.find((function(t){return t.claim.uri===e.uri}));return(0,ne.Z)(n)?{claim:e,mappedValue:""}:n}))),r(!1)},"data-testid":"".concat(a,"-modal-save-button")},l("common:save"))))};function mt(e){return function(e){if(Array.isArray(e))return vt(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ft(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,r,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);a=!0);}catch(e){l=!0,r=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||ft(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ft(e,t){if(e){if("string"===typeof e)return vt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vt(e,t):void 0}}function vt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}st.defaultProps={"data-testid":"idp-edit-attribute-settings-attribute-selection-wizard"};var ht=function(e){var t=e.attributeList,n=e.setSelectedAttributesWithMapping,r=e.selectedAttributesWithMapping,o=e.uiProps,a=e.isReadOnly,l=e["data-testid"],d=(0,s.$G)().t,m=pt((0,u.useState)(!1),2),g=m[0],b=m[1],E=pt((0,u.useState)(""),2),A=E[0],I=E[1],P=function(e){var t=e.target.value;I(t)},S=function(){b(!0)},O=function(e){n([].concat(mt(r.filter((function(t){return t.claim.uri!==e.claim.uri}))),[e]))};return r||A?u.createElement(u.Fragment,null,u.createElement(f.Z.Row,{"data-testid":"".concat(l,"-section")},u.createElement(f.Z.Column,null,o.enablePrecedingDivider&&u.createElement(h.Z,null),u.createElement(c.Heading,{as:"h4"},o.componentHeading),u.createElement(c.Hint,null,o.hint),u.createElement(h.Z,{hidden:!0}),(null===r||void 0===r?void 0:r.length)>0?function(){var e,t;return u.createElement(f.Z,{"data-testid":l,className:"user-role-edit-header-segment clearing attributes ml-0 mr-0"},u.createElement(f.Z.Row,null,u.createElement(tt.Z,{"data-testid":"".concat(l,"-action-bar"),basic:"very",compact:!0},u.createElement(tt.Z.Body,null,u.createElement(tt.Z.Row,null,u.createElement(tt.Z.Cell,null,u.createElement(nt.Z,{icon:u.createElement(v.Z,{name:"search"}),onChange:P,placeholder:d("console:develop.features.authenticationProvider.forms.attributeSettings.attributeSelection.searchAttributes.placeHolder"),floated:"left",size:"small","data-testid":"".concat(l,"-search")})),u.createElement(tt.Z.Cell,{textAlign:"right"},u.createElement(i.di,{when:i.TA.IDP_EDIT},u.createElement(Re.Z,{size:"medium",icon:"pencil",floated:"right",onClick:S,"data-testid":"".concat(l,"-edit-button")}))))))),u.createElement(f.Z.Row,null,u.createElement(tt.Z,{"data-testid":"".concat(l,"-list"),singleLine:!0,compact:!0},u.createElement(tt.Z.Header,null,u.createElement(tt.Z.Row,null,u.createElement(tt.Z.HeaderCell,null,u.createElement("strong",null,o.attributeColumnHeader)),u.createElement(tt.Z.HeaderCell,null,u.createElement("strong",null,o.attributeMapColumnHeader)))),u.createElement(tt.Z.Body,null,null===r||void 0===r||null===(e=r.filter((function(e){var t,n;return!!(0,ne.Z)(A)||(null===e||void 0===e||null===(t=e.claim)||void 0===t||null===(n=t.displayName)||void 0===n?void 0:n.startsWith(A))})))||void 0===e||null===(t=e.sort((function(e,t){return e.claim.displayName.localeCompare(t.claim.displayName)})))||void 0===t?void 0:t.map((function(e){return u.createElement(it,{key:null===e||void 0===e?void 0:e.claim.id,attribute:null===e||void 0===e?void 0:e.claim,placeholder:o.attributeMapInputPlaceholderPrefix+(null===e||void 0===e?void 0:e.claim.displayName),updateMapping:O,mapping:null===e||void 0===e?void 0:e.mappedValue,"data-testid":"".concat(l,"-attribute-list-item-").concat(null===e||void 0===e?void 0:e.claim.id),isReadOnly:a})}))))))}():u.createElement(p.Z,{"data-testid":l},u.createElement(c.EmptyPlaceholder,{title:d("console:develop.features.authenticationProvider.placeHolders.noAttributes.title"),subtitle:[d("console:develop.features.authenticationProvider.placeHolders.noAttributes.subtitles.0")],action:u.createElement(i.di,{when:i.TA.IDP_EDIT},u.createElement(c.PrimaryButton,{onClick:S,icon:"plus"},d("console:develop.features.authenticationProvider.buttons.addAttribute"))),image:(0,y.jF)().emptyList,imageSize:"tiny","data-testid":"".concat(l,"-empty-placeholder")})))),u.createElement(st,{attributesList:t,selectedAttributes:r,setSelectedAttributes:n,showAddModal:g,setShowAddModal:b,"data-testid":"".concat(l,"-wizard")})):null};ht.defaultProps={"data-testid":"attribute-selection"};var gt=function(e){var t=e.dropDownOptions,n=e.initialSubjectUri,i=e.initialRoleUri,r=e.claimMappingOn,o=e.updateRole,a=e.updateSubject,l=e.roleError,d=e.subjectError,m=e.isReadOnly,p=e.isMappingEmpty,v=e.isSaml,g=e["data-testid"],y=(0,s.$G)().t,b=function(e){return void 0!==(0,rt.Z)(t,(function(t){return(null===t||void 0===t?void 0:t.value)===e}))?e:""};return u.createElement(u.Fragment,null,u.createElement(f.Z.Row,null,u.createElement(f.Z.Column,null,u.createElement(c.Heading,{as:"h4"},y("console:develop.features.authenticationProvider.forms.uriAttributeSettings.subject.heading")),u.createElement(Te.Z,null,u.createElement(Te.Z.Select,{fluid:!0,options:t.concat({key:"default_subject",text:y("console:develop.features.authenticationProvider.forms.uriAttributeSettings.subject.placeHolder"),value:""}),value:b(n),placeholder:y("console:develop.features.authenticationProvider.forms.uriAttributeSettings.subject.placeHolder"),onChange:function(e,t){a(t.value.toString())},search:!0,fullTextSearch:!1,label:y("console:develop.features.authenticationProvider.forms.uriAttributeSettings.subject.label"),"data-testid":"".concat(g,"-form-element-subject"),error:d&&{content:y("console:develop.features.authenticationProvider.forms.uriAttributeSettings.subject.validation.empty"),pointing:"above"},readOnly:m,disabled:p})),u.createElement(c.Hint,null,v?u.createElement(s.cC,{i18nKey:"console:console:develop.features.authenticationProvider.forms.uriAttributeSettings.subject.hint"},"The attribute that identifies the user at the enterprise identity provider. When attributes are configured based on the authentication response of this IdP connection, you can use one of them as the subject. Otherwise, the default ",u.createElement(c.Code,null,"saml2:Subject")," in the SAML response is used as the subject attribute."):u.createElement(s.cC,{i18nKey:"console:console:develop.features.idp.forms.uriAttributeSettings.subject.hint"},"Specifies the attribute that identifies the user at the identity provider.")))),u.createElement(h.Z,{hidden:!0}),r&&u.createElement(f.Z.Row,{columns:2},u.createElement(f.Z.Column,null,u.createElement(c.Heading,{as:"h4"},y("console:develop.features.authenticationProvider.forms.uriAttributeSettings.role.heading")),u.createElement(Te.Z,null,u.createElement(Te.Z.Select,{required:!0,fluid:!0,options:t,value:b(i),placeholder:y("console:develop.features.authenticationProvider.forms.uriAttributeSettings.role.placeHolder"),onChange:function(e,t){o(t.value.toString())},search:!0,fullTextSearch:!1,label:y("console:develop.features.authenticationProvider.forms.uriAttributeSettings.role.label"),"data-testid":"".concat(g,"-form-element-role"),error:l&&{content:y("console:develop.features.authenticationProvider.forms.uriAttributeSettings.role.validation.empty"),pointing:"above"},readOnly:m})),u.createElement(c.Hint,null,y("console:develop.features.authenticationProvider.forms.uriAttributeSettings.role.hint")))))};gt.defaultProps={"data-testid":"idp-edit-attribute-settings-uri-attribute-settings"};var yt=n(26264);function bt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,r,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);a=!0);}catch(e){l=!0,r=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Et(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Et(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Et(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var At=function(e){var t=bt((0,u.useState)(),2),n=t[0],i=t[1],r=e.onSubmit,o=e.triggerSubmit,a=e.initialRoleMappings,l=e.isReadOnly,d=e["data-testid"],m=(0,s.$G)().t;(0,u.useEffect)((function(){(0,yt.Sd)(null).then((function(e){if(200===e.status){var t=e.data;i(t.Resources)}})).catch((function(e){(0,z.A0)(e)}))}),[a]);var p=function(e){var t=e.split("/");return t.length>1&&t[0]===Q.s0.INTERNAL_DOMAIN.slice(0,-1)?t[1]:e};return u.createElement(u.Fragment,null,u.createElement(f.Z.Row,null,u.createElement(f.Z.Column,{mobile:16,tablet:16,computer:10},u.createElement(c.Heading,{as:"h4"},m("console:develop.features.authenticationProvider.forms.roleMapping.heading")),u.createElement(c.DynamicField,{bottomMargin:!1,data:a?a.map((function(e){return{key:p(e.localRole),value:e.idpRole}})):[],keyType:"dropdown",keyData:n?n.filter((function(e){return!(e.displayName.includes("Application/")||e.displayName.includes("Internal/"))})).map((function(e){return{id:e.displayName,value:e.displayName}})):[],keyName:m("console:develop.features.authenticationProvider.forms.roleMapping.keyName"),valueName:m("console:develop.features.authenticationProvider.forms.roleMapping.valueName"),keyRequiredMessage:m("console:develop.features.authenticationProvider.forms.roleMapping.validation.keyRequiredMessage"),valueRequiredErrorMessage:m("console:develop.features.authenticationProvider.forms.roleMapping.validation.valueRequiredErrorMessage"),duplicateKeyErrorMsg:m("console:develop.features.authenticationProvider.forms.roleMapping.validation.duplicateKeyErrorMsg"),submit:o,listen:function(e){if(e.length>0){var t=e.map((function(e){return{idpRole:e.value,localRole:(t=e.key,1===t.split("/").length?"".concat(Q.s0.INTERNAL_DOMAIN).concat(t):t)};var t}));r(t)}else r([])},"data-testid":d,readOnly:l}),u.createElement(c.Hint,null,m("console:develop.features.authenticationProvider.forms.roleMapping.hint")))))};At.defaultProps={"data-testid":"idp-edit-attribute-settings-role-mapping"};var It=function(e){var t=e.claimURI,n=e.displayName,i=e.localClaimDisplayName,r=e["data-testid"];return u.createElement(tt.Z.Row,{"data-testid":r},u.createElement(tt.Z.Cell,null,u.createElement("div",null,n||i),u.createElement(w.Z,{content:t,inverted:!0,trigger:u.createElement(c.Code,{compact:!0,withBackground:!1},t),position:"bottom left"})))},Pt=n(82791);function St(e){return function(e){if(Array.isArray(e))return Tt(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ct(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ot(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,r,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);a=!0);}catch(e){l=!0,r=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||Ct(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ct(e,t){if(e){if("string"===typeof e)return Tt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Tt(e,t):void 0}}function Tt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Rt=function(e){return e?1:0},wt=function(e){var t,n,i=e.onSubmit,r=e.availableAttributeList,o=e.alreadyMappedAttributesList,a=e.mapping,c=e.editingMode,s=Ot((0,u.useState)([]),2),m=s[0],p=s[1],v=Ot((0,u.useState)(),2),h=v[0],g=v[1],y=Ot((0,u.useState)(),2),b=y[0],E=y[1],A=Ot((0,u.useState)(),2),I=A[0],P=A[1];(0,u.useEffect)((function(){c&&(g(null===a||void 0===a?void 0:a.mappedValue),E(null===a||void 0===a?void 0:a.claim.id))}),[]),(0,u.useEffect)((function(){if(r){var e=St(r);c&&a&&a.mappedValue&&a.claim&&e.push(a.claim),p(e)}}),[r]);return u.createElement(l.l0,{onSubmit:function(e,t){var n={claim:m.find((function(t){return t.id===e.localClaimId})),mappedValue:e.mappedValue};i(n),c||(t.change("mappedValue",""),t.change("localClaimId",""),t.resetFieldState("mappedValue"),t.resetFieldState("localClaimId"),g(""),E(""))},uncontrolledForm:!0,initialValues:a&&{localClaimId:null===a||void 0===a||null===(t=a.claim)||void 0===t?void 0:t.id,mappedValue:null===a||void 0===a?void 0:a.mappedValue}},u.createElement(f.Z,null,u.createElement(f.Z.Row,{columns:c?3:2},u.createElement(f.Z.Column,{width:c?7:8},u.createElement(l.gN.Input,{required:!0,name:"mappedValue",inputType:"identifier",maxLength:120,minLength:1,label:!c&&"External IdP Attribute",placeholder:"Enter external IdP attribute",ariaLabel:"External IdP Attribute Mapping Value",validation:function(e){return e&&e.trim()?Rt(!d.I.url(e))&Rt(!d.I.isValidResourceName(e))?(P(!0),l.yo.INVALID_RESOURCE_ERROR):new Set(o.map((function(e){return e.mappedValue}))).has(e)?c&&(null===a||void 0===a?void 0:a.mappedValue)===e?void P(!1):(P(!0),"There's already a attribute mapped with this name."):void P(!1):(P(!0),l.yo.FIELD_REQUIRED_ERROR)},listen:function(e){return g(e)},width:16})),u.createElement(f.Z.Column,{width:c?7:8},u.createElement(l.gN.Dropdown,{required:!0,search:!0,clearable:!0,width:16,value:c&&(null===a||void 0===a||null===(n=a.claim)||void 0===n?void 0:n.id),options:m.map((function(e,t){return{content:u.createElement(Pt.Z,{as:"h6",key:"attribute-option-".concat(t)},u.createElement(Pt.Z.Content,null,null===e||void 0===e?void 0:e.displayName,u.createElement(Pt.Z.Subheader,null,u.createElement("code",{className:"inline-code compact transparent"},e.uri)))),key:null===e||void 0===e?void 0:e.id,text:null===e||void 0===e?void 0:e.displayName,value:null===e||void 0===e?void 0:e.id}})),label:!c&&"Maps to",ariaLabel:"Local Claim Attribute",name:"localClaimId",placeholder:"Select mapping attribute",listen:function(e){return E(e)},noResultsMessage:"Try another attribute search."})),c&&u.createElement(u.Fragment,null,u.createElement(f.Z.Column,{width:1},u.createElement(l.gN.Button,{disabled:I||!h||!b,icon:"checkmark",type:"submit",name:"submit-button",ariaLabel:"Attribute Selection Form Submit Button",buttonType:"secondary_btn"})))),!c&&u.createElement(f.Z.Row,{columns:1},u.createElement(f.Z.Column,{width:16,textAlign:"right"},u.createElement(l.gN.Button,{disabled:I||!h||!b,buttonType:"primary_btn",type:"submit",name:"submit-button",label:"Add Attribute Mapping",ariaLabel:"Attribute Selection Form Submit Button"})))))};function Lt(e){return function(e){if(Array.isArray(e))return Dt(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||_t(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,r,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);a=!0);}catch(e){l=!0,r=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||_t(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _t(e,t){if(e){if("string"===typeof e)return Dt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Dt(e,t):void 0}}function Dt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var kt=function(e){var t=e.availableAttributesList,n=e.attributeMappingsListToShow,i=e.alreadyMappedAttributesList,r=e.onMappingDeleted,o=e.onMappingEdited,a=e.noDataPlaceholder,l=e.readOnly,d=Nt((0,u.useState)([]),2),s=d[0],m=d[1];return u.createElement(c.DataTable,{className:"attributes-mapping-list",actions:[{hidden:function(e){var t=e.claim;return s.includes(t.id)||l},icon:function(){return"pencil alternate"},onClick:function(e,t){m([].concat(Lt(s),[t.claim.id]))},popupText:function(){return"Edit"},renderer:"semantic-icon"},{hidden:function(e){var t=e.claim;return s.includes(t.id)||l},icon:function(){return"trash alternate"},onClick:function(e,t){r(t)},popupText:function(){return"Delete"},renderer:"semantic-icon"}],columns:[{dataIndex:"claim",id:"column-1",render:function(e){return s.includes(e.claim.id)?u.createElement(wt,{editingMode:!0,mapping:e,availableAttributeList:t,alreadyMappedAttributesList:i,onSubmit:function(t){m(Lt(s.filter((function(t){return t!==e.claim.id})).filter((function(e){return e!==t.claim.id})))),o(e,t)}}):u.createElement(Pt.Z,{image:!0,as:"h6",className:"header-with-icon"},u.createElement(c.AppAvatar,{image:u.createElement(c.AnimatedAvatar,{name:e.mappedValue,size:"mini"}),size:"mini",spaced:"right"}),u.createElement(Pt.Z.Content,null,e.mappedValue,u.createElement(Pt.Z.Subheader,null,u.createElement(c.Code,{compact:!0,withBackground:!1},e.claim.uri))))},title:"Mapped Claim"},{allowToggleVisibility:!1,dataIndex:"action",id:"actions",key:"actions",textAlign:"right",title:"Actions"}],data:n,showHeader:!1,placeholders:a,selectable:function(){return!1},isRowSelectable:function(){return!1},onRowClick:function(){return{}}})};function Mt(e){return function(e){if(Array.isArray(e))return Ht(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ut(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,r,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);a=!0);}catch(e){l=!0,r=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||Ut(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ut(e,t){if(e){if("string"===typeof e)return Ht(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ht(e,t):void 0}}function Ht(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Ft=function(e){var t=e.attributeList,n=e.alreadyMappedAttributesList,i=e.show,r=e.onClose,o=e.onSave,a=jt((0,u.useState)([]),2),l=a[0],d=a[1],s=jt((0,u.useState)([]),2),m=s[0],p=s[1],v=jt((0,u.useState)(!1),2),b=v[0],E=v[1],A=jt((0,u.useState)(),2),I=A[0],P=A[1];(0,u.useEffect)((function(){p(Mt(t)),P(Mt(n))}),[]),(0,u.useEffect)((function(){E(0===l.length)}),[l]);return u.createElement(g.Z,{open:i,onClose:r,dimmer:"blurring",size:"small",closeOnDimmerClick:!1},u.createElement(g.Z.Header,null,"Add Attribute Mappings"),u.createElement(g.Z.Content,{scrolling:!0,className:"edit-attribute-mapping"},u.createElement(f.Z,null,u.createElement(f.Z.Row,{columns:1},u.createElement(f.Z.Column,{width:16},u.createElement(wt,{availableAttributeList:m,alreadyMappedAttributesList:I,onSubmit:function(e){var t=[].concat(Mt(l),[e]),n=t.reduce((function(e,t){return e.add(t.claim.id)}),new Set);d(t),p(Mt(m.filter((function(e){var t=e.id;return!n.has(t)})))),P([].concat(Mt(I),[e]))}})),u.createElement(f.Z.Column,{width:16},b?u.createElement(c.EmptyPlaceholder,{title:"You haven't selected any attributes",subtitle:[u.createElement("p",{key:"empty-attributes-mapping"},"Map attributes and click ",u.createElement("strong",null,"Add Attribute Mapping")," to get started.")],image:(0,y.jF)().emptyList,imageSize:"tiny"}):u.createElement(u.Fragment,null,u.createElement(h.Z,{hidden:!0}),u.createElement(kt,{key:"attribute-mapping-working-list",alreadyMappedAttributesList:I,onMappingDeleted:function(e){var t=l.filter((function(t){return t.claim.id!==e.claim.id}));d(Mt(t)),p([].concat(Mt(m),[e.claim])),P(Mt(I.filter((function(t){var n;return(null===t||void 0===t||null===(n=t.claim)||void 0===n?void 0:n.id)===(null===e||void 0===e?void 0:e.claim.id)}))))},onMappingEdited:function(e,t){d([].concat(Mt(l.filter((function(t){return t.claim.id!==e.claim.id}))),[t])),P([].concat(Mt(I.filter((function(t){var n;return(null===t||void 0===t||null===(n=t.claim)||void 0===n?void 0:n.id)===(null===e||void 0===e?void 0:e.claim.id)}))),[t]))},attributeMappingsListToShow:l,availableAttributesList:m})))))),u.createElement(g.Z.Actions,null,u.createElement(c.LinkButton,{onClick:r},"Cancel"),u.createElement(c.PrimaryButton,{disabled:0===(null===l||void 0===l?void 0:l.length),onClick:function(){return o(Mt(l))}},"Save")))};function Zt(e){return function(e){if(Array.isArray(e))return qt(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Gt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,r,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);a=!0);}catch(e){l=!0,r=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||Gt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gt(e,t){if(e){if("string"===typeof e)return qt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qt(e,t):void 0}}function qt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}Ft.defaultProps={"data-testid":"add-attribute-modal"};var Vt=function(e){var t=e.attributeList,n=e.mappedAttributesList,i=e.onAttributesSelected,r=e.isReadOnly,o=e["data-testid"],a=xt((0,u.useState)(!1),2),d=a[0],m=a[1],g=xt((0,u.useState)(void 0),2),b=g[0],E=g[1],A=xt((0,u.useState)([]),2),I=A[0],P=A[1],S=(0,s.$G)().t;(0,u.useEffect)((function(){var e,t=[],i=function(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Gt(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw o}}}}(n);try{for(i.s();!(e=i.n()).done;){var r=e.value;t.push(r.claim.id)}}catch(e){i.e(e)}finally{i.f()}P(t)}),[t]);return u.createElement(f.Z,null,u.createElement(f.Z.Row,{columns:1},u.createElement(f.Z.Column,{computer:16,tablet:16,largeScreen:16,widescreen:16},u.createElement(c.Heading,{as:"h4"},"Identity Provider Attribute Mappings"),u.createElement(c.Hint,{compact:!0},"Add and map the supported attributes from external Identity Provider."),u.createElement(h.Z,{hidden:!0}),n&&n.length>0?u.createElement(p.Z,null,u.createElement(f.Z,null,u.createElement(f.Z.Row,{columns:2},u.createElement(f.Z.Column,{width:7},u.createElement(l.l0,{onSubmit:function(){return{}},uncontrolledForm:!1},u.createElement(l.gN.Input,{icon:"search",iconPosition:"left",inputType:"default",maxLength:120,minLength:1,width:16,placeholder:"Search mapped attribute",listen:function(e){return E(e)},ariaLabel:"Search Field",name:"searchQuery"}))),u.createElement(f.Z.Column,{width:9,textAlign:"right"},!r&&u.createElement(c.PrimaryButton,{onClick:function(){return m(!0)},"data-testid":"".concat(o,"-list-layout-add-button")},u.createElement(v.Z,{name:"add"}),"Add Attribute Mapping"))),u.createElement(f.Z.Row,{columns:1},u.createElement(f.Z.Column,{width:16},u.createElement(kt,{alreadyMappedAttributesList:Zt(n),attributeMappingsListToShow:n.filter((function(e){return!b||(e.mappedValue.startsWith(b)||e.claim.id.startsWith(b))})),noDataPlaceholder:u.createElement(c.EmptyPlaceholder,{action:u.createElement(c.LinkButton,{onClick:function(){return E(void 0)}},S("console:manage.placeholders.emptySearchResult.action")),image:(0,y.jF)().emptySearch,imageSize:"tiny",title:S("console:manage.placeholders.emptySearchResult.title"),subtitle:[S("console:manage.placeholders.emptySearchResult.subtitles.0",{query:b}),S("console:manage.placeholders.emptySearchResult.subtitles.1")],"data-testid":"".concat(o,"-empty-search-placeholder")}),availableAttributesList:Zt(t.filter((function(e){return!I.includes(e.id)}))),onMappingDeleted:function(e){i(Zt(null===n||void 0===n?void 0:n.filter((function(t){return t.claim.id!==e.claim.id}))))},onMappingEdited:function(e,t){i([].concat(Zt(n.filter((function(t){return t.claim.id!==e.claim.id}))),[t]))},readOnly:r}))))):u.createElement(p.Z,{"data-testid":o},u.createElement(c.EmptyPlaceholder,{title:"No attributes added",subtitle:[u.createElement("p",{key:"no-attributes-configured"},"There are no attributes added for this ",u.createElement("strong",null,"Identity Provider"),".")],action:!r&&u.createElement(c.PrimaryButton,{onClick:function(){return m(!0)}},u.createElement(v.Z,{name:"add"}),"Add IdP Attributes"),image:(0,y.jF)().emptyList,imageSize:"tiny","data-testid":"".concat(o,"-empty-placeholder")})))),d&&u.createElement(Ft,{attributeList:Zt(t.filter((function(e){return!I.includes(e.id)}))),alreadyMappedAttributesList:Zt(n),show:d,onClose:function(){m(!1)},onSave:function(e){i([].concat(Zt(n),Zt(e))),m(!1)}}))};function Qt(e){return function(e){if(Array.isArray(e))return $t(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Kt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function zt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,r,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);a=!0);}catch(e){l=!0,r=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||Kt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Kt(e,t){if(e){if("string"===typeof e)return $t(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$t(e,t):void 0}}function $t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}Vt.defaultProps={"data-testid":"attributes-selection-v2"};var Wt=function(e){var t=e.idpId,n=e.initialClaims,a=e.initialRoleMappings,l=e.isLoading,d=e.onUpdate,p=e.provisioningAttributesEnabled,v=e.hideIdentityClaimAttributes,g=e.isReadOnly,y=e.isRoleMappingsEnabled,b=e.loader,E=e.isSaml,A=e["data-testid"],I=(0,m.I0)(),P=(0,s.$G)().t,S=Yt((0,u.useState)([]),2),O=S[0],C=S[1],T=Yt((0,u.useState)([]),2),R=T[0],w=T[1],L=Yt((0,u.useState)([]),2),N=L[0],_=L[1],D=Yt((0,u.useState)(),2),k=D[0],M=D[1],j=Yt((0,u.useState)(),2),U=j[0],H=j[1],F=Yt((0,u.useState)(!1),2),Z=F[0],x=F[1],G=Yt((0,u.useState)(!1),2),q=G[0],V=G[1],Q=Yt((0,u.useState)(void 0),2),B=Q[0],Y=Q[1],K=Yt((0,u.useState)(!1),2),$=K[0],W=K[1],J=Yt((0,et.useTrigger)(),2),X=J[0],ee=(J[1],Yt((0,u.useState)(!0),2)),te=ee[0],ie=ee[1];(0,u.useEffect)((function(){ie(!0),(0,Se.getAllLocalClaims)(null).then((function(e){C(null===e||void 0===e?void 0:e.map((function(e){return{displayName:e.displayName,id:e.id,uri:e.claimURI}}))),ie(!1)})).catch((function(e){ie(!1),(0,z.HC)(e)}))}),[]);(0,u.useEffect)((function(){(0,ne.Z)(O)||((0,z.YS)(n,M,H),(0,z.tl)(n,w),(0,z.cr)(n,_))}),[O]),(0,u.useEffect)((function(){(0,ne.Z)(R)?(_(N.filter((function(e){return O.find((function(t){return t.uri===e.claim.uri}))}))),(0,ne.Z)(null===O||void 0===O?void 0:O.find((function(e){return e.uri===k})))&&M("")):(_(N.filter((function(e){return(0,z.Tu)(e,R)}))),(0,ne.Z)(null===R||void 0===R?void 0:R.find((function(e){return e.mappedValue===U})))&&H(""),(0,ne.Z)(null===R||void 0===R?void 0:R.find((function(e){return e.mappedValue===k})))&&M(""))}),[R]);var re=function(){x(!0);var e=!0,i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bt(Object(n),!0).forEach((function(t){zt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n);(0,ne.Z)(null===R||void 0===R?void 0:R.filter((function(e){return(0,ne.Z)(e.mappedValue)})))||(e=!1),i.mappings=R.map((function(e){return{idpClaim:e.mappedValue,localClaim:e.claim}})),p&&((0,ne.Z)(null===N||void 0===N?void 0:N.filter((function(e){return(0,ne.Z)(e.mappedValue)})))||(e=!1),i.provisioningClaims=N.map((function(e){return{claim:e.claim,defaultValue:e.mappedValue}})));var a=O.find((function(e){return e.uri===k}));if(i.userIdClaim=a||{uri:k},y)if((0,ne.Z)(R))i.roleClaim={uri:""};else{(0,ne.Z)(U)?(V(!0),e=!1):V(!1);var l=O.find((function(e){return e.uri===U}));i.roleClaim=l||{uri:U}}e?(x(!1),W(!0),(0,z.IO)(t,i,B,d).finally((function(){W(!1)}))):I((0,o.addAlert)({description:P("console:develop.features.idp.notifications.submitAttributeSettings.error.description"),level:r.AlertLevels.WARNING,message:P("console:develop.features.idp.notifications.submitAttributeSettings.error.message")}))};return(0,u.useEffect)((function(){void 0!=B&&re()}),[B]),l||te?u.createElement(b,null):u.createElement(c.EmphasizedSegment,{padded:"very"},u.createElement(f.Z,{className:"attributes-settings"},u.createElement("div",{className:"form-container with-max-width"},u.createElement(f.Z.Row,{columns:1},u.createElement(f.Z.Column,null,u.createElement(Vt,{onAttributesSelected:function(e){w(Qt(e))},attributeList:v?O.filter((function(e){var t=e.uri;return!(0,z.sh)(t)})):O,mappedAttributesList:Qt(R),isReadOnly:g}))),u.createElement(h.Z,{hidden:!0}),R&&u.createElement(gt,{dropDownOptions:(0,z.rE)(R,O).filter((function(e){return!(0,ne.Z)(e)})).filter(v?function(e){var t=e.value;return!(0,z.sh)(t)}:function(e){return!0}),initialRoleUri:U,initialSubjectUri:k,claimMappingOn:y&&!(0,ne.Z)(R),updateRole:H,updateSubject:M,"data-testid":"".concat(A,"-uri-attribute-settings"),roleError:Z&&q&&!U,subjectError:Z&&!k,isReadOnly:g,isMappingEmpty:(0,ne.Z)(R),isSaml:E}),u.createElement(h.Z,{hidden:!0}),p&&N&&u.createElement(ht,{attributeList:(0,z.RM)(R,O).filter((function(e){return!(0,ne.Z)(null===e||void 0===e?void 0:e.uri)})),selectedAttributesWithMapping:N,setSelectedAttributesWithMapping:_,uiProps:{attributeColumnHeader:(0,ne.Z)(R)?P("console:develop.features.authenticationProvider.forms.attributeSettings.attributeProvisioning.attributeColumnHeader.0"):P("console:develop.features.authenticationProvider.forms.attributeSettings.attributeProvisioning.attributeColumnHeader.1"),attributeMapColumnHeader:P("console:develop.features.authenticationProvider.forms.attributeSettings.attributeProvisioning.attributeMapColumnHeader"),attributeMapInputPlaceholderPrefix:P("console:develop.features.authenticationProvider.forms.attributeSettings.attributeProvisioning.attributeMapInputPlaceholderPrefix"),componentHeading:P("console:develop.features.authenticationProvider.forms.attributeSettings.attributeProvisioning.componentHeading"),enablePrecedingDivider:!1,hint:P("console:develop.features.authenticationProvider.forms.attributeSettings.attributeProvisioning.hint")},"data-testid":"".concat(A,"-provisioning-attribute-selection"),isReadOnly:g}),u.createElement(h.Z,{hidden:!0}),y&&u.createElement(At,{triggerSubmit:X,initialRoleMappings:a,onSubmit:Y,"data-testid":"".concat(A,"-role-mapping"),isReadOnly:g}),u.createElement(h.Z,{hidden:!0}),u.createElement(f.Z.Row,null,u.createElement(f.Z.Column,null,u.createElement(i.di,{when:i.TA.IDP_EDIT},u.createElement(Re.Z,{primary:!0,size:"small",loading:$,disabled:$,onClick:re,"data-testid":"".concat(A,"-update-button")},P("common:update"))))))))};Wt.defaultProps={"data-testid":"idp-edit-attribute-settings",hideIdentityClaimAttributes:!1,provisioningAttributesEnabled:!0}},47418:function(e,t,n){n.d(t,{RM:function(){return I},rE:function(){return A},Ex:function(){return L.Ex},Oe:function(){return w},IO:function(){return T},HC:function(){return R},Rw:function(){return p},Df:function(){return y},Em:function(){return g},qV:function(){return h},x8:function(){return f},A0:function(){return s},wb:function(){return d},Nf:function(){return u},St:function(){return m},hN:function(){return v},tl:function(){return S},cr:function(){return O},YS:function(){return C},Tu:function(){return P},sh:function(){return E}});n(3844);var i=n(88742),r=n(26278),o=n(22260),a=n(98812),l=n(87289),c=n(12847),d=function(e){e.response&&e.response.data&&e.response.data.code&&"IDP-65004"===e.response.data.code?c.h.dispatch((0,r.addAlert)({description:"Cannot delete the identity provider as it's been used in applications.",level:i.AlertLevels.ERROR,message:"Cannot delete the IDP."})):e.response&&e.response.data&&e.response.data.description?c.h.dispatch((0,r.addAlert)({description:o.I18n.instance.t("console:develop.features.authenticationProvider.notifications.deleteIDP.error.description",{description:e.response.data.description}),level:i.AlertLevels.ERROR,message:o.I18n.instance.t("console:develop.features.authenticationProvider.notifications.deleteIDP.error.message")})):c.h.dispatch((0,r.addAlert)({description:o.I18n.instance.t("console:develop.features.authenticationProvider.notifications.deleteIDP.genericError.description"),level:i.AlertLevels.ERROR,message:o.I18n.instance.t("console:develop.features.authenticationProvider.notifications.deleteIDP.genericError.message")}))},u=function(e){e.response&&e.response.data&&e.response.data.description?c.h.dispatch((0,r.addAlert)({description:o.I18n.instance.t("console:develop.features.authenticationProvider.notifications.updateIDP.error.description",{description:e.response.data.description}),level:i.AlertLevels.ERROR,message:o.I18n.instance.t("console:develop.features.authenticationProvider.notifications.updateIDP.error.message")})):c.h.dispatch((0,r.addAlert)({description:o.I18n.instance.t("console:develop.features.authenticationProvider.notifications.updateIDP.genericError.description"),level:i.AlertLevels.ERROR,message:o.I18n.instance.t("console:develop.features.authenticationProvider.notifications.updateIDP.genericError.message")}))},s=function(e){e.response&&e.response.data&&e.response.data.description?c.h.dispatch((0,r.addAlert)({description:o.I18n.instance.t("console:develop.features.authenticationProvider.notifications.getRolesList.error.description",{description:e.response.data.description}),level:i.AlertLevels.ERROR,message:o.I18n.instance.t("console:develop.features.authenticationProvider.notifications.getRolesList.error.message")})):c.h.dispatch((0,r.addAlert)({description:o.I18n.instance.t("console:develop.features.authenticationProvider.notifications.getRolesList.genericError.description"),level:i.AlertLevels.ERROR,message:o.I18n.instance.t("console:develop.features.authenticationProvider.notifications.getRolesList.genericError.message")}))},m=function(e){e.response&&e.response.data&&e.response.data.description&&c.h.dispatch((0,r.addAlert)({description:o.I18n.instance.t("console:develop.features.authenticationProvider.notifications.updateIDPRoleMappings.error.description",{description:e.response.data.description}),level:i.AlertLevels.ERROR,message:o.I18n.instance.t("console:develop.features.authenticationProvider.notifications.updateIDPRoleMappings.error.message")})),c.h.dispatch((0,r.addAlert)({description:o.I18n.instance.t("console:develop.features.authenticationProvider.notifications.updateIDPRoleMappings.genericError.description"),level:i.AlertLevels.ERROR,message:o.I18n.instance.t("console:develop.features.authenticationProvider.notifications.updateIDPRoleMappings.genericError.message")}))},p=function(e){e.response&&e.response.data&&e.response.data.description?c.h.dispatch((0,r.addAlert)({description:o.I18n.instance.t("console:develop.features.authenticationProvider.notifications.getFederatedAuthenticatorMetadata.error.description",{description:e.response.data.description}),level:i.AlertLevels.ERROR,message:o.I18n.instance.t("console:develop.features.authenticationProvider.notifications.getFederatedAuthenticatorMetadata.error.message")})):c.h.dispatch((0,r.addAlert)({description:o.I18n.instance.t("console:develop.features.authenticationProvider.notifications.getFederatedAuthenticatorMetadata.genericError.description"),level:i.AlertLevels.ERROR,message:o.I18n.instance.t("console:develop.features.authenticationProvider.notifications.getFederatedAuthenticatorMetadata.genericError.message")}))},f=function(e){var t,n;null!==e&&void 0!==e&&null!==(t=e.response)&&void 0!==t&&null!==(n=t.data)&&void 0!==n&&n.description?c.h.dispatch((0,r.addAlert)({description:o.I18n.instance.t("console:develop.features.authenticationProvider.notifications.getOutboundProvisioningConnectorMetadata.error.description",{description:e.response.data.description}),level:i.AlertLevels.ERROR,message:o.I18n.instance.t("console:develop.features.authenticationProvider.notifications.getOutboundProvisioningConnectorMetadata.error.message")})):c.h.dispatch((0,r.addAlert)({description:o.I18n.instance.t("console:develop.features.authenticationProvider.notifications.getOutboundProvisioningConnectorMetadata.genericError.description"),level:i.AlertLevels.ERROR,message:o.I18n.instance.t("console:develop.features.authenticationProvider.notifications.getOutboundProvisioningConnectorMetadata.genericError.message")}))},v=function(e){e.response&&e.response.data&&e.response.data.description?c.h.dispatch((0,r.addAlert)({description:o.I18n.instance.t("console:develop.features.authenticationProvider.notifications.updateOutboundProvisioningConnector.error.description",{description:e.response.data.description}),level:i.AlertLevels.ERROR,message:o.I18n.instance.t("console:develop.features.authenticationProvider.notifications.updateOutboundProvisioningConnector.error.message")})):c.h.dispatch((0,r.addAlert)({description:o.I18n.instance.t("console:develop.features.authenticationProvider.notifications.updateOutboundProvisioningConnector.genericError.description"),level:i.AlertLevels.ERROR,message:o.I18n.instance.t("console:develop.features.authenticationProvider.notifications.updateOutboundProvisioningConnector.genericError.message")}))},h=function(e){e.response&&e.response.data&&e.response.data.description?c.h.dispatch((0,r.addAlert)({description:o.I18n.instance.t("console:develop.features.authenticationProvider.notifications.getIDPTemplateList.error.description",{description:e.response.data.description}),level:i.AlertLevels.ERROR,message:o.I18n.instance.t("console:develop.features.authenticationProvider.notifications.getIDPTemplateList.error.message")})):c.h.dispatch((0,r.addAlert)({description:o.I18n.instance.t("console:develop.features.authenticationProvider.notifications.getIDPTemplateList.genericError.description"),level:i.AlertLevels.ERROR,message:o.I18n.instance.t("console:develop.features.authenticationProvider.notifications.getIDPTemplateList.genericError.message")}))},g=function(e){e.response&&e.response.data&&e.response.data.description?c.h.dispatch((0,r.addAlert)({description:o.I18n.instance.t("console:develop.features.authenticationProvider.notifications.getIDPTemplate.error.description",{description:e.response.data.description}),level:i.AlertLevels.ERROR,message:o.I18n.instance.t("console:develop.features.authenticationProvider.notifications.getIDPTemplate.error.message")})):c.h.dispatch((0,r.addAlert)({description:o.I18n.instance.t("console:develop.features.authenticationProvider.notifications.getIDPTemplate.genericError.description"),level:i.AlertLevels.ERROR,message:o.I18n.instance.t("console:develop.features.authenticationProvider.notifications.getIDPTemplate.genericError.message")}))},y=function(e){var t,n;null!==e&&void 0!==e&&null!==(t=e.response)&&void 0!==t&&null!==(n=t.data)&&void 0!==n&&n.description?c.h.dispatch((0,r.addAlert)({description:o.I18n.instance.t("console:develop.features.authenticationProvider.notifications.getIDPList.error.message",{description:e.response.data.description}),level:i.AlertLevels.ERROR,message:o.I18n.instance.t("console:develop.features.authenticationProvider.notifications.getIDPList.error.message")})):c.h.dispatch((0,r.addAlert)({description:o.I18n.instance.t("console:develop.features.authenticationProvider.notifications.getIDPList.genericError.description"),level:i.AlertLevels.ERROR,message:o.I18n.instance.t("console:develop.features.authenticationProvider.notifications.getIDPList.genericError.message")}))},b=n(33581),E=function(e){return/identity/.test(e)},A=function(e,t){return(0,l.Z)(e)?t.map((function(e){if(null!==e&&void 0!==e&&e.uri)return{key:e.id,text:e.uri,value:e.uri}})):e.map((function(e){var t;if(null!==e&&void 0!==e&&e.mappedValue)return{key:null===e||void 0===e||null===(t=e.claim)||void 0===t?void 0:t.id,text:null===e||void 0===e?void 0:e.mappedValue,value:null===e||void 0===e?void 0:e.mappedValue}}))},I=function(e,t){return(0,l.Z)(e)?t:null===e||void 0===e?void 0:e.map((function(e){return{displayName:e.mappedValue,id:e.claim.id,uri:e.mappedValue}}))},P=function(e,t){return void 0!==(0,a.Z)(t,(function(t){return t.mappedValue===e.claim.uri}))},S=function(e,t){var n;t(null===e||void 0===e||null===(n=e.mappings)||void 0===n?void 0:n.map((function(e){return{claim:e.localClaim,mappedValue:e.idpClaim}})))},O=function(e,t){var n;t(null===e||void 0===e||null===(n=e.provisioningClaims)||void 0===n?void 0:n.map((function(e){var t,n,i;return{claim:{displayName:null===e||void 0===e||null===(t=e.claim)||void 0===t?void 0:t.uri,id:null===e||void 0===e||null===(n=e.claim)||void 0===n?void 0:n.uri,uri:null===e||void 0===e||null===(i=e.claim)||void 0===i?void 0:i.uri},mappedValue:e.defaultValue}})))},C=function(e,t,n){var i,r;t(null===e||void 0===e||null===(i=e.userIdClaim)||void 0===i?void 0:i.uri),n(null===e||void 0===e||null===(r=e.roleClaim)||void 0===r?void 0:r.uri)},T=function(e,t,n,a){return(0,b.GY)(e,t).then((function(){a(e),(0,b.Lv)(e,{mappings:n,outboundProvisioningRoles:[""]}).then((function(){a(e),c.h.dispatch((0,r.addAlert)({description:o.I18n.instance.t("console:develop.features.authenticationProvider.notifications.updateAttributes.success.description"),level:i.AlertLevels.SUCCESS,message:o.I18n.instance.t("console:develop.features.authenticationProvider.notifications.updateAttributes.success.message")}))})).catch((function(e){m(e)}))})).catch((function(e){e.response&&e.response.data&&e.response.data.description&&c.h.dispatch((0,r.addAlert)({description:o.I18n.instance.t("console:develop.features.authenticationProvider.notifications.updateClaimsConfigs.error.description",{description:e.response.data.description}),level:i.AlertLevels.ERROR,message:o.I18n.instance.t("console:develop.features.authenticationProvider.notifications.updateClaimsConfigs.error.message")})),c.h.dispatch((0,r.addAlert)({description:o.I18n.instance.t("console:develop.features.authenticationProvider.notifications.updateClaimsConfigs.genericError.description"),level:i.AlertLevels.ERROR,message:o.I18n.instance.t("console:develop.features.authenticationProvider.notifications.updateClaimsConfigs.genericError.message")}))}))},R=function(e){e.response&&e.response.data&&e.response.data.description&&c.h.dispatch((0,r.addAlert)({description:o.I18n.instance.t("console:develop.features.authenticationProvider.notifications.getAllLocalClaims.error.description",{description:e.response.data.description}),level:i.AlertLevels.ERROR,message:o.I18n.instance.t("console:develop.features.authenticationProvider.notifications.getAllLocalClaims.error.message")})),c.h.dispatch((0,r.addAlert)({description:o.I18n.instance.t("console:develop.features.authenticationProvider.notifications.getAllLocalClaims.genericError.description"),level:i.AlertLevels.ERROR,message:o.I18n.instance.t("console:develop.features.authenticationProvider.notifications.getAllLocalClaims.genericError.message")}))},w=function e(t,n){for(var i=0;i<(null===n||void 0===n?void 0:n.length);i++){var r,o=n[i];if(o.key===t)return o;if((null===(r=o.subProperties)||void 0===r?void 0:r.length)>0)return e(t,o.subProperties)}},L=n(94185)}}]);