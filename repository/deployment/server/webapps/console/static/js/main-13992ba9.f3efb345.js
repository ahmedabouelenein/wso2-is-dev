"use strict";(self.webpackChunk_wso2is_console=self.webpackChunk_wso2is_console||[]).push([[7727],{94185:function(e,t,n){n.d(t,{vD:function(){return l},Ex:function(){return c},Hd:function(){return u},oU:function(){return d},rP:function(){return s},xU:function(){return p},qb:function(){return f},Qp:function(){return E},Ml:function(){return h},Gq:function(){return g},UG:function(){return I},wr:function(){return T},A3:function(){return b},C1:function(){return y},d_:function(){return A},CB:function(){return S}});var r=n(48749);function i(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var a=["urn:oasis:names:tc:SAML:1.1:nameid-format:unspecified","urn:oasis:names:tc:SAML:1.1:nameid-format:emailAddress","urn:oasis:names:tc:SAML:2.0:nameid-format:entity","urn:oasis:names:tc:SAML:2.0:nameid-format:transient","urn:oasis:names:tc:SAML:2.0:nameid-format:persistent","urn:oasis:names:tc:SAML:2.0:nameid-format:encrypted","urn:oasis:names:tc:SAML:1.1:nameid-format:X509SubjectName","urn:oasis:names:tc:SAML:1.1:nameid-format:WindowsDomainQualifiedName","urn:oasis:names:tc:SAML:2.0:nameid-format:kerberos"],l="urn:oasis:names:tc:SAML:1.1:nameid-format:unspecified",c=function(){return a.map((function(e,t){return{key:t,text:e,value:e}}))},u=function(){return[{key:1,text:"HTTP Redirect",value:"redirect"},{key:2,text:"HTTP Post",value:"post"},{key:3,text:"As Per Request",value:"as_request"}]},d="redirect",s=function(e){var t=e.properties.find((function(e){return"SignatureAlgorithm"===e.key})),n=function(e){switch(e){case"DSA with SHA1":return"http://www.w3.org/2000/09/xmldsig#dsa-sha1";case"ECDSA with SHA1":return"http://www.w3.org/2001/04/xmldsig-more#ecdsa-sha1";case"ECDSA with SHA256":return"http://www.w3.org/2001/04/xmldsig-more#ecdsa-sha256";case"ECDSA with SHA384":return"http://www.w3.org/2001/04/xmldsig-more#ecdsa-sha384";case"ECDSA with SHA512":return"http://www.w3.org/2001/04/xmldsig-more#ecdsa-sha512";case"RSA with MD5":return"http://www.w3.org/2001/04/xmldsig-more#rsa-md5";case"RSA with RIPEMD160":return"http://www.w3.org/2001/04/xmldsig-more#rsa-ripemd160";case"RSA with SHA1":return"http://www.w3.org/2000/09/xmldsig#rsa-sha1";case"RSA with SHA256":return"http://www.w3.org/2001/04/xmldsig-more#rsa-sha256";case"RSA with SHA384":return"http://www.w3.org/2001/04/xmldsig-more#rsa-sha384";case"RSA with SHA512":return"http://www.w3.org/2001/04/xmldsig-more#rsa-sha512"}};return t?t.options.map((function(e,t){return{key:t,text:n(e),value:e}})):[]},p=function(e){var t=e.properties.find((function(e){return"DigestAlgorithm"===e.key})),n=function(e){switch(e){case"MD5":return"http://www.w3.org/2001/04/xmldsig-more#md5";case"RIPEMD160":return"http://www.w3.org/2001/04/xmlenc#ripemd160";case"SHA1":return"http://www.w3.org/2000/09/xmldsig#sha1";case"SHA256":return"http://www.w3.org/2001/04/xmlenc#sha256";case"SHA384":return"http://www.w3.org/2001/04/xmldsig-more#sha384";case"SHA512":return"http://www.w3.org/2001/04/xmlenc#sha512"}};return t?[].concat(i(t.options.map((function(e,t){return{key:t,text:n(e),value:e}}))),[{key:-1,text:"",value:""}]):[]},f=function(e){var t,n,r=new Map;null===(t=e.data)||void 0===t||t.properties.forEach((function(e){var t=e.key,n=e.value;return r.set(t,n)}));var i=new Map;return null===(n=e.meta)||void 0===n||n.properties.forEach((function(e){return i.set(e.key,e)})),[function(e){var t=e.key,n=e.defaultValue;if(r.has(t)){var o,a=r.get(t);return"BOOLEAN"===(null===(o=i.get(t))||void 0===o?void 0:o.type)&&v(a)?m(a):a||n}return n},function(e){var t=e.key;return i.has(t)?i.get(t):null}]},m=function(e){return!!e&&("true"===e.toLowerCase()||"false"!==e.toLowerCase()&&void 0)},v=function(e){return"string"===typeof e&&/true|false/g.test(e)},E={max:240,min:3},h={max:2048,min:10},g={max:2048,min:10},I={max:2048,min:5},T={max:2048,min:10},b=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduce((function(t,n){return t||n(e)}),void 0)}},y=function(e){if(!e)return"This is a required field"},A=function(e){return function(t){return!t&&e.min>0?"You cannot leave this blank":(null===t||void 0===t?void 0:t.length)>e.max?"Cannot exceed more than ".concat(e.max," characters."):(null===t||void 0===t?void 0:t.length)<e.min?"Should have at least ".concat(e.min," characters."):void 0}},S=function(e){return r.I.url(e)?void 0:"This URL is invalid."}},37320:function(e,t,n){n.d(t,{P:function(){return D}});var r=n(88742),i=n(26278),o=n(26776),a=n(96462),l=n(87289),c=n(6586),u=n(68905),d=n(64805),s=n(83913),p=n(85027),f=n(23177),m=n(70515),v=n(87670),E=n(5554),h=n(59413),g=n(11380);function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){l=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var b=function(e){var t=e.triggerSubmit,n=e.onSubmit,r=e.manualModeOptions,i=e.authenticatorTemplates,l=e.onTemplateSelect,c=e["data-componentid"],s=(0,d.$G)().t,p=I((0,u.useState)(void 0),2),m=p[0],v=p[1],T=I((0,u.useState)(void 0),2),b=T[0],y=T[1];return u.createElement(o.Forms,{onSubmit:function(){m?n({templateId:m.id}):b&&n({manualModeOptionId:b.authenticatorId})},submitState:t},u.createElement(f.Z,null,i&&i instanceof Array&&i.length>0&&u.createElement(f.Z.Row,{columns:1},u.createElement(f.Z.Column,{mobile:16,tablet:16,computer:16},u.createElement(a.Heading,{as:"h4"},s("console:develop.features.authenticationProvider.wizards.addAuthenticator.steps.authenticatorSelection.quickSetup.title")),u.createElement(a.Hint,null,s("console:develop.features.authenticationProvider.wizards.addAuthenticator.steps.authenticatorSelection.quickSetup.subTitle")),u.createElement(E.Z,{hidden:!0}),u.createElement(a.ResourceGrid,null,i.map((function(e,t){return u.createElement(a.ResourceGrid.Card,{key:t,resourceName:"Enterprise"===e.name?"Standard-Based IdP":e.name,isResourceComingSoon:e.comingSoon,disabled:e.disabled,comingSoonRibbonLabel:s("common:comingSoon"),resourceDescription:e.description,resourceImage:g.z.resolveTemplateImage(e.image,(0,h.nI)()),tags:e.tags,onClick:function(){!function(e){v(e),l(e),y(void 0)}(e)},showTooltips:{description:!0,header:!1},selected:(null===m||void 0===m?void 0:m.id)===e.id,"data-testid":"".concat(c,"-").concat(e.name)})}))))),r&&r instanceof Array&&r.length>0&&u.createElement(f.Z.Row,{columns:1},u.createElement(f.Z.Column,{mobile:16,tablet:16,computer:16},i&&i instanceof Array&&i.length>0&&u.createElement(u.Fragment,null,u.createElement(a.Heading,{as:"h4"},s("console:develop.features.authenticationProvider.wizards.addAuthenticator.steps.authenticatorSelection.manualSetup.title")),u.createElement(a.Hint,null,s("console:develop.features.authenticationProvider.wizards.addAuthenticator.steps.authenticatorSelection.manualSetup.subTitle"))),u.createElement(E.Z,{hidden:!0}),u.createElement(a.ResourceGrid,null,r.map((function(e,t){return u.createElement(a.ResourceGrid.Card,{key:t,resourceName:e.displayName||e.name,resourceDescription:e.description,resourceImage:e.icon||(0,h.nI)().default,onClick:function(){var t;y(t=e),l(t),v(void 0)},showTooltips:{description:!0,header:!1},"data-testid":"".concat(c,"-").concat(e.name),selected:(null===b||void 0===b?void 0:b.authenticatorId)===e.authenticatorId})})))))))};b.defaultProps={"data-componentid":"authenticator-template-selection"};var y,A,S=n(10061),O=n(33581),P=n(47418);function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){R(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){l=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}!function(e){e.AUTHENTICATOR="authenticator"}(y||(y={})),function(e){e.TEMPLATE_SELECTION="TemplateSelection",e.AUTHENTICATOR_SETTINGS="AuthenticatorSettings"}(A||(A={}));var D=function(e){var t=e.closeWizard,n=e.currentStep,E=e.title,g=e.subTitle,I=e.manualModeOptions,T=e.availableTemplates,C=e.idpId,w=e["data-testid"],D=e["data-componentid"],L=N((0,u.useState)(!0),2),M=L[0],U=L[1],k=N((0,u.useState)(void 0),2),H=k[0],G=k[1],F=N((0,u.useState)(!1),2),x=F[0],z=(F[1],N((0,u.useState)(void 0),2)),j=z[0],Z=z[1],Q=N((0,u.useState)(void 0),2),V=Q[0],B=Q[1],W=N((0,u.useState)(n),2),Y=W[0],q=W[1],$=N((0,u.useState)(void 0),2),X=$[0],K=$[1],J=N((0,u.useState)(void 0),2),ee=J[0],te=J[1],ne=N((0,u.useState)(void 0),2),re=ne[0],ie=ne[1],oe=N((0,u.useState)(!1),2),ae=oe[0],le=oe[1],ce=N((0,u.useState)(!1),2),ue=ce[0],de=ce[1],se=(0,s.I0)(),pe=(0,d.$G)().t,fe=N((0,o.useTrigger)(),2),me=fe[0],ve=fe[1],Ee=N((0,o.useTrigger)(),2),he=Ee[0],ge=Ee[1],Ie=N((0,a.useWizardAlert)(),3),Te=Ie[0],be=Ie[1],ye=Ie[2],Ae=function(){var e,t=Y;switch(x&&(t=Y+1),null===(e=H[t])||void 0===e?void 0:e.name){case A.TEMPLATE_SELECTION:ve();break;case A.AUTHENTICATOR_SETTINGS:ge()}},Se=function(e,t){e.templateId?te(e.templateId):e.manualModeOptionId?ie(e.manualModeOptionId):Z(R({},y.AUTHENTICATOR,e)),t?Oe(e):q(Y+1)},Oe=function(e){var t,n=null===e||void 0===e||null===(t=e.federatedAuthenticators)||void 0===t?void 0:t.authenticators.find((function(t){var n;return t.authenticatorId===(null===e||void 0===e||null===(n=e.federatedAuthenticators)||void 0===n?void 0:n.defaultAuthenticatorId)}));n.properties=n.properties.filter((function(e){return!(0,l.Z)(e.key)})),n.properties.filter(Boolean),n.isDefault=!1,Pe(n)},Pe=function(e){le(!0),(0,O.$X)(C,e).then((function(){se((0,i.addAlert)({description:pe("console:develop.features.authenticationProvider.notifications.addFederatedAuthenticator.success.description"),level:r.AlertLevels.SUCCESS,message:pe("console:develop.features.authenticationProvider.notifications.addFederatedAuthenticator.success.message")}))})).catch((function(e){e.response&&e.response.data&&e.response.data.description?be({description:pe("console:develop.features.authenticationProvider.notifications.addFederatedAuthenticator.error.description",{description:e.response.data.description}),level:r.AlertLevels.ERROR,message:pe("console:develop.features.authenticationProvider.notifications.addFederatedAuthenticator.error.message")}):be({description:pe("console:develop.features.authenticationProvider.notifications.addFederatedAuthenticator.genericError.description"),level:r.AlertLevels.ERROR,message:pe("console:develop.features.authenticationProvider.notifications.addFederatedAuthenticator.genericError.message")})})).finally((function(){le(!1),t()}))},Ce=function(){K(void 0),t()},_e=function(e){(0,O.DJ)(e).then((function(e){K(e)})).catch((function(e){(0,P.Rw)(e)}))};return(0,u.useEffect)((function(){if(ee){var e=T.find((function(e){return e.id===ee}));_e(e.idp.federatedAuthenticators.defaultAuthenticatorId),Z(_(_({},j),{},R({},y.AUTHENTICATOR,e.idp)))}}),[ee]),(0,u.useEffect)((function(){re&&(_e(re),Z(_(_({},j),{},R({},y.AUTHENTICATOR,{}))))}),[re]),(0,u.useEffect)((function(){M&&(Z((0,c.Z)(j,R({},y.AUTHENTICATOR,{}))),G([{icon:(0,h.hz)().general,name:A.TEMPLATE_SELECTION,submitCallback:ve,title:pe("console:develop.features.authenticationProvider.wizards.addAuthenticator.steps.authenticatorSelection.title")},{icon:(0,h.hz)().authenticatorSettings,name:A.AUTHENTICATOR_SETTINGS,submitCallback:ge,title:pe("console:develop.features.authenticationProvider.wizards.addAuthenticator.steps.authenticatorConfiguration.title")}].filter(Boolean)),U(!1))}),[C]),(0,u.useEffect)((function(){void 0!==V&&(q(Y-1),B(void 0))}),[V]),H?u.createElement(p.Z,{open:!0,className:"wizard identity-provider-create-wizard",dimmer:"blurring",onClose:Ce,closeOnDimmerClick:!1,closeOnEscape:!0,"data-testid":"".concat(w,"-modal")},u.createElement(p.Z.Header,{className:"wizard-header","data-testid":"".concat(w,"-modal-header")},E,g&&u.createElement(a.Heading,{as:"h6"},g)),u.createElement(p.Z.Content,{className:"steps-container","data-testid":"".concat(w,"-modal-content-1")},u.createElement(a.Steps.Group,{header:pe("console:develop.features.authenticationProvider.wizards.addAuthenticator.header"),current:Y},H.map((function(e,t){return u.createElement(a.Steps.Step,{key:t,icon:e.icon,title:e.title})})))),u.createElement(p.Z.Content,{className:"content-container",scrolling:!0,"data-testid":"".concat(w,"-modal-content-2")},Te&&ye,function(e){var t,n=e;switch(x&&(n=e+1),null===(t=H[n])||void 0===t?void 0:t.name){case A.TEMPLATE_SELECTION:return u.createElement(b,{triggerSubmit:me,onSubmit:function(e){return Se(e,!1)},manualModeOptions:I,authenticatorTemplates:T,onTemplateSelect:function(){return de(!0)},"data-testid":"".concat(w,"-template-selection")});case A.AUTHENTICATOR_SETTINGS:return u.createElement(u.Fragment,null,X&&(0,l.Z)(null===X||void 0===X?void 0:X.properties)&&u.createElement(a.EmptyPlaceholder,{"data-componentid":"".concat(D,"-empty-placeholder"),image:(0,S.jF)().newList,imageSize:"tiny",title:pe("console:develop.features.authenticationProvider.wizards.addAuthenticator.steps.authenticatorSettings.emptyPlaceholder.title"),subtitle:[pe("console:develop.features.authenticationProvider.wizards.addAuthenticator.steps.authenticatorSettings.emptyPlaceholder.subtitles.0"),u.createElement(d.cC,{key:"0",i18nKey:"console:develop.features.authenticationProvider.wizards.addAuthenticator.steps.authenticatorSettings.emptyPlaceholder.subtitles.1"},"configured at this level. Simply click on ",u.createElement(a.Code,null,"Finish"),".")]}),u.createElement(v.iw,{metadata:X,initialValues:j[y.AUTHENTICATOR],onSubmit:function(e){return Se(e,!0)},triggerSubmit:he,"data-testid":"".concat(w,"-authenticator-settings")}))}}(Y)),u.createElement(p.Z.Actions,{"data-testid":"".concat(w,"-modal-actions")},u.createElement(f.Z,null,u.createElement(f.Z.Row,{column:1},u.createElement(f.Z.Column,{mobile:8,tablet:8,computer:8},u.createElement(a.LinkButton,{floated:"left",onClick:Ce,"data-testid":"".concat(w,"-modal-cancel-button")},pe("common:cancel"))),u.createElement(f.Z.Column,{mobile:8,tablet:8,computer:8},Y<H.length-1&&u.createElement(a.PrimaryButton,{floated:"right",onClick:Ae,disabled:!ue,"data-testid":"".concat(w,"-modal-next-button")},pe("console:develop.features.authenticationProvider.wizards.buttons.next"),u.createElement(m.Z,{name:"arrow right"})),Y===H.length-1&&u.createElement(a.PrimaryButton,{floated:"right",onClick:Ae,"data-testid":"".concat(w,"-modal-finish-button"),loading:ae,disabled:ae},pe("console:develop.features.authenticationProvider.wizards.buttons.finish")),Y>0&&u.createElement(a.LinkButton,{floated:"right",onClick:function(){var e;(null===(e=H[Y])||void 0===e?void 0:e.name)===A.AUTHENTICATOR_SETTINGS&&(K(void 0),te(void 0),ie(void 0)),B(Y)},"data-testid":"".concat(w,"-modal-previous-button")},u.createElement(m.Z,{name:"arrow left"}),pe("console:develop.features.authenticationProvider.wizards.buttons.previous"))))))):null};D.defaultProps={currentStep:0,"data-testid":"idp-edit-authenticator-create-wizard"}},82291:function(e,t,n){n.d(t,{zy:function(){return st},WJ:function(){return Mt}});var r=n(88742),i=n(26278),o=n(96462),a=n(87685),l=n(81771),c=n(87289),u=n(68905),d=n(64805),s=n(83913),p=n(23177),f=n(23339),m=n(33581),v=n(21307),E=n(47418);function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){l=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var I=function(e){var t,n=e.triggerSubmission,r=e.triggerPrevious,i=e.changePageNumber,o=e.template,a=e.setTotalPage,l=e.onSubmit,c=e["data-testid"],s=(0,d.$G)().t,p=h((0,u.useState)({}),2),g=p[0],I=p[1],T=h((0,u.useState)(void 0),2),b=T[0],y=T[1];(0,u.useEffect)((function(){A()}),[]);var A=function(){y(!0),(0,m.SN)(null,null,null).then((function(e){I(e)})).catch((function(e){(0,E.Df)(e)})).finally((function(){y(!1)}))};return void 0!==b&&!1===b?u.createElement(f.en,{initialValues:{name:null===o||void 0===o||null===(t=o.idp)||void 0===t?void 0:t.name},onSubmit:function(e){return l(e)},triggerSubmit:function(e){return n(e)},triggerPrevious:function(e){return r(e)},changePage:function(e){return i(e)},setTotalPage:function(e){return a(e)},"data-testid":c},u.createElement(f.k0,{validate:function(e){var t={clientId:void 0,clientSecret:void 0,name:void 0};return e.name||(t.name=s("console:develop.features.authenticationProvider.forms.common.requiredErrorMessage")),e.clientId||(t.clientId=s("console:develop.features.authenticationProvider.forms.common.requiredErrorMessage")),e.clientSecret||(t.clientSecret=s("console:develop.features.authenticationProvider.forms.common.requiredErrorMessage")),t}},u.createElement(f.gN.Input,{ariaLabel:"Facebook IDP Name",inputType:"name",name:"name",label:s("console:develop.features.authenticationProvider.forms.generalDetails.name.label"),placeholder:s("console:develop.features.authenticationProvider.forms.generalDetails.name.placeholder"),required:!0,validation:function(e){return function(e){var t=!1;if((null===g||void 0===g?void 0:g.count)>0&&(null===g||void 0===g||g.identityProviders.map((function(n){(null===n||void 0===n?void 0:n.name)===e&&(t=!0)}))),t)return s("console:develop.features.authenticationProvider.forms.generalDetails.name.validations.duplicate")}(e)},maxLength:v.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.IDP_NAME_MAX_LENGTH,minLength:v.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.IDP_NAME_MIN_LENGTH,"data-testid":"".concat(c,"-idp-name"),width:13}),u.createElement(f.gN.Input,{ariaLabel:"Facebook Client ID",inputType:"client_id",name:"clientId",label:s("console:develop.features.authenticationProvider.forms.authenticatorSettings.facebook.clientId.label"),placeholder:s("console:develop.features.authenticationProvider.forms.authenticatorSettings.facebook.clientId.placeholder"),required:!0,message:s("console:develop.features.authenticationProvider.forms.authenticatorSettings.facebook.clientId.validations.required"),type:"text",autoComplete:""+Math.random(),maxLength:v.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.CLIENT_ID_MAX_LENGTH,minLength:v.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.CLIENT_ID_MIN_LENGTH,"data-testid":"".concat(c,"-idp-client-id"),width:13}),u.createElement(f.gN.Input,{ariaLabel:"Facebook Client Secret",inputType:"password",className:"addon-field-wrapper",name:"clientSecret",label:s("console:develop.features.authenticationProvider.forms.authenticatorSettings.facebook.clientSecret.label"),placeholder:s("console:develop.features.authenticationProvider.forms.authenticatorSettings.facebook.clientSecret.placeholder"),required:!0,message:s("console:develop.features.authenticationProvider.forms.authenticatorSettings.facebook.clientSecret.validations.required"),type:"password",hidePassword:s("common:hide"),showPassword:s("common:show"),autoComplete:""+Math.random(),maxLength:v.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.CLIENT_SECRET_MAX_LENGTH,minLength:v.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.CLIENT_SECRET_MIN_LENGTH,"data-testid":"".concat(c,"-idp-client-secret"),width:13}))):null};I.defaultProps={"data-testid":"facebook-idp-create-wizard-content"};var T=n(62363),b=n(12847),y=n(60753),A=n(59413);function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C(e,t,n,r,i,o,a){try{var l=e[o](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,i)}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){l=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var N=function(e){var t=e.onWizardClose,n=e.onIDPCreate,f=e.currentStep,E=e.title,h=e.subTitle,g=e.template,S=e["data-testid"],P=e["data-componentid"],R=(0,s.I0)(),N=(0,d.$G)().t,w=(0,o.useDocumentation)().getLink,D=_((0,o.useWizardAlert)(),3),L=D[0],M=D[1],U=D[2],k=(0,s.v9)((function(e){return e.config})),H=_((0,u.useState)(f),2),G=H[0],F=H[1],x=_((0,u.useState)(0),2),z=x[0],j=x[1],Z=_((0,u.useState)(0),2),Q=Z[0],V=Z[1],B=_((0,u.useState)(!1),2),W=B[0],Y=B[1],q=_((0,u.useState)(!1),2),$=q[0],X=q[1],K=b.lD.getInstance();(0,u.useEffect)((function(){F(z+1)}),[z]);var J,ee,te=function(e){var t,o,a=null===e||void 0===e||null===(t=e.provisioning)||void 0===t||null===(o=t.outboundConnectors)||void 0===o?void 0:o.connectors[0],u=(0,l.Z)(a,v.bQ.PROVISIONING_CONNECTOR_DISPLAY_NAME)===v.bQ.PROVISIONING_CONNECTOR_GOOGLE;a&&u&&delete a[v.bQ.PROVISIONING_CONNECTOR_DISPLAY_NAME],e.description=g.description,function(e){Y(!0),(0,m.Sf)(e).then((function(e){if(K.publish("connections-finish-adding-connection",{type:P}),R((0,i.addAlert)({description:N("console:develop.features.authenticationProvider.notifications.addIDP.success.description"),level:r.AlertLevels.SUCCESS,message:N("console:develop.features.authenticationProvider.notifications.addIDP.success.message")})),(0,c.Z)(e.headers.location))n();else{var t=e.headers.location,o=t.substring(t.lastIndexOf("/")+1);n(o)}})).catch((function(e){var t,n,i=T.identityProviderConfig.useNewConnectionsView?v.bQ.ERROR_CREATE_LIMIT_REACHED:v.bQ.ERROR_CREATE_LIMIT_REACHED_IDP;403!==e.response.status||(null===e||void 0===e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.code)!==i.getErrorCode()?e.response&&e.response.data&&e.response.data.description?M({description:N("console:develop.features.authenticationProvider.notifications.addIDP.error.description",{description:e.response.data.description}),level:r.AlertLevels.ERROR,message:N("console:develop.features.authenticationProvider.notifications.addIDP.error.message")}):M({description:N("console:develop.features.authenticationProvider.notifications.addIDP.genericError.description"),level:r.AlertLevels.ERROR,message:N("console:develop.features.authenticationProvider.notifications.addIDP.genericError.message")}):X(!0)})).finally((function(){Y(!1)}))}(e)},ne=function(){t()},re=function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.identityProviderConfig.overrideTemplate(g);case 2:(r=O({},g.idp)).name=t.name.toString(),r.templateId=g.templateId,r.federatedAuthenticators.authenticators[0].properties=[{key:"ClientId",value:t.clientId.toString()},{key:"ClientSecret",value:t.clientSecret.toString()},{key:"callBackUrl",value:(null===k||void 0===k||null===(n=k.deployment)||void 0===n?void 0:n.customServerHost)+"/commonauth"},{key:"Scope",value:v.bQ.FACEBOOK_AUTHENTICATOR_REQUESTED_SCOPES.join(",")},{key:"UserInfoFields",value:v.bQ.FACEBOOK_AUTHENTICATOR_REQUESTED_PROFILE_FIELDS.join(",")}],b.$x.getClientOrigin()&&(b.$x.getAppBasename()?r.image=b.$x.getClientOrigin()+"/"+b.$x.getAppBasename()+"/libs/themes/default/assets/images/identity-providers/facebook-idp-illustration.svg":r.image=b.$x.getClientOrigin()+"/libs/themes/default/assets/images/identity-providers/facebook-idp-illustration.svg"),te(r);case 8:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){C(o,r,i,a,l,"next",e)}function l(e){C(o,r,i,a,l,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}();return u.createElement(u.Fragment,null,$&&u.createElement(y.P,{actionLabel:N("console:develop.features.idp.notifications.tierLimitReachedError.emptyPlaceholder.action"),handleModalClose:function(){X(!1),ne()},header:N("console:develop.features.idp.notifications.tierLimitReachedError.heading"),description:N("console:develop.features.idp.notifications.tierLimitReachedError.emptyPlaceholder.subtitles"),message:N("console:develop.features.idp.notifications.tierLimitReachedError.emptyPlaceholder.title"),openModal:$}),u.createElement(b.wv,{open:!$,className:"wizard identity-provider-create-wizard",dimmer:"blurring",onClose:ne,closeOnDimmerClick:!1,closeOnEscape:!0,"data-testid":"".concat(S,"-modal")},u.createElement(b.wv.MainPanel,null,u.createElement(b.wv.Header,{className:"wizard-header","data-testid":"".concat(S,"-modal-header")},u.createElement("div",{className:"display-flex"},u.createElement(o.GenericIcon,{icon:(0,A.nI)().facebook,size:"mini",transparent:!0,spaced:"right","data-testid":"".concat(S,"-image")}),u.createElement("div",{className:"ml-1"},E,h&&u.createElement(o.Heading,{as:"h6"},h,u.createElement(o.DocumentationLink,{link:w("develop.connections.newConnection.facebook.learnMore")},N("common:learnMore")))))),u.createElement(b.wv.Content,{className:"content-container","data-testid":"".concat(S,"-modal-content")},L&&U,u.createElement(I,{onSubmit:re,triggerSubmission:function(e){J=e},triggerPrevious:function(e){ee=e},changePageNumber:function(e){return j(e)},setTotalPage:function(e){return V(e)},template:g})),u.createElement(b.wv.Actions,{"data-testid":"".concat(S,"-modal-actions")},u.createElement(p.Z,null,u.createElement(p.Z.Row,{column:1},u.createElement(p.Z.Column,{mobile:8,tablet:8,computer:8},u.createElement(o.LinkButton,{floated:"left",onClick:ne,"data-testid":"".concat(S,"-modal-cancel-button")},N("common:cancel"))),u.createElement(p.Z.Column,{mobile:8,tablet:8,computer:8},G!==Q?u.createElement(o.PrimaryButton,{floated:"right",onClick:function(){J()},"data-testid":"".concat(S,"-modal-finish-button"),loading:W,disabled:W},N("console:develop.features.authenticationProvider.wizards.buttons.next")):u.createElement(u.Fragment,null,u.createElement(o.PrimaryButton,{floated:"right",onClick:function(){J()},"data-testid":"".concat(S,"-modal-finish-button"),loading:W,disabled:W},N("console:develop.features.authenticationProvider.wizards.buttons.finish"))),G>1&&u.createElement(o.LinkButton,{floated:"right",onClick:function(){ee()},"data-testid":"".concat(S,"-modal-previous-button")},N("console:develop.features.authenticationProvider.wizards.buttons.previous"))))))),function(){var e;if(null===g||void 0===g||null===(e=g.content)||void 0===e||!e.wizardHelp||0===G)return null;var t=(null===g||void 0===g?void 0:g.content).wizardHelp;return u.createElement(b.wv.SidePanel,null,u.createElement(b.wv.Header,{className:"wizard-header help-panel-header muted"},u.createElement("div",{className:"help-panel-header-text"},N("console:develop.features.authenticationProvider.templates.facebook.wizardHelp.heading"))),u.createElement(b.wv.Content,null,u.createElement(u.Suspense,{fallback:u.createElement(a.p,null)},u.createElement(t,null))))}()))};function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){l=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}N.defaultProps={currentStep:1,"data-componentid":"facebook-idp","data-testid":"facebook-idp-create-wizard"};var L=function(e){var t,n=e.triggerSubmission,r=e.triggerPrevious,i=e.changePageNumber,o=e.template,a=e.setTotalPage,l=e.onSubmit,c=e["data-testid"],s=(0,d.$G)().t,p=w((0,u.useState)({}),2),h=p[0],g=p[1],I=w((0,u.useState)(void 0),2),T=I[0],b=I[1];(0,u.useEffect)((function(){y()}),[]);var y=function(){b(!0),(0,m.SN)(null,null,null).then((function(e){g(e)})).catch((function(e){(0,E.Df)(e)})).finally((function(){b(!1)}))};return void 0!==T&&!1===T?u.createElement(f.en,{initialValues:{name:null===o||void 0===o||null===(t=o.idp)||void 0===t?void 0:t.name},onSubmit:function(e){return l(e)},triggerSubmit:function(e){return n(e)},triggerPrevious:function(e){return r(e)},changePage:function(e){return i(e)},setTotalPage:function(e){return a(e)},"data-testid":c},u.createElement(f.k0,{validate:function(e){var t={clientId:void 0,clientSecret:void 0,name:void 0};return e.name||(t.name=s("console:develop.features.authenticationProvider.forms.common.requiredErrorMessage")),e.clientId||(t.clientId=s("console:develop.features.authenticationProvider.forms.common.requiredErrorMessage")),e.clientSecret||(t.clientSecret=s("console:develop.features.authenticationProvider.forms.common.requiredErrorMessage")),t}},u.createElement(f.gN.Input,{ariaLabel:"GitHub IDP Name",inputType:"name",name:"name",label:s("console:develop.features.authenticationProvider.forms.generalDetails.name.label"),placeholder:s("console:develop.features.authenticationProvider.forms.generalDetails.name.placeholder"),required:!0,validation:function(e){return function(e){var t=!1;if((null===h||void 0===h?void 0:h.count)>0&&(null===h||void 0===h||h.identityProviders.map((function(n){(null===n||void 0===n?void 0:n.name)===e&&(t=!0)}))),t)return s("console:develop.features.authenticationProvider.forms.generalDetails.name.validations.duplicate")}(e)},maxLength:v.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.IDP_NAME_MAX_LENGTH,minLength:v.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.IDP_NAME_MIN_LENGTH,"data-testid":"".concat(c,"-idp-name"),width:13}),u.createElement(f.gN.Input,{ariaLabel:"GitHub Client ID",inputType:"client_id",name:"clientId",label:s("console:develop.features.authenticationProvider.forms.authenticatorSettings.github.clientId.label"),placeholder:s("console:develop.features.authenticationProvider.forms.authenticatorSettings.github.clientId.placeholder"),required:!0,message:s("console:develop.features.authenticationProvider.forms.authenticatorSettings.github.clientId.validations.required"),type:"text",autoComplete:""+Math.random(),maxLength:v.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.CLIENT_ID_MAX_LENGTH,minLength:v.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.CLIENT_ID_MIN_LENGTH,"data-testid":"".concat(c,"-idp-client-id"),width:13}),u.createElement(f.gN.Input,{ariaLabel:"GitHub Client Secret",inputType:"password",className:"addon-field-wrapper",name:"clientSecret",label:s("console:develop.features.authenticationProvider.forms.authenticatorSettings.github.clientSecret.label"),placeholder:s("console:develop.features.authenticationProvider.forms.authenticatorSettings.github.clientSecret.placeholder"),required:!0,message:s("console:develop.features.authenticationProvider.forms.authenticatorSettings.github.clientSecret.validations.required"),type:"password",hidePassword:s("common:hide"),showPassword:s("common:show"),autoComplete:""+Math.random(),maxLength:v.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.CLIENT_SECRET_MAX_LENGTH,minLength:v.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.CLIENT_SECRET_MIN_LENGTH,"data-testid":"".concat(c,"-idp-client-secret"),width:13}))):null};function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){k(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function H(e,t,n,r,i,o,a){try{var l=e[o](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,i)}function G(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){l=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return F(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return F(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}L.defaultProps={"data-testid":"github-idp-create-wizard-page"};var x=function(e){var t=e.onWizardClose,n=e.onIDPCreate,f=e.currentStep,E=e.title,h=e.subTitle,g=e.template,I=e["data-testid"],S=e["data-componentid"],O=(0,s.I0)(),P=(0,d.$G)().t,C=(0,o.useDocumentation)().getLink,_=G((0,o.useWizardAlert)(),3),R=_[0],N=_[1],w=_[2],D=(0,s.v9)((function(e){return e.config})),M=G((0,u.useState)(f),2),k=M[0],F=M[1],x=G((0,u.useState)(0),2),z=x[0],j=x[1],Z=G((0,u.useState)(0),2),Q=Z[0],V=Z[1],B=G((0,u.useState)(!1),2),W=B[0],Y=B[1],q=G((0,u.useState)(!1),2),$=q[0],X=q[1],K=b.lD.getInstance();(0,u.useEffect)((function(){F(z+1)}),[z]);var J,ee,te=function(e){var t,o,a=null===e||void 0===e||null===(t=e.provisioning)||void 0===t||null===(o=t.outboundConnectors)||void 0===o?void 0:o.connectors[0],u=(0,l.Z)(a,v.bQ.PROVISIONING_CONNECTOR_DISPLAY_NAME)===v.bQ.PROVISIONING_CONNECTOR_GOOGLE;a&&u&&delete a[v.bQ.PROVISIONING_CONNECTOR_DISPLAY_NAME],e.description=g.description,function(e){Y(!0),(0,m.Sf)(e).then((function(e){if(K.publish("connections-finish-adding-connection",{type:S}),O((0,i.addAlert)({description:P("console:develop.features.authenticationProvider.notifications.addIDP.success.description"),level:r.AlertLevels.SUCCESS,message:P("console:develop.features.authenticationProvider.notifications.addIDP.success.message")})),(0,c.Z)(e.headers.location))n();else{var t=e.headers.location,o=t.substring(t.lastIndexOf("/")+1);n(o)}})).catch((function(e){var t,n,i=T.identityProviderConfig.useNewConnectionsView?v.bQ.ERROR_CREATE_LIMIT_REACHED:v.bQ.ERROR_CREATE_LIMIT_REACHED_IDP;403!==e.response.status||(null===e||void 0===e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.code)!==i.getErrorCode()?e.response&&e.response.data&&e.response.data.description?N({description:P("console:develop.features.authenticationProvider.notifications.addIDP.error.description",{description:e.response.data.description}),level:r.AlertLevels.ERROR,message:P("console:develop.features.authenticationProvider.notifications.addIDP.error.message")}):N({description:P("console:develop.features.authenticationProvider.notifications.addIDP.genericError.description"),level:r.AlertLevels.ERROR,message:P("console:develop.features.authenticationProvider.notifications.addIDP.genericError.message")}):X(!0)})).finally((function(){Y(!1)}))}(e)},ne=function(){t()},re=function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.identityProviderConfig.overrideTemplate(g);case 2:(r=U({},g.idp)).name=t.name.toString(),r.templateId=g.templateId,r.federatedAuthenticators.authenticators[0].properties=[{key:"ClientId",value:t.clientId.toString()},{key:"ClientSecret",value:t.clientSecret.toString()},{key:"callbackUrl",value:(null===D||void 0===D||null===(n=D.deployment)||void 0===n?void 0:n.customServerHost)+"/commonauth"},{key:"scope",value:v.bQ.GITHUB_AUTHENTICATOR_REQUESTED_SCOPES.join(" ")},{key:"UsePrimaryEmail",value:"true"}],b.$x.getClientOrigin()&&(b.$x.getAppBasename()?r.image=b.$x.getClientOrigin()+"/"+b.$x.getAppBasename()+"/libs/themes/default/assets/images/identity-providers/github-idp-illustration.svg":r.image=b.$x.getClientOrigin()+"/libs/themes/default/assets/images/identity-providers/github-idp-illustration.svg"),te(r);case 8:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){H(o,r,i,a,l,"next",e)}function l(e){H(o,r,i,a,l,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}();return u.createElement(u.Fragment,null,$&&u.createElement(y.P,{actionLabel:P("console:develop.features.idp.notifications.tierLimitReachedError.emptyPlaceholder.action"),handleModalClose:function(){X(!1),ne()},header:P("console:develop.features.idp.notifications.tierLimitReachedError.heading"),description:P("console:develop.features.idp.notifications.tierLimitReachedError.emptyPlaceholder.subtitles"),message:P("console:develop.features.idp.notifications.tierLimitReachedError.emptyPlaceholder.title"),openModal:$}),u.createElement(b.wv,{open:!$,className:"wizard identity-provider-create-wizard",dimmer:"blurring",onClose:ne,closeOnDimmerClick:!1,closeOnEscape:!0,"data-testid":"".concat(I,"-modal")},u.createElement(b.wv.MainPanel,null,u.createElement(b.wv.Header,{className:"wizard-header","data-testid":"".concat(I,"-modal-header")},u.createElement("div",{className:"display-flex"},u.createElement(o.GenericIcon,{icon:(0,A.nI)().github,size:"mini",transparent:!0,spaced:"right","data-testid":"".concat(I,"-image")}),u.createElement("div",{className:"ml-1"},E,h&&u.createElement(o.Heading,{as:"h6"},h,u.createElement(o.DocumentationLink,{link:C("develop.connections.newConnection.github.learnMore")},P("common:learnMore")))))),u.createElement(b.wv.Content,{className:"content-container","data-testid":"".concat(I,"-modal-content")},R&&w,u.createElement(L,{onSubmit:re,triggerSubmission:function(e){J=e},triggerPrevious:function(e){ee=e},changePageNumber:function(e){return j(e)},setTotalPage:function(e){return V(e)},template:g})),u.createElement(b.wv.Actions,{"data-testid":"".concat(I,"-modal-actions")},u.createElement(p.Z,null,u.createElement(p.Z.Row,{column:1},u.createElement(p.Z.Column,{mobile:8,tablet:8,computer:8},u.createElement(o.LinkButton,{floated:"left",onClick:ne,"data-testid":"".concat(I,"-modal-cancel-button")},P("common:cancel"))),u.createElement(p.Z.Column,{mobile:8,tablet:8,computer:8},k!==Q?u.createElement(o.PrimaryButton,{floated:"right",onClick:function(){J()},"data-testid":"".concat(I,"-modal-finish-button"),loading:W,disabled:W},P("console:develop.features.authenticationProvider.wizards.buttons.next")):u.createElement(u.Fragment,null,u.createElement(o.PrimaryButton,{floated:"right",onClick:function(){J()},"data-testid":"".concat(I,"-modal-finish-button"),loading:W,disabled:W},P("console:develop.features.authenticationProvider.wizards.buttons.finish"))),k>1&&u.createElement(o.LinkButton,{floated:"right",onClick:function(){ee()},"data-testid":"".concat(I,"-modal-previous-button")},P("console:develop.features.authenticationProvider.wizards.buttons.previous"))))))),function(){var e;if(null===g||void 0===g||null===(e=g.content)||void 0===e||!e.wizardHelp||0===k)return null;var t=(null===g||void 0===g?void 0:g.content).wizardHelp;return u.createElement(b.wv.SidePanel,null,u.createElement(b.wv.Header,{className:"wizard-header help-panel-header muted"},u.createElement("div",{className:"help-panel-header-text"},P("console:develop.features.authenticationProvider.templates.github.wizardHelp.heading"))),u.createElement(b.wv.Content,null,u.createElement(u.Suspense,{fallback:u.createElement(a.p,null)},u.createElement(t,null))))}()))};x.defaultProps={currentStep:1,"data-componentid":"github-idp","data-testid":"github-idp-create-wizard"};var z,j=n(95823),Z=n(48749),Q=n(25479),V=n(345),B=n(57764),W=n(87303),Y=n(5554),q=n(70515),$=n(67897),X=n(33349),K=n(59867);function J(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=ne(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw o}}}}function ee(e,t,n,r,i,o,a){try{var l=e[o](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,i)}function te(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){l=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}(e,t)||ne(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ne(e,t){if(e){if("string"===typeof e)return re(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?re(e,t):void 0}}function re(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}!function(e){e.GENERAL_DETAILS="GeneralDetails",e.AUTHENTICATOR_SETTINGS="Identity Provider Settings",e.CERTIFICATES="Certificates"}(z||(z={}));var ie=function(e){var t=e.onWizardClose,n=e.onIDPCreate,a=e.title,l=e.subTitle,h=e.template,g=e["data-testid"],I=e["data-componentid"],T=(0,u.useRef)(null),y=te((0,u.useState)(!1),2),S=y[0],O=y[1],P=te((0,u.useState)([]),2),C=P[0],_=P[1],R=te((0,u.useState)(0),2),N=R[0],w=R[1],D=te((0,o.useWizardAlert)(),3),L=D[0],M=D[1],U=D[2],k=te((0,u.useState)(fe),2),H=k[0],G=k[1],F=te((0,u.useState)(),2),x=F[0],ne=F[1],re=te((0,u.useState)(null),2),ie=re[0],be=re[1],ye=te((0,u.useState)(null),2),Ae=ye[0],Se=ye[1],Oe=te((0,u.useState)(null),2),Pe=Oe[0],Ce=Oe[1],_e=te((0,u.useState)("jwks"),2),Re=_e[0],Ne=_e[1],we=te((0,u.useState)("oidc"),2),De=we[0],Le=we[1],Me=te((0,u.useState)("file"),2),Ue=Me[0],ke=Me[1],He=te((0,u.useState)(null),2),Ge=He[0],Fe=He[1],xe=te((0,u.useState)(!1),2),ze=xe[0],je=xe[1],Ze=te((0,u.useState)(!0),2),Qe=Ze[0],Ve=Ze[1],Be=te((0,u.useState)([]),2),We=Be[0],Ye=Be[1],qe=te((0,u.useState)(!1),2),$e=qe[0],Xe=qe[1],Ke=(0,s.v9)((function(e){return e.config})),Je=(0,s.I0)(),et=(0,d.$G)().t,tt=(0,o.useDocumentation)().getLink,nt=b.lD.getInstance();(0,u.useEffect)((function(){Xe(!0),(0,m.SN)(null,null,null).then((function(e){Ye(e.identityProviders)})).catch((function(e){(0,E.Df)(e)})).finally((function(){Xe(!1)}))}),[]),(0,u.useEffect)((function(){S||(_(it()),O(!0))}),[S]),(0,u.useEffect)((function(){Ne("oidc"===De?"jwks":"pem")}),[De]);var rt=(0,u.useMemo)((function(){return{NameIDType:"urn:oasis:names:tc:SAML:1.1:nameid-format:unspecified",RequestMethod:"post",name:fe}}),[]),it=function(){return[{icon:(0,A.hz)().general,name:z.GENERAL_DETAILS,title:"General Settings"},{icon:(0,A.hz)().authenticatorSettings,name:z.AUTHENTICATOR_SETTINGS,title:"Configuration"},{icon:(0,A.hz)().general,name:z.CERTIFICATES,title:"Certificates"}]},ot=function(e){return(null===We||void 0===We?void 0:We.length)>0&&We.reduce((function(e,t){var n=t.name;return e.add(n)}),new Set).has(e)},at=function(e){return j.URLUtils.isLoopBackCall(e)&&null!==$.commonConfig&&void 0!==$.commonConfig&&$.commonConfig.blockLoopBackCalls?et("console:develop.features.idp.forms.common.internetResolvableErrorMessage"):void 0},lt=function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var o,a,l,u,d,s,p,f,E,g,T,y,A,S;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=0,a=J(h.subTemplates),e.prev=2,a.s();case 4:if((l=a.n()).done){e.next=10;break}return u=l.value,e.next=8,$.identityProviderConfig.overrideTemplate(u);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),a.e(e.t0);case 15:return e.prev=15,a.f(),e.finish(15);case 18:d=(0,Q.Z)(h.subTemplates.find((function(e){return e.id===("saml"===De?v.bQ.IDP_TEMPLATE_IDS.SAML:v.bQ.IDP_TEMPLATE_IDS.OIDC)}))),s=d.idp,"oidc"===De?(s.name=null===t||void 0===t||null===(p=t.name)||void 0===p?void 0:p.toString(),s.federatedAuthenticators.authenticators[o].properties=[{key:"ClientId",value:null===t||void 0===t||null===(f=t.clientId)||void 0===f?void 0:f.toString()},{key:"ClientSecret",value:null===t||void 0===t||null===(E=t.clientSecret)||void 0===E?void 0:E.toString()},{key:"OAuth2AuthzEPUrl",value:null===t||void 0===t||null===(g=t.authorizationEndpointUrl)||void 0===g?void 0:g.toString()},{key:"OAuth2TokenEPUrl",value:null===t||void 0===t||null===(T=t.tokenEndpointUrl)||void 0===T?void 0:T.toString()},{key:"callbackUrl",value:(null===Ke||void 0===Ke||null===(y=Ke.deployment)||void 0===y?void 0:y.customServerHost)+"/commonauth"}],s.certificate.jwksUri=null!==(A=t.jwks_endpoint)&&void 0!==A?A:fe,s.certificate.certificates=[H?btoa(H):fe]):(s.name=null===t||void 0===t||null===(S=t.name)||void 0===S?void 0:S.toString(),s.federatedAuthenticators.authenticators[o].properties="manual"===Ue?[{key:"IdPEntityId",value:t.IdPEntityId},{key:"NameIDType",value:t.NameIDType},{key:"RequestMethod",value:t.RequestMethod},{key:"SPEntityId",value:t.SPEntityId},{key:"SSOUrl",value:t.SSOUrl},{key:"SelectMode",value:"Manual Configuration"},{key:"IsUserIdInClaims",value:"false"},{key:"IsSLORequestAccepted",value:"false"},{key:"SignatureAlgorithm",value:"RSA with SHA1"},{key:"DigestAlgorithm",value:"SHA1"}]:[{key:"SPEntityId",value:t.SPEntityId},{key:"meta_data_saml",value:null!==x&&void 0!==x?x:fe},{key:"SelectMode",value:"Metadata File Configuration"},{key:"IsUserIdInClaims",value:"false"},{key:"IsSLORequestAccepted",value:"false"}],s.certificate.certificates=[H?btoa(H):fe]),b.$x.getClientOrigin()&&(b.$x.getAppBasename()?s.image=b.$x.getClientOrigin()+"/"+b.$x.getAppBasename()+"/libs/themes/default/assets/images/identity-providers/enterprise-idp-illustration.svg":s.image=b.$x.getClientOrigin()+"/libs/themes/default/assets/images/identity-providers/enterprise-idp-illustration.svg"),s.description=X.C.getAuthenticatorDescription(s.federatedAuthenticators.authenticators[o].authenticatorId),je(!0),(0,m.Sf)(s).then((function(e){if(nt.publish("connections-finish-adding-connection",{type:I+"-"+(0,V.Z)(De)}),Je((0,i.addAlert)({description:et("console:develop.features.authenticationProvider.notifications.addIDP.success.description"),level:r.AlertLevels.SUCCESS,message:et("console:develop.features.authenticationProvider.notifications.addIDP.success.message")})),(0,c.Z)(e.headers.location))n();else{var t=e.headers.location,o=t.substring(t.lastIndexOf("/")+1);n(o)}})).catch((function(e){var t,n,i,o=$.identityProviderConfig.useNewConnectionsView?v.bQ.ERROR_CREATE_LIMIT_REACHED:v.bQ.ERROR_CREATE_LIMIT_REACHED_IDP;return 403===e.response.status&&(null===e||void 0===e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.code)===o.getErrorCode()?(M({code:o.getErrorCode(),description:et(o.getErrorDescription()),level:r.AlertLevels.ERROR,message:et(o.getErrorMessage()),traceId:o.getErrorTraceId()}),void setTimeout((function(){return M(void 0)}),4e3)):500===(null===e||void 0===e?void 0:e.response.status)&&"saml"===De&&"file"===Ue&&"IDP-65002"===(null===(i=e.response)||void 0===i?void 0:i.data.code)?(M({description:"You are trying to add a provider with an existing Identity Provider Entity ID or a Service Provider Entity ID.",level:r.AlertLevels.ERROR,message:"There's a Conflicting Entity"}),void setTimeout((function(){return M(void 0)}),8e3)):e.response&&e.response.data&&e.response.data.description?(M({description:et("console:develop.features.authenticationProvider.notifications.addIDP.error.description",{description:e.response.data.description}),level:r.AlertLevels.ERROR,message:et("console:develop.features.authenticationProvider.notifications.addIDP.error.message")}),void setTimeout((function(){return M(void 0)}),4e3)):(M({description:et("console:develop.features.authenticationProvider.notifications.addIDP.genericError.description"),level:r.AlertLevels.ERROR,message:et("console:develop.features.authenticationProvider.notifications.addIDP.genericError.message")}),void setTimeout((function(){return M(void 0)}),4e3))})).finally((function(){je(!1)}));case 24:case"end":return e.stop()}}),e,null,[[2,12,15,18]])})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){ee(o,r,i,a,l,"next",e)}function l(e){ee(o,r,i,a,l,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}(),ct=function(){return u.createElement(f.k0,{validate:function(e){var t={};t.name=Ee(ge,Ie(ce))(e.name),ot(e.name)&&(t.name=et("console:develop.features.authenticationProvider.forms.generalDetails.name.validations.duplicate")),Z.I.isValidResourceName(e.name)||(t.name=et("console:develop.features.authenticationProvider.templates.enterprise.validation.name")),Ve(he(t))}},u.createElement(f.gN.Input,{"data-testid":"".concat(g,"-form-wizard-idp-name"),ariaLabel:"name",inputType:"resource_name",name:"name",placeholder:"Enter a name for the identity provider",label:"Identity provider name",initialValue:rt.name,maxLength:ce.max,minLength:ce.min,required:!0,width:15,format:function(e){return e.toString().trimStart()},validation:function(e){var t;return t=Ee(ge,Ie(ce))(e),ot(e)&&(t=et("console:develop.features.authenticationProvider.forms.generalDetails.name.validations.duplicate")),Z.I.isValidResourceName(e)||(t=et("console:develop.features.authenticationProvider.templates.enterprise.validation.invalidName",{idpName:e})),""!==t&&void 0!==t||Ve(!1),t}}),u.createElement(p.Z,null,u.createElement(p.Z.Row,null,u.createElement(p.Z.Column,{mobile:16,tablet:16,computer:14},u.createElement("div",{className:"sub-template-selection"},u.createElement("label",{className:"sub-templates-label"},"Select protocol"),u.createElement(W.Z.Group,{itemsPerRow:3,className:"sub-templates"},u.createElement(o.SelectionCard,{inline:!0,image:(0,A.nI)().oidc,size:"small",className:"sub-template-selection-card",header:"OpenID Connect",selected:"oidc"===De,onClick:function(){return Le("oidc")},imageSize:"x30",imageOptions:{relaxed:!0,square:!1,width:"auto"},contentTopBorder:!1,showTooltips:!0,"data-testid":"".concat(g,"-form-wizard-oidc-selection-card")}),u.createElement(o.SelectionCard,{inline:!0,image:(0,A.nI)().saml,size:"small",className:"sub-template-selection-card",header:"SAML",selected:"saml"===De,onClick:function(){return Le("saml")},imageSize:"x30",imageOptions:{relaxed:!0,square:!1,width:"auto"},showTooltips:!0,disabled:!1,overlay:u.createElement(B.Z,{className:"lighter",active:!0},et("common:featureAvailable")),contentTopBorder:!1,renderDisabledItemsAsGrayscale:!1,overlayOpacity:.6,"data-testid":"".concat(g,"-form-wizard-saml-selection-card")})))))))},ut=function(){return u.createElement(f.k0,{validate:function(e){var t,n={};"oidc"===De&&"jwks"===Re&&((null===(t=e.jwks_endpoint)||void 0===t?void 0:t.length)>0&&(n.jwks_endpoint=Ee(Ie(pe),at,Te)(e.jwks_endpoint)),Ve(he(n)));return n}},u.createElement(p.Z,null,u.createElement(p.Z.Row,{columns:1},u.createElement(p.Z.Column,{mobile:16,tablet:16,computer:10},u.createElement("p",null,u.createElement("b",null,"Mode of certificate configuration")),"oidc"===De&&u.createElement(o.Switcher,{compact:!0,disabledMessage:"This feature will be enabled soon.",className:"mt-1",defaultOptionValue:"jwks",selectedValue:Re,onChange:function(e){var t=e.value;return Ne(t)},options:[{label:"JWKS endpoint",value:"jwks"},{label:"Use PEM certificate",value:"pem"}]})))),u.createElement(Y.Z,{hidden:!0}),"oidc"===De&&"jwks"===Re&&u.createElement(u.Fragment,null,u.createElement(f.gN.Input,{ariaLabel:"JWKS endpoint URL",inputType:"url",name:"jwks_endpoint",label:"JWKS endpoint URL",required:!1,maxLength:pe.max,minLength:pe.min,width:15,initialValue:fe,placeholder:"Enter JWKS endpoint URL","data-testid":"".concat(g,"-form-wizard-oidc-jwks-endpoint-url")}),u.createElement(o.Hint,null,Ke.ui.productName," will use this URL to obtain keys to verify the signed responses from your external IdP")),"pem"===Re&&u.createElement(u.Fragment,null,u.createElement(o.FilePicker,{key:2,file:Pe,pastedContent:Ge,fileStrategy:me,normalizeStateOnRemoveOperations:!0,onChange:function(e){var t,n;Fe(e.pastedContent),Ce(e.file),G(null===(t=e.serialized)||void 0===t?void 0:t.pem),Ve(((null===(n=e.pastedContent)||void 0===n?void 0:n.length)>0||e.file)&&!e.serialized&&!e.valid)},uploadButtonText:"Upload Certificate File",dropzoneText:"Drag and drop a certificate file here.",pasteAreaPlaceholderText:"Paste IdP certificate in PEM format.",icon:(0,b._5)().uploadPlaceholder,placeholderIcon:u.createElement(q.Z,{name:"file alternate",size:"huge"}),"data-testid":"".concat(g,"-form-wizard-").concat(De,"-pem-certificate")}),u.createElement(o.Hint,null,Ke.ui.productName," will use this certificate to verify the signed responses from your external IdP.")))};return u.createElement(b.wv,{open:!0,className:"wizard identity-provider-create-wizard",dimmer:"blurring",onClose:t,closeOnDimmerClick:!1,closeOnEscape:!0,"data-testid":"".concat(g,"-modal")},u.createElement(b.wv.MainPanel,null,u.createElement(b.wv.Header,{className:"wizard-header","data-testid":"".concat(g,"-modal-header")},u.createElement("div",{className:"display-flex"},u.createElement(o.GenericIcon,{icon:(0,A.nI)().enterprise,size:"x30",transparent:!0,spaced:"right","data-testid":"".concat(g,"-image")}),u.createElement("div",null,a,l&&u.createElement(o.Heading,{as:"h6"},l,function(){var e=void 0;return De===K.RE.SAML&&(e=tt("develop.connections.newConnection.enterprise.samlLearnMore")),De===K.RE.OIDC&&(e=tt("develop.connections.newConnection.enterprise.oidcLearnMore")),u.createElement(o.DocumentationLink,{link:e},et("common:learnMore"))}())))),u.createElement(u.Fragment,null,u.createElement(b.wv.Content,{className:"steps-container","data-testid":"".concat(g,"-modal-content-1")},u.createElement(o.Steps.Group,{current:N},C.map((function(e,t){return u.createElement(o.Steps.Step,{active:!0,key:t,icon:e.icon,title:e.title})})))),u.createElement(b.wv.Content,{className:"content-container","data-testid":"".concat(g,"-modal-content-2")},L&&U,$e?u.createElement(o.ContentLoader,null):u.createElement(f.w,{ref:T,initialValues:rt,onSubmit:lt,uncontrolledForm:!0,pageChanged:function(e){return w(e)},"data-testid":g},"oidc"===De?[ct(),u.createElement(f.k0,{validate:function(e){var t={};return t.clientId=Ee(ge,Ie(oe))(e.clientId),t.clientSecret=Ee(ge,Ie(ae))(e.clientSecret),t.authorizationEndpointUrl=Ee(ge,Te,at,Ie(le))(e.authorizationEndpointUrl),t.tokenEndpointUrl=Ee(ge,Te,at,Ie(le))(e.tokenEndpointUrl),Ve(he(t)),t}},u.createElement(f.gN.Input,{ariaLabel:"clientId",inputType:"client_id",name:"clientId",label:"Client ID",required:!0,maxLength:100,minLength:3,placeholder:"Enter client id","data-testid":"".concat(g,"-form-wizard-oidc-idp-client-id"),width:13}),u.createElement(f.gN.Input,{ariaLabel:"clientSecret",className:"addon-field-wrapper",inputType:"password",name:"clientSecret",label:"Client secret",required:!0,hidePassword:et("common:hide"),showPassword:et("common:show"),maxLength:100,minLength:3,type:"password",placeholder:"Enter client secret","data-testid":"".concat(g,"-form-wizard-oidc-idp-client-secret"),width:13}),u.createElement(f.gN.Input,{ariaLabel:"authorizationEndpointUrl",inputType:"url",name:"authorizationEndpointUrl",label:"Authorization endpoint URL",required:!0,placeholder:"Enter authorization endpoint URL",maxLength:100,minLength:3,"data-testid":"".concat(g,"-form-wizard-oidc-idp-authorization-endpoint-url"),width:13}),u.createElement(f.gN.Input,{ariaLabel:"tokenEndpointUrl",inputType:"url",name:"tokenEndpointUrl",label:"Token endpoint URL",required:!0,placeholder:"Enter token endpoint URL",maxLength:100,minLength:3,"data-testid":"".concat(g,"-form-wizard-oidc-idp-token-endpoint-url"),width:13})),ut()]:[ct(),u.createElement(f.k0,{validate:function(e){var t={};return t.SPEntityId=Ee(ge,Ie(ue))(e.SPEntityId),"file"===Ue?Ve(he(t)||!x):(t.NameIDType=Ee(ge)(e.NameIDType),t.SSOUrl=Ee(ge,Ie(de),Te)(e.SSOUrl),t.IdPEntityId=Ee(ge,Ie(se))(e.IdPEntityId),t.RequestMethod=Ee(ge)(e.RequestMethod),Ve(he(t))),t}},u.createElement(f.gN.Input,{ariaLabel:"Service provider entity id",inputType:"url",name:"SPEntityId",label:"Service provider entity ID",required:!0,maxLength:ue.max,minLength:ue.min,width:15,placeholder:"Enter a Service Provider Entity ID","data-testid":"".concat(g,"-form-wizard-saml-entity-id")}),u.createElement(p.Z,null,u.createElement(p.Z.Row,{columns:1},u.createElement(p.Z.Column,{mobile:16,tablet:16,computer:10},u.createElement("p",null,u.createElement("b",null,"Mode of configuration")),u.createElement(o.Switcher,{compact:!0,"data-testid":"".concat(g,"-form-wizard-saml-config-switcher"),className:"mt-1",selectedValue:Ue,onChange:function(e){var t=e.value;return ke(t)},options:[{label:"Manual Configuration",value:"manual"},{label:"File Based Configuration",value:"file"}]})))),u.createElement(Y.Z,{hidden:!0}),"manual"===Ue?u.createElement("div",null,u.createElement(f.gN.Input,{inputType:"url",ariaLabel:"Identity provider Single Sign-On URL",name:"SSOUrl",label:"Identity provider Single Sign-On URL",required:!0,maxLength:de.max,minLength:de.min,width:15,placeholder:"Enter SAML 2.0 redirect SSO url","data-testid":"".concat(g,"-form-wizard-saml-sso-url")}),u.createElement(f.gN.Input,{inputType:"url",ariaLabel:"Identity provider entity ID",name:"IdPEntityId",label:"Identity provider entity ID",required:!0,maxLength:se.max,minLength:se.min,width:15,placeholder:"Enter SAML 2.0 entity id (saml issuer)","data-testid":"".concat(g,"-form-wizard-saml-idp-entity-id")})):u.createElement(o.FilePicker,{key:1,hidePasteOption:!0,fileStrategy:ve,file:ie,pastedContent:Ae,onChange:function(e){be(e.file),Se(e.pastedContent),ne(e.serialized)},uploadButtonText:"Upload Metadata File",dropzoneText:"Drag and drop a XML file here.","data-testid":"".concat(g,"-form-wizard-saml-xml-config-file-picker"),icon:(0,b._5)().uploadPlaceholder,placeholderIcon:u.createElement(q.Z,{name:"file code",size:"huge"}),normalizeStateOnRemoveOperations:!0})),ut()]))),u.createElement(b.wv.Actions,{"data-testid":"".concat(g,"-modal-actions")},u.createElement(p.Z,null,u.createElement(p.Z.Row,{column:1},u.createElement(p.Z.Column,{mobile:8,tablet:8,computer:8},u.createElement(o.LinkButton,{floated:"left",onClick:t,"data-testid":"".concat(g,"-modal-cancel-button")},et("common:cancel"))),u.createElement(p.Z.Column,{mobile:8,tablet:8,computer:8},N<C.length-1&&u.createElement(o.PrimaryButton,{disabled:Qe,floated:"right",onClick:function(){T.current.gotoNextPage()},"data-testid":"".concat(g,"-modal-next-button")},et("console:develop.features.authenticationProvider.wizards.buttons.next"),u.createElement(q.Z,{name:"arrow right"})),N===C.length-1&&u.createElement(o.PrimaryButton,{disabled:Qe||ze,type:"submit",floated:"right",onClick:function(){T.current.gotoNextPage()},"data-testid":"".concat(g,"-modal-finish-button"),loading:ze},et("console:develop.features.authenticationProvider.wizards.buttons.finish")),N>0&&u.createElement(o.LinkButton,{type:"submit",floated:"right",onClick:function(){return T.current.gotoPreviousPage()},"data-testid":"".concat(g,"-modal-previous-button")},u.createElement(q.Z,{name:"arrow left"}),et("console:develop.features.authenticationProvider.wizards.buttons.previous"))))))),function(){var e;if(1!==N)return null;var t=(0,Q.Z)(h.subTemplates.find((function(e){return e.id===("saml"===De?v.bQ.IDP_TEMPLATE_IDS.SAML:v.bQ.IDP_TEMPLATE_IDS.OIDC)})));if(null===t||void 0===t||null===(e=t.content)||void 0===e||!e.wizardHelp)return null;var n=(null===t||void 0===t?void 0:t.content).wizardHelp;return"saml"===De&&"file"===Ue&&(n=t.content.fileBasedHelpPanel),u.createElement(b.wv.SidePanel,null,u.createElement(b.wv.Header,{"data-testid":"".concat(g,"-modal-side-panel-header"),className:"wizard-header help-panel-header muted"},u.createElement("div",{className:"help-panel-header-text"},"Help")),u.createElement(b.wv.Content,null,u.createElement(u.Suspense,{fallback:u.createElement(o.ContentLoader,null)},u.createElement(n,{"data-testid":"".concat(g,"-modal-side-panel-help-content")}))))}())};ie.defaultProps={currentStep:0,"data-componentid":"enterprise-idp","data-testid":"enterprise-idp-create-wizard"};var oe={max:100,min:1},ae={max:100,min:1},le={max:2048,min:10},ce={max:120,min:3},ue={max:240,min:3},de={max:2048,min:10},se={max:2048,min:5},pe={max:2048,min:0},fe="",me=new o.CertFileStrategy,ve=new o.XMLFileStrategy,Ee=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduce((function(t,n){return t||n(e)}),void 0)}},he=function(e){return!Object.keys(e).every((function(t){return!e[t]}))},ge=function(e){if(!e)return"This is a required field"},Ie=function(e){return function(t){return!t&&e.min>0?"You cannot leave this blank":(null===t||void 0===t?void 0:t.length)>e.max?"Cannot exceed more than ".concat(e.max," characters."):(null===t||void 0===t?void 0:t.length)<e.min?"Should have at least ".concat(e.min," characters."):void 0}},Te=function(e){return Z.I.url(e)?void 0:"This value is invalid."},be=function(e){var t,n=e.triggerSubmission,r=e.triggerPrevious,i=e.changePageNumber,a=e.template,l=e.setTotalPage,c=e.onSubmit,s=e["data-componentid"],p=(0,d.$G)().t,h=(0,m.af)(null,null,null),g=h.data,I=h.isLoading,T=h.error;(0,u.useEffect)((function(){T&&(0,E.Df)(T)}),[T]);return I?u.createElement(o.ContentLoader,{dimmer:!1}):u.createElement(f.en,{initialValues:{name:null===a||void 0===a||null===(t=a.idp)||void 0===t?void 0:t.name},onSubmit:function(e){return c(e)},triggerSubmit:function(e){return n(e)},triggerPrevious:function(e){return r(e)},changePage:function(e){return i(e)},setTotalPage:function(e){return l(e)},"data-componentid":s},u.createElement(f.k0,{validate:function(e){var t={name:void 0};return e.name||(t.name=p("console:develop.features.authenticationProvider.forms.common.requiredErrorMessage")),t}},u.createElement(f.gN.Input,{ariaLabel:"Expert Mode IDP Name",inputType:"name",name:"name",label:p("console:develop.features.authenticationProvider.forms.generalDetails.name.label"),placeholder:p("console:develop.features.authenticationProvider.forms.generalDetails.name.placeholder"),required:!0,validation:function(e){return function(e){var t=!1;return(null===g||void 0===g?void 0:g.count)>0&&(null===g||void 0===g||g.identityProviders.map((function(n){(null===n||void 0===n?void 0:n.name)===e&&(t=!0)}))),t?p("console:develop.features.authenticationProvider.forms.generalDetails.name.validations.duplicate"):null}(e)},maxLength:v.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.IDP_NAME_MAX_LENGTH,minLength:v.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.IDP_NAME_MIN_LENGTH,"data-componentid":"".concat(s,"-idp-name"),width:13}),u.createElement(f.gN.Textarea,{ariaLabel:"Expert Mode IDP Description",inputType:"description",name:"description",label:p("console:develop.features.authenticationProvider.forms.generalDetails.description.label"),placeholder:p("console:develop.features.authenticationProvider.forms.generalDetails.description.placeholder"),required:!1,maxLength:v.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.IDP_DESCRIPTION_MAX_LENGTH,minLength:v.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.IDP_DESCRIPTION_MIN_LENGTH,"data-componentid":"".concat(s,"-idp-description"),width:13})))};be.defaultProps={"data-componentid":"expert-mode-idp-create-wizard-content"};var ye=n(72393),Ae=n(46767),Se=n(73881),Oe=n(5984);function Pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pe(Object(n),!0).forEach((function(t){_e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Re(e,t,n,r,i,o,a){try{var l=e[o](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,i)}function Ne(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){l=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return we(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return we(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function we(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var De=function(e){var t=e.onWizardClose,n=e.onIDPCreate,a=e.currentStep,l=e.title,f=e.subTitle,E=e.template,h=e["data-componentid"],g=(0,s.I0)(),I=(0,d.$G)().t,T=(0,o.useDocumentation)().getLink,b=Ne((0,o.useWizardAlert)(),3),y=b[0],S=b[1],O=b[2],P=(0,s.v9)((function(e){var t,n,r;return null===e||void 0===e||null===(t=e.config)||void 0===t||null===(n=t.ui)||void 0===n||null===(r=n.theme)||void 0===r?void 0:r.name})),C=Ne((0,u.useState)(a),2),_=C[0],R=C[1],N=Ne((0,u.useState)(0),2),w=N[0],D=N[1],L=Ne((0,u.useState)(0),2),M=L[0],U=L[1],k=Ne((0,u.useState)(!1),2),H=k[0],G=k[1],F=Ne((0,u.useState)(!1),2),x=F[0],z=F[1],j=Oe.lD.getInstance();(0,u.useEffect)((function(){R(w+1)}),[w]);var Z,Q,V=function(e){G(!0),(0,m.Sf)(e).then((function(e){if(j.publish("connections-finish-adding-connection",{type:h}),g((0,i.addAlert)({description:I("console:develop.features.authenticationProvider.notifications.addIDP.success.description"),level:r.AlertLevels.SUCCESS,message:I("console:develop.features.authenticationProvider.notifications.addIDP.success.message")})),(0,c.Z)(e.headers.location))n();else{var t=e.headers.location,o=t.substring(t.lastIndexOf("/")+1);n(o)}})).catch((function(e){var t,n,i=ye.identityProviderConfig.useNewConnectionsView?v.bQ.ERROR_CREATE_LIMIT_REACHED:v.bQ.ERROR_CREATE_LIMIT_REACHED_IDP;403!==e.response.status||(null===e||void 0===e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.code)!==i.getErrorCode()?e.response&&e.response.data&&e.response.data.description?S({description:I("console:develop.features.authenticationProvider.notifications.addIDP.error.description",{description:e.response.data.description}),level:r.AlertLevels.ERROR,message:I("console:develop.features.authenticationProvider.notifications.addIDP.error.message")}):S({description:I("console:develop.features.authenticationProvider.notifications.addIDP.genericError.description"),level:r.AlertLevels.ERROR,message:I("console:develop.features.authenticationProvider.notifications.addIDP.genericError.message")}):z(!0)})).finally((function(){G(!1)}))},B=function(){t()},W=function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var n,r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ye.identityProviderConfig.overrideTemplate(E);case 2:(i=Ce({},E.idp)).name=null===t||void 0===t||null===(n=t.name)||void 0===n?void 0:n.toString(),i.description=(null===t||void 0===t||null===(r=t.description)||void 0===r?void 0:r.toString())||E.description,i.templateId=E.templateId,Se.$x.getClientOrigin()&&(Se.$x.getAppBasename()?i.image=Se.$x.getClientOrigin()+"/"+Se.$x.getAppBasename()+"/libs/themes/".concat(P,"/assets/images/identity-providers/expert.svg"):i.image=Se.$x.getClientOrigin()+"/libs/themes/".concat(P,"/assets/images/identity-providers/expert.svg")),V(i);case 8:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Re(o,r,i,a,l,"next",e)}function l(e){Re(o,r,i,a,l,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}();return u.createElement(u.Fragment,null,x&&u.createElement(Ae.Pj,{actionLabel:I("console:develop.features.idp.notifications.tierLimitReachedError.emptyPlaceholder.action"),handleModalClose:function(){z(!1),B()},header:I("console:develop.features.idp.notifications.tierLimitReachedError.heading"),description:I("console:develop.features.idp.notifications.tierLimitReachedError.emptyPlaceholder.subtitles"),message:I("console:develop.features.idp.notifications.tierLimitReachedError.emptyPlaceholder.title"),openModal:x}),u.createElement(Ae.wv,{open:!x,className:"wizard identity-provider-create-wizard",dimmer:"blurring",onClose:B,closeOnDimmerClick:!1,closeOnEscape:!0,"data-componentid":"".concat(h,"-modal")},u.createElement(Ae.wv.MainPanel,null,u.createElement(Ae.wv.Header,{className:"wizard-header","data-componentid":"".concat(h,"-modal-header")},u.createElement("div",{className:"display-flex"},u.createElement(o.GenericIcon,{icon:(0,A.nI)().expert,size:"mini",transparent:!0,spaced:"right","data-componentid":"".concat(h,"-image")}),u.createElement("div",{className:"ml-1"},l,f&&u.createElement(o.Heading,{as:"h6"},f,u.createElement(o.DocumentationLink,{link:T("develop.connections.newConnection.siwe.learnMore")},I("common:learnMore")))))),u.createElement(Ae.wv.Content,{className:"content-container","data-componentid":"".concat(h,"-modal-content")},y&&O,u.createElement(be,{onSubmit:W,triggerSubmission:function(e){Z=e},triggerPrevious:function(e){Q=e},changePageNumber:function(e){return D(e)},setTotalPage:function(e){return U(e)},template:E})),u.createElement(Ae.wv.Actions,{"data-componentid":"".concat(h,"-modal-actions")},u.createElement(p.Z,null,u.createElement(p.Z.Row,{column:1},u.createElement(p.Z.Column,{mobile:8,tablet:8,computer:8},u.createElement(o.LinkButton,{floated:"left",onClick:B,"data-componentid":"".concat(h,"-modal-cancel-button")},I("common:cancel"))),u.createElement(p.Z.Column,{mobile:8,tablet:8,computer:8},_!==M?u.createElement(o.PrimaryButton,{floated:"right",onClick:function(){Z()},"data-componentid":"".concat(h,"-modal-finish-button"),loading:H,disabled:H},I("console:develop.features.authenticationProvider.wizards.buttons.next")):u.createElement(u.Fragment,null,u.createElement(o.PrimaryButton,{floated:"right",onClick:function(){Z()},"data-componentid":"".concat(h,"-modal-finish-button"),loading:H,disabled:H},I("console:develop.features.authenticationProvider.wizards.buttons.finish"))),_>1&&u.createElement(o.LinkButton,{floated:"right",onClick:function(){Q()},"data-componentid":"".concat(h,"-modal-previous-button")},I("console:develop.features.authenticationProvider.wizards.buttons.previous"))))))),function(){var e;if(null===E||void 0===E||null===(e=E.content)||void 0===e||!e.wizardHelp||0===_)return null;var t=(null===E||void 0===E?void 0:E.content).wizardHelp;return u.createElement(Ae.wv.SidePanel,null,u.createElement(Ae.wv.Header,{className:"wizard-header help-panel-header muted"},u.createElement("div",{className:"help-panel-header-text"},I("console:develop.features.authenticationProvider.templates.expert.wizardHelp.heading"))),u.createElement(Ae.wv.Content,null,u.createElement(u.Suspense,{fallback:u.createElement(o.ContentLoader,null)},u.createElement(t,null))))}()))};function Le(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){l=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Me(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Me(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Me(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}De.defaultProps={currentStep:1,"data-componentid":"expert-mode-idp-create-wizard"};var Ue=function(e){var t,n=e.triggerSubmission,r=e.triggerPrevious,i=e.changePageNumber,o=e.template,a=e.setTotalPage,l=e.onSubmit,c=e["data-testid"],s=Le((0,u.useState)({}),2),p=s[0],h=s[1],g=Le((0,u.useState)(void 0),2),I=g[0],T=g[1],b=(0,d.$G)().t;(0,u.useEffect)((function(){y()}),[]);var y=function(){T(!0),(0,m.SN)(null,null,null).then((function(e){h(e)})).catch((function(e){(0,E.Df)(e)})).finally((function(){T(!1)}))};return void 0!==I&&!1===I?u.createElement(f.en,{initialValues:{name:null===o||void 0===o||null===(t=o.idp)||void 0===t?void 0:t.name},onSubmit:function(e){return l(e)},triggerSubmit:function(e){return n(e)},triggerPrevious:function(e){return r(e)},changePage:function(e){return i(e)},setTotalPage:function(e){return a(e)},"data-testid":c},u.createElement(f.k0,{validate:function(e){var t={};return e.name||(t.name=b("console:develop.features.authenticationProvider.forms.common.requiredErrorMessage")),e.clientId||(t.clientId=b("console:develop.features.authenticationProvider.forms.common.requiredErrorMessage")),e.clientSecret||(t.clientSecret=b("console:develop.features.authenticationProvider.forms.common.requiredErrorMessage")),t}},u.createElement(f.gN.Input,{ariaLabel:"Google IDP Name",inputType:"name",name:"name",label:b("console:develop.features.authenticationProvider.forms.generalDetails.name.label"),placeholder:b("console:develop.features.authenticationProvider.forms.generalDetails.name.placeholder"),required:!0,maxLength:v.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.IDP_NAME_MAX_LENGTH,minLength:v.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.IDP_NAME_MIN_LENGTH,validation:function(e){return function(e){var t=!1;if((null===p||void 0===p?void 0:p.count)>0&&(null===p||void 0===p||p.identityProviders.map((function(n){(null===n||void 0===n?void 0:n.name)===e&&(t=!0)}))),t)return b("console:develop.features.authenticationProvider.forms.generalDetails.name.validations.duplicate")}(e)},"data-testid":"".concat(c,"-idp-name"),width:13}),u.createElement(f.gN.Input,{ariaLabel:"Google Client ID",inputType:"client_id",name:"clientId",label:b("console:develop.features.authenticationProvider.templates.google.wizardHelp.clientId.heading"),placeholder:b("console:develop.features.authenticationProvider.forms.authenticatorSettings.google.clientId.placeholder"),required:!0,message:b("console:develop.features.authenticationProvider.forms.common.requiredErrorMessage"),type:"text",autoComplete:""+Math.random(),maxLength:v.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.CLIENT_ID_MAX_LENGTH,minLength:v.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.CLIENT_ID_MIN_LENGTH,"data-testid":"".concat(c,"-idp-client-id"),width:13}),u.createElement(f.gN.Input,{ariaLabel:"Google Client Secret",inputType:"password",className:"addon-field-wrapper",name:"clientSecret",label:b("console:develop.features.authenticationProvider.templates.google.wizardHelp.clientSecret.heading"),placeholder:b("console:develop.features.authenticationProvider.forms.authenticatorSettings.google.clientSecret.placeholder"),required:!0,message:b("console:develop.features.authenticationProvider.forms.common.requiredErrorMessage"),type:"password",hidePassword:b("common:hide"),showPassword:b("common:show"),autoComplete:""+Math.random(),maxLength:v.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.CLIENT_SECRET_MAX_LENGTH,minLength:v.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.CLIENT_SECRET_MIN_LENGTH,"data-testid":"".concat(c,"-idp-client-secret"),width:13}))):null};function ke(e,t,n,r,i,o,a){try{var l=e[o](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,i)}function He(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){l=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Ge(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ge(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ge(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Ue.defaultProps={"data-testid":"idp-edit-idp-create-wizard"};var Fe=function(e){var t,n,a=e.onWizardClose,f=e.onIDPCreate,h=e.currentStep,g=e.title,I=e.subTitle,S=e.template,O=e["data-testid"],P=e["data-componentid"],C=He((0,u.useState)(h),2),_=C[0],R=C[1],N=He((0,u.useState)(void 0),2),w=(N[0],N[1]),D=He((0,u.useState)(void 0),2),L=(D[0],D[1]),M=He((0,u.useState)(!1),2),U=M[0],k=M[1],H=He((0,u.useState)(!1),2),G=H[0],F=H[1],x=(0,s.I0)(),z=(0,d.$G)().t,j=(0,o.useDocumentation)().getLink,Z=(0,s.v9)((function(e){return e.config})),Q=(0,s.v9)((function(e){return e.identityProvider.meta.authenticators})),V=He((0,o.useWizardAlert)(),3),B=V[0],W=V[1],Y=V[2],q=He((0,u.useState)(0),2),$=q[0],X=q[1],K=He((0,u.useState)(0),2),J=K[0],ee=K[1],te=b.lD.getInstance(),ne=function(e){var t,n,o=null===e||void 0===e||null===(t=e.provisioning)||void 0===t||null===(n=t.outboundConnectors)||void 0===n?void 0:n.connectors[0],a=(0,l.Z)(o,v.bQ.PROVISIONING_CONNECTOR_DISPLAY_NAME)===v.bQ.PROVISIONING_CONNECTOR_GOOGLE;o&&a&&delete o[v.bQ.PROVISIONING_CONNECTOR_DISPLAY_NAME],e.description=S.description,function(e){k(!0),(0,m.Sf)(e).then((function(e){if(te.publish("connections-finish-adding-connection",{type:P}),x((0,i.addAlert)({description:z("console:develop.features.authenticationProvider.notifications.addIDP.success.description"),level:r.AlertLevels.SUCCESS,message:z("console:develop.features.authenticationProvider.notifications.addIDP.success.message")})),(0,c.Z)(e.headers.location))f();else{var t=e.headers.location,n=t.substring(t.lastIndexOf("/")+1);f(n)}})).catch((function(e){var t,n,i,o=T.identityProviderConfig.useNewConnectionsView?v.bQ.ERROR_CREATE_LIMIT_REACHED:v.bQ.ERROR_CREATE_LIMIT_REACHED_IDP;403!==(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)||(null===e||void 0===e||null===(n=e.response)||void 0===n||null===(i=n.data)||void 0===i?void 0:i.code)!==o.getErrorCode()?e.response&&e.response.data&&e.response.data.description?W({description:z("console:develop.features.authenticationProvider.notifications.addIDP.error.description",{description:e.response.data.description}),level:r.AlertLevels.ERROR,message:z("console:develop.features.authenticationProvider.notifications.addIDP.error.message")}):W({description:z("console:develop.features.authenticationProvider.notifications.addIDP.genericError.description"),level:r.AlertLevels.ERROR,message:z("console:develop.features.authenticationProvider.notifications.addIDP.genericError.message")}):F(!0)})).finally((function(){k(!1)}))}(e)},re=function(){L(void 0),w(void 0),a()};(0,u.useEffect)((function(){var e,t,n;null!==Q&&void 0!==Q&&Q.find((function(e){var t,n;return e.authenticatorId===(null===S||void 0===S||null===(t=S.idp)||void 0===t||null===(n=t.federatedAuthenticators)||void 0===n?void 0:n.defaultAuthenticatorId)}))&&(n=null===S||void 0===S||null===(e=S.idp)||void 0===e||null===(t=e.federatedAuthenticators)||void 0===t?void 0:t.defaultAuthenticatorId,(0,m.DJ)(n).then((function(e){w(e)})).catch((function(e){(0,E.Rw)(e)})))}),[Q]),(0,u.useEffect)((function(){R($+1)}),[$]);var ie=function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.identityProviderConfig.overrideTemplate(S);case 2:(r=S.idp).name=null===t||void 0===t?void 0:t.name.toString(),r.templateId=S.templateId,r.federatedAuthenticators.authenticators[0].properties=[{key:"ClientId",value:null===t||void 0===t?void 0:t.clientId.toString()},{key:"ClientSecret",value:null===t||void 0===t?void 0:t.clientSecret.toString()},{key:"callbackUrl",value:(null===Z||void 0===Z||null===(n=Z.deployment)||void 0===n?void 0:n.customServerHost)+"/commonauth"},{key:"AdditionalQueryParameters",value:"scope=email openid profile"}],r.federatedAuthenticators.authenticators[0].isEnabled=!((0,c.Z)(null===t||void 0===t?void 0:t.clientId.toString())||(0,c.Z)(null===t||void 0===t?void 0:t.clientSecret.toString())),b.$x.getClientOrigin()&&(b.$x.getAppBasename()?r.image=b.$x.getClientOrigin()+"/"+b.$x.getAppBasename()+"/libs/themes/default/assets/images/identity-providers/google-idp-illustration.svg":r.image=b.$x.getClientOrigin()+"/libs/themes/default/assets/images/identity-providers/google-idp-illustration.svg"),ne(r);case 9:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){ke(o,r,i,a,l,"next",e)}function l(e){ke(o,r,i,a,l,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}();return u.createElement(u.Fragment,null,G&&u.createElement(y.P,{actionLabel:z("console:develop.features.idp.notifications.tierLimitReachedError.emptyPlaceholder.action"),handleModalClose:function(){F(!1),re()},header:z("console:develop.features.idp.notifications.tierLimitReachedError.heading"),description:z("console:develop.features.idp.notifications.tierLimitReachedError.emptyPlaceholder.subtitles"),message:z("console:develop.features.idp.notifications.tierLimitReachedError.emptyPlaceholder.title"),openModal:G}),u.createElement(b.wv,{open:!G,className:"wizard identity-provider-create-wizard",dimmer:"blurring",onClose:re,closeOnDimmerClick:!1,closeOnEscape:!0,"data-testid":"".concat(O,"-modal")},u.createElement(b.wv.MainPanel,null,u.createElement(b.wv.Header,{className:"wizard-header","data-testid":"".concat(O,"-modal-header")},u.createElement("div",{className:"display-flex"},u.createElement(o.GenericIcon,{icon:(0,A.nI)().google,size:"mini",transparent:!0,spaced:"right","data-testid":"".concat(O,"-image")}),u.createElement("div",{className:"ml-1"},g,I&&u.createElement(o.Heading,{as:"h6"},I,u.createElement(o.DocumentationLink,{link:j("develop.connections.newConnection.google.learnMore")},z("common:learnMore")))))),u.createElement(b.wv.Content,{className:"content-container","data-testid":"".concat(O,"-modal-content-2")},B&&Y,u.createElement(Ue,{onSubmit:ie,triggerSubmission:function(e){t=e},triggerPrevious:function(e){n=e},changePageNumber:function(e){return X(e)},setTotalPage:function(e){return ee(e)},template:S})),u.createElement(b.wv.Actions,{"data-testid":"".concat(O,"-modal-actions")},u.createElement(p.Z,null,u.createElement(p.Z.Row,{column:1},u.createElement(p.Z.Column,{mobile:8,tablet:8,computer:8},u.createElement(o.LinkButton,{floated:"left",onClick:re,"data-testid":"".concat(O,"-modal-cancel-button")},z("common:cancel"))),u.createElement(p.Z.Column,{mobile:8,tablet:8,computer:8},_!==J?u.createElement(o.PrimaryButton,{floated:"right",onClick:function(){t()},"data-testid":"".concat(O,"-modal-finish-button"),loading:U,disabled:U},z("console:develop.features.authenticationProvider.wizards.buttons.next")):u.createElement(o.PrimaryButton,{floated:"right",onClick:function(){t()},"data-testid":"".concat(O,"-modal-finish-button"),loading:U,disabled:U},z("console:develop.features.authenticationProvider.wizards.buttons.finish")),_>1&&u.createElement(o.LinkButton,{floated:"right",onClick:function(){n()},"data-testid":"".concat(O,"-modal-previous-button")},z("console:develop.features.authenticationProvider.wizards.buttons.previous"))))))),function(){var e;if(null===S||void 0===S||null===(e=S.content)||void 0===e||!e.wizardHelp||0===_)return null;var t=(null===S||void 0===S?void 0:S.content).wizardHelp;return u.createElement(b.wv.SidePanel,null,u.createElement(b.wv.Header,{className:"wizard-header help-panel-header muted"},u.createElement("div",{className:"help-panel-header-text"},z("console:develop.features.applications.wizards.minimalAppCreationWizard.help.heading"))),u.createElement(b.wv.Content,null,u.createElement(u.Suspense,{fallback:u.createElement(o.ContentLoader,null)},u.createElement(t,null))))}()))};Fe.defaultProps={currentStep:1,"data-componentid":"google-idp","data-testid":"idp-edit-idp-create-wizard"};var xe=n(26776),ze=n(82791),je=function(e){var t,n=e.triggerSubmission,r=e.triggerPrevious,i=e.changePageNumber,o=e.template,a=e.setTotalPage,l=e.onSubmit,c=e["data-testid"],s=(0,d.$G)().t;return u.createElement(u.Fragment,null,u.createElement(f.en,{initialValues:{name:null===o||void 0===o||null===(t=o.idp)||void 0===t?void 0:t.name},onSubmit:function(e){return l(e)},triggerSubmit:function(e){return n(e)},triggerPrevious:function(e){return r(e)},changePage:function(e){return i(e)},setTotalPage:function(e){return a(e)},"data-testid":c},u.createElement(f.k0,{validate:function(e){var t={};return e.name||(t.name="This is a required field."),e.clientId||(t.clientId="This is a required field."),e.clientSecret||(t.clientSecret="This is a required field."),e.authorizationEndpointUrl||(t.authorizationEndpointUrl="This is a required field."),e.tokenEndpointUrl||(t.tokenEndpointUrl="This is a required field."),t}},u.createElement(f.gN.Input,{ariaLabel:"name",inputType:"name",name:"name",label:s("console:develop.features.authenticationProvider.forms.generalDetails.name.label"),required:!0,maxLength:50,minLength:3,"data-testid":"".concat(c,"-idp-name"),width:13}),u.createElement(f.gN.Input,{ariaLabel:"clientId",inputType:"identifier",name:"clientId",label:"Client ID",required:!0,autoComplete:""+Math.random(),maxLength:100,minLength:3,validation:function(e){return function(e){if(!new RegExp(".*").test(e))return"Please enter a valid input."}(e)},"data-testid":"".concat(c,"-idp-client-id"),width:13}),u.createElement(f.gN.Input,{ariaLabel:"clientSecret",inputType:"password",className:"addon-field-wrapper",name:"clientSecret",label:"Client secret",required:!0,hidePassword:s("common:hide"),showPassword:s("common:show"),autoComplete:""+Math.random(),maxLength:100,minLength:3,type:"password","data-testid":"".concat(c,"-idp-client-secret"),width:13}),u.createElement(f.gN.Input,{ariaLabel:"authorizationEndpointUrl",inputType:"url",name:"authorizationEndpointUrl",label:"Authorization endpoint URL",required:!0,placeholder:"https://ENTERPRISE_DOMAIN/authorize",autoComplete:""+Math.random(),maxLength:2048,minLength:3,"data-testid":"".concat(c,"-idp-authorization-endpoint-url"),width:13}),u.createElement(f.gN.Input,{ariaLabel:"tokenEndpointUrl",inputType:"url",name:"tokenEndpointUrl",label:"Token endpoint URL",required:!0,placeholder:"https://ENTERPRISE_DOMAIN/token",autoComplete:""+Math.random(),maxLength:2048,minLength:3,"data-testid":"".concat(c,"-idp-token-endpoint-url"),width:13}))))};function Ze(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){l=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Qe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}je.defaultProps={"data-testid":"idp-edit-idp-create-wizard"};var Ve=function(e){var t,n,l=e.onWizardClose,f=e.currentStep,v=e.onIDPCreate,h=e.title,g=e.subTitle,I=e.template,T=e["data-testid"],y=e["data-componentid"],S=Ze((0,u.useState)(f),2),O=S[0],P=S[1],C=Ze((0,u.useState)(void 0),2),_=(C[0],C[1]),R=Ze((0,u.useState)(void 0),2),N=(R[0],R[1]),w=Ze((0,u.useState)(!1),2),D=w[0],L=w[1],M=(0,s.I0)(),U=(0,d.$G)().t,k=(0,s.v9)((function(e){return e.identityProvider.meta.authenticators})),H=Ze((0,xe.useTrigger)(),2),G=(H[0],H[1],Ze((0,o.useWizardAlert)(),3)),F=G[0],x=G[1],z=G[2],j=Ze((0,u.useState)(0),2),Z=j[0],Q=j[1],V=Ze((0,u.useState)(0),2),B=V[0],W=V[1],Y=b.lD.getInstance(),q=function(e){!function(e){L(!0),(0,m.Sf)(e).then((function(e){if(Y.publish("connections-finish-adding-connection",{type:y}),M((0,i.addAlert)({description:U("console:develop.features.authenticationProvider.notifications.addIDP.success.description"),level:r.AlertLevels.SUCCESS,message:U("console:develop.features.authenticationProvider.notifications.addIDP.success.message")})),(0,c.Z)(e.headers.location))v();else{var t=e.headers.location,n=t.substring(t.lastIndexOf("/")+1);v(n)}})).catch((function(e){e.response&&e.response.data&&e.response.data.description?x({description:U("console:develop.features.authenticationProvider.notifications.addIDP.error.description",{description:e.response.data.description}),level:r.AlertLevels.ERROR,message:U("console:develop.features.authenticationProvider.notifications.addIDP.error.message")}):x({description:U("console:develop.features.authenticationProvider.notifications.addIDP.genericError.description"),level:r.AlertLevels.ERROR,message:U("console:develop.features.authenticationProvider.notifications.addIDP.genericError.message")})})).finally((function(){L(!1)}))}(e)},$=function(){N(void 0),_(void 0),l()};(0,u.useEffect)((function(){var e,t,n;null!==k&&void 0!==k&&k.find((function(e){var t,n;return e.authenticatorId===(null===I||void 0===I||null===(t=I.idp)||void 0===t||null===(n=t.federatedAuthenticators)||void 0===n?void 0:n.defaultAuthenticatorId)}))&&(n=null===I||void 0===I||null===(e=I.idp)||void 0===e||null===(t=e.federatedAuthenticators)||void 0===t?void 0:t.defaultAuthenticatorId,(0,m.DJ)(n).then((function(e){_(e)})).catch((function(e){(0,E.Rw)(e)})))}),[k]),(0,u.useEffect)((function(){P(Z+1)}),[Z]);return u.createElement(b.wv,{open:!0,className:"wizard identity-provider-create-wizard",dimmer:"blurring",onClose:$,closeOnDimmerClick:!1,closeOnEscape:!0,"data-testid":"".concat(T,"-modal")},u.createElement(b.wv.MainPanel,null,u.createElement(b.wv.Header,{className:"page-header-inner with-image","data-testid":"".concat(T,"-modal-header")},u.createElement("div",{className:"display-flex"},u.createElement(o.GenericIcon,{icon:(0,A.nI)().enterprise,size:"x50",transparent:!0,spaced:"right","data-testid":"".concat(T,"-image")}),u.createElement(ze.Z,{size:"small",textAlign:"left",className:"m-0","data-testid":"".concat(T,"-text-wrapper")},u.createElement("span",{"data-testid":"".concat(T,"-title")},h&&h),g&&u.createElement(ze.Z.Subheader,{"data-testid":"".concat(T,"-sub-title")},g)))),u.createElement(b.wv.Content,{className:"content-container","data-testid":"".concat(T,"-modal-content-2")},F&&z,u.createElement(je,{onSubmit:function(e){var t,n,r,i,o,a=I.idp;a.name=null===e||void 0===e||null===(t=e.name)||void 0===t?void 0:t.toString(),a.federatedAuthenticators.authenticators[0].properties=[{key:"ClientId",value:null===e||void 0===e||null===(n=e.clientId)||void 0===n?void 0:n.toString()},{key:"ClientSecret",value:null===e||void 0===e||null===(r=e.clientSecret)||void 0===r?void 0:r.toString()},{key:"OAuth2AuthzEPUrl",value:null===e||void 0===e||null===(i=e.authorizationEndpointUrl)||void 0===i?void 0:i.toString()},{key:"OAuth2TokenEPUrl",value:null===e||void 0===e||null===(o=e.tokenEndpointUrl)||void 0===o?void 0:o.toString()},{key:"callbackUrl",value:b.h.getState().config.deployment.serverHost+"/commonauth"}],b.$x.getClientOrigin()&&(b.$x.getAppBasename()?a.image=b.$x.getClientOrigin()+"/"+b.$x.getAppBasename()+"/libs/themes/default/assets/images/identity-providers/enterprise-idp-illustration.svg":a.image=b.$x.getClientOrigin()+"/libs/themes/default/assets/images/identity-providers/enterprise-idp-illustration.svg"),q(a)},triggerSubmission:function(e){t=e},triggerPrevious:function(e){n=e},changePageNumber:function(e){return Q(e)},setTotalPage:function(e){return W(e)},template:I})),u.createElement(b.wv.Actions,{"data-testid":"".concat(T,"-modal-actions")},u.createElement(p.Z,null,u.createElement(p.Z.Row,{column:1},u.createElement(p.Z.Column,{mobile:8,tablet:8,computer:8},u.createElement(o.LinkButton,{floated:"left",onClick:$,"data-testid":"".concat(T,"-modal-cancel-button")},U("common:cancel"))),u.createElement(p.Z.Column,{mobile:8,tablet:8,computer:8},O!==B?u.createElement(o.PrimaryButton,{floated:"right",onClick:function(){t()},loading:D,disabled:D,"data-testid":"".concat(T,"-modal-finish-button")},U("console:develop.features.authenticationProvider.wizards.buttons.next")):u.createElement(u.Fragment,null,u.createElement(o.PrimaryButton,{floated:"right",onClick:function(){t()},loading:D,disabled:D,"data-testid":"".concat(T,"-modal-finish-button")},U("console:develop.features.authenticationProvider.wizards.buttons.finish"))),O>1&&u.createElement(o.LinkButton,{floated:"right",onClick:function(){n()},"data-testid":"".concat(T,"-modal-previous-button")},U("console:develop.features.authenticationProvider.wizards.buttons.previous"))))))),function(){var e;if(null===I||void 0===I||null===(e=I.content)||void 0===e||!e.wizardHelp||0===O)return null;var t=(null===I||void 0===I?void 0:I.content).wizardHelp;return u.createElement(b.wv.SidePanel,null,u.createElement(b.wv.Header,{className:"wizard-header help-panel-header muted"},u.createElement("div",{className:"help-panel-header-text"},U("console:develop.features.applications.wizards.minimalAppCreationWizard.help.heading"))),u.createElement(b.wv.Content,null,u.createElement(u.Suspense,{fallback:u.createElement(a.p,null)},u.createElement(t,null))))}())};function Be(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){l=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return We(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return We(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function We(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Ve.defaultProps={currentStep:1,"data-componentid":"oidc-idp","data-testid":"idp-edit-idp-create-wizard"};var Ye=function(e){var t,n=e.triggerSubmission,r=e.triggerPrevious,i=e.changePageNumber,o=e.template,a=e.setTotalPage,l=e.onSubmit,c=e["data-componentid"],s=(0,d.$G)().t,p=Be((0,u.useState)({}),2),h=p[0],g=p[1],I=Be((0,u.useState)(void 0),2),T=I[0],b=I[1];(0,u.useEffect)((function(){y()}),[]);var y=function(){b(!0),(0,m.SN)(null,null,null).then((function(e){g(e)})).catch((function(e){(0,E.Df)(e)})).finally((function(){b(!1)}))};return void 0!==T&&!1===T?u.createElement(f.en,{initialValues:{name:null===o||void 0===o||null===(t=o.idp)||void 0===t?void 0:t.name},onSubmit:function(e){return l(e)},triggerSubmit:function(e){return n(e)},triggerPrevious:function(e){return r(e)},changePage:function(e){return i(e)},setTotalPage:function(e){return a(e)},"data-componenentid":c},u.createElement(f.k0,{validate:function(e){var t={description:void 0,name:void 0};return e.name||(t.name=s("console:develop.features.authenticationProvider.forms.common.requiredErrorMessage")),t}},u.createElement(f.gN.Input,{ariaLabel:"Organization IDP Name",inputType:"name",name:"name",label:s("console:develop.features.authenticationProvider.forms.generalDetails.name.label"),placeholder:s("console:develop.features.authenticationProvider.forms.generalDetails.name.placeholder"),required:!0,validation:function(e){return function(e){var t=!1;if((null===h||void 0===h?void 0:h.count)>0&&(null===h||void 0===h||h.identityProviders.map((function(n){(null===n||void 0===n?void 0:n.name)===e&&(t=!0)}))),t)return s("console:develop.features.authenticationProvider.forms.generalDetails.name.validations.duplicate")}(e)},maxLength:v.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.IDP_NAME_MAX_LENGTH,minLength:v.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.IDP_NAME_MIN_LENGTH,"data-componentid":"".concat(c,"-idp-name"),width:13}),u.createElement(f.gN.Input,{ariaLabel:"Organization IDP Description",inputType:"description",name:"description",label:s("console:develop.features.authenticationProvider.forms.generalDetails.description.placeholder"),placeholder:s("console:develop.features.authenticationProvider.forms.generalDetails.description.placeholder"),message:s("console:develop.features.authenticationProvider.forms.generalDetails.description.placeholder"),type:"text",maxLength:v.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.IDP_DESCRIPTION_MAX_LENGTH,minLength:v.bQ.AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS.IDP_DESCRIPTION_MIN_LENGTH,"data-componentid":"".concat(c,"-idp-description"),width:30}))):null};function qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qe(Object(n),!0).forEach((function(t){Xe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Xe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ke(e,t,n,r,i,o,a){try{var l=e[o](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,i)}function Je(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){l=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return et(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return et(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function et(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Ye.defaultProps={"data-componentid":"organization-enterprise-idp-create-wizard-content"};var tt=function(e){var t=e.onWizardClose,n=e.onIDPCreate,f=e.currentStep,E=e.title,h=e.subTitle,g=e.template,I=e["data-componentid"],y=(0,s.I0)(),S=(0,d.$G)().t,O=Je((0,o.useWizardAlert)(),3),P=O[0],C=O[1],_=O[2],R=((0,s.v9)((function(e){return e.config})),Je((0,u.useState)(f),2)),N=R[0],w=R[1],D=Je((0,u.useState)(0),2),L=D[0],M=D[1],U=Je((0,u.useState)(0),2),k=U[0],H=U[1],G=Je((0,u.useState)(!1),2),F=G[0],x=G[1],z=Je((0,u.useState)(!1),2),j=z[0],Z=z[1],Q=b.lD.getInstance();(0,u.useEffect)((function(){w(L+1)}),[L]);var V,B,W=function(e){var t,o,a=null===e||void 0===e||null===(t=e.provisioning)||void 0===t||null===(o=t.outboundConnectors)||void 0===o?void 0:o.connectors[0],u=(0,l.Z)(a,v.bQ.PROVISIONING_CONNECTOR_DISPLAY_NAME)===v.bQ.PROVISIONING_CONNECTOR_GOOGLE;a&&u&&delete a[v.bQ.PROVISIONING_CONNECTOR_DISPLAY_NAME],delete e.certificate,delete e.claims,delete e.provisioning,e.description=e.description||g.description,function(e){x(!0),(0,m.Sf)(e).then((function(e){if(Q.publish("connections-finish-adding-connection",{type:I}),y((0,i.addAlert)({description:S("console:develop.features.authenticationProvider.notifications.addIDP.success.description"),level:r.AlertLevels.SUCCESS,message:S("console:develop.features.authenticationProvider.notifications.addIDP.success.message")})),(0,c.Z)(e.headers.location))n();else{var t=e.headers.location,o=t.substring(t.lastIndexOf("/")+1);n(o)}})).catch((function(e){var t,n,i=T.identityProviderConfig.useNewConnectionsView?v.bQ.ERROR_CREATE_LIMIT_REACHED:v.bQ.ERROR_CREATE_LIMIT_REACHED_IDP;403!==e.response.status||(null===e||void 0===e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.code)!==i.getErrorCode()?e.response&&e.response.data&&e.response.data.description?C({description:S("console:develop.features.authenticationProvider.notifications.addIDP.error.description",{description:e.response.data.description}),level:r.AlertLevels.ERROR,message:S("console:develop.features.authenticationProvider.notifications.addIDP.error.message")}):C({description:S("console:develop.features.authenticationProvider.notifications.addIDP.genericError.description"),level:r.AlertLevels.ERROR,message:S("console:develop.features.authenticationProvider.notifications.addIDP.genericError.message")}):Z(!0)})).finally((function(){x(!1)}))}(e)},Y=function(){t()},q=function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.identityProviderConfig.overrideTemplate(g);case 2:(r=$e({},g.idp)).name=t.name.toString(),r.description=null===(n=t.description)||void 0===n?void 0:n.toString(),r.templateId=g.templateId,b.$x.getClientOrigin()&&(b.$x.getAppBasename()?r.image=b.$x.getClientOrigin()+"/"+b.$x.getAppBasename()+"/libs/themes/default/assets/images/identity-providers/organization-sso.svg":r.image=b.$x.getClientOrigin()+"/libs/themes/default/assets/images/identity-providers/organization-sso.svg"),W(r);case 8:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Ke(o,r,i,a,l,"next",e)}function l(e){Ke(o,r,i,a,l,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}();return u.createElement(u.Fragment,null,j&&u.createElement(b.Pj,{actionLabel:S("console:develop.features.idp.notifications.tierLimitReachedError.emptyPlaceholder.action"),handleModalClose:function(){Z(!1),Y()},header:S("console:develop.features.idp.notifications.tierLimitReachedError.heading"),description:S("console:develop.features.idp.notifications.tierLimitReachedError.emptyPlaceholder.subtitles"),message:S("console:develop.features.idp.notifications.tierLimitReachedError.emptyPlaceholder.title"),openModal:j}),u.createElement(b.wv,{open:!j,className:"wizard identity-provider-create-wizard",dimmer:"blurring",onClose:Y,closeOnDimmerClick:!1,closeOnEscape:!0,"data-testid":"".concat(I,"-modal")},u.createElement(b.wv.MainPanel,null,u.createElement(b.wv.Header,{className:"wizard-header","data-testid":"".concat(I,"-modal-header")},u.createElement("div",{className:"display-flex"},u.createElement(o.GenericIcon,{icon:(0,A.nI)().organizationSSO,size:"mini",transparent:!0,spaced:"right","data-testid":"".concat(I,"-image")}),u.createElement("div",{className:"ml-1"},E,h&&u.createElement(o.Heading,{as:"h6"},h)))),u.createElement(b.wv.Content,{className:"content-container","data-testid":"".concat(I,"-modal-content")},P&&_,u.createElement(Ye,{onSubmit:q,triggerSubmission:function(e){V=e},triggerPrevious:function(e){B=e},changePageNumber:function(e){return M(e)},setTotalPage:function(e){return H(e)},template:g})),u.createElement(b.wv.Actions,{"data-testid":"".concat(I,"-modal-actions")},u.createElement(p.Z,null,u.createElement(p.Z.Row,{column:1},u.createElement(p.Z.Column,{mobile:8,tablet:8,computer:8},u.createElement(o.LinkButton,{floated:"left",onClick:Y,"data-testid":"".concat(I,"-modal-cancel-button")},S("common:cancel"))),u.createElement(p.Z.Column,{mobile:8,tablet:8,computer:8},N!==k?u.createElement(o.PrimaryButton,{floated:"right",onClick:function(){V()},"data-testid":"".concat(I,"-modal-finish-button"),loading:F,disabled:F},S("console:develop.features.authenticationProvider.wizards.buttons.next")):u.createElement(u.Fragment,null,u.createElement(o.PrimaryButton,{floated:"right",onClick:function(){V()},"data-testid":"".concat(I,"-modal-finish-button"),loading:F,disabled:F},S("console:develop.features.authenticationProvider.wizards.buttons.finish"))),N>1&&u.createElement(o.LinkButton,{floated:"right",onClick:function(){B()},"data-testid":"".concat(I,"-modal-previous-button")},S("console:develop.features.authenticationProvider.wizards.buttons.previous"))))))),function(){var e;if(null===g||void 0===g||null===(e=g.content)||void 0===e||!e.wizardHelp||0===N)return null;var t=(null===g||void 0===g?void 0:g.content).wizardHelp;return u.createElement(b.wv.SidePanel,null,u.createElement(b.wv.Header,{className:"wizard-header help-panel-header muted"},u.createElement("div",{className:"help-panel-header-text"},S("console:develop.features.authenticationProvider.templates.facebook.wizardHelp.heading"))),u.createElement(b.wv.Content,null,u.createElement(u.Suspense,{fallback:u.createElement(a.p,null)},u.createElement(t,null))))}()))};tt.defaultProps={currentStep:1,"data-componentid":"organization-enterprise-idp"};var nt=n(11380),rt=["open","onWizardClose","type","selectedTemplate"];function it(){return it=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},it.apply(this,arguments)}function ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function at(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ot(Object(n),!0).forEach((function(t){lt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ot(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function lt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ct(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){l=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return ut(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ut(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ut(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function dt(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var st=function(e){var t,n=e.open,r=e.onWizardClose,i=e.type,o=e.selectedTemplate,a=dt(e,rt),l=(0,s.v9)((function(e){return e.config})),p=ct((0,u.useState)(void 0),2),f=p[0],h=p[1],g=ct((0,u.useState)(n),2),I=g[0],T=g[1],b=ct((0,u.useState)(void 0),2),y=b[0],A=b[1],S=ct((0,u.useState)(void 0),2),O=S[0],P=S[1],C=(0,d.$G)().t;(0,u.useEffect)((function(){i&&_(i)}),[i]),(0,u.useEffect)((function(){var e;y&&(R((null===(e=y.idp)||void 0===e?void 0:e.name)||y.name),T(!0))}),[y]),(0,u.useEffect)((function(){var e;I&&f&&y&&(null!==(e=y.idp)&&void 0!==e&&e.name?P(at(at({},y),{},{idp:at(at({},y.idp),{},{name:w(y.idp.name,f)})})):P(at(at({},y),{},{name:w(null===y||void 0===y?void 0:y.name,f)})),T(!0))}),[f,y,I]);var _=function(e){(l.ui.identityProviderTemplateLoadingStrategy?l.ui.identityProviderTemplateLoadingStrategy===K.w7.REMOTE:v.bQ.DEFAULT_IDP_TEMPLATE_LOADING_STRATEGY===K.w7.REMOTE)?(0,m.jY)(e).then((function(e){e.disabled||A(e)})).catch((function(e){(0,E.Em)(e)})):nt.b.getIdentityProviderTemplate(e).then((function(e){void 0===e||e.disabled?o&&!o.disabled&&A(o):A(e)})).catch((function(e){(0,E.Em)(e)}))},R=function(e){(0,m.SN)(null,null,"name sw "+e).then((function(e){var t;h(null!==e&&void 0!==e&&e.totalResults?null===e||void 0===e||null===(t=e.identityProviders)||void 0===t?void 0:t.map((function(e){return e.name})):[])}))},w=function(e,t){for(var n=e,r=2;null!==t&&void 0!==t&&t.includes(n);r++)n=n.split(" ").length>1?e+" "+r:e+r;return n};switch(i){case v.bQ.IDP_TEMPLATE_IDS.FACEBOOK:return I&&!(0,c.Z)(O)?u.createElement(N,it({title:null===O||void 0===O?void 0:O.name,subTitle:null===O||void 0===O?void 0:O.description,onWizardClose:function(){P(void 0),A(void 0),T(!1),r()},template:O,"data-componentid":null===y||void 0===y?void 0:y.templateId},a)):null;case v.bQ.IDP_TEMPLATE_IDS.GOOGLE:return I&&!(0,c.Z)(O)?u.createElement(Fe,it({title:null===O||void 0===O?void 0:O.name,subTitle:null===O||void 0===O?void 0:O.description,onWizardClose:function(){P(void 0),A(void 0),T(!1),r()},template:O,"data-componentid":null===y||void 0===y?void 0:y.templateId},a)):null;case v.bQ.IDP_TEMPLATE_IDS.GITHUB:return I&&!(0,c.Z)(O)?u.createElement(x,it({title:null===O||void 0===O?void 0:O.name,subTitle:null===O||void 0===O?void 0:O.description,onWizardClose:function(){P(void 0),A(void 0),T(!1),r()},template:O,"data-componentid":null===y||void 0===y?void 0:y.templateId},a)):null;case v.bQ.IDP_TEMPLATE_IDS.OIDC:return I&&!(0,c.Z)(O)?u.createElement(Ve,it({title:null===O||void 0===O?void 0:O.name,subTitle:null===O||void 0===O?void 0:O.description,onWizardClose:function(){P(void 0),A(void 0),T(!1),r()},template:O,"data-componentid":null===y||void 0===y?void 0:y.templateId},a)):null;case v.bQ.IDP_TEMPLATE_IDS.ORGANIZATION_ENTERPRISE_IDP:return I&&!(0,c.Z)(O)?u.createElement(tt,it({title:null===O||void 0===O?void 0:O.name,subTitle:null===O||void 0===O?void 0:O.description,onWizardClose:function(){P(void 0),A(void 0),T(!1),r()},template:O,"data-componentid":null===y||void 0===y?void 0:y.templateId},a)):null;case v.bQ.IDP_TEMPLATE_IDS.EXPERT_MODE:return I&&!(0,c.Z)(O)?u.createElement(De,it({title:null===O||void 0===O?void 0:O.name,subTitle:null===O||void 0===O?void 0:O.description,onWizardClose:function(){P(void 0),A(void 0),T(!1),r()},template:O,"data-componentid":null===y||void 0===y?void 0:y.templateId},a)):null;default:return I&&!(0,c.Z)(O)?null!==(t=ye.identityProviderConfig.createIdentityProvider.getOverriddenCreateWizard(i,at({onIDPCreate:a.onIDPCreate,onWizardClose:function(){P(void 0),A(void 0),T(!1),r()},subTitle:null===O||void 0===O?void 0:O.description,template:O,title:null===O||void 0===O?void 0:O.name},a)))&&void 0!==t?t:u.createElement(ie,it({title:C("console:develop.features.authenticationProvider.templates.enterprise.addWizard.title"),subTitle:C("console:develop.features.authenticationProvider.templates.enterprise.addWizard.subtitle"),onWizardClose:function(){P(void 0),A(void 0),T(!1),r()},template:O,"data-componentid":null===y||void 0===y?void 0:y.templateId},a)):null}};st.defaultProps={"data-testid":"authenticator-create-wizard-factory"};var pt,ft,mt=n(6586),vt=n(87670);function Et(e){return function(e){if(Array.isArray(e))return yt(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||bt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ht(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ht(Object(n),!0).forEach((function(t){It(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ht(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function It(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){l=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}(e,t)||bt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bt(e,t){if(e){if("string"===typeof e)return yt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?yt(e,t):void 0}}function yt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}!function(e){e.IDENTITY_PROVIDER="identityProvider"}(pt||(pt={})),function(e){e.GENERAL_DETAILS="GeneralDetails",e.AUTHENTICATOR_SETTINGS="AuthenticatorSettings",e.OUTBOUND_PROVISIONING_SETTINGS="OutboundProvisioningSettings",e.SUMMARY="Summary"}(ft||(ft={}));(function(e){var t=e.onWizardClose,n=e.onIDPCreate,a=e.currentStep,f=e.title,h=e.subTitle,g=e.template,I=e["data-testid"],y=Tt((0,u.useState)(!1),2),S=y[0],O=y[1],P=Tt((0,u.useState)(void 0),2),C=P[0],_=P[1],R=Tt((0,u.useState)(!1),2),N=R[0],w=(R[1],Tt((0,u.useState)(void 0),2)),D=w[0],L=w[1],M=Tt((0,u.useState)(void 0),2),U=M[0],k=M[1],H=Tt((0,u.useState)(a),2),G=H[0],F=H[1],x=Tt((0,u.useState)(void 0),2),z=x[0],j=x[1],Z=Tt((0,u.useState)(void 0),2),Q=Z[0],V=Z[1],B=Tt((0,u.useState)(!1),2),W=B[0],Y=B[1],$=(0,s.I0)(),X=(0,d.$G)().t,K=(0,s.v9)((function(e){return e.identityProvider.meta.authenticators})),J=Tt((0,xe.useTrigger)(),2),ee=J[0],te=J[1],ne=Tt((0,xe.useTrigger)(),2),re=ne[0],ie=ne[1],oe=Tt((0,xe.useTrigger)(),2),ae=oe[0],le=oe[1],ce=Tt((0,xe.useTrigger)(),2),ue=ce[0],de=ce[1],se=Tt((0,o.useWizardAlert)(),3),pe=se[0],fe=se[1],me=se[2],ve=function(){var e,t=G;switch(N&&(t=G+1),null===(e=C[t])||void 0===e?void 0:e.name){case ft.GENERAL_DETAILS:te();break;case ft.AUTHENTICATOR_SETTINGS:ie();break;case ft.OUTBOUND_PROVISIONING_SETTINGS:le();break;case ft.SUMMARY:de()}},Ee=function(){k(G)},he=function(e,t){var n,r;!be()&&F(G+1),(null===(n=C[G])||void 0===n?void 0:n.name)===ft.AUTHENTICATOR_SETTINGS||(null===(r=C[G])||void 0===r?void 0:r.name)===ft.OUTBOUND_PROVISIONING_SETTINGS?L(It({},pt.IDENTITY_PROVIDER,e)):L((0,mt.Z)(D,It({},t,e)))},ge=function(){if(D)return D[pt.IDENTITY_PROVIDER]},Ie=function(e){var t,o,a=null===e||void 0===e||null===(t=e.provisioning)||void 0===t||null===(o=t.outboundConnectors)||void 0===o?void 0:o.connectors[0],u=(0,l.Z)(a,v.bQ.PROVISIONING_CONNECTOR_DISPLAY_NAME)===v.bQ.PROVISIONING_CONNECTOR_GOOGLE;a&&u&&delete a[v.bQ.PROVISIONING_CONNECTOR_DISPLAY_NAME],function(e){Y(!0),(0,m.Sf)(e).then((function(e){if($((0,i.addAlert)({description:X("console:develop.features.authenticationProvider.notifications.addIDP.success.description"),level:r.AlertLevels.SUCCESS,message:X("console:develop.features.authenticationProvider.notifications.addIDP.success.message")})),(0,c.Z)(e.headers.location))n();else{var t=e.headers.location,o=t.substring(t.lastIndexOf("/")+1);n(o)}})).catch((function(e){var t,n,i=T.identityProviderConfig.useNewConnectionsView?v.bQ.ERROR_CREATE_LIMIT_REACHED:v.bQ.ERROR_CREATE_LIMIT_REACHED_IDP;403!==e.response.status||(null===e||void 0===e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.code)!==i.getErrorCode()?e.response&&e.response.data&&e.response.data.description?fe({description:X("console:develop.features.authenticationProvider.notifications.addIDP.error.description",{description:e.response.data.description}),level:r.AlertLevels.ERROR,message:X("console:develop.features.authenticationProvider.notifications.addIDP.error.message")}):fe({description:X("console:develop.features.authenticationProvider.notifications.addIDP.genericError.description"),level:r.AlertLevels.ERROR,message:X("console:develop.features.authenticationProvider.notifications.addIDP.genericError.message")}):fe({code:i.getErrorCode(),description:X(i.getErrorDescription()),level:r.AlertLevels.ERROR,message:X(i.getErrorMessage()),traceId:i.getErrorTraceId()})})).finally((function(){Y(!1)}))}(e)},Te=function(){V(void 0),j(void 0),t()},be=function(){return"enterprise-idp"===(null===g||void 0===g?void 0:g.id)};(0,u.useEffect)((function(){var e=!1;if(Pe()&&(0,c.Z)(K)){nt.z.getAuthenticators();e=!0}if(Ce()){var t;ye(null===g||void 0===g||null===(t=g.idp)||void 0===t?void 0:t.provisioning.outboundConnectors.defaultConnectorId);e=!0}e||O(!0)}),[]);var ye=function(e){return(0,m.PL)(e).then((function(e){V(e)})).catch((function(e){(0,E.x8)(e)}))};(0,u.useEffect)((function(){var e,t,n;null!==K&&void 0!==K&&K.find((function(e){var t,n;return e.authenticatorId===(null===g||void 0===g||null===(t=g.idp)||void 0===t||null===(n=t.federatedAuthenticators)||void 0===n?void 0:n.defaultAuthenticatorId)}))&&(n=null===g||void 0===g||null===(e=g.idp)||void 0===e||null===(t=e.federatedAuthenticators)||void 0===t?void 0:t.defaultAuthenticatorId,(0,m.DJ)(n).then((function(e){j(e)})).catch((function(e){(0,E.Rw)(e)})))}),[K]);var Ae=function(e,t,n){return null===e||void 0===e?void 0:e.map((function(e){var r=t.find((function(t){return t[n]===e[n]}));return r||e}))},Se=function(){var e,t,n=null===z||void 0===z?void 0:z.properties.map((function(e){return{key:null===e||void 0===e?void 0:e.key,value:null===e||void 0===e?void 0:e.defaultValue}}));return{authenticators:(null===g||void 0===g||null===(e=g.idp)||void 0===e?void 0:e.federatedAuthenticators.authenticators).map((function(e){var t;return e.authenticatorId===(null===g||void 0===g||null===(t=g.idp)||void 0===t?void 0:t.federatedAuthenticators.defaultAuthenticatorId)?gt(gt({},e),{},{properties:Ae(n,e.properties,"key")}):e})),defaultAuthenticatorId:null===g||void 0===g||null===(t=g.idp)||void 0===t?void 0:t.federatedAuthenticators.defaultAuthenticatorId}},Oe=function(){var e,t=null===Q||void 0===Q?void 0:Q.properties.map((function(e){return{key:null===e||void 0===e?void 0:e.key,value:null===e||void 0===e?void 0:e.defaultValue}}));return{connectors:(null===g||void 0===g||null===(e=g.idp)||void 0===e?void 0:e.provisioning.outboundConnectors.connectors).map((function(e){var n;return e.connectorId===(null===g||void 0===g||null===(n=g.idp)||void 0===n?void 0:n.provisioning.outboundConnectors.defaultConnectorId)?gt(gt({},e),{},{properties:Ae(t,null===e||void 0===e?void 0:e.properties,"key")}):e})),defaultConnectorId:g.provisioning.outboundConnectors.defaultConnectorId}},Pe=function(){var e,t;return null===g||void 0===g||null===(e=g.idp)||void 0===e||null===(t=e.federatedAuthenticators)||void 0===t?void 0:t.defaultAuthenticatorId},Ce=function(){var e,t,n;return null===g||void 0===g||null===(e=g.idp)||void 0===e||null===(t=e.provisioning)||void 0===t||null===(n=t.outboundConnectors)||void 0===n?void 0:n.defaultConnectorId},_e=function(){var e,t,n={};(Pe()&&(n=gt(gt({},n),{},{federatedAuthenticators:Se()})),Ce())&&(n=gt(gt({},n),{},{provisioning:gt(gt({},null===(e=n)||void 0===e||null===(t=e.provisioning)||void 0===t?void 0:t.jit),{},{outboundConnectors:Oe()})}));L((0,mt.Z)(D,It({},pt.IDENTITY_PROVIDER,gt(gt({},null===g||void 0===g?void 0:g.idp),n)))),_(function(){var e=[{icon:(0,A.hz)().general,name:ft.GENERAL_DETAILS,submitCallback:te,title:X("console:develop.features.authenticationProvider.wizards.addIDP.steps.generalSettings.title")}];return Pe()&&(e=[].concat(Et(e),[{icon:(0,A.hz)().authenticatorSettings,name:ft.AUTHENTICATOR_SETTINGS,submitCallback:ie,title:X("console:develop.features.authenticationProvider.wizards.addIDP.steps.authenticatorConfiguration.title")}])),Ce()&&(e=[].concat(Et(e),[{icon:(0,A.hz)().outboundProvisioningSettings,name:ft.OUTBOUND_PROVISIONING_SETTINGS,submitCallback:le(),title:X("console:develop.features.authenticationProvider.wizards.addIDP.steps.provisioningConfiguration.title")}])),be()||(e=[].concat(Et(e),[{icon:(0,A.hz)().summary,name:ft.SUMMARY,submitCallback:de,title:X("console:develop.features.authenticationProvider.wizards.addIDP.steps.summary.title")}])),e}())};(0,u.useEffect)((function(){S&&(_e(),O(!1))}),[S]);var Re=function(){return t=z,(!Pe()||void 0!==t)&&(e=Q,!Ce()||void 0!==e);var e,t};(0,u.useEffect)((function(){Re()&&O(!0)}),[z,Q]),(0,u.useEffect)((function(){void 0!==U&&(F(G-1),k(void 0))}),[U]);return C?u.createElement(b.wv,{open:!0,className:"wizard identity-provider-create-wizard",dimmer:"blurring",onClose:Te,closeOnDimmerClick:!1,closeOnEscape:!0,"data-testid":"".concat(I,"-modal")},u.createElement(b.wv.MainPanel,null,u.createElement(b.wv.Header,{className:"wizard-header","data-testid":"".concat(I,"-modal-header")},f,h&&u.createElement(o.Heading,{as:"h6"},h)),u.createElement(b.wv.Content,{className:"content-container","data-testid":"".concat(I,"-modal-content-2")},pe&&me,function(e){var t,n=e;switch(N&&(n=e+1),null===(t=C[n])||void 0===t?void 0:t.name){case ft.GENERAL_DETAILS:return u.createElement(vt.q$,{triggerSubmit:ee,initialValues:D&&D[pt.IDENTITY_PROVIDER],onSubmit:function(e){he(e,pt.IDENTITY_PROVIDER),be()&&Ie(ge())},template:g,"data-testid":"".concat(I,"-general-settings")});case ft.AUTHENTICATOR_SETTINGS:return u.createElement(vt.iw,{metadata:z,initialValues:D[pt.IDENTITY_PROVIDER],onSubmit:function(e){return he(e,pt.IDENTITY_PROVIDER)},triggerSubmit:re,"data-testid":"".concat(I,"-authenticator-settings")});case ft.OUTBOUND_PROVISIONING_SETTINGS:return u.createElement(vt.bc,{metadata:Q,initialValues:D[pt.IDENTITY_PROVIDER],onSubmit:function(e){return he(e,pt.IDENTITY_PROVIDER)},triggerSubmit:ae,"data-testid":"".concat(I,"-outbound-provisioning-settings")});case ft.SUMMARY:return u.createElement(vt.v9,{provisioningConnectorMetadata:Q,authenticatorMetadata:z,triggerSubmit:ue,identityProvider:ge(),onSubmit:Ie,"data-testid":"".concat(I,"-summary")})}}(G)),u.createElement(b.wv.Actions,{"data-testid":"".concat(I,"-modal-actions")},u.createElement(p.Z,null,u.createElement(p.Z.Row,{column:1},u.createElement(p.Z.Column,{mobile:8,tablet:8,computer:8},u.createElement(o.LinkButton,{floated:"left",onClick:Te,"data-testid":"".concat(I,"-modal-cancel-button")},X("common:cancel"))),u.createElement(p.Z.Column,{mobile:8,tablet:8,computer:8},G<C.length-1&&u.createElement(o.PrimaryButton,{floated:"right",onClick:ve,"data-testid":"".concat(I,"-modal-next-button")},X("console:develop.features.authenticationProvider.wizards.buttons.next"),u.createElement(q.Z,{name:"arrow right"})),G===C.length-1&&u.createElement(o.PrimaryButton,{floated:"right",onClick:ve,loading:W,disabled:W,"data-testid":"".concat(I,"-modal-finish-button")},X("console:develop.features.authenticationProvider.wizards.buttons.finish")),G>0&&u.createElement(o.LinkButton,{floated:"right",onClick:Ee,"data-testid":"".concat(I,"-modal-previous-button")},u.createElement(q.Z,{name:"arrow left"}),X("console:develop.features.authenticationProvider.wizards.buttons.previous"))))))),function(){var e;if(null===g||void 0===g||null===(e=g.content)||void 0===e||!e.wizardHelp)return null;var t=(null===g||void 0===g?void 0:g.content).wizardHelp;return u.createElement(b.wv.SidePanel,null,u.createElement(b.wv.Header,{className:"wizard-header help-panel-header muted"},u.createElement("div",{className:"help-panel-header-text"},X("console:develop.features.applications.wizards.minimalAppCreationWizard.help.heading"))),u.createElement(b.wv.Content,null,u.createElement(u.Suspense,{fallback:u.createElement(o.ContentLoader,null)},u.createElement(t,null))))}()):null}).defaultProps={currentStep:0,"data-testid":"idp-edit-idp-create-wizard"};var At=n(85027),St=n(41443);function Ot(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){l=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Pt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ct,_t=function(e){var t=e.initialSelection,n=e.onSubmit,r=e.triggerSubmit,i=e["data-testid"],a=(0,d.$G)().t,l=Ot((0,u.useState)(void 0),2),c=l[0],s=l[1];(0,u.useEffect)((function(){St.v&&Array.isArray(St.v)&&St.v.length>0&&s(St.v.find((function(e){return t===e.connectorId})))}),[t]);return u.createElement(xe.Forms,{onSubmit:function(){n({connectorId:null===c||void 0===c?void 0:c.connectorId})},submitState:r},u.createElement(p.Z,null,u.createElement(p.Z.Row,{columns:1},u.createElement(p.Z.Column,{mobile:16,tablet:16,computer:16},u.createElement(o.Heading,{as:"h4"},a("console:develop.features.authenticationProvider.wizards.addProvisioningConnector.steps.connectorSelection.defaultSetup.title"),u.createElement(o.Heading,{subHeading:!0,as:"h6"},a("console:develop.features.authenticationProvider.wizards.addProvisioningConnector.steps.connectorSelection.defaultSetup.subTitle"))),St.v&&St.v.length>0?St.v.map((function(e,t){return u.createElement(o.SelectionCard,{inline:!0,key:t,header:e.displayName,image:e.icon,onClick:function(){return function(e){s(e)}(e)},selected:c?c.connectorId===e.connectorId:0===t,size:"small","data-testid":"".concat(i,"-connector-").concat(t)})})):null))))};function Rt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rt(Object(n),!0).forEach((function(t){wt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function wt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){l=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Lt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Lt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}!function(e){e.CONNECTOR_SELECTION="ConnectorSelection",e.CONNECTOR_DETAILS="ConnectorDetails",e.SUMMARY="summary"}(Ct||(Ct={}));var Mt=function(e){var t,n,a,l,c=e.identityProvider,f=e.closeWizard,v=e.currentStep,h=e.onUpdate,g=e["data-testid"],I=(0,d.$G)().t,T=(0,s.I0)(),b=Dt((0,xe.useTrigger)(),2),y=b[0],S=b[1],O=Dt((0,xe.useTrigger)(),2),P=O[0],C=O[1],_=Dt((0,xe.useTrigger)(),2),R=_[0],N=_[1],w=Dt((0,u.useState)(void 0),2),D=w[0],L=w[1],M=Dt((0,u.useState)(v),2),U=M[0],k=M[1],H=Dt((0,u.useState)(void 0),2),G=H[0],F=H[1],x=Dt((0,u.useState)([]),2),z=x[0],j=x[1],Z=Dt((0,u.useState)(void 0),2),V=Z[0],B=Z[1],W=Dt((0,u.useState)(void 0),2),Y=W[0],$=W[1],X=Dt((0,u.useState)(!1),2),K=X[0],J=X[1],ee=Dt((0,u.useState)(void 0),2),te=ee[0],ne=ee[1],re=Dt((0,u.useState)(!1),2),ie=re[0],oe=re[1],ae=Dt((0,o.useWizardAlert)(),3),le=ae[0],ce=ae[1],ue=ae[2];(0,u.useEffect)((function(){z&&Array.isArray(z)&&z.length>0&&F(wt({},Ct.CONNECTOR_SELECTION,{connectorId:z[0].connectorId}))}),[z]),(0,u.useEffect)((function(){void 0!==D&&(k(U-1),L(void 0))}),[D]),(0,u.useEffect)((function(){var e,t,n,o,a;if(void 0!==Y){var l=Nt({},Y);delete(l=Nt(Nt({},l),{},{connectorId:null===(e=G[Ct.CONNECTOR_SELECTION])||void 0===e?void 0:e.connectorId,properties:null===(t=G[Ct.CONNECTOR_DETAILS])||void 0===t||null===(n=t.provisioning)||void 0===n||null===(o=n.outboundConnectors)||void 0===o||null===(a=o.connectors[0])||void 0===a?void 0:a.properties})).displayName,(0,m.Wm)(c.id,l).then((function(){T((0,i.addAlert)({description:I("console:develop.features.authenticationProvider.notifications.updateOutboundProvisioningConnector.success.description"),level:r.AlertLevels.SUCCESS,message:I("console:develop.features.authenticationProvider.notifications.updateOutboundProvisioningConnector.success.message")})),h(c.id)})).catch((function(e){(0,E.hN)(e)}))}}),[Y]),(0,u.useEffect)((function(){(0,m.xy)().then((function(e){j(e)})).catch((function(e){e.response&&e.response.data&&e.response.data.description?ce({description:I("console:develop.features.authenticationProvider.notifications.getOutboundProvisioningConnectorsList.error.description",{description:e.response.data.description}),level:r.AlertLevels.ERROR,message:I("console:develop.features.authenticationProvider.notifications.getOutboundProvisioningConnectorsList.error.message")}):ce({description:I("console:develop.features.authenticationProvider.notifications.getOutboundProvisioningConnectorsList.genericError.description"),level:r.AlertLevels.ERROR,message:I("console:develop.features.authenticationProvider.notifications.getOutboundProvisioningConnectorsList.genericError.message")})}))}),[]),(0,u.useEffect)((function(){var e;if(G||V){J(!0);var t=null===(e=G[Ct.CONNECTOR_SELECTION])||void 0===e?void 0:e.connectorId,n=z.find((function(e){return e.connectorId===t}));n=Nt(Nt({},n),{},{isEnabled:!0}),ne(n),(0,m.PL)(t).then((function(e){B(e)})).catch((function(e){(0,E.x8)(e)})).finally((function(){J(!1)}))}}),[G&&(null===(t=G[Ct.CONNECTOR_SELECTION])||void 0===t?void 0:t.connectorId)]),(0,u.useEffect)((function(){var e;if(G||te){var t=null===(e=G[Ct.CONNECTOR_SELECTION])||void 0===e?void 0:e.connectorId,n=z.find((function(e){return e.connectorId===t}));n=Nt(Nt({},n),{},{isEnabled:!0}),ne(n)}}),[G&&(null===(n=G[Ct.CONNECTOR_SELECTION])||void 0===n?void 0:n.connectorId)]);var de=function(){switch(U){case 0:S();break;case 1:C();break;case 2:oe(!0),N()}},se=function(e,t){k(U+1),F(Nt(Nt({},G),{},wt({},t,e)))},pe=[{content:u.createElement(_t,{initialSelection:G&&(null===(a=G[Ct.CONNECTOR_SELECTION])||void 0===a?void 0:a.connectorId),triggerSubmit:y,onSubmit:function(e){se(e,Ct.CONNECTOR_SELECTION)},connectorList:z,"data-testid":"".concat(g,"-connector-selection")}),icon:(0,A._h)().connectorSelection,title:I("console:develop.features.authenticationProvider.wizards.addProvisioningConnector.steps.connectorSelection.title")},{content:u.createElement(vt.bc,{metadata:V,isLoading:K,initialValues:null!==(l=G&&G[Ct.CONNECTOR_DETAILS])&&void 0!==l?l:c,onSubmit:function(e){return se(e,Ct.CONNECTOR_DETAILS)},triggerSubmit:P,defaultConnector:te,"data-testid":"".concat(g,"-provisioning-settings")}),icon:(0,A._h)().connectorDetails,title:I("console:develop.features.authenticationProvider.wizards.addProvisioningConnector.steps.connectorConfiguration.title")},{content:u.createElement(vt.v9,{provisioningConnectorMetadata:V,authenticatorMetadata:void 0,triggerSubmit:R,identityProvider:function(){if(G){for(var e=Nt({},G),t={},n=0,r=Object.values(e);n<r.length;n++){var i=r[n];t=Nt(Nt({},t),i)}return(0,mt.Z)((0,Q.Z)(t))}}(),onSubmit:function(){var e;(0,m.PL)(null===(e=G[Ct.CONNECTOR_SELECTION])||void 0===e?void 0:e.connectorId).then((function(e){$(e)})).finally((function(){oe(!1),f()}))},"data-testid":"".concat(g,"-summary")}),icon:(0,A._h)().summary,title:I("console:develop.features.authenticationProvider.wizards.addProvisioningConnector.steps.summary.title")}];return u.createElement(At.Z,{open:!0,className:"wizard application-create-wizard",dimmer:"blurring",size:"small",onClose:f,closeOnDimmerClick:!1,closeOnEscape:!0,"data-testid":"".concat(g,"-modal")},u.createElement(At.Z.Header,{className:"wizard-header","data-testid":"".concat(g,"-modal-header")},I("console:develop.features.authenticationProvider.modals.addProvisioningConnector.title"),u.createElement(o.Heading,{as:"h6"},I("console:develop.features.authenticationProvider.modals.addProvisioningConnector.subTitle"))),u.createElement(At.Z.Content,{className:"steps-container","data-testid":"".concat(g,"-modal-content-1")},u.createElement(o.Steps.Group,{header:I("console:develop.features.authenticationProvider.wizards.addProvisioningConnector.header"),current:U},pe.map((function(e,t){return u.createElement(o.Steps.Step,{key:t,icon:e.icon,title:e.title})})))),u.createElement(At.Z.Content,{className:"content-container",scrolling:!0,"data-testid":"".concat(g,"-modal-content-2")},le&&ue,pe[U].content),u.createElement(At.Z.Actions,{"data-testid":"".concat(g,"-modal-actions")},u.createElement(p.Z,null,u.createElement(p.Z.Row,{column:1},u.createElement(p.Z.Column,{mobile:8,tablet:8,computer:8},u.createElement(o.LinkButton,{floated:"left",onClick:function(){return f()},"data-testid":"".concat(g,"-modal-cancel-button")},I("common:cancel"))),u.createElement(p.Z.Column,{mobile:8,tablet:8,computer:8},U<pe.length-1&&u.createElement(o.PrimaryButton,{floated:"right",onClick:de,loading:K,disabled:K,"data-testid":"".concat(g,"-modal-next-button")},I("console:develop.features.authenticationProvider.wizards.buttons.next"),u.createElement(q.Z,{name:"arrow right"})),U===pe.length-1&&u.createElement(o.PrimaryButton,{floated:"right",onClick:de,loading:ie,disabled:ie,"data-testid":"".concat(g,"-modal-finish-button")},I("console:develop.features.authenticationProvider.wizards.buttons.finish")),U>0&&u.createElement(o.LinkButton,{floated:"right",onClick:function(){L(U)},"data-testid":"".concat(g,"-modal-previous-button")},u.createElement(q.Z,{name:"arrow left"}),I("console:develop.features.authenticationProvider.wizards.buttons.previous")))))))};function Ut(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){l=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return kt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Mt.defaultProps={currentStep:0,"data-testid":"idp-edit-provisioning-connector-create-wizard"};var Ht=function(e){var t=e.triggerCertificateUpload,n=e.onSubmit,r=e["data-testid"],i=Ut((0,u.useState)(""),2),o=i[0],a=i[1],l=Ut((0,u.useState)(""),2),c=l[0],d=l[1],s=Ut((0,u.useState)(""),2),f=s[0],m=s[1],v=Ut((0,u.useState)(null),2),E=v[0],h=v[1],g=Ut((0,u.useState)(null),2),I=g[0],T=g[1],y=Ut((0,u.useState)(""),2),A=y[0],S=y[1];(0,u.useEffect)((function(){""!==A&&n({certificate:A})}),[A]);var O=function(e,t,n,r,i,o){a(t),m(n),d(r),h(i),T(o),S(btoa(j.CertificateManagementUtils.enclosePem(e.certificate)))};return u.createElement(u.Fragment,null,u.createElement(xe.Forms,{"data-testid":"".concat(r,"-form")},u.createElement(p.Z,null,u.createElement(p.Z.Row,{columns:1},u.createElement(p.Z.Column,{mobile:16,tablet:16,computer:16},u.createElement(b.e,{submit:O,triggerSubmit:t,pemData:f,nameData:o,fileDecodedData:c,fileData:E,forgeCertificateData:I,"data-testid":"".concat(r,"-upload"),hideAliasInput:!0}))))))};function Gt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){l=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Ft(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ft(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ft(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Ht.defaultProps={"data-testid":"add-idp-certificate"};(function(e){var t=e.idp,n=e.closeWizard,a=e.currentStep,l=e.onUpdate,c=e["data-testid"],f=(0,d.$G)().t,v=(0,s.I0)(),E=Gt((0,xe.useTrigger)(),2),h=E[0],g=E[1],I=Gt((0,xe.useTrigger)(),2),T=I[0],b=I[1],y=Gt((0,u.useState)(void 0),2),S=y[0],O=(y[1],Gt((0,u.useState)(a),2)),P=O[0],C=O[1],_=Gt((0,u.useState)(!1),2),R=_[0],N=_[1],w=Gt((0,o.useWizardAlert)(),3),D=w[0],L=w[1],M=w[2];(0,u.useEffect)((function(){void 0!==S&&C(P-1)}),[S]);var U=[{content:u.createElement(Ht,{triggerCertificateUpload:T,triggerSubmit:h,onSubmit:function(e){!function(e){var o,a,c,u,d,s,p;if(null!==t&&void 0!==t&&null!==(o=t.certificate)&&void 0!==o&&null!==(a=o.certificates)&&void 0!==a&&a.includes(e.certificate))return v((0,i.addAlert)({description:f("console:develop.features.authenticationProvider.notifications.duplicateCertificateUpload.error.description",{idp:t.name}),level:r.AlertLevels.ERROR,message:f("console:develop.features.authenticationProvider.notifications.duplicateCertificateUpload.error.message")})),void n();var E=null!==t&&void 0!==t&&null!==(c=t.certificate)&&void 0!==c&&c.certificates?null===t||void 0===t||null===(u=t.certificate)||void 0===u||null===(d=u.certificates)||void 0===d?void 0:d.length:0;p=null!==t&&void 0!==t&&null!==(s=t.certificate)&&void 0!==s&&s.jwksUri?[{operation:"ADD",path:"/certificate/certificates/"+E,value:e.certificate},{operation:"REPLACE",path:"/certificate/jwksUri",value:null}]:[{operation:"ADD",path:"/certificate/certificates/"+E,value:e.certificate}],N(!0),(0,m.DM)(t.id,p).then((function(){v((0,i.addAlert)({description:f("console:develop.features.authenticationProvider.notifications.updateIDPCertificate.success.description"),level:r.AlertLevels.SUCCESS,message:f("console:develop.features.authenticationProvider.notifications.updateIDPCertificate.success.message")})),n(),l(t.id)})).catch((function(e){e.response&&e.response.data&&e.response.data.description?L({description:e.response.data.description,level:r.AlertLevels.ERROR,message:f("console:develop.features.authenticationProvider.notifications.updateIDPCertificate.error.message")}):L({description:f("console:develop.features.authenticationProvider.notifications.updateIDPCertificate.genericError.description"),level:r.AlertLevels.ERROR,message:f("console:develop.features.authenticationProvider.notifications.updateIDPCertificate.genericError.message")})})).finally((function(){N(!1)}))}(e)}}),icon:(0,A.ot)().general,title:f("console:manage.features.certificates.keystore.wizard.steps.upload")}];return u.createElement(At.Z,{open:!0,className:"wizard application-create-wizard",dimmer:"blurring",size:"small",onClose:n,"data-testid":c,closeOnDimmerClick:!1,closeOnEscape:!0},u.createElement(At.Z.Header,{className:"wizard-header"},f("console:develop.features.authenticationProvider.modals.addCertificate.title",{idpName:t.name}),u.createElement(o.Heading,{as:"h6"},f("console:develop.features.authenticationProvider.modals.addCertificate.subTitle"))),u.createElement(At.Z.Content,{className:"steps-container"},u.createElement(o.Steps.Group,{current:P,"data-testid":"".concat(c,"-steps")},U.map((function(e,t){return u.createElement(o.Steps.Step,{key:t,icon:e.icon,title:e.title,"data-testid":"".concat(c,"-step-").concat(t)})})))),u.createElement(At.Z.Content,{className:"content-container",scrolling:!0},D&&M,U[P].content),u.createElement(At.Z.Actions,null,u.createElement(p.Z,null,u.createElement(p.Z.Row,{column:1},u.createElement(p.Z.Column,{mobile:8,tablet:8,computer:8},u.createElement(o.LinkButton,{floated:"left",onClick:function(){return n()},"data-testid":"".concat(c,"-cancel-button")},f("common:cancel"))),u.createElement(p.Z.Column,{mobile:8,tablet:8,computer:8},P===U.length-1&&u.createElement(o.PrimaryButton,{floated:"right",onClick:function(){if(0===P)b(),g()},loading:R,disabled:R,"data-testid":"".concat(c,"-finish-button")},f("common:finish")))))))}).defaultProps={currentStep:0,"data-testid":"add-idp-certificate-wizard"}},87670:function(e,t,n){n.d(t,{iw:function(){return y},q$:function(){return E},bc:function(){return P},v9:function(){return R}});var r=n(26776),i=n(96462),o=n(48749),a=n(68905),l=n(64805),c=n(23177),u=n(84857),d=n(12847),s=n(33581),p=n(47418);function f(e,t,n,r,i,o,a){try{var l=e[o](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,i)}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){l=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var E=function(e){var t=e.initialValues,n=e.triggerSubmit,v=e.onSubmit,E=e.template,h=e["data-testid"],g=m((0,a.useState)("oidc"),2),I=g[0],T=g[1],b=(0,l.$G)().t;return a.createElement(r.Forms,{onSubmit:function(e){var t=E.idp;t.name=e.get("name").toString(),t.federatedAuthenticators.authenticators=[],t.federatedAuthenticators.authenticators.push(function(e){var t={};return t.authenticatorId="oidc"===I?"T3BlbklEQ29ubmVjdEF1dGhlbnRpY2F0b3I":"U0FNTFNTT0F1dGhlbnRpY2F0b3I",t.properties=[],e.forEach((function(e,n){"name"!==n&&t.properties.push({key:n,value:e})})),t}(e)),t.federatedAuthenticators.defaultAuthenticatorId=t.federatedAuthenticators.authenticators[0].authenticatorId,t.image=d.h.getState().config.deployment.clientOrigin+"/console/libs/themes/default/assets/images/identity-providers/enterprise-idp-illustration.svg",v(t)},submitState:n,"data-testid":h},a.createElement(c.Z,null,a.createElement(c.Z.Row,{columns:1},a.createElement(c.Z.Column,{mobile:16,tablet:16,computer:14},a.createElement(r.Field,{name:"name",label:b("console:develop.features.authenticationProvider.forms.generalDetails.name.label"),required:!0,requiredErrorMessage:b("console:develop.features.authenticationProvider.forms.generalDetails.name.validations.empty"),placeholder:b("console:develop.features.authenticationProvider.forms.generalDetails.name.placeholder"),type:"text",validation:function(){var e,t=(e=regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,s.SN)(null,null,"name eq "+t.toString());case 3:0===(null===(r=e.sent)||void 0===r?void 0:r.totalResults)?n.isValid=!0:(n.isValid=!1,n.errorMessages.push(b("console:develop.features.authenticationProvider.forms.generalDetails.name.validations.duplicate"))),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),(0,p.Df)(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){f(o,r,i,a,l,"next",e)}function l(e){f(o,r,i,a,l,"throw",e)}a(void 0)}))});return function(e,n){return t.apply(this,arguments)}}(),value:null===t||void 0===t?void 0:t.name,"data-testid":"".concat(h,"-idp-name")}))),a.createElement(c.Z.Row,{className:"pt-0"},a.createElement(c.Z.Column,{mobile:16,tablet:16,computer:14},a.createElement("div",{className:"sub-template-selection"},a.createElement("div",null,"Protocols"),a.createElement(i.SelectionCard,{inline:!0,image:(0,u.fb)().openidconnect,size:"x120",className:"sub-template-selection-card",header:"OIDC",selected:"oidc"===I,onClick:function(){T("oidc")},imageSize:"mini",contentTopBorder:!1,showTooltips:!0,"data-testid":"".concat(h,"-oidc-card")}),a.createElement(i.SelectionCard,{inline:!0,image:(0,u.nI)().saml,size:"x120",className:"sub-template-selection-card",header:"SAML",selected:"saml"===I,onClick:function(){T("saml")},imageSize:"mini",contentTopBorder:!1,showTooltips:!0,"data-testid":"".concat(h,"-saml-card")})))),void 0===I?null:"oidc"===I?a.createElement(a.Fragment,null,a.createElement(c.Z.Row,{columns:1},a.createElement(c.Z.Column,{mobile:16,tablet:16,computer:14},a.createElement(r.Field,{name:"ClientId",label:"Client ID",required:!0,requiredErrorMessage:b("console:develop.features.authenticationProvider.forms.common.requiredErrorMessage"),type:"text","data-testid":"".concat(h,"-idp-name")}))),a.createElement(c.Z.Row,{columns:1},a.createElement(c.Z.Column,{mobile:16,tablet:16,computer:14},a.createElement(r.Field,{name:"ClientSecret",label:"Client secret",required:!0,requiredErrorMessage:b("console:develop.features.authenticationProvider.forms.common.requiredErrorMessage"),type:"password",hidePassword:b("common:hide"),showPassword:b("common:show"),"data-testid":"".concat(h,"-idp-name")}))),a.createElement(c.Z.Row,{columns:1},a.createElement(c.Z.Column,{mobile:16,tablet:16,computer:14},a.createElement(r.Field,{name:"OAuth2AuthzEPUrl",label:"Authorization Endpoint URL",required:!0,requiredErrorMessage:b("console:develop.features.authenticationProvider.forms.common.requiredErrorMessage"),type:"text",validation:function(e,t){o.I.url(e)||(t.isValid=!1,t.errorMessages.push(b("console:develop.features.authenticationProvider.forms.common.invalidURLErrorMessage")))},"data-testid":"".concat(h,"-idp-name")}))),a.createElement(c.Z.Row,{columns:1},a.createElement(c.Z.Column,{mobile:16,tablet:16,computer:14},a.createElement(r.Field,{name:"OAuth2TokenEPUrl",label:"Token Endpoint URL",required:!0,requiredErrorMessage:b("console:develop.features.authenticationProvider.forms.common.requiredErrorMessage"),type:"text",validation:function(e,t){o.I.url(e)||(t.isValid=!1,t.errorMessages.push(b("console:develop.features.authenticationProvider.forms.common.invalidURLErrorMessage")))},"data-testid":"".concat(h,"-idp-name")})))):a.createElement(a.Fragment,null,a.createElement(c.Z.Row,{columns:1},a.createElement(c.Z.Column,{mobile:16,tablet:16,computer:14},a.createElement(r.Field,{name:"SPEntityId",label:"Service provider entity ID",required:!0,requiredErrorMessage:b("console:develop.features.authenticationProvider.forms.common.requiredErrorMessage"),type:"text","data-testid":"".concat(h,"-idp-name")}))),a.createElement(c.Z.Row,{columns:1},a.createElement(c.Z.Column,{mobile:16,tablet:16,computer:14},a.createElement(r.Field,{name:"NameIDType",label:"NameID format",required:!0,requiredErrorMessage:b("console:develop.features.authenticationProvider.forms.common.requiredErrorMessage"),type:"text","data-testid":"".concat(h,"-idp-name")}))),a.createElement(c.Z.Row,{columns:1},a.createElement(c.Z.Column,{mobile:16,tablet:16,computer:14},a.createElement(r.Field,{name:"IdPEntityId",label:"Authentication entity ID",required:!0,requiredErrorMessage:b("console:develop.features.authenticationProvider.forms.common.requiredErrorMessage"),type:"text","data-testid":"".concat(h,"-idp-name")}))),a.createElement(c.Z.Row,{columns:1},a.createElement(c.Z.Column,{mobile:16,tablet:16,computer:14},a.createElement(r.Field,{name:"SSOUrl",label:"SSO URL",required:!0,requiredErrorMessage:b("console:develop.features.authenticationProvider.forms.common.requiredErrorMessage"),type:"text",validation:function(e,t){o.I.url(e)||(t.isValid=!1,t.errorMessages.push(b("console:develop.features.authenticationProvider.forms.common.invalidURLErrorMessage")))},"data-testid":"".concat(h,"-idp-name")}))))))},h=n(59867),g=n(87385);function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=function(e){var t,n=e.metadata,r=e.initialValues,o=e.onSubmit,l=e.triggerSubmit,c=e["data-componentid"],u=e["data-testid"],d=null===r||void 0===r||null===(t=r.federatedAuthenticators)||void 0===t?void 0:t.authenticators.find((function(e){var t;return e.authenticatorId===(null===r||void 0===r||null===(t=r.federatedAuthenticators)||void 0===t?void 0:t.defaultAuthenticatorId)}));return n?a.createElement(g.pw,{mode:h.Pk.CREATE,metadata:n,initialValues:d||{},onSubmit:function(e){var t;null!==r&&void 0!==r&&r.name?o(T(T({},r),{},{federatedAuthenticators:{authenticators:[T(T({},e),{},{isDefault:!0,isEnabled:!0})],defaultAuthenticatorId:null===r||void 0===r||null===(t=r.federatedAuthenticators)||void 0===t?void 0:t.defaultAuthenticatorId}})):o({federatedAuthenticators:{authenticators:[{authenticatorId:e.authenticatorId,isDefault:!1,isEnabled:!0,properties:e.properties}],defaultAuthenticatorId:e.authenticatorId}})},type:null===d||void 0===d?void 0:d.name,triggerSubmit:l,enableSubmitButton:!1,"data-testid":u,"data-componentid":c,isReadOnly:!1,templateId:r.templateId}):a.createElement(i.ContentLoader,null)};function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}y.defaultProps={"data-componentid":"wizard-authenticator-settings"};var P=function(e){var t,n,r=e.metadata,o=e.initialValues,l=e.isLoading,c=e.onSubmit,u=e.triggerSubmit,d=e["data-testid"];return l?a.createElement(i.ContentLoader,null):a.createElement(g.Jz,{mode:h.Pk.EDIT,metadata:r,initialValues:null===o||void 0===o||null===(t=o.provisioning)||void 0===t||null===(n=t.outboundConnectors)||void 0===n?void 0:n.connectors[0],onSubmit:function(e){c(S(S({},o),{},{provisioning:S(S({},null===o||void 0===o?void 0:o.provisioning),{},{outboundConnectors:{connectors:[S(S({},e),{},{isDefault:!0})],defaultConnectorId:null===e||void 0===e?void 0:e.connectorId}})}))},triggerSubmit:u,enableSubmitButton:!1,"data-testid":d})},C=n(87289),_=n(5554),R=function(e){var t,n,r,o,l,u=e.provisioningConnectorMetadata,d=e.authenticatorMetadata,s=e.identityProvider,f=e.triggerSubmit,m=e.onSubmit,v=e.isAddAuthenticatorWizard,E=e["data-testid"];(0,a.useEffect)((function(){f&&m(s)}),[f]);var h=null===s||void 0===s||null===(t=s.federatedAuthenticators)||void 0===t||null===(n=t.authenticators)||void 0===n?void 0:n.find((function(e){var t;return e.authenticatorId===(null===s||void 0===s||null===(t=s.federatedAuthenticators)||void 0===t?void 0:t.defaultAuthenticatorId)})),g=null===s||void 0===s||null===(r=s.provisioning)||void 0===r||null===(o=r.outboundConnectors)||void 0===o||null===(l=o.connectors)||void 0===l?void 0:l.find((function(e){var t,n;return e.connectorId===(null===s||void 0===s||null===(t=s.provisioning)||void 0===t||null===(n=t.outboundConnectors)||void 0===n?void 0:n.defaultConnectorId)})),I=function(e,t){var n=null===e||void 0===e?void 0:e.sort((function(e,n){var r,i;return(null===t||void 0===t||null===(r=t.find((function(t){return e.key===t.key})))||void 0===r?void 0:r.displayOrder)-(null===t||void 0===t||null===(i=t.find((function(e){return n.key===e.key})))||void 0===i?void 0:i.displayOrder)}));return null===n||void 0===n?void 0:n.map((function(e){var n,r=(0,p.Oe)(null===e||void 0===e?void 0:e.key,t);if(void 0!==e.value&&!(0,C.Z)(null===e||void 0===e?void 0:e.value.toString())&&(null===r||void 0===r||!r.isConfidential))return a.createElement(c.Z.Row,{className:"summary-field",columns:2,key:null===e||void 0===e?void 0:e.key,"data-testid":"".concat(E,"-").concat(null===e||void 0===e?void 0:e.key)},a.createElement(c.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},a.createElement("div",{className:"label"},null!==(n=null===r||void 0===r?void 0:r.displayName)&&void 0!==n?n:null===e||void 0===e?void 0:e.key)),a.createElement(c.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},a.createElement("div",{className:"value url","data-testid":"".concat(E,"-").concat(null===e||void 0===e?void 0:e.key)},null===e||void 0===e?void 0:e.value.toString())))}))};function T(e,t){return a.createElement(c.Z.Row,{className:"summary-field",columns:2},a.createElement(c.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},a.createElement("div",{className:"label"},e)),a.createElement(c.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},a.createElement("div",{className:"value url"},t)))}return s?a.createElement(c.Z,{className:"wizard-summary","data-testid":E},!v&&a.createElement(c.Z.Row,null,a.createElement(c.Z.Column,{mobile:16,tablet:16,computer:16,textAlign:"center"},a.createElement("div",{className:"general-details","data-testid":E},a.createElement(i.AppAvatar,{name:null===s||void 0===s?void 0:s.name,image:null===s||void 0===s?void 0:s.image,size:"tiny"}),(null===s||void 0===s?void 0:s.name)&&a.createElement(i.Heading,{size:"small",className:"name"},s.name),(null===s||void 0===s?void 0:s.description)&&a.createElement("div",{className:"description"},s.description)))),d&&function(){var e;return null===s||void 0===s||null===(e=s.federatedAuthenticators)||void 0===e?void 0:e.defaultAuthenticatorId}()&&a.createElement(a.Fragment,null,a.createElement(_.Z,{horizontal:!0},"Authenticator Settings"),h&&T("Authenticator",null===d||void 0===d?void 0:d.name),(null===h||void 0===h?void 0:h.properties)&&I(null===h||void 0===h?void 0:h.properties,null===d||void 0===d?void 0:d.properties)),function(){var e,t;return!v&&(null===s||void 0===s||null===(e=s.provisioning)||void 0===e||null===(t=e.outboundConnectors)||void 0===t?void 0:t.defaultConnectorId)}()&&a.createElement(a.Fragment,null,a.createElement(_.Z,{horizontal:!0},"Provisioning Settings"),g&&T("Connector",null===u||void 0===u?void 0:u.displayName),(null===g||void 0===g?void 0:g.properties)&&I(null===g||void 0===g?void 0:g.properties,null===u||void 0===u?void 0:u.properties))):null}},59413:function(e,t,n){n.d(t,{ot:function(){return o.ot},C4:function(){return o.C4},ML:function(){return o.ML},eG:function(){return i},ht:function(){return o.ht},nI:function(){return o.nI},fb:function(){return o.fb},hz:function(){return o.hz},_h:function(){return o._h}});var r=n(60306),i=function(e){return{authenticatorTags:"".concat(e,"/api/server/v1/authenticators/meta/tags"),authenticators:"".concat(e,"/api/server/v1/authenticators"),identityProviders:"".concat(e,"/api/server/v1/identity-providers"),localAuthenticators:"".concat(e,"/api/server/v1/configs/authenticators"),multiFactorAuthenticators:(0,r.Ky)(e).multiFactorAuthenticators}},o=n(47962)},47962:function(e,t,n){n.d(t,{ot:function(){return j},hz:function(){return Z},C4:function(){return Q},ML:function(){return V},nI:function(){return B},fb:function(){return W},ht:function(){return Y},_h:function(){return q}});var r=n(72393),i=n(95211),o=n(53987),a=n(48824),l=n(91925),c=n(90966),u=n(13705),d=n(13357),s=n(6294),p=n(64408),f=n(28620),m=n(87751),v=n(77434),E=n(13898),h=(n(21500),n(46198)),g=n(99986),I=n(58075),T=n(77973),b=n(21154),y=n(14821),A=n(1878),S=n(13861),O=n(52950),P=n(50010),C=n(41260),_=n(88453),R=n(2234),N=n(61495),w=n(66880),D=n(10522),L=n(18621),M=n(1409),U=n(20597),k=n(8803),H=n(20601),G=n(94920),F=n(59867);function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var j=function(){return{general:p.r}},Z=function(){return{authenticatorSettings:m.r,general:p.r,outboundProvisioningSettings:m.r,summary:g.r}},Q=function(){return{basic:i,default:s.Z,emailOTP:I.Z,facebook:A.Z,fido:f.Z,google:O.Z,identifierFirst:E.Z,jwtBasic:U.Z,magicLink:v.Z,microsoft:G.Z,office365:C.Z,sessionExecutor:d.Z,smsOTP:o.Z,totp:h.Z,twitter:R.Z,x509:u.Z,yahoo:N.Z}},V=function(){return{google:O.Z,salesforce:a,scim:l,spml:c}},B=function(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){z(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({apple:k.Z,default:s.Z,emailOTP:I.Z,enterprise:b.r,expert:y.r,facebook:A.Z,github:S.Z,google:O.Z,iwaKerberos:P,linkedIn:H.Z,microsoft:G.Z,office365:C.Z,oidc:w,organizationSSO:_.Z,saml:L,smsOTP:o.Z,twitter:R.Z,wsFed:M,yahoo:N.Z},r.identityProviderConfig.getIconExtensions())},W=function(){return{facebook:A.Z,github:S.Z,google:O.Z,manualsetup:y.r,openidconnect:D}},Y=function(){var e;return z(e={},F.fU.AUTHENTICATION,s.Z),z(e,F.fU.PROVISIONING,T.r),e},q=function(){return{connectorDetails:p.r,connectorSelection:m.r,summary:g.r}}},21307:function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{s0:function(){return a},bQ:function(){return P}});var a=i((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}));o(a,"IDENTITY_PROVIDER_MGT_CONFIG_PATHS",{META:"configs/identity-provider-mgt.meta.json"}),o(a,"INTERNAL_DOMAIN","Internal/"),o(a,"APPLICATION_DOMAIN","Application/");var l=n(68131);function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var d,s,p,f=u((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}));p='["Developer Portal"]',(s="PORTAL_DOCS_KEY")in(d=f)?Object.defineProperty(d,s,{value:p,enumerable:!0,configurable:!0,writable:!0}):d[s]=p;var m=n(83384),v=n(59428),E=n(74048),h=n(53572),g=n(46889),I=n(7601),T=n(99977),b=n(26459),y=n(59867);function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e,t,n){return t&&A(e.prototype,t),n&&A(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var P=S((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}));O(P,"MAXIMUM_NUMBER_OF_LIST_ITEMS_TO_SHOW_INSIDE_CALLOUTS",3),O(P,"LOCAL_IDP_IDENTIFIER","LOCAL"),O(P,"IDP_OVERVIEW_DOCS_KEY","".concat(f.PORTAL_DOCS_KEY,'["Identity Providers"]["Overview"]')),O(P,"IDP_EDIT_OVERVIEW_DOCS_KEY","".concat(f.PORTAL_DOCS_KEY,'["Identity Providers"]["Edit Identity Provider"]["Overview"]')),O(P,"DELETING_FORBIDDEN_IDPS",[]),O(P,"IDP_STATE_URL_SEARCH_PARAM_KEY","state"),O(P,"NEW_IDP_URL_SEARCH_PARAM","?".concat(P.IDP_STATE_URL_SEARCH_PARAM_KEY,"=new")),O(P,"IDP_CREATE_WIZARD_TRIGGER_URL_SEARCH_PARAM_KEY","open"),O(P,"IDP_TEMPLATE_IDS",{ENTERPRISE:m.id,EXPERT_MODE:v.id,FACEBOOK:E.id,GITHUB:h.id,GOOGLE:g.id,OIDC:I.id,ORGANIZATION_ENTERPRISE_IDP:T.id,SAML:b.id}),O(P,"AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS",{CALLBACK_URL_MIN_LENGTH:3,CLIENT_ID_MAX_LENGTH:100,CLIENT_ID_MIN_LENGTH:3,CLIENT_SECRET_MAX_LENGTH:100,CLIENT_SECRET_MIN_LENGTH:3,IDP_DESCRIPTION_MAX_LENGTH:50,IDP_DESCRIPTION_MIN_LENGTH:3,IDP_NAME_MAX_LENGTH:50,IDP_NAME_MIN_LENGTH:3}),O(P,"GENERAL_FORM_CONSTRAINTS",{IMAGE_URL_MAX_LENGTH:2048,IMAGE_URL_MIN_LENGTH:3}),O(P,"EMAIL_OTP_AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS",{EXPIRY_TIME_MAX_LENGTH:1e4,EXPIRY_TIME_MAX_VALUE:86400,EXPIRY_TIME_MIN_LENGTH:1,EXPIRY_TIME_MIN_VALUE:1,OTP_LENGTH_MAX_LENGTH:2,OTP_LENGTH_MAX_VALUE:10,OTP_LENGTH_MIN_LENGTH:1,OTP_LENGTH_MIN_VALUE:4}),O(P,"GOOGLE_AUTHENTICATOR_SETTINGS_FORM_FIELD_CONSTRAINTS",{ADDITIONAL_QUERY_PARAMS_MIN_LENGTH:0,ADDITIONAL_QUERY_PARAMS_MAX_LENGTH:1e3}),O(P,"GOOGLE_SCOPE_DICTIONARY",{EMAIL:"email",OPENID:"openid",PROFILE:"profile"}),O(P,"GITHUB_SCOPE_DICTIONARY",{USER_EMAIL:"user:email",USER_READ:"read:user"}),O(P,"GITHUB_AUTHENTICATOR_REQUESTED_SCOPES",[P.GITHUB_SCOPE_DICTIONARY.USER_EMAIL,P.GITHUB_SCOPE_DICTIONARY.USER_READ]),O(P,"FACEBOOK_SCOPE_DICTIONARY",{EMAIL:"email",PUBLIC_PROFILE:"public_profile"}),O(P,"FACEBOOK_PUBLIC_PROFILE_FIELD_DICTIONARY",{AGE_RANGE:"age_range",EMAIL:"email",FIRST_NAME:"first_name",GENDER:"gender",ID:"id",LAST_NAME:"last_name",LINK:"link",NAME:"name"}),O(P,"FACEBOOK_AUTHENTICATOR_REQUESTED_SCOPES",[P.FACEBOOK_SCOPE_DICTIONARY.EMAIL,P.FACEBOOK_SCOPE_DICTIONARY.PUBLIC_PROFILE]),O(P,"FACEBOOK_AUTHENTICATOR_REQUESTED_PROFILE_FIELDS",["id","name","gender","email","first_name","last_name","age_range","link"]),O(P,"DEFAULT_IDP_TEMPLATE_LOADING_STRATEGY",y.w7.LOCAL),O(P,"IDP_TEMPLATES_CREATE_DOCS_KEY","".concat(f.PORTAL_DOCS_KEY,'["Identity Providers"]["Create New Identity Provider"]')),O(P,"IDENTITY_PROVIDER_TEMPLATE_FETCH_INVALID_STATUS_CODE_ERROR","Received an invalid status code while fetching identity provider template."),O(P,"IDENTITY_PROVIDER_TEMPLATE_FETCH_ERROR","An error occurred while fetching the required identity provider template."),O(P,"IDENTITY_PROVIDER_TEMPLATES_LIST_FETCH_INVALID_STATUS_CODE_ERROR","Received an invalid status code while fetching identity provider templates list."),O(P,"IDENTITY_PROVIDER_TEMPLATES_LIST_FETCH_ERROR","An error occurred while fetching the required identity provider templates list."),O(P,"IDENTITY_PROVIDER_JIT_PROVISIONING_UPDATE_ERROR","An error occurred while updating the JIT provisioning configurations of the identity provider."),O(P,"LOCAL_AUTHENTICATORS_FETCH_INVALID_STATUS_CODE_ERROR","Received an invalid status code while fetching local authenticators."),O(P,"LOCAL_AUTHENTICATORS_FETCH_ERROR","An error occurred while fetching the localauthenticators."),O(P,"LOCAL_AUTHENTICATOR_FETCH_INVALID_STATUS_CODE_ERROR","Received an invalid status code while fetching the local authenticator."),O(P,"LOCAL_AUTHENTICATOR_FETCH_ERROR","An error occurred while fetching the local authenticator."),O(P,"AUTHENTICATORS_FETCH_INVALID_STATUS_CODE_ERROR","Received an invalid status code while fetching the authenticators."),O(P,"AUTHENTICATORS_FETCH_ERROR","An error occurred while fetching the authenticators."),O(P,"AUTHENTICATOR_TAGS_FETCH_INVALID_STATUS_CODE_ERROR","Received an invalid status code while fetching the authenticator tags."),O(P,"AUTHENTICATOR_TAGS_FETCH_ERROR","An error occurred while fetching the authenticator tags."),O(P,"MULTI_FACTOR_AUTHENTICATOR_FETCH_INVALID_STATUS_CODE_ERROR","Received an invalid status code while fetching the multi-factor authenticator."),O(P,"MULTI_FACTOR_AUTHENTICATOR_FETCH_ERROR","An error occurred while fetching the multi-factor authenticator."),O(P,"MULTI_FACTOR_AUTHENTICATOR_UPDATE_INVALID_STATUS_CODE_ERROR","Received an invalid status code while updating the multi-factor authenticator."),O(P,"MULTI_FACTOR_AUTHENTICATOR_UPDATE_ERROR","An error occurred while updating the multi-factor authenticator."),O(P,"COMBINED_AUTHENTICATOR_FETCH_ERROR","An error occurred while fetching the localand federated authenticators."),O(P,"IDENTITY_PROVIDER_CLAIMS_UPDATE_ERROR","An error occurred while updating claims configurations of the identity provider."),O(P,"IDENTITY_PROVIDER_CERTIFICATE_UPDATE_ERROR","An error occurred while updating the certificate of the identity provider."),O(P,"BASIC_AUTH_REQUEST_PATH_AUTHENTICATOR","BasicAuthRequestPathAuthenticator"),O(P,"OAUTH_REQUEST_PATH_AUTHENTICATOR","OAuthRequestPathAuthenticator"),O(P,"PROVISIONING_CONNECTOR_DISPLAY_NAME","displayName"),O(P,"PROVISIONING_CONNECTOR_GOOGLE","googleapps"),O(P,"X509_AUTHENTICATOR","x509CertificateAuthenticator"),O(P,"SESSION_EXECUTOR_AUTHENTICATOR","SessionExecutor"),O(P,"TOTP_AUTHENTICATOR","totp"),O(P,"EMAIL_OTP_AUTHENTICATOR","email-otp-authenticator"),O(P,"FIDO_AUTHENTICATOR","FIDOAuthenticator"),O(P,"BASIC_AUTHENTICATOR","BasicAuthenticator"),O(P,"IDENTIFIER_FIRST_AUTHENTICATOR","IdentifierExecutor"),O(P,"SMS_OTP_AUTHENTICATOR","sms-otp"),O(P,"BACKUP_CODE_AUTHENTICATOR","backup-code-authenticator"),O(P,"MAGIC_LINK_AUTHENTICATOR","MagicLinkAuthenticator"),O(P,"OIDC_AUTHENTICATOR_ID","T3BlbklEQ29ubmVjdEF1dGhlbnRpY2F0b3I"),O(P,"SAML_AUTHENTICATOR_ID","U0FNTFNTT0F1dGhlbnRpY2F0b3I"),O(P,"PASSIVE_STS_AUTHENTICATOR_ID","UGFzc2l2ZVNUU0F1dGhlbnRpY2F0b3I"),O(P,"ORGANIZATION_ENTERPRISE_AUTHENTICATOR_ID","T3JnYW5pemF0aW9uQXV0aGVudGljYXRvcg"),O(P,"BASIC_AUTHENTICATOR_ID","QmFzaWNBdXRoZW50aWNhdG9y"),O(P,"IDENTIFIER_FIRST_AUTHENTICATOR_ID","SWRlbnRpZmllckV4ZWN1dG9y"),O(P,"JWT_BASIC_AUTHENTICATOR_ID","SldUQmFzaWNBdXRoZW50aWNhdG9y"),O(P,"FIDO_AUTHENTICATOR_ID","RklET0F1dGhlbnRpY2F0b3I"),O(P,"SMS_OTP_AUTHENTICATOR_ID","U01TT1RQ"),O(P,"TOTP_AUTHENTICATOR_ID","dG90cA"),O(P,"ACTIVE_SESSION_LIMIT_HANDLER_AUTHENTICATOR_ID","U2Vzc2lvbkV4ZWN1dG9y"),O(P,"X509_CERTIFICATE_AUTHENTICATOR_ID","eDUwOUNlcnRpZmljYXRlQXV0aGVudGljYXRvcg"),O(P,"BASIC_AUTH_AUTHENTICATOR_ID","QmFzaWNBdXRoUmVxdWVzdFBhdGhBdXRoZW50aWNhdG9y"),O(P,"OAUTH_BEARER_AUTHENTICATOR_ID","T0F1dGhSZXF1ZXN0UGF0aEF1dGhlbnRpY2F0b3I"),O(P,"EMAIL_OTP_AUTHENTICATOR_ID","ZW1haWwtb3RwLWF1dGhlbnRpY2F0b3I"),O(P,"LEGACY_EMAIL_OTP_AUTHENTICATOR_ID","RW1haWxPVFA"),O(P,"BACKUP_CODE_AUTHENTICATOR_ID","YmFja3VwLWNvZGUtYXV0aGVudGljYXRvcgo="),O(P,"MAGIC_LINK_AUTHENTICATOR_ID","TWFnaWNMaW5rQXV0aGVudGljYXRvcg"),O(P,"GOOGLE_OIDC_AUTHENTICATOR_ID","R29vZ2xlT0lEQ0F1dGhlbnRpY2F0b3I"),O(P,"FACEBOOK_AUTHENTICATOR_ID","RmFjZWJvb2tBdXRoZW50aWNhdG9y"),O(P,"TWITTER_AUTHENTICATOR_ID","VHdpdHRlckF1dGhlbnRpY2F0b3I"),O(P,"GITHUB_AUTHENTICATOR_ID","R2l0aHViQXV0aGVudGljYXRvcg"),O(P,"YAHOO_AUTHENTICATOR_ID","WWFob29PQXV0aDJBdXRoZW50aWNhdG9y"),O(P,"OFFICE_365_AUTHENTICATOR_ID","T2ZmaWNlMzY1QXV0aGVudGljYXRvcg"),O(P,"MS_LIVE_AUTHENTICATOR_ID","TWljcm9zb2Z0V2luZG93c0xpdmVBdXRoZW50aWNhdG9y"),O(P,"IWA_KERBEROS_AUTHENTICATOR_ID","SVdBS2VyYmVyb3NBdXRoZW50aWNhdG9y"),O(P,"PASSIVE_STS_AUTHENTICATOR_NAME","PassiveSTSAuthenticator"),O(P,"SAML_AUTHENTICATOR_NAME","SAMLSSOAuthenticator"),O(P,"OIDC_AUTHENTICATOR_NAME","OpenIDConnectAuthenticator"),O(P,"LEGACY_EMAIL_OTP_AUTHENTICATOR_NAME","EmailOTP"),O(P,"SMS_OTP_AUTHENTICATOR_NAME","SMSOTP"),O(P,"GOOGLE_OIDC_AUTHENTICATOR_NAME","GoogleOIDCAuthenticator"),O(P,"FACEBOOK_AUTHENTICATOR_NAME","FacebookAuthenticator"),O(P,"GITHUB_AUTHENTICATOR_NAME","GithubAuthenticator"),O(P,"YAHOO_AUTHENTICATOR_NAME","YahooOAuth2Authenticator"),O(P,"TWITTER_AUTHENTICATOR_NAME","TwitterAuthenticator"),O(P,"OFFICE_365_AUTHENTICATOR_NAME","Office365Authenticator"),O(P,"MS_LIVE_AUTHENTICATOR_NAME","MicrosoftWindowsLiveAuthenticator"),O(P,"IWA_KERBEROS_AUTHENTICATOR_NAME","IWAKerberosAuthenticator"),O(P,"GOOGLE_OIDC_AUTHENTICATOR_DISPLAY_NAME","Google"),O(P,"FACEBOOK_AUTHENTICATOR_DISPLAY_NAME","Facebook"),O(P,"GITHUB_AUTHENTICATOR_DISPLAY_NAME","GitHub"),O(P,"ERROR_CREATE_LIMIT_REACHED",new l.IdentityAppsError("IDP-60035","console:develop.features.idp.notifications.apiLimitReachedError.error.description","console:develop.features.idp.notifications.apiLimitReachedError.error.message","cec1f247-32fd-4624-9915-f469195a53ac")),O(P,"ERROR_CREATE_LIMIT_REACHED_IDP",new l.IdentityAppsError("IDP-60035","console:develop.features.authenticationProvider.notifications.apiLimitReachedError.error.description","console:develop.features.authenticationProvider.notifications.apiLimitReachedError.error.message","cec1f247-32fd-4624-9915-f469195a53ac")),O(P,"SHOW_PREDEFINED_TEMPLATES_IN_EXPERT_MODE_SETUP",!1)},84857:function(e,t,n){n.d(t,{Xi:function(){return c.Xi},zy:function(){return i.zy},Cr:function(){return l.C},bQ:function(){return a.bQ},zc:function(){return u.z},w7:function(){return c.w7},b9:function(){return u.b},Ex:function(){return i.Ex},eG:function(){return o.eG},nI:function(){return o.nI},fb:function(){return o.fb},OL:function(){return r.OL},SN:function(){return r.SN}});var r=n(33581),i=n(85869),o=n(59413),a=n(21307),l=n(33349),c=n(59867),u=(n(12662),n(51861),n(91140),n(32070),n(11380))},33349:function(e,t,n){n.d(t,{C:function(){return d}});var r=n(81771),i=n(67897),o=n(59413),a=n(21307),l=n(59867);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var d=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,d;return t=e,d=[{key:"getAuthenticatorDescription",value:function(e){var t;return(0,r.Z)((c(t={},a.bQ.BASIC_AUTHENTICATOR_ID,"Login users with username and password credentials."),c(t,a.bQ.IDENTIFIER_FIRST_AUTHENTICATOR_ID,"Get users Identity first to control the authentication flow."),c(t,a.bQ.FIDO_AUTHENTICATOR_ID,"Provide secure and fast passwordless login experience using FIDO2."),c(t,a.bQ.TOTP_AUTHENTICATOR_ID,"Two-factor authentication using Time-Based One Time passcode."),c(t,a.bQ.GOOGLE_OIDC_AUTHENTICATOR_ID,"Login users with existing Google accounts."),c(t,a.bQ.GITHUB_AUTHENTICATOR_ID,"Login users with existing GitHub accounts."),c(t,a.bQ.FACEBOOK_AUTHENTICATOR_ID,"Login users with existing Facebook accounts."),c(t,a.bQ.TWITTER_AUTHENTICATOR_ID,"Login users with existing Twitter accounts."),c(t,a.bQ.OIDC_AUTHENTICATOR_ID,"Authenticate users with Enterprise OIDC connections."),c(t,a.bQ.SAML_AUTHENTICATOR_ID,"Authenticate users with Enterprise SAML connections."),c(t,a.bQ.EMAIL_OTP_AUTHENTICATOR_ID,"Two-factor authentication using one-time passcode sent via email."),c(t,a.bQ.LEGACY_EMAIL_OTP_AUTHENTICATOR_ID,"Two-factor authentication using one-time passcode sent via email."),c(t,a.bQ.SMS_OTP_AUTHENTICATOR_ID,"Two-factor authentication using SMS one-time passcode."),c(t,a.bQ.MAGIC_LINK_AUTHENTICATOR_ID,"Email users a magic link to log in passwordless"),t),e)}},{key:"getAuthenticatorLabels",value:function(e){var t;return(0,r.Z)((c(t={},a.bQ.IDENTIFIER_FIRST_AUTHENTICATOR_ID,[l.Yn.HANDLERS]),c(t,a.bQ.FIDO_AUTHENTICATOR_ID,i.identityProviderConfig.fidoTags),c(t,a.bQ.TOTP_AUTHENTICATOR_ID,[l.Yn.SECOND_FACTOR,l.Yn.MULTI_FACTOR]),c(t,a.bQ.GOOGLE_OIDC_AUTHENTICATOR_ID,[l.Yn.SOCIAL,l.Yn.OIDC]),c(t,a.bQ.GITHUB_AUTHENTICATOR_ID,[l.Yn.SOCIAL,l.Yn.OIDC]),c(t,a.bQ.FACEBOOK_AUTHENTICATOR_ID,[l.Yn.SOCIAL,l.Yn.OIDC]),c(t,a.bQ.TWITTER_AUTHENTICATOR_ID,[l.Yn.SOCIAL,l.Yn.OIDC]),c(t,a.bQ.OIDC_AUTHENTICATOR_ID,[l.Yn.OIDC]),c(t,a.bQ.SAML_AUTHENTICATOR_ID,[l.Yn.SAML]),c(t,a.bQ.EMAIL_OTP_AUTHENTICATOR_ID,[l.Yn.MULTI_FACTOR]),c(t,a.bQ.MAGIC_LINK_AUTHENTICATOR_ID,[l.Yn.PASSWORDLESS]),t),e)}},{key:"getAuthenticatorTypeDisplayName",value:function(e){var t;return(0,r.Z)((c(t={},l.Xi.ENTERPRISE,"console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.addAuthenticatorModal.content.authenticatorGroups.enterprise.heading"),c(t,l.Xi.LOCAL,"console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.addAuthenticatorModal.content.authenticatorGroups.basic.heading"),c(t,l.Xi.SECOND_FACTOR,"console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.addAuthenticatorModal.content.authenticatorGroups.mfa.heading"),c(t,l.Xi.SOCIAL,"console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.addAuthenticatorModal.content.authenticatorGroups.social.heading"),t),e)}},{key:"getAuthenticatorDisplayName",value:function(e){var t;return(0,r.Z)((c(t={},a.bQ.BASIC_AUTHENTICATOR,"Username & Password"),c(t,a.bQ.BASIC_AUTHENTICATOR_ID,"Username & Password"),c(t,a.bQ.FIDO_AUTHENTICATOR_ID,"Security Key/Biometrics"),c(t,a.bQ.TOTP_AUTHENTICATOR_ID,"TOTP"),c(t,a.bQ.EMAIL_OTP_AUTHENTICATOR_ID,"Email OTP"),c(t,a.bQ.IDENTIFIER_FIRST_AUTHENTICATOR_ID,"Identifier First"),c(t,a.bQ.SMS_OTP_AUTHENTICATOR_ID,"SMS OTP"),c(t,a.bQ.MAGIC_LINK_AUTHENTICATOR_ID,"Magic Link"),t),e)}},{key:"getAuthenticatorIcon",value:function(e){var t,n,i,l,u,d,s,p,f,m,v,E=(0,r.Z)((c(v={},a.bQ.IDENTIFIER_FIRST_AUTHENTICATOR_ID,null===(t=(0,o.C4)())||void 0===t?void 0:t.identifierFirst),c(v,a.bQ.JWT_BASIC_AUTHENTICATOR_ID,null===(n=(0,o.C4)())||void 0===n?void 0:n.jwtBasic),c(v,a.bQ.FIDO_AUTHENTICATOR_ID,null===(i=(0,o.C4)())||void 0===i?void 0:i.fido),c(v,a.bQ.X509_CERTIFICATE_AUTHENTICATOR_ID,null===(l=(0,o.C4)())||void 0===l?void 0:l.x509),c(v,a.bQ.TOTP_AUTHENTICATOR_ID,null===(u=(0,o.C4)())||void 0===u?void 0:u.totp),c(v,a.bQ.BASIC_AUTHENTICATOR_ID,null===(d=(0,o.C4)())||void 0===d?void 0:d.basic),c(v,a.bQ.ACTIVE_SESSION_LIMIT_HANDLER_AUTHENTICATOR_ID,null===(s=(0,o.C4)())||void 0===s?void 0:s.sessionExecutor),c(v,a.bQ.EMAIL_OTP_AUTHENTICATOR_ID,null===(p=(0,o.C4)())||void 0===p?void 0:p.emailOTP),c(v,a.bQ.SMS_OTP_AUTHENTICATOR_ID,null===(f=(0,o.C4)())||void 0===f?void 0:f.smsOTP),c(v,a.bQ.MAGIC_LINK_AUTHENTICATOR_ID,null===(m=(0,o.C4)())||void 0===m?void 0:m.magicLink),v),e);return null!==E&&void 0!==E?E:(0,o.C4)().default}},{key:"getAuthenticatorCategory",value:function(e){var t;return(0,r.Z)((c(t={},a.bQ.IDENTIFIER_FIRST_AUTHENTICATOR_ID,"Predefined"),c(t,a.bQ.FIDO_AUTHENTICATOR_ID,"Predefined"),c(t,a.bQ.MAGIC_LINK_AUTHENTICATOR_ID,"Predefined"),c(t,a.bQ.TOTP_AUTHENTICATOR_ID,"Predefined"),c(t,a.bQ.GOOGLE_OIDC_AUTHENTICATOR_ID,"Google"),c(t,a.bQ.GITHUB_AUTHENTICATOR_ID,"GitHub"),c(t,a.bQ.FACEBOOK_AUTHENTICATOR_ID,"Facebook"),c(t,a.bQ.TWITTER_AUTHENTICATOR_ID,"Twitter"),c(t,a.bQ.OIDC_AUTHENTICATOR_ID,"OIDC"),c(t,a.bQ.SAML_AUTHENTICATOR_ID,"SAML"),c(t,a.bQ.EMAIL_OTP_AUTHENTICATOR_ID,"Predefined"),c(t,a.bQ.SMS_OTP_AUTHENTICATOR_ID,"Predefined"),t),e)}},{key:"getAllowedFilterTags",value:function(){return[l.Yn.MULTI_FACTOR,l.Yn.PASSWORDLESS,l.Yn.OIDC,l.Yn.SOCIAL,l.Yn.SAML]}},{key:"getAuthenticatorTemplateName",value:function(e){var t;return(0,r.Z)((c(t={},a.bQ.BASIC_AUTHENTICATOR,"username-and-password"),c(t,a.bQ.BASIC_AUTHENTICATOR_ID,"username-and-password"),c(t,a.bQ.FIDO_AUTHENTICATOR_ID,"fido"),c(t,a.bQ.TOTP_AUTHENTICATOR_ID,"totp"),c(t,a.bQ.SMS_OTP_AUTHENTICATOR_ID,"sms-otp"),c(t,a.bQ.EMAIL_OTP_AUTHENTICATOR_ID,"email-otp"),c(t,a.bQ.IDENTIFIER_FIRST_AUTHENTICATOR_ID,"identifier-first"),c(t,a.bQ.GOOGLE_OIDC_AUTHENTICATOR_ID,"google"),c(t,a.bQ.GITHUB_AUTHENTICATOR_ID,"github"),c(t,a.bQ.FACEBOOK_AUTHENTICATOR_ID,"facebook"),c(t,a.bQ.TWITTER_AUTHENTICATOR_ID,"twitter"),c(t,a.bQ.OIDC_AUTHENTICATOR_ID,"enterprise-oidc"),c(t,a.bQ.SAML_AUTHENTICATOR_ID,"enterprise-saml"),t),e)}}],(n=null)&&u(t.prototype,n),d&&u(t,d),Object.defineProperty(t,"prototype",{writable:!1}),e}()},59867:function(e,t,n){var r,i,o,a,l,c,u,d,s,p,f,m,v;n.d(t,{RE:function(){return m},Xi:function(){return p},Yn:function(){return s},Pk:function(){return c},S_:function(){return f},BH:function(){return v},w7:function(){return r},Rt:function(){return o},vA:function(){return l},u9:function(){return i},fU:function(){return u}}),function(e){e.LOCAL="LOCAL",e.REMOTE="REMOTE"}(r||(r={})),function(e){e.GOOGLE="Google"}(i||(i={})),function(e){e.NONE="none",e.FACEBOOK="FacebookAuthenticator",e.GOOGLE="GoogleOIDCAuthenticator",e.TWITTER="TwitterAuthenticator",e.OIDC="OpenIDConnectAuthenticator",e.SAML="SAMLSSOAuthenticator"}(o||(o={})),function(e){e.NONE="none",e.GOOGLE="google"}(a||(a={})),function(e){e.PROVISION_SILENTLY="PROVISION_SILENTLY",e.PROMPT_CONSENT="PROMPT_CONSENT",e.PROMPT_PASSWORD_CONSENT="PROMPT_PASSWORD_CONSENT",e.PROMPT_USERNAME_PASSWORD_CONSENT="PROMPT_USERNAME_PASSWORD_CONSENT"}(l||(l={})),function(e){e.CREATE="CREATE",e.EDIT="EDIT"}(c||(c={})),function(e){e.AUTHENTICATION="authentication",e.PROVISIONING="provisioning"}(u||(u={})),function(e){e.QUICK_START="quick_start"}(d||(d={})),function(e){e.SOCIAL="Social-Login",e.FIRST_FACTOR="First Factor",e.SECOND_FACTOR="2FA",e.MULTI_FACTOR="MFA",e.OIDC="OIDC",e.SAML="SAML",e.PASSWORDLESS="Passwordless",e.HANDLERS="Handlers",e.USERNAMELESS="Usernameless"}(s||(s={})),function(e){e.ENTERPRISE="ENTERPRISE",e.LOCAL="LOCAL",e.SECOND_FACTOR="SECOND_FACTOR",e.SOCIAL="SOCIAL"}(p||(p={})),function(e){e.FEDERATED="FEDERATED",e.LOCAL="LOCAL"}(f||(f={})),function(e){e.SAML="saml",e.OIDC="oidc",e.WS_FEDERATION="passive-sts",e.WS_TRUST="ws-trust",e.CUSTOM="custom"}(m||(m={})),function(e){e.GENERAL="General",e.SETTINGS="settings",e.USER_ATTRIBUTES="user-attributes",e.ADVANCED="advanced"}(v||(v={}))},12662:function(e,t,n){n.r(t);var r=n(8890),i=n(88742),o=n(26278),a=n(96462),l=n(81771),c=n(68905),u=n(64805),d=n(83913),s=n(99104),p=n(7626),f=n(62363),m=n(12847),v=n(33581),E=n(85869),h=n(21307),g=n(33349),I=n(59867),T=n(11380);function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){l=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var A=function(e){var t,n,y=e.location,A=e["data-testid"],S=(0,d.I0)(),O=(0,u.$G)().t,P=(0,d.v9)((function(e){return e.config})),C=(0,d.v9)((function(e){return e.identityProvider.templates})),_=(0,c.useRef)(null),R=b((0,c.useState)(void 0),2),N=R[0],w=R[1],D=b((0,c.useState)(void 0),2),L=D[0],M=D[1],U=b((0,c.useState)(void 0),2),k=U[0],H=U[1],G=b((0,c.useState)(!1),2),F=(G[0],G[1]),x=b((0,c.useState)(void 0),2),z=x[0],j=x[1],Z=(0,d.v9)((function(e){return e.config.ui.features})),Q=(0,d.v9)((function(e){var t;return null===e||void 0===e||null===(t=e.auth)||void 0===t?void 0:t.allowedScopes})),V=b((0,c.useState)(!1),2),B=V[0],W=V[1],Y=(0,c.useMemo)((function(){var e,t;return!(0,r.hasRequiredScopes)(null===Z||void 0===Z?void 0:Z.identityProviders,null===Z||void 0===Z||null===(e=Z.identityProviders)||void 0===e||null===(t=e.scopes)||void 0===t?void 0:t.update,Q)}),[Z,Q]);(0,c.useEffect)((function(){if(_||k){var e=_.current;e&&e.offsetWidth<e.scrollWidth&&W(!0)}}),[_,k]),(0,c.useEffect)((function(){if(f.identityProviderConfig){var e=y.pathname.split("/"),t=e[e.length-1],n=(0,l.Z)(f.identityProviderConfig.authenticators,t);null!==n&&void 0!==n&&n.isEnabled?$(t,null===n||void 0===n?void 0:n.useAuthenticatorsAPI):q(t)}}),[f.identityProviderConfig]),(0,c.useEffect)((function(){void 0===z&&j(f.identityProviderConfig.useNewConnectionsView)}),[f.identityProviderConfig]),(0,c.useEffect)((function(){if(void 0===C){H(!0);var e=P.ui.identityProviderTemplateLoadingStrategy?P.ui.identityProviderTemplateLoadingStrategy===I.w7.REMOTE:h.bQ.DEFAULT_IDP_TEMPLATE_LOADING_STRATEGY===I.w7.REMOTE;T.b.getIdentityProviderTemplates(e).finally((function(){H(!1)}))}}),[C]),(0,c.useEffect)((function(){if(L&&T.z.isConnectorIdentityProvider(L)&&C&&C instanceof Array&&C.length>0){var e=C.find((function(e){var t,n;return e.id===(null!==(t=L.templateId)&&void 0!==t?t:function(e){if(e){if(e===h.bQ.FACEBOOK_AUTHENTICATOR_ID)return h.bQ.IDP_TEMPLATE_IDS.FACEBOOK;if(e===h.bQ.GOOGLE_OIDC_AUTHENTICATOR_ID)return h.bQ.IDP_TEMPLATE_IDS.GOOGLE;if(e===h.bQ.OIDC_AUTHENTICATOR_ID)return h.bQ.IDP_TEMPLATE_IDS.OIDC;if(e===h.bQ.SAML_AUTHENTICATOR_ID)return h.bQ.IDP_TEMPLATE_IDS.SAML;if(e===h.bQ.GITHUB_AUTHENTICATOR_ID)return h.bQ.IDP_TEMPLATE_IDS.GITHUB}return""}(null===(n=L.federatedAuthenticators)||void 0===n?void 0:n.defaultAuthenticatorId))}));w(e)}}),[C,L]);var q=function(e){H(!0),(0,v.OL)(e).then((function(e){M(e)})).catch((function(e){e.response&&e.response.data&&e.response.data.description?S((0,o.addAlert)({description:O("console:develop.features.authenticationProvider.notifications.getIDP.error.description",{description:e.response.data.description}),level:i.AlertLevels.ERROR,message:O("console:develop.features.authenticationProvider.notifications.getIDP.error.message")})):S((0,o.addAlert)({description:O("console:develop.features.authenticationProvider.notifications.getIDP.genericError.description"),level:i.AlertLevels.ERROR,message:O("console:develop.features.authenticationProvider.notifications.getIDP.genericError.message")}))})).finally((function(){H(!1)}))},$=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];H(!0);var n=function(t){t(e).then((function(e){M(e)})).catch((function(e){e.response&&e.response.data&&e.response.data.description?S((0,o.addAlert)({description:O("console:develop.features.authenticationProvider.notifications.getConnectionDetails.error.description",{description:e.response.data.description}),level:i.AlertLevels.ERROR,message:O("console:develop.features.authenticationProvider.notifications.getConnectionDetails.error.message")})):S((0,o.addAlert)({description:O("console:develop.features.authenticationProvider.notifications.getConnectionDetails.genericError.description"),level:i.AlertLevels.ERROR,message:O("console:develop.features.authenticationProvider.notifications.getConnectionDetails.genericError.message")}))})).finally((function(){H(!1)}))};n(t?v.hc:v.Rz)},X=function(){m.m8.push(m.$x.getPaths().get("IDP"))};return c.createElement(a.PageLayout,{pageTitle:"Edit Connection",isLoading:k||void 0===z,title:function(e){var t;return e?T.z.isConnectorIdentityProvider(e)?c.createElement(c.Fragment,null,e.name,!1===k&&e.name&&function(e){return e&&T.z.isConnectorIdentityProvider(e)?null!==e&&void 0!==e&&e.isEnabled?c.createElement(a.LabelWithPopup,{popupHeader:O("console:develop.features.authenticationProvider.popups.appStatus.enabled.header"),popupSubHeader:O("console:develop.features.authenticationProvider.popups.appStatus.enabled.content"),labelColor:"green"}):c.createElement(a.LabelWithPopup,{popupHeader:O("console:develop.features.authenticationProvider.popups.appStatus.disabled.header"),popupSubHeader:O("console:develop.features.authenticationProvider.popups.appStatus.disabled.content"),labelColor:"grey"}):null}(e)):null!==(t=g.C.getAuthenticatorDisplayName(e.id))&&void 0!==t?t:e.friendlyName||e.name:null}(L),contentTopMargin:!0,description:function(e){return e?T.z.isConnectorIdentityProvider(e)?c.createElement("div",{className:"with-label ellipsis",ref:_},(null===N||void 0===N?void 0:N.name)&&c.createElement(s.Z,{size:"small"},N.name),c.createElement(p.Z,{disabled:!B,content:null===e||void 0===e?void 0:e.description,trigger:c.createElement("span",null,null===e||void 0===e?void 0:e.description)})):c.createElement("div",{className:"with-label ellipsis",ref:_},null!==e&&void 0!==e&&e.description?c.createElement(p.Z,{disabled:!B,content:null===e||void 0===e?void 0:e.description,trigger:c.createElement("span",null,null===e||void 0===e?void 0:e.description)}):g.C.getAuthenticatorDescription(e.id)):null}(L),image:function(e){return e?T.z.isConnectorIdentityProvider(e)?e.image?c.createElement(a.AppAvatar,{hoverable:!1,name:e.name,image:e.image,size:"tiny"}):c.createElement(a.AnimatedAvatar,{hoverable:!1,name:e.name,size:"tiny",floated:"left"}):c.createElement(a.AppAvatar,{hoverable:!1,name:e.name,image:g.C.getAuthenticatorIcon(e.id),size:"tiny"}):c.createElement(a.AppAvatar,{hoverable:!1,isLoading:!0,size:"tiny"})}(L),backButton:{"data-testid":"".concat(A,"-page-back-button"),onClick:function(){m.m8.push(m.$x.getPaths().get("IDP"))},text:O(z?"console:develop.pages.authenticationProviderTemplate.backButton":"console:develop.pages.idpTemplate.backButton")},titleTextAlign:"left",bottomMargin:!1,"data-testid":"".concat(A,"-page-layout")},T.z.isConnectorIdentityProvider(L)?c.createElement(E.mF,{identityProvider:L,isLoading:k,onDelete:X,onUpdate:function(e){q(e)},isGoogle:void 0===(null===N||void 0===N?void 0:N.name)?void 0:N.name===I.u9.GOOGLE,isSaml:void 0===(null===L||void 0===L||null===(t=L.federatedAuthenticators)||void 0===t?void 0:t.defaultAuthenticatorId)?void 0:L.federatedAuthenticators.defaultAuthenticatorId===h.bQ.SAML_AUTHENTICATOR_ID,isOidc:void 0===(null===L||void 0===L||null===(n=L.federatedAuthenticators)||void 0===n?void 0:n.defaultAuthenticatorId)?void 0:L.federatedAuthenticators.defaultAuthenticatorId===h.bQ.OIDC_AUTHENTICATOR_ID,"data-testid":A,template:N,isTabExtensionsAvailable:function(e){return F(e)},type:null===N||void 0===N?void 0:N.id,isReadOnly:Y}):c.createElement(E.uw,{authenticator:L,isLoading:k,onDelete:X,onUpdate:function(e){if(f.identityProviderConfig){var t=(0,l.Z)(f.identityProviderConfig.authenticators,e);$(e,null===t||void 0===t?void 0:t.useAuthenticatorsAPI)}},isTabExtensionsAvailable:function(e){return F(e)},type:null===L||void 0===L?void 0:L.id,isReadOnly:Y}))};A.defaultProps={"data-testid":"idp-edit-page"},t.default=A},51861:function(e,t,n){n.r(t);var r=n(96462),i=n(25479),o=n(87289),a=n(45544),l=n(70271),c=n(43017),u=n(68905),d=n(64805),s=n(83913),p=n(62363),f=n(12847),m=n(82291),v=n(59413),E=n(21307),h=n(59867),g=n(32070),I=n(11380);function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){l=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var y=function(e){var t=e.location,n=e["data-testid"],b=new URLSearchParams(t.search),y=(0,s.I0)(),A=(0,d.$G)().t,S=(0,r.useDocumentation)().getLink,O=(0,s.v9)((function(e){return e.config})),P=(0,s.v9)((function(e){return e.identityProvider.meta.authenticators})),C=(0,s.v9)((function(e){var t;return null===(t=e.identityProvider)||void 0===t?void 0:t.groupedTemplates})),_=T((0,u.useState)(!1),2),R=_[0],N=_[1],w=T((0,u.useState)(void 0),2),D=w[0],L=w[1],M=T((0,u.useState)([]),2),U=M[0],k=M[1],H=T((0,u.useState)([]),2),G=H[0],F=H[1],x=T((0,u.useState)(!1),2),z=x[0],j=x[1],Z=T((0,u.useState)(void 0),2),Q=Z[0],V=Z[1],B=T((0,u.useState)([]),2),W=B[0],Y=B[1],q=T((0,u.useState)(""),2),$=q[0],X=q[1],K=T((0,u.useState)(void 0),2),J=K[0],ee=K[1],te=f.lD.getInstance();(0,u.useEffect)((function(){void 0===J&&ee(p.identityProviderConfig.useNewConnectionsView)}),[p.identityProviderConfig]),(0,u.useEffect)((function(){U&&F(U)}),[U]),(0,u.useEffect)((function(){if(void 0===C){j(!0);var e=O.ui.identityProviderTemplateLoadingStrategy?O.ui.identityProviderTemplateLoadingStrategy===h.w7.REMOTE:E.bQ.DEFAULT_IDP_TEMPLATE_LOADING_STRATEGY===h.w7.REMOTE;I.b.getIdentityProviderTemplates(e,!1,!0).finally((function(){return j(!1)}))}}),[C]),(0,u.useEffect)((function(){C&&Array.isArray(C)&&C.length>0&&I.b.categorizeTemplates(C).then((function(e){var t=[];e.filter((function(e){e.templates=(0,a.Z)(e.templates,["comingSoon"],["desc"]),e.templates.filter((function(e){null!==e&&void 0!==e&&e.tags&&Array.isArray(e.tags)&&e.tags.length>0&&(t=(0,c.Z)(t,e.tags))}))})),Y(t),k(e)})).catch((function(){k([])}))}),[C]),(0,u.useEffect)((function(){b.get(E.bQ.IDP_CREATE_WIZARD_TRIGGER_URL_SEARCH_PARAM_KEY)&&(b.get(E.bQ.IDP_CREATE_WIZARD_TRIGGER_URL_SEARCH_PARAM_KEY)!==E.bQ.IDP_TEMPLATE_IDS.GOOGLE||ne(null,E.bQ.IDP_TEMPLATE_IDS.GOOGLE))}),[b.get(E.bQ.IDP_CREATE_WIZARD_TRIGGER_URL_SEARCH_PARAM_KEY)]);var ne=function(e,t){var n=C.find((function(e){return e.id===t}));n&&(V(n),te.publish("connections-select-template",{type:n.templateId})),L(t)},re=function(e,t){var n=function(e){return!!(0,o.Z)(t)||e.tags.some((function(e){return t.includes(e)}))},r=(0,i.Z)(U);return r.map((function(t){t.templates=t.templates.filter((function(t){return e?t.name.toLocaleLowerCase().includes(e)||t.tags.some((function(t){return t.toLocaleLowerCase().includes(e)||(0,l.Z)(t).toLocaleLowerCase().includes(e)}))?n(t):void 0:n(t)}))})),r};return u.createElement(r.PageLayout,{pageTitle:"Create New Connection",isLoading:void 0===J,title:A(J?"console:develop.pages.authenticationProviderTemplate.title":"console:develop.pages.idpTemplate.title"),contentTopMargin:!0,description:J?u.createElement(u.Fragment,null,A("console:develop.pages.authenticationProviderTemplate.subTitle"),u.createElement(r.DocumentationLink,{link:S("develop.connections.newConnection.learnMore")},A("common:learnMore"))):A("console:develop.pages.idpTemplate.subTitle"),backButton:{"data-testid":"".concat(n,"-page-back-button"),onClick:function(){P&&y((0,g.wX)(void 0)),f.m8.push(f.$x.getPaths().get("IDP"))},text:A(J?"console:develop.pages.authenticationProviderTemplate.backButton":"console:develop.pages.idpTemplate.backButton")},titleTextAlign:"left",bottomMargin:!1,"data-testid":"".concat(n,"-page-layout"),showBottomDivider:!0},u.createElement(r.GridLayout,{search:u.createElement(r.SearchWithFilterLabels,{placeholder:A("console:develop.pages.authenticationProviderTemplate.search.placeholder"),onSearch:function(e,t){X(e),F(re(e.toLocaleLowerCase(),t))},onFilter:function(e,t){X(e),F(re(e,t))},filterLabels:W}),isLoading:void 0===J||z},G&&!z?G.map((function(e,t){return u.createElement(r.ResourceGrid,{key:t,isEmpty:!(null!==e&&void 0!==e&&e.templates&&Array.isArray(e.templates)&&e.templates.length>0),emptyPlaceholder:(i=e.templates,$?u.createElement(r.EmptyPlaceholder,{image:(0,f.jF)().emptySearch,imageSize:"tiny",title:A("console:develop.placeholders.emptySearchResult.title"),subtitle:[A("console:develop.placeholders.emptySearchResult.subtitles.0",{query:$}),A("console:develop.placeholders.emptySearchResult.subtitles.1")],"data-testid":"".concat(n,"-empty-search-placeholder")}):0===i.length?u.createElement(r.EmptyPlaceholder,{image:(0,f.jF)().newList,imageSize:"tiny",title:A("console:develop.features.authenticationProvider.placeHolders.emptyConnectionTypeList.title"),subtitle:[A("console:develop.features.authenticationProvider.placeHolders.emptyConnectionTypeList.subtitles.0"),A("console:develop.features.authenticationProvider.placeHolders.emptyConnectionTypeList.subtitles.1")],"data-testid":"".concat(n,"-empty-placeholder")}):null)},e.templates.map((function(e,t){return"organization-enterprise-idp"===e.templateId&&!isOrganizationManagementEnabled?null:u.createElement(r.ResourceGrid.Card,{key:t,resourceName:"Enterprise"===e.name?"Standard-Based IdP":e.name,isResourceComingSoon:e.comingSoon,disabled:e.disabled,comingSoonRibbonLabel:A("common:comingSoon"),resourceDescription:e.description,resourceImage:I.z.resolveTemplateImage(e.image,(0,v.nI)()),tags:e.tags,onClick:function(t){ne(t,e.id)},showTooltips:{header:!1,description:!0},"data-testid":"".concat(n,"-").concat(e.name)})})));var i})):u.createElement(r.ContentLoader,{dimmer:!0})),u.createElement(m.zy,{open:R,type:D,selectedTemplate:Q,onIDPCreate:function(e){e?f.m8.push({pathname:f.$x.getPaths().get("IDP_EDIT").replace(":id",e),search:E.bQ.NEW_IDP_URL_SEARCH_PARAM}):f.m8.push(f.$x.getPaths().get("IDP"))},onWizardClose:function(){L(void 0),N(!1)}}))};y.defaultProps={"data-testid":"idp-templates"},t.default=y},91140:function(e,t,n){n.r(t);var r=n(69883),i=n(96462),o=n(81771),a=n(87289),l=n(68905),c=n(64805),u=n(83913),d=n(70515),s=n(62363),p=n(12847),f=n(33581),m=n(85869),v=n(21307),E=n(33349),h=n(59867),g=n(11380);function I(e){return function(e){if(Array.isArray(e))return y(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||b(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){l=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}(e,t)||b(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){if(e){if("string"===typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var A=[{key:1,text:"Name",value:"name"},{key:2,text:"Type",value:"type"},{key:3,text:"Created date",value:"createdDate"},{key:4,text:"Last updated",value:"lastUpdated"}],S=function(e){var t,n=e["data-testid"],y=(0,c.$G)().t,S=(0,i.useDocumentation)().getLink,O=T((0,l.useState)(""),2),P=O[0],C=O[1],_=T((0,l.useState)(A[0]),2),R=_[0],N=_[1],w=T((0,l.useState)(void 0),2),D=w[0],L=w[1],M=T((0,l.useState)({}),2),U=M[0],k=M[1],H=T((0,l.useState)([]),2),G=H[0],F=H[1],x=T((0,l.useState)([]),2),z=x[0],j=x[1],Z=T((0,l.useState)(0),2),Q=Z[0],V=Z[1],B=T((0,l.useState)(void 0),2),W=B[0],Y=B[1],q=T((0,l.useState)(void 0),2),$=q[0],X=q[1],K=T((0,l.useState)(void 0),2),J=K[0],ee=K[1],te=T((0,l.useState)(!1),2),ne=te[0],re=te[1],ie=T((0,l.useState)([]),2),oe=ie[0],ae=ie[1],le=T((0,l.useState)([]),2),ce=le[0],ue=le[1],de=T((0,l.useState)(!1),2),se=de[0],pe=de[1],fe=T((0,l.useState)(!1),2),me=fe[0],ve=fe[1],Ee=T((0,l.useState)(void 0),2),he=Ee[0],ge=Ee[1],Ie=(0,u.v9)((function(e){return e.config})),Te=p.lD.getInstance();(0,l.useEffect)((function(){void 0===he&&(s.identityProviderConfig.useNewConnectionsView||Y(p.ru.DEFAULT_RESOURCE_LIST_ITEM_LIMIT),ge(s.identityProviderConfig.useNewConnectionsView))}),[s.identityProviderConfig]),(0,l.useEffect)((function(){!0===he&&(ee(!0),(0,f.ag)(null,h.S_.LOCAL).then((function(e){var t=[];e.forEach((function(e){var n,r;if(e.type===h.S_.LOCAL&&(null===Ie||void 0===Ie||null===(n=Ie.ui)||void 0===n||null===(r=n.hiddenAuthenticators)||void 0===r||!r.includes(e.name))){e.id===v.bQ.FIDO_AUTHENTICATOR_ID&&(e.tags=I(s.identityProviderConfig.filterFidoTags(null===e||void 0===e?void 0:e.tags))),e.id===v.bQ.MAGIC_LINK_AUTHENTICATOR_ID&&(e.tags=[h.Yn.PASSWORDLESS]);var i=(0,o.Z)(s.identityProviderConfig.authenticators,e.id);if(i&&i.isEnabled){if(i.isComingSoon)return void t.push(e);t.unshift(e)}}})),j(t),Y(p.ru.DEFAULT_RESOURCE_GRID_ITEM_LIMIT-t.length)})).catch((function(e){(0,m.Df)(e)})).finally((function(){ee(!1)})))}),[he]),(0,l.useEffect)((function(){!0===he&&(0,a.Z)(oe)&&(0,f.mK)().then((function(e){ae(e.filter((function(e){return E.C.getAllowedFilterTags().includes(e)})))})).catch((function(){}))}),[he]),(0,l.useEffect)((function(){W&&ye(W,Q,null,!1)}),[Q,W]);var be=function(e){ee(!0),(0,f.ag)(e).then((function(t){F(t.filter((function(t){var n,r;if(null===Ie||void 0===Ie||null===(n=Ie.ui)||void 0===n||null===(r=n.hiddenAuthenticators)||void 0===r||!r.includes(t.name)){if(t.id===v.bQ.FIDO_AUTHENTICATOR_ID&&(t.tags=I(s.identityProviderConfig.filterFidoTags(null===t||void 0===t?void 0:t.tags))),t.id===v.bQ.MAGIC_LINK_AUTHENTICATOR_ID&&(t.tags=[h.Yn.PASSWORDLESS]),e.startsWith("tag")){var i,a=!1,l=function(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=b(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw o}}}}(null===t||void 0===t?void 0:t.tags);try{for(l.s();!(i=l.n()).done;){var c=i.value;if(e.includes("tag eq ".concat(c))){a=!0;break}}}catch(e){l.e(e)}finally{l.f()}if(!a)return}if(t.type===h.S_.LOCAL){var u=(0,o.Z)(s.identityProviderConfig.authenticators,t.id);return!!u&&u.isEnabled}return!0}})))})).finally((function(){ee(!1)}))},ye=function(e,t,n,r){X(!0),r&&ve(!0),(0,f.SN)(e,t,n,"federatedAuthenticators").then((function(e){L((null===e||void 0===e?void 0:e.links)&&Array.isArray(e.links)&&e.links[0]&&"next"===e.links[0].rel);var t=null!==U&&void 0!==U&&U.identityProviders&&Array.isArray(U.identityProviders)&&U.identityProviders.length>0?U.identityProviders:[],n=null!==e&&void 0!==e&&e.identityProviders?e.identityProviders:[];e.identityProviders=[].concat(I(r?t:z),I(n)),k(e)})).catch((function(e){(0,m.Df)(e)})).finally((function(){X(!1),ve(!1)}))},Ae=function(){ye(W,Q,null,!1)},Se=function(){C(""),ae([]),ye(W,Q,null,!1),re(!ne),pe(!1)},Oe=function(e,t){C(e),ue(t),be(g.z.buildAuthenticatorsFilterQuery(e,t)),(0,a.Z)(e)&&(0,a.Z)(t)?pe(!1):pe(!0)},Pe=function(e){C(e),ye(W,Q,e,!1)};return l.createElement(i.PageLayout,{pageTitle:"Connections",action:($||J||!(!P&&(null===U||void 0===U||null===(t=U.identityProviders)||void 0===t?void 0:t.length)<=0))&&void 0!==he&&l.createElement(r.di,{when:r.TA.IDP_WRITE},l.createElement(i.PrimaryButton,{onClick:function(){Te.publish("connections-click-new-connection-button"),p.m8.push(p.$x.getPaths().get("IDP_TEMPLATES"))},"data-testid":"".concat(n,"-add-button")},l.createElement(d.Z,{name:"add"}),y(he?"console:develop.features.authenticationProvider.buttons.addIDP":"console:develop.features.idp.buttons.addIDP"))),isLoading:void 0===he,title:y(he?"console:develop.pages.authenticationProvider.title":"console:develop.pages.idp.title"),description:he?l.createElement(l.Fragment,null,y("console:develop.pages.authenticationProvider.subTitle"),l.createElement(i.DocumentationLink,{link:S("develop.connections.learnMore")},y("common:learnMore"))):y("console:develop.pages.idp.subTitle"),"data-testid":"".concat(n,"-page-layout"),actionColumnWidth:4,headingColumnWidth:12},he?l.createElement(i.GridLayout,{search:l.createElement(i.SearchWithFilterLabels,{searchInput:l.createElement(p.nC,{fill:"white",onFilter:function(e){Oe(e,[])},filterAttributeOptions:[{key:0,text:y("common:name"),value:"name"}],filterConditionOptions:[{key:0,text:y("common:startsWith"),value:"sw"},{key:1,text:y("common:equals"),value:"eq"}],filterAttributePlaceholder:y("console:develop.features.authenticationProvider.advancedSearch.form.inputs.filterAttribute.placeholder"),filterConditionsPlaceholder:y("console:develop.features.authenticationProvider.advancedSearch.form.inputs.filterCondition.placeholder"),filterValuePlaceholder:y("console:develop.features.authenticationProvider.advancedSearch.form.inputs.filterValue.placeholder"),placeholder:y("console:develop.features.authenticationProvider.advancedSearch.placeholder"),defaultSearchAttribute:"name",defaultSearchOperator:"sw",triggerClearQuery:ne,"data-testid":"".concat(n,"-advance-search")}),filterLabels:oe,onFilter:function(e,t){Oe(P,t)},"data-testid":"".concat(n,"-search")}),isPaginating:me,paginate:function(){D&&ye(p.ru.DEFAULT_RESOURCE_GRID_ITEM_LIMIT,W,null,!0)},isLoading:void 0===J||void 0===$,translations:{loading:y("common:loading")}},l.createElement(m.Ui,{isLoading:!me&&(J||$),authenticators:se?G:null===U||void 0===U?void 0:U.identityProviders,onEmptyListPlaceholderActionClick:function(){Te.publish("connections-click-new-connection-button"),p.m8.push(p.$x.getPaths().get("IDP_TEMPLATES"))},isFiltering:se,isPaginating:me,onIdentityProviderDelete:Ae,onSearchQueryClear:Se,searchQuery:P,onUpdate:function(){be(g.z.buildAuthenticatorsFilterQuery(P,ce))},"data-testid":"".concat(n,"-list")})):l.createElement(i.ListLayout,{advancedSearch:l.createElement(p.nC,{onFilter:Pe,filterAttributeOptions:[{key:0,text:y("common:name"),value:"name"}],filterAttributePlaceholder:y("console:develop.features.authenticationProvider.advancedSearch.form.inputs.filterAttribute.placeholder"),filterConditionsPlaceholder:y("console:develop.features.authenticationProvider.advancedSearch.form.inputs.filterCondition.placeholder"),filterValuePlaceholder:y("console:develop.features.authenticationProvider.advancedSearch.form.inputs.filterValue.placeholder"),placeholder:y("console:develop.features.authenticationProvider.advancedSearch.placeholder"),defaultSearchAttribute:"name",defaultSearchOperator:"co",triggerClearQuery:ne,"data-testid":"".concat(n,"-advance-search")}),currentListSize:U.count,listItemLimit:W,onItemsPerPageDropdownChange:function(e,t){Y(t.value)},onPageChange:function(e,t){V((t.activePage-1)*W)},onSortStrategyChange:function(e,t){N(A.find((function(e){return t.value===e.value})))},showPagination:!0,showTopActionPanel:void 0!==he&&($||!(!P&&(null===U||void 0===U?void 0:U.totalResults)<=0)),sortOptions:A,sortStrategy:R,totalPages:Math.ceil(U.totalResults/W),totalListSize:U.totalResults,"data-testid":"".concat(n,"-list-layout")},l.createElement(m.L6,{advancedSearch:l.createElement(p.nC,{onFilter:Pe,filterAttributeOptions:[{key:0,text:y("common:name"),value:"name"}],filterAttributePlaceholder:y("console:develop.features.authenticationProvider.advancedSearch.form.inputs.filterAttribute.placeholder"),filterConditionsPlaceholder:y("console:develop.features.authenticationProvider.advancedSearch.form.inputs.filterCondition.placeholder"),filterValuePlaceholder:y("console:develop.features.authenticationProvider.advancedSearch.form.inputs.filterValue.placeholder"),placeholder:y("console:develop.features.authenticationProvider.advancedSearch.placeholder"),defaultSearchAttribute:"name",defaultSearchOperator:"co",triggerClearQuery:ne,"data-testid":"".concat(n,"-advance-search")}),isLoading:void 0===he&&$,list:U,onEmptyListPlaceholderActionClick:function(){return p.m8.push(p.$x.getPaths().get("IDP_TEMPLATES"))},onIdentityProviderDelete:Ae,onSearchQueryClear:Se,searchQuery:P,"data-testid":"".concat(n,"-list")})))};S.defaultProps={"data-testid":"idp"},t.default=S},75386:function(e,t,n){n.d(t,{w:function(){return i},_:function(){return o}});var r=n(11912),i=function(e){return{payload:e,type:r.T.SET_AVAILABLE_AUTHENTICATOR_META}},o=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{payload:e,type:t?r.T.SET_GROUPED_IDP_TEMPLATES:r.T.SET_AVAILABLE_IDP_TEMPLATES}}},11912:function(e,t,n){var r;n.d(t,{T:function(){return r}}),function(e){e.SET_AVAILABLE_AUTHENTICATOR_META="SET_AVAILABLE_AUTHENTICATOR_META",e.SET_AVAILABLE_IDP_TEMPLATES="SET_AVAILABLE_IDP_TEMPLATES",e.SET_GROUPED_IDP_TEMPLATES="SET_GROUPED_IDP_TEMPLATES"}(r||(r={}))},32070:function(e,t,n){n.d(t,{uS:function(){return u},wX:function(){return r.w},_A:function(){return r._}});var r=n(75386),i=n(11912);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c={templates:void 0,groupedTemplates:void 0,meta:{authenticators:[]}},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i.T.SET_AVAILABLE_AUTHENTICATOR_META:return a(a({},e),{},{meta:a(a({},e.meta),{},{authenticators:t.payload})});case i.T.SET_AVAILABLE_IDP_TEMPLATES:return a(a({},e),{},{templates:t.payload});case i.T.SET_GROUPED_IDP_TEMPLATES:return a(a({},e),{},{groupedTemplates:t.payload});default:return e}}},11380:function(e,t,n){n.d(t,{z:function(){return _},b:function(){return ce}});var r=n(82817),i=n(88742),o=n(26278),a=n(95823),l=n(22260),c=n(72932),u=n.n(c),d=n(26458),s=n(87289),p=n(72393),f=n(12847),m=n(5091),v=n(33581),E=n(21307),h=n(33349),g=n(75386);function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){l=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}(e,t)||y(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T(e)}function b(e){return function(e){if(Array.isArray(e))return A(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||y(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){if(e){if("string"===typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?A(e,t):void 0}}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){C(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,c;return t=e,c=[{key:"getAuthenticators",value:function(){return(0,v.Q3)().then((function(e){f.h.dispatch((0,g.w)(e))})).catch((function(e){e.response&&e.response.data&&e.response.data.description?f.h.dispatch((0,o.addAlert)({description:l.I18n.instance.t("console:develop.features.authenticationProvider.notifications.getFederatedAuthenticatorsList.error.description",{description:e.response.data.description}),level:i.AlertLevels.ERROR,message:l.I18n.instance.t("console:develop.features.authenticationProvider.notifications.getFederatedAuthenticatorsList.error.message")})):f.h.dispatch((0,o.addAlert)({description:l.I18n.instance.t("console:develop.features.authenticationProvider.notifications.getFederatedAuthenticatorsList.genericError.description"),level:i.AlertLevels.ERROR,message:l.I18n.instance.t("console:develop.features.authenticationProvider.notifications.getFederatedAuthenticatorsList.genericError.message")}))}))}},{key:"getAllAuthenticators",value:function(e){var t=function(){var e={},t=0;return function n(){return(0,v.SN)(15,t,'isEnabled eq "true"',"federatedAuthenticators,provisioning").then((function(r){return e=(0,s.Z)(e)?O({},r):O(O({},e),{},{identityProviders:[].concat(b(e.identityProviders),b(r.identityProviders))}),!(0,s.Z)(r.links)&&r.links[0].rel&&"next"===r.links[0].rel?(t+=15,n()):Promise.resolve(e)}))}()},n=function(){return(0,v.Rh)()};return u().all(e?[n()]:[n(),t()]).then(u().spread((function(e,t){var n=[];e.forEach((function(e){var t;e.isEnabled&&(p.identityProviderConfig.utils.isAuthenticatorAllowed(e.name)||n.push({authenticators:[{authenticatorId:e.id,isEnabled:e.isEnabled,name:e.name}],defaultAuthenticator:{authenticatorId:e.id,isEnabled:e.isEnabled,name:e.name},description:h.C.getAuthenticatorDescription(e.id),displayName:null!==(t=h.C.getAuthenticatorDisplayName(e.id))&&void 0!==t?t:e.displayName,id:e.id,idp:E.bQ.LOCAL_IDP_IDENTIFIER,image:h.C.getAuthenticatorIcon(e.id),isEnabled:e.isEnabled,name:e.name}))}));var r=[];return null!==t&&void 0!==t&&t.identityProviders&&t.identityProviders instanceof Array&&t.identityProviders.length>0&&t.identityProviders.forEach((function(e){var t,n;if(!(0,s.Z)(null===e||void 0===e||null===(t=e.federatedAuthenticators)||void 0===t?void 0:t.authenticators)&&null!==e&&void 0!==e&&null!==(n=e.federatedAuthenticators)&&void 0!==n&&n.defaultAuthenticatorId){var i=e.federatedAuthenticators.authenticators.find((function(t){return t.authenticatorId===e.federatedAuthenticators.defaultAuthenticatorId}));r.push({authenticators:e.federatedAuthenticators.authenticators,defaultAuthenticator:i,description:(0,s.Z)(e.description)?h.C.getAuthenticatorDescription(null===i||void 0===i?void 0:i.authenticatorId):e.description,displayName:e.name,id:e.id,idp:e.name,image:e.image?e.image:h.C.getAuthenticatorIcon(e.id),isEnabled:e.isEnabled,name:e.name,provisioning:e.provisioning})}})),Promise.resolve([n,r])}))).catch((function(e){throw new r.IdentityAppsApiException(E.bQ.COMBINED_AUTHENTICATOR_FETCH_ERROR,e.stack,e.code,e.request,e.response,e.config)}))}},{key:"getAuthenticatorLabels",value:function(e){return h.C.getAuthenticatorLabels(e.defaultAuthenticator.authenticatorId)?h.C.getAuthenticatorLabels(e.defaultAuthenticator.authenticatorId):[]}},{key:"getAuthenticatorLabelDisplayName",value:function(e){return e}},{key:"resolveTemplateImage",value:function(e,t){var n;if(e){if("string"!==typeof e)return e;if((a.URLUtils.isHttpsUrl(e)||a.URLUtils.isHttpUrl(e))&&a.ImageUtils.isValidImageExtension(e))return e;if(a.URLUtils.isDataUrl(e))return e;if(!t)return e}var r=Object.keys(t).find((function(t){return t.toString()===e}));return r?t[r]:null!==(n=t.default)&&void 0!==n?n:e}},{key:"isConnectorIdentityProvider",value:function(e){return void 0!==(null===e||void 0===e?void 0:e.federatedAuthenticators)}},{key:"buildAuthenticatorsFilterQuery",value:function(e,t){if((0,s.Z)(t)||!Array.isArray(t)||t.length<=0)return e;var n=e?"".concat(e," and ("):"(";return t.length>1?t.map((function(e,r){n="".concat(n,"tag eq ").concat(e).concat(r===t.length-1?")":" or ")})):n="".concat(n,"tag eq ").concat(t[0],")"),n.trim()}},{key:"resolveIDPTags",value:function(e){if(null===e||void 0===e||!e.defaultAuthenticatorId||!Array.isArray(e.authenticators))return[];var t=e.authenticators.find((function(t){return t.authenticatorId===e.defaultAuthenticatorId}));return Array.isArray(t.tags)?t.tags:[]}},{key:"getCommonAuthEndpoint",value:function(){return"".concat(m.De.getDeploymentConfig().customServerHost,"/commonauth")}}],(n=null)&&P(t.prototype,n),c&&P(t,c),Object.defineProperty(t,"prototype",{writable:!1}),e}();C(_,"generateIDPTemplateDocs",(function(e){if("object"!==T(e))return[];for(var t=[],n=0,r=Object.entries(e);n<r.length;n++){var i=I(r[n],2),o=i[0],a=i[1];t.push({displayName:o,docs:a.toString(),image:(0,d.Z)(o).toLowerCase(),name:(0,d.Z)(o).toLowerCase()})}return t}));var R=n(60669),N=n(85869),w=n(59413),D=n(6841),L=n(6586),M=n(82011),U=n(68905),k=JSON.parse('{"id":"DEFAULT","displayName":"","description":"","viewConfigs":{"tags":{"as":"label","showTagIcon":false,"showTags":true,"tagsKey":"services","sectionTitle":"Services"}}}'),H=JSON.parse('{"category":"DEFAULT","description":"Enable login for users with their accounts in your existing identity providers via standard authentication protocols.","enabled":true,"displayOrder":4,"id":"enterprise-protocols","image":"enterprise","name":"Enterprise","services":[],"disabled":false,"type":"ENTERPRISE","tags":["OIDC","SAML"],"templateId":"enterprise-idp"}'),G=n(83384),F=n(59428),x=n(74048),z=n(53572),j=n(46889),Z=n(7601),Q=n(99977),V=n(26459),B=n(67897),W=n(15693);function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach((function(t){$(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}q(q({},G),W.EnterpriseIdentityProviderTemplateExtension);var X=function(){var e,t,r,i,o,a,l,c,u,d,s,p,f,m,v,E,h,g,I,T,b,y=B.ExtensionsManager.getInstance();return{categories:(0,M.Z)((0,L.Z)((0,D.Z)([{enabled:!0,id:k.id,resource:k}],"id"),(0,D.Z)(y.getIdentityProviderTemplatesConfig().categories,"id"))),groups:(0,M.Z)((0,L.Z)((0,D.Z)([{enabled:H.enabled,id:H.id,resource:H}],"id"),(0,D.Z)(y.getIdentityProviderTemplatesConfig().groups,"id"))),templates:(0,M.Z)((0,L.Z)((0,D.Z)([{content:{wizardHelp:(0,U.lazy)((function(){return n.e(9989).then(n.bind(n,49989))}))},enabled:null!==(e=null===(t=window.AppUtils.getConfig().ui.identityProviderTemplates)||void 0===t||null===(r=t.google)||void 0===r?void 0:r.enabled)&&void 0!==e?e:B.identityProviderConfig.templates.google,id:j.id,resource:j},{content:{wizardHelp:(0,U.lazy)((function(){return n.e(3573).then(n.bind(n,41725))}))},enabled:null!==(i=null===(o=window.AppUtils.getConfig().ui.identityProviderTemplates)||void 0===o||null===(a=o.facebook)||void 0===a?void 0:a.enabled)&&void 0!==i?i:B.identityProviderConfig.templates.facebook,id:x.id,resource:x},{content:{wizardHelp:(0,U.lazy)((function(){return n.e(1e3).then(n.bind(n,1e3))}))},enabled:null!==(l=null===(c=window.AppUtils.getConfig().ui.identityProviderTemplates)||void 0===c||null===(u=c.github)||void 0===u?void 0:u.enabled)&&void 0!==l?l:B.identityProviderConfig.templates.github,id:z.id,resource:z},{content:{wizardHelp:(0,U.lazy)((function(){return n.e(7180).then(n.bind(n,7180))}))},enabled:null!==(d=null===(s=window.AppUtils.getConfig().ui.identityProviderTemplates)||void 0===s||null===(p=s.organizationEnterprise)||void 0===p?void 0:p.enabled)&&void 0!==d?d:B.identityProviderConfig.templates.organizationEnterprise,id:Q.id,resource:Q},{content:{wizardHelp:(0,U.lazy)((function(){return n.e(7288).then(n.bind(n,67288))}))},enabled:null!==(f=null===(m=window.AppUtils.getConfig().ui.identityProviderTemplates)||void 0===m||null===(v=m.enterpriseOIDC)||void 0===v?void 0:v.enabled)&&void 0!==f?f:B.identityProviderConfig.templates.oidc,id:Z.id,resource:Z},{content:{wizardHelp:(0,U.lazy)((function(){return n.e(4664).then(n.bind(n,14664))})),fileBasedHelpPanel:(0,U.lazy)((function(){return n.e(5054).then(n.bind(n,5054))}))},enabled:null!==(E=null===(h=window.AppUtils.getConfig().ui.identityProviderTemplates)||void 0===h||null===(g=h.enterpriseSAML)||void 0===g?void 0:g.enabled)&&void 0!==E?E:B.identityProviderConfig.templates.saml,id:V.id,resource:V},{content:{wizardHelp:(0,U.lazy)((function(){return n.e(4975).then(n.bind(n,44975))}))},enabled:null!==(I=null===(T=window.AppUtils.getConfig().ui.identityProviderTemplates)||void 0===T||null===(b=T.expertMode)||void 0===b?void 0:b.enabled)&&void 0!==I?I:B.identityProviderConfig.templates.expertMode,id:F.id,resource:F}],"id"),(0,D.Z)(y.getIdentityProviderTemplatesConfig().templates,"id")))}},K=n(59867),J=n(32070);function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(n),!0).forEach((function(t){le(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ne(e,t,n,r,i,o,a){try{var l=e[o](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,i)}function re(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){ne(o,r,i,a,l,"next",e)}function l(e){ne(o,r,i,a,l,"throw",e)}a(void 0)}))}}function ie(e){return function(e){if(Array.isArray(e))return oe(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return oe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oe(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function le(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ce=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=null,r=[{key:"sortIdentityProviderTemplates",value:function(e){var t=ie(e);return t.sort((function(e,t){return(-1!==e.displayOrder?e.displayOrder:1/0)-(-1!==t.displayOrder?t.displayOrder:1/0)})),t}},{key:"categorizeTemplates",value:function(e){var t=[],n=(0,R.Z)(e,"category");return this.loadLocalFileBasedTemplateCategories().then((function(e){return(t=ie(e)).forEach((function(e){Object.prototype.hasOwnProperty.call(n,e.id)&&(e.templates=n[e.id])})),t})).catch((function(){return t}))}},{key:"groupIdentityProviderTemplates",value:function(){var t=re(regeneratorRuntime.mark((function t(n){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=[],t.abrupt("return",e.loadLocalFileBasedIdentityProviderTemplateGroups().then((function(e){return n.forEach((function(t){if(t.templateGroup){var n=e.find((function(e){return e.id===t.templateGroup}));n?r.some((function(e){return e.id===t.templateGroup}))?r.forEach((function(e,i){e.id!==t.templateGroup||(r[i]=te(te({},n),{},{subTemplates:[].concat(ie(e.subTemplates),[t])}))})):r.push(te(te({},n),{},{subTemplates:[t]})):r.push(t)}else r.push(t)})),r})));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"loadLocalFileBasedIdentityProviderTemplateGroups",value:function(){var e=re(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],X().groups.forEach(function(){var e=re(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.enabled){e.next=2;break}return e.abrupt("return");case 2:t.push(n.resource);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.abrupt("return",Promise.all([].concat(t)));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"loadLocalFileBasedTemplates",value:function(){var e=re(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],X().templates.map(function(){var e=re(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.enabled){e.next=2;break}return e.abrupt("return");case 2:t.push(n.resource);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.abrupt("return",Promise.all([].concat(t)));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"loadLocalFileBasedTemplateCategories",value:function(){var e=re(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],X().categories.forEach(function(){var e=re(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.enabled){e.next=2;break}return e.abrupt("return");case 2:t.push(n.resource);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.abrupt("return",Promise.all([].concat(t)));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"resolveHelpContent",value:function(e){return e.map((function(e){var t=X().templates.find((function(t){return t.id===e.id}));null!==t&&void 0!==t&&t.content&&(e.content=t.content)})),e}}],n&&ae(t.prototype,n),r&&ae(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();le(ce,"getIdentityProviderTemplates",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return e?(0,v.cs)().then((function(e){if(null!==e&&void 0!==e&&e.totalResults){null===e||void 0===e||e.templates.sort((function(e,t){return e.displayOrder>t.displayOrder?1:-1}));var t=ce.interpretAvailableTemplates(null===e||void 0===e?void 0:e.templates);return t.unshift(F),f.h.dispatch((0,J._A)(t)),Promise.resolve(t)}})).catch((function(e){(0,N.qV)(e)})):ce.loadLocalFileBasedTemplates().then((function(e){var r=ce.resolveHelpContent(e);if(!t)return ce.groupIdentityProviderTemplates(r).then((function(e){return n&&(r=ce.sortIdentityProviderTemplates(r),e=ce.sortIdentityProviderTemplates(e)),f.h.dispatch((0,J._A)(r)),f.h.dispatch((0,J._A)(e,!0)),Promise.resolve()})),Promise.resolve();var i=ce.interpretAvailableTemplates(r);return n&&(i=ce.sortIdentityProviderTemplates(i)),f.h.dispatch((0,J._A)(i)),Promise.resolve(i)}))})),le(ce,"getIdentityProviderTemplate",(function(e){var t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return ce.loadLocalFileBasedTemplates().then((function(n){n=n.filter((function(t){return t.id===e}));var r=ce.resolveHelpContent(n),i=ce.interpretAvailableTemplates(r);return t&&(i=ce.sortIdentityProviderTemplates(i)),Promise.resolve(i[0])}))})),le(ce,"buildSupportedServices",(function(e){return null===e||void 0===e?void 0:e.map((function(e){switch(e){case K.fU.AUTHENTICATION:return{displayName:l.I18n.instance.t("console:develop.pages.authenticationProviderTemplate.supportServices.authenticationDisplayName"),logo:(0,w.ht)()[K.fU.AUTHENTICATION],name:K.fU.AUTHENTICATION};case K.fU.PROVISIONING:return{displayName:l.I18n.instance.t("console:develop.pages.authenticationProviderTemplate.supportServices.provisioningDisplayName"),logo:(0,w.ht)()[K.fU.PROVISIONING],name:K.fU.PROVISIONING}}}))})),le(ce,"interpretAvailableTemplates",(function(e){return null===e||void 0===e?void 0:e.map((function(e){return""===(null===e||void 0===e?void 0:e.services[0])?te(te({},e),{},{services:[]}):te(te({},e),{},{services:ce.buildSupportedServices(null===e||void 0===e?void 0:e.services)})}))}))},83384:function(e){e.exports=JSON.parse('{"category":"DEFAULT","description":"Enterprise login via standard protocols","displayOrder":3,"id":"enterprise-idp","idp":{"certificate":{},"claims":{"provisioningClaims":[],"roleClaim":{"uri":""},"userIdClaim":{"uri":""}},"description":"","federatedAuthenticators":{"authenticators":[],"defaultAuthenticatorId":""},"homeRealmIdentifier":"","image":"","isFederationHub":false,"isPrimary":false,"name":"Enterprise Authentication Provider","provisioning":{},"roles":{"mappings":[],"outboundProvisioningRoles":[]}},"image":"enterprise","name":"Enterprise","services":[],"disabled":false,"templateId":"enterprise-idp","type":"ENTERPRISE"}')},59428:function(e){e.exports=JSON.parse('{"id":"expert-mode-idp","name":"Expert Mode","description":"Create a new Identity Provider with minimum configurations.","image":"expert","category":"DEFAULT","displayOrder":-1,"services":[],"tags":["Custom"],"idp":{"certificate":{},"claims":{"provisioningClaims":[],"roleClaim":{"uri":""},"userIdClaim":{"uri":""}},"description":"","federatedAuthenticators":{"authenticators":[],"defaultAuthenticatorId":""},"homeRealmIdentifier":"","image":"","isFederationHub":false,"isPrimary":false,"name":"","provisioning":{},"roles":{"mappings":[],"outboundProvisioningRoles":[]}},"type":"MANUAL","templateId":"expert-mode-idp"}')},74048:function(e){e.exports=JSON.parse('{"id":"facebook-idp","name":"Facebook","description":"Enable login for users with existing Facebook accounts.","image":"facebook","category":"DEFAULT","displayOrder":2,"services":[],"tags":["Social-Login"],"idp":{"name":"Facebook","description":"","image":"","isPrimary":false,"isFederationHub":false,"homeRealmIdentifier":"","certificate":{"certificates":[]},"alias":"https://localhost:9444/oauth2/token","claims":{"userIdClaim":{"uri":"email"},"roleClaim":{"uri":"http://wso2.org/claims/role"},"mappings":[{"idpClaim":"email","localClaim":{"id":"aHR0cDovL3dzbzIub3JnL2NsYWltcy9lbWFpbGFkZHJlc3M","uri":"http://wso2.org/claims/emailaddress","displayName":"Email"}},{"idpClaim":"gender","localClaim":{"id":"aHR0cDovL3dzbzIub3JnL2NsYWltcy9nZW5kZXI","uri":"http://wso2.org/claims/gender","displayName":"Gender"}},{"idpClaim":"name","localClaim":{"id":"aHR0cDovL3dzbzIub3JnL2NsYWltcy9mdWxsbmFtZQ","uri":"http://wso2.org/claims/fullname","displayName":"Full Name"}},{"idpClaim":"first_name","localClaim":{"id":"aHR0cDovL3dzbzIub3JnL2NsYWltcy9naXZlbm5hbWU","uri":"http://wso2.org/claims/givenname","displayName":"First Name"}},{"idpClaim":"last_name","localClaim":{"id":"aHR0cDovL3dzbzIub3JnL2NsYWltcy9sYXN0bmFtZQ","uri":"http://wso2.org/claims/lastname","displayName":"Last Name"}},{"idpClaim":"age_range","localClaim":{"id":"aHR0cDovL3dzbzIub3JnL2NsYWltcy9kb2I","uri":"http://wso2.org/claims/dob","displayName":"Birth Date"}},{"idpClaim":"link","localClaim":{"id":"aHR0cDovL3dzbzIub3JnL2NsYWltcy91cmw","uri":"http://wso2.org/claims/url","displayName":"URL"}}],"provisioningClaims":[]},"roles":{"mappings":[]},"federatedAuthenticators":{"defaultAuthenticatorId":"RmFjZWJvb2tBdXRoZW50aWNhdG9y","authenticators":[{"authenticatorId":"RmFjZWJvb2tBdXRoZW50aWNhdG9y","isEnabled":true,"properties":[{"key":"AuthnEndpoint","type":"STRING","displayOrder":0,"regex":".*","isMandatory":false,"isConfidential":false,"options":[],"defaultValue":"","subProperties":[]},{"key":"Scope","displayName":"Scope","description":"Enter a comma separated list of permissions to request from the user","type":"STRING","displayOrder":3,"regex":".*","isMandatory":false,"isConfidential":false,"options":[],"defaultValue":"email","subProperties":[]},{"key":"UserInfoFields","displayName":"User Information Fields","description":"Enter comma-separated user information fields you want to retrieve","type":"STRING","displayOrder":4,"regex":".*","isMandatory":false,"isConfidential":false,"options":[],"defaultValue":"","subProperties":[]},{"key":"ClientId","displayName":"Client Id","description":"Enter Facebook client identifier value","type":"STRING","displayOrder":1,"regex":".*","isMandatory":true,"isConfidential":false,"options":[],"defaultValue":"","subProperties":[]},{"key":"UserInfoEndpoint","type":"STRING","displayOrder":0,"regex":".*","isMandatory":false,"isConfidential":false,"options":[],"defaultValue":"","subProperties":[]},{"key":"AuthTokenEndpoint","type":"STRING","displayOrder":0,"regex":".*","isMandatory":false,"isConfidential":false,"options":[],"defaultValue":"","subProperties":[]},{"key":"callBackUrl","displayName":"Callback Url","description":"Enter value corresponding to callback url","type":"STRING","displayOrder":5,"regex":".*","isMandatory":false,"isConfidential":false,"options":[],"defaultValue":"","subProperties":[]},{"key":"ClientSecret","displayName":"Client Secret","description":"Enter Facebook client secret value","type":"STRING","displayOrder":2,"regex":".*","isMandatory":true,"isConfidential":true,"options":[],"defaultValue":"","subProperties":[]}]}]}},"type":"SOCIAL","templateId":"facebook-idp"}')},53572:function(e){e.exports=JSON.parse('{"id":"github-idp","name":"GitHub","description":"Enable login for users with existing GitHub accounts.","image":"github","category":"DEFAULT","displayOrder":3,"services":[],"tags":["Social-Login"],"idp":{"name":"GitHub","description":"","image":"","isPrimary":false,"isFederationHub":false,"homeRealmIdentifier":"","certificate":{"certificates":[]},"alias":"https://localhost:9444/oauth2/token","claims":{"userIdClaim":{"uri":"http://wso2.org/claims/username"},"roleClaim":{"uri":"http://wso2.org/claims/role"},"provisioningClaims":[]},"roles":{"mappings":[],"outboundProvisioningRoles":[]},"federatedAuthenticators":{"defaultAuthenticatorId":"R2l0aHViQXV0aGVudGljYXRvcg","authenticators":[{"authenticatorId":"R2l0aHViQXV0aGVudGljYXRvcg","isEnabled":true,"properties":[{"key":"AdditionalQueryParameters","displayName":"Additional Query Parameters","description":"Additional query parameters. e.g: paramName1=value1","type":"STRING","displayOrder":4,"regex":".*","isMandatory":false,"isConfidential":false,"options":[],"defaultValue":"","subProperties":[]},{"key":"UsePrimaryEmail","displayName":"Use Primary Email","description":"Specifies if primary email is used instead of public email.","type":"BOOLEAN","displayOrder":6,"regex":".*","isMandatory":false,"isConfidential":false,"options":[],"defaultValue":"","subProperties":[]},{"key":"callbackUrl","displayName":"Callback URL","description":"Enter value corresponding to callback url.","type":"STRING","displayOrder":5,"regex":".*","isMandatory":false,"isConfidential":false,"options":[],"defaultValue":"","subProperties":[]},{"key":"scope","displayName":"Scope","description":"Enter scope for the user access","type":"STRING","displayOrder":3,"regex":".*","isMandatory":false,"isConfidential":false,"options":[],"defaultValue":"","subProperties":[]},{"key":"ClientId","displayName":"Client Id","description":"Enter Github IDP client identifier value","type":"STRING","displayOrder":1,"regex":".*","isMandatory":true,"isConfidential":false,"options":[],"defaultValue":"","subProperties":[]},{"key":"ClientSecret","displayName":"Client Secret","description":"Enter Github IDP client secret value","type":"STRING","displayOrder":2,"regex":".*","isMandatory":true,"isConfidential":true,"options":[],"defaultValue":"","subProperties":[]}]}]}},"type":"SOCIAL","templateId":"github-idp"}')},46889:function(e){e.exports=JSON.parse('{"id":"8ea23303-49c0-4253-b81f-82c0fe6fb4a0","name":"Google","description":"Enable login for users with existing Google accounts.","image":"google","category":"DEFAULT","displayOrder":1,"services":[],"tags":["Social-Login"],"idp":{"name":"Google","description":"","image":"","isPrimary":false,"isFederationHub":false,"homeRealmIdentifier":"","certificate":{"certificates":[]},"alias":"https://localhost:9444/oauth2/token","claims":{"userIdClaim":{"uri":"http://wso2.org/claims/username"},"roleClaim":{"uri":"http://wso2.org/claims/role"},"provisioningClaims":[]},"roles":{"mappings":[],"outboundProvisioningRoles":[]},"federatedAuthenticators":{"defaultAuthenticatorId":"R29vZ2xlT0lEQ0F1dGhlbnRpY2F0b3I","authenticators":[{"authenticatorId":"R29vZ2xlT0lEQ0F1dGhlbnRpY2F0b3I","isEnabled":true,"properties":[{"key":"AdditionalQueryParameters","displayName":"Additional Query Parameters","description":"Additional query parameters. e.g: paramName1=value1","type":"STRING","displayOrder":4,"regex":".*","isMandatory":false,"isConfidential":false,"options":[],"defaultValue":"","subProperties":[]},{"key":"ClientId","displayName":"Client ID","description":"Enter Google IDP client identifier value","type":"STRING","displayOrder":1,"regex":".*","isMandatory":true,"isConfidential":false,"options":[],"defaultValue":"","subProperties":[]},{"key":"ClientSecret","displayName":"Client secret","description":"Enter Google IDP client secret value","type":"STRING","displayOrder":2,"regex":".*","isMandatory":true,"isConfidential":true,"options":[],"defaultValue":"","subProperties":[]}]}]}},"type":"SOCIAL","templateId":"google-idp"}')},7601:function(e){e.exports=JSON.parse('{"category":"DEFAULT","description":"Configure a new enterprise identity provider with OpenID Connect","templateGroup":"enterprise-protocols","displayOrder":4,"id":"oidc-idp","tags":["OIDC"],"idp":{"certificate":{},"claims":{"provisioningClaims":[],"roleClaim":{"uri":""},"userIdClaim":{"uri":""}},"description":"","federatedAuthenticators":{"defaultAuthenticatorId":"T3BlbklEQ29ubmVjdEF1dGhlbnRpY2F0b3I","authenticators":[{"authenticatorId":"T3BlbklEQ29ubmVjdEF1dGhlbnRpY2F0b3I","isEnabled":true,"properties":[{"key":"ClientId","displayName":"Client ID","description":"Enter client identifier value","type":"STRING","displayOrder":1,"regex":".*","isMandatory":true,"isConfidential":false,"options":[],"defaultValue":"","subProperties":[]},{"key":"ClientSecret","displayName":"Client Secret","description":"Enter client secret value","type":"STRING","displayOrder":2,"regex":".*","isMandatory":true,"isConfidential":true,"options":[],"defaultValue":"","subProperties":[]},{"key":"AuthenticationEndpointUrl","displayName":"Authorization Endpoint URL","description":"Authorization Endpoint URL value","type":"STRING","displayOrder":1,"regex":".*","isMandatory":true,"isConfidential":false,"options":[],"defaultValue":"","subProperties":[]},{"key":"TokenEndpointUrl","displayName":"Token Endpoint URL","description":"Token Endpoint URL value","type":"STRING","displayOrder":1,"regex":".*","isMandatory":true,"isConfidential":false,"options":[],"defaultValue":"","subProperties":[]}]}]},"homeRealmIdentifier":"","image":"","isFederationHub":false,"isPrimary":false,"name":"OIDC Authentication Provider","provisioning":{},"roles":{"mappings":[],"outboundProvisioningRoles":[]}},"image":"enterprise","name":"OpenID Connect","services":[],"disabled":false,"templateId":"enterprise-oidc-idp"}')},99977:function(e){e.exports=JSON.parse('{"id":"organization-enterprise-idp","name":"Organization SSO","templateId":"organization-enterprise-idp","category":"DEFAULT","description":"Organization SSO login","displayOrder":4,"tags":["Organization-Login"],"idp":{"name":"Organization IDP","description":"IdP for Organization SSO","image":"","isPrimary":false,"isFederationHub":false,"homeRealmIdentifier":"OrganizationLogin","alias":"https://localhost:9443/oauth2/token","federatedAuthenticators":{"defaultAuthenticatorId":"T3JnYW5pemF0aW9uQXV0aGVudGljYXRvcg","authenticators":[{"authenticatorId":"T3JnYW5pemF0aW9uQXV0aGVudGljYXRvcg","isEnabled":true,"isDefault":true,"properties":[]}]}},"image":"organizationSSO","services":[],"disabled":false,"type":"ENTERPRISE"}')},26459:function(e){e.exports=JSON.parse('{"templateGroup":"enterprise-protocols","category":"DEFAULT","description":"Configure a new enterprise identity provider with SAML 2.0","displayOrder":5,"id":"saml-idp","tags":["SAML"],"idp":{"certificate":{},"claims":{"provisioningClaims":[],"roleClaim":{"uri":""},"userIdClaim":{"uri":""}},"description":"","federatedAuthenticators":{"defaultAuthenticatorId":"U0FNTFNTT0F1dGhlbnRpY2F0b3I","authenticators":[{"authenticatorId":"U0FNTFNTT0F1dGhlbnRpY2F0b3I","isEnabled":true,"properties":[{"key":"RequestMethod","displayName":"HTTP Binding","description":"Choose the HTTP Binding or decide from incoming request","type":"STRING","displayOrder":32,"regex":".*","isMandatory":false,"isConfidential":false,"options":["redirect","post","as_request"],"defaultValue":"redirect","subProperties":[]},{"key":"SSOUrl","displayName":"SSO URL","description":"Enter identity provider\'s SAML2 Web SSO URL value","type":"STRING","displayOrder":6,"regex":".*","isMandatory":true,"isConfidential":false,"options":[],"defaultValue":"","subProperties":[]},{"key":"IdPEntityId","displayName":"Identity Provider Entity ID","description":"Enter identity provider\'s entity identifier value. This should be a valid URI/URL.","type":"STRING","displayOrder":5,"regex":".*","isMandatory":true,"isConfidential":false,"options":[],"defaultValue":"","subProperties":[]},{"key":"SPEntityId","displayName":"Service Provider Entity ID","description":"Enter the service provider\'s entity identifier value","type":"STRING","displayOrder":1,"regex":".*","isMandatory":true,"isConfidential":false,"options":[],"defaultValue":"","subProperties":[]},{"key":"meta_data_saml","displayName":"SAML Metadata File","description":"Base-64 encoded metadata file content for SAML configuration","type":"STRING","displayOrder":4,"regex":".*","isMandatory":false,"isConfidential":false,"options":[],"defaultValue":"","subProperties":[]},{"key":"NameIDType","displayName":"NameID format","description":"NameID format to be used in the SAML request","type":"STRING","displayOrder":2,"regex":".*","isMandatory":true,"isConfidential":false,"options":[],"defaultValue":"urn:oasis:names:tc:SAML:1.1:nameid-format:unspecified","subProperties":[]},{"key":"selectMode","displayName":"Select Mode","description":"Select the input method for SAML configuration","type":"STRING","displayOrder":3,"regex":".*","isMandatory":false,"isConfidential":false,"options":["Manual Configuration","Metadata File Configuration"],"defaultValue":"Manual Configuration","subProperties":[]}]}]},"homeRealmIdentifier":"","image":"","isFederationHub":false,"isPrimary":false,"name":"SAML 2.0 Authentication Provider","provisioning":{},"roles":{"mappings":[],"outboundProvisioningRoles":[]}},"image":"enterprise","name":"SAML","services":[],"disabled":false,"templateId":"enterprise-saml-idp"}')}}]);