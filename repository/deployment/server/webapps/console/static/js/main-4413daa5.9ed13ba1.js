"use strict";(self.webpackChunk_wso2is_console=self.webpackChunk_wso2is_console||[]).push([[1247],{55193:function(e,t,n){n.d(t,{e8:function(){return Ce},y7:function(){return ze},g3:function(){return we},GH:function(){return Pe}});var o=n(96462),i=n(68905),a=n(5554),r=n(71367),l=n(41264),s=n(88742),c=n(26278),u=n(26776),d=n(25479),p=n(81771),f=n(76788),m=n(87289),v=n(24933),g=n(6586),E=n(20803),b=n(64805),A=n(83913),h=n(85027),y=n(23177),T=n(70515);function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(e){l=!0,i=e}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||O(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(e,t){if(e){if("string"===typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?I(e,t):void 0}}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var R=function(e){var t=e.metadata,n=e.initialValues,a=e.onSubmit,r=e.protocolName,s=e.triggerSubmit,c=e["data-testid"],d=(0,b.$G)().t,p=function(e,t){var n;return(null===e||void 0===e||null===(n=e.availableValues)||void 0===n?void 0:n.length)>0?i.createElement(y.Z.Row,{columns:1},i.createElement(y.Z.Column,{mobile:16,tablet:16,computer:8},i.createElement(u.Field,{label:null===e||void 0===e?void 0:e.displayName,name:null===e||void 0===e?void 0:e.name,type:"dropdown",value:null===t||void 0===t?void 0:t.value,required:null===e||void 0===e?void 0:e.required,requiredErrorMessage:d("console:develop.features.applications.forms.inboundCustom.fields.dropdown.validations.empty",{name:null===e||void 0===e?void 0:e.displayName}),default:null===e||void 0===e?void 0:e.defaultValue,children:m(null===e||void 0===e?void 0:e.availableValues),"data-testid":"".concat(c,"-").concat(null===e||void 0===e?void 0:e.name,"-select")}))):null!==e&&void 0!==e&&e.isConfidential?i.createElement(y.Z.Row,{columns:1},i.createElement(y.Z.Column,{mobile:16,tablet:16,computer:8},i.createElement(u.Field,{label:null===e||void 0===e?void 0:e.displayName,name:null===e||void 0===e?void 0:e.name,hidePassword:d("common:hide")+" "+(null===e||void 0===e?void 0:e.displayName),showPassword:d("common:show")+" "+(null===e||void 0===e?void 0:e.displayName),value:null===t||void 0===t?void 0:t.value,required:null===e||void 0===e?void 0:e.required,requiredErrorMessage:d("console:develop.features.applications.forms.inboundCustom.fields.password.validations.empty",{name:null===e||void 0===e?void 0:e.displayName}),placeholder:d("console:develop.features.applications.forms.inboundCustom.fields.password.placeholder",{name:null===e||void 0===e?void 0:e.displayName}),type:"password",default:null===e||void 0===e?void 0:e.defaultValue,"data-testid":"".concat(c,"-").concat(null===e||void 0===e?void 0:e.name,"-password-input")}))):(null===e||void 0===e?void 0:e.type)===l.og.BOOLEAN?i.createElement(y.Z.Row,{columns:1},i.createElement(y.Z.Column,{mobile:16,tablet:16,computer:8},i.createElement(u.Field,{name:null===e||void 0===e?void 0:e.name,label:"",required:null===e||void 0===e?void 0:e.required,requiredErrorMessage:d("console:develop.features.applications.forms.inboundCustom.fields.checkbox.validations.empty",{user:null===e||void 0===e?void 0:e.displayName}),value:null!==t&&void 0!==t&&t.value?[e.name]:[],type:"checkbox",children:[{label:e.displayName,value:e.name}],"data-testid":"".concat(c,"-").concat(null===e||void 0===e?void 0:e.name,"-checkbox")}))):i.createElement(y.Z.Row,{columns:1},i.createElement(y.Z.Column,{mobile:16,tablet:16,computer:8},i.createElement(u.Field,{label:null===e||void 0===e?void 0:e.displayName,name:null===e||void 0===e?void 0:e.name,required:null===e||void 0===e?void 0:e.required,value:null===t||void 0===t?void 0:t.value,requiredErrorMessage:d("console:develop.features.applications.forms.inboundCustom.fields.generic.validations.empty",{name:null===e||void 0===e?void 0:e.displayName}),placeholder:d("console:develop.features.applications.forms.inboundCustom.fields.generic.placeholder",{name:null===e||void 0===e?void 0:e.displayName}),type:(null===e||void 0===e?void 0:e.type)===l.og.INTEGER?"number":"text","data-testid":"".concat(c,"-").concat(null===e||void 0===e?void 0:e.name,"-input")})))},f=function(){if(t){var e=null===t||void 0===t?void 0:t.properties;return e.length>0&&e.sort((function(e,t){return e.displayOrder>t.displayOrder?1:-1})),e.map((function(e){var t=null===n||void 0===n?void 0:n.properties.find((function(t){return t.key===e.name}));return t?p(e,t):p(e)}))}},m=function(e){var t=[];return e&&e.map((function(n){t.push({key:e.indexOf(n),text:n,value:n})})),t},v=function(e){var t,n=[],o=function(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=O(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var o=0,i=function(){};return{s:i,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,r=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return r=e.done,e},e:function(e){l=!0,a=e},f:function(){try{r||null==n.return||n.return()}finally{if(l)throw a}}}}(e);try{for(o.s();!(t=o.n()).done;){var i=S(t.value,2),a=i[0],l=i[1],s=void 0;s=l instanceof Array?{key:a,value:l.length>0}:{key:a,value:l},n.push(s)}}catch(e){o.e(e)}finally{o.f()}return{inboundProtocolConfiguration:C({},r,{configName:r,name:r,properties:[].concat(n)})}};return(0,i.useEffect)((function(){t&&f()}),[t]),t?i.createElement(u.Forms,{onSubmit:function(e){a(v(e))},submitState:s},i.createElement(y.Z,null,f())):i.createElement(o.ContentLoader,null)};R.defaultProps={"data-testid":"custom-protocol-settings-wizard-form"};var P=n(48749),L=n(73881);function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(e){l=!0,i=e}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var N=function(e){var t,n,r=e.initialValues,l=e.templateValues,s=e.triggerSubmit,c=e.onSubmit,d=e["data-testid"],p=(0,b.$G)().t,f=_((0,i.useState)(!1),2),m=f[0],v=f[1];return i.createElement(u.Forms,{onSubmit:function(e){return c(function(e){return{accessUrl:e.get("accessUrl").toString(),advancedConfigurations:{discoverableByEndUsers:!!e.get("discoverableByEndUsers").includes("discoverableByEndUsers")},description:e.get("description").toString(),imageUrl:e.get("imageUrl").toString(),name:e.get("name").toString()}}(e))},submitState:s},i.createElement(y.Z,null,i.createElement(y.Z.Row,{columns:1},i.createElement(y.Z.Column,{mobile:16,tablet:16,computer:10},i.createElement(u.Field,{name:"name",label:p("console:develop.features.applications.forms.generalDetails.fields.name.label"),required:!0,requiredErrorMessage:p("console:develop.features.applications.forms.generalDetails.fields.name.validations.empty"),placeholder:p("console:develop.features.applications.forms.generalDetails.fields.name.placeholder"),value:null===r||void 0===r?void 0:r.name,type:"text","data-testid":"".concat(d,"-application-name-input")}))),i.createElement(y.Z.Row,{columns:1},i.createElement(y.Z.Column,{mobile:16,tablet:16,computer:10},i.createElement(u.Field,{name:"description",label:p("console:develop.features.applications.forms.generalDetails.fields.description.label"),required:!1,requiredErrorMessage:"",placeholder:p("console:develop.features.applications.forms.generalDetails.fields.description.placeholder"),type:"textarea",value:r?null===r||void 0===r?void 0:r.description:null===l||void 0===l?void 0:l.description,"data-testid":"".concat(d,"-application-description-textarea")}))),i.createElement(y.Z.Row,{columns:1},i.createElement(y.Z.Column,{mobile:16,tablet:16,computer:10},i.createElement(u.Field,{name:"imageUrl",label:p("console:develop.features.applications.forms.generalDetails.fields.imageUrl.label"),required:!1,requiredErrorMessage:"",placeholder:p("console:develop.features.applications.forms.generalDetails.fields.imageUrl.placeholder"),validation:function(e,t){P.I.url(e)||(t.isValid=!1,t.errorMessages.push(p("console:develop.features.applications.forms.generalDetails.fields.imageUrl.validations.invalid")))},value:r?null===r||void 0===r?void 0:r.imageUrl:null===l||void 0===l?void 0:l.imageUrl,type:"text","data-testid":"".concat(d,"-application-image-url-input")}))),i.createElement(y.Z.Row,{columns:1},i.createElement(y.Z.Column,{mobile:16,tablet:16,computer:10},i.createElement(y.Z.Column,{mobile:16,tablet:16,computer:8},i.createElement(u.Field,{name:"discoverableByEndUsers",required:!1,requiredErrorMessage:"",type:"checkbox",listen:function(e){v(e.get("discoverableByEndUsers").includes("discoverableByEndUsers"))},children:[{label:p("console:develop.features.applications.forms.generalDetails.fields.discoverable.label"),value:"discoverableByEndUsers"}],value:r?null!==r&&void 0!==r&&null!==(t=r.advancedConfigurations)&&void 0!==t&&t.discoverableByEndUsers?["discoverableByEndUsers"]:[]:null!==l&&void 0!==l&&null!==(n=l.advancedConfigurations)&&void 0!==n&&n.discoverableByEndUsers?["discoverableByEndUsers"]:[],"data-testid":"".concat(d,"-application-discoverable-checkbox")}),i.createElement(o.Hint,{compact:!0},i.createElement(b.cC,{i18nKey:"console:develop.features.applications.forms.generalDetails.fields.discoverable.hint"},"If an application is flagged as discoverable, it will be visible to end users in",i.createElement("a",{href:L.$x.getMyAccountPath(),target:"_blank",rel:"noopener noreferrer",className:"link external"},"My Account"),i.createElement(T.Z,{className:"ml-1 link primary",name:"external"}))),i.createElement(a.Z,{hidden:!0}),i.createElement(u.Field,{name:"accessUrl",label:p("console:develop.features.applications.forms.generalDetails.fields.accessUrl.label"),required:m,requiredErrorMessage:p("console:develop.features.applications.forms.generalDetails.fields.accessUrl.validations.empty"),placeholder:p("console:develop.features.applications.forms.generalDetails.fields.accessUrl.placeholder"),validation:function(e,t){P.I.url(e)||(t.isValid=!1,t.errorMessages.push(p("console:develop.features.applications.forms.generalDetails.fields.accessUrl.validations.invalid")))},type:"text",value:r?null===r||void 0===r?void 0:r.accessUrl:null===l||void 0===l?void 0:l.accessUrl,"data-testid":"".concat(d,"-application-access-url-input")}),i.createElement(o.Hint,{compact:!0},p("console:develop.features.applications.forms.generalDetails.fields.accessUrl.hint")))))))};N.defaultProps={"data-testid":"application-general-settings-wizard-form"};var U=n(95823),D=n(26723),M=n(7882),k=n(23865);function Z(e){return function(e){if(Array.isArray(e))return H(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||F(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(e){l=!0,i=e}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||F(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e,t){if(e){if("string"===typeof e)return H(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?H(e,t):void 0}}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var x=function(e){var t,n,a=e.selectedTemplate,r=e.isProtocolConfig,s=e.allowedOrigins,c=e.fields,d=e.hideFieldHints,p=e.initialValues,f=e.triggerSubmit,v=e.onSubmit,g=e.templateValues,E=e.showCallbackURL,h=e.tenantDomain,T=e.addOriginByDefault,S=e.isAllowEnabled,C=e["data-testid"],O=(0,b.$G)().t,I=j((0,i.useState)(""),2),R=I[0],P=I[1],L=j((0,i.useState)(""),2),_=L[0],w=L[1],N=j((0,i.useState)([]),2),F=N[0],H=N[1],x=j((0,i.useState)([]),2),G=x[0],z=x[1],B=j((0,i.useState)(!1),2),W=B[0],V=B[1],q=j((0,i.useState)(!1),2),K=q[0],$=q[1],Q=j((0,i.useState)(null),2),Y=Q[0],X=Q[1],J=j((0,i.useState)(!0),2),ee=J[0],te=J[1],ne=j((0,i.useState)(void 0),2),oe=ne[0],ie=ne[1],ae=j((0,i.useState)(void 0),2),re=ae[0],le=ae[1],se=j((0,i.useState)(!1),2),ce=se[0],ue=se[1],de=j((0,i.useState)(!1),2),pe=de[0],fe=de[1],me=(0,A.v9)((function(e){return e.config})),ve=j((0,i.useState)(s||[]),2),ge=ve[0],Ee=ve[1];(0,i.useEffect)((function(){(null===a||void 0===a?void 0:a.id)===l.EL.OIDC&&fe(!0)}),[a]),(0,i.useEffect)((function(){K&&R&&""!==R&&$(!1)}),[R]),(0,i.useEffect)((function(){null!==re&&void 0!==re&&re.includes("authorization_code")||null!==re&&void 0!==re&&re.includes("implicit")?te(!0):te(!1)}),[re,ce]),(0,i.useEffect)((function(){var e,t,n,o;void 0===re&&(null!==g&&void 0!==g&&null!==(e=g.inboundProtocolConfiguration)&&void 0!==e&&null!==(t=e.oidc)&&void 0!==t&&t.grantTypes&&le(Z(null===g||void 0===g||null===(n=g.inboundProtocolConfiguration)||void 0===n||null===(o=n.oidc)||void 0===o?void 0:o.grantTypes)))}),[g]),(0,i.useEffect)((function(){var e,t;if(g){var n=null===g||void 0===g||null===(e=g.inboundProtocolConfiguration)||void 0===e||null===(t=e.oidc)||void 0===t?void 0:t.callbackURLs;n&&Array.isArray(n)&&n.length>0&&w(n[0])}}),[g]),(0,i.useEffect)((function(){void 0===oe&&null!==a&&void 0!==a&&a.authenticationProtocol&&(0,M.WL)(a.authenticationProtocol).then((function(e){ie(e)}))}),[oe]),(0,i.useEffect)((function(){var e,t;if(a){var n=null===g||void 0===g||null===(e=g.inboundProtocolConfiguration)||void 0===e||null===(t=e.oidc)||void 0===t?void 0:t.grantTypes;(0,D.Z)(n,["refresh_token"]).length>0&&a.id!==k.id&&V(!0)}}),[g,a]);var be=function(e){var t,n,o=null===e||void 0===e?void 0:e.replace(/['"]+/g,"");(null===(t=o)||void 0===t?void 0:t.split(",").length)>1&&(o="regexp=("+(null===(n=o)||void 0===n?void 0:n.split(",").join("|"))+")");return o},Ae=function(e){return e&&e.includes("regexp=(")&&(e=(e=(e=e.replace("regexp=(","")).replace(")","")).split("|").join(",")),e};(0,i.useEffect)((function(){var e;if((0,m.Z)(null===p||void 0===p||null===(e=p.inboundProtocolConfiguration)||void 0===e?void 0:e.oidc)){var t,n,o,i,a,r,l,s,c;if((0,m.Z)(null===g||void 0===g||null===(t=g.inboundProtocolConfiguration)||void 0===t||null===(n=t.oidc)||void 0===n?void 0:n.callbackURLs))P("");else P(Ae(null===g||void 0===g||null===(s=g.inboundProtocolConfiguration)||void 0===s||null===(c=s.oidc)||void 0===c?void 0:c.callbackURLs[0]));null!==g&&void 0!==g&&null!==(o=g.inboundProtocolConfiguration)&&void 0!==o&&null!==(i=o.oidc)&&void 0!==i&&i.publicClient&&H(["supportPublicClients"]),null!==g&&void 0!==g&&null!==(a=g.inboundProtocolConfiguration)&&void 0!==a&&null!==(r=a.oidc)&&void 0!==r&&null!==(l=r.refreshToken)&&void 0!==l&&l.renewRefreshToken&&z(["refreshToken"])}else{var u,d,f,v,E,b,A;P(Ae(null===p||void 0===p||null===(u=p.inboundProtocolConfiguration)||void 0===u||null===(d=u.oidc)||void 0===d?void 0:d.callbackURLs[0])),null!==p&&void 0!==p&&null!==(f=p.inboundProtocolConfiguration)&&void 0!==f&&null!==(v=f.oidc)&&void 0!==v&&v.publicClient&&H(["supportPublicClients"]),null!==p&&void 0!==p&&null!==(E=p.inboundProtocolConfiguration)&&void 0!==E&&null!==(b=E.oidc)&&void 0!==b&&null!==(A=b.refreshToken)&&void 0!==A&&A.renewRefreshToken&&z(["refreshToken"])}}),[p]);var he,ye=function(e){var t,n=[];(null===e||void 0===e?void 0:e.split(",").length)>1?n=null===e||void 0===e?void 0:e.split(","):n.push(e);var o=null===(t=n)||void 0===t?void 0:t.map((function(e){var t;return null===(t=U.URLUtils.urlComponents(e))||void 0===t?void 0:t.origin}));return Z(new Set(o.filter((function(e){return ge.includes(e)}))))},Te=function(e,t){var n={inboundProtocolConfiguration:{oidc:{}}};return ee&&(E||!c||c.includes("callbackURLs"))&&(n.inboundProtocolConfiguration.oidc.callbackURLs=[be(t||R)]),c&&!c.includes("publicClient")||(n.inboundProtocolConfiguration.oidc.publicClient=e.get("publicClients").includes("supportPublicClients")),(W||!c||c.includes("RefreshToken"))&&(n.inboundProtocolConfiguration.oidc.refreshToken={renewRefreshToken:e.get("RefreshToken").includes("refreshToken")}),ee&&(E||!c||c.includes("callbackURLs"))&&(n.inboundProtocolConfiguration.oidc.allowedOrigins=ye(t||R)),!ee&&re&&(n.inboundProtocolConfiguration.oidc.grantTypes=re,n.inboundProtocolConfiguration.oidc.allowedOrigins=ye(t||R)),n},Se=function(e){var t=Z(ge);t.push(e),Ee(t)};return g?i.createElement(u.Forms,{onSubmit:function(e){ee||!r?he((function(t){(0,m.Z)(R)&&(0,m.Z)(t)?$(!0):v(Te(e,t))})):v(Te(e))},submitState:f},i.createElement(y.Z,null,r&&pe&&i.createElement(y.Z.Row,{columns:1},i.createElement(y.Z.Column,{mobile:16,tablet:16,computer:8},i.createElement(u.Field,{name:"grant",label:O("console:develop.features.applications.forms.inboundOIDC.fields.grant.label"),type:"checkbox",required:!0,requiredErrorMessage:O("console:develop.features.applications.forms.inboundOIDC.fields.grant.validations.empty"),children:function(e){var t=[];return e&&e.options.map((function(e){t.push({label:e.displayName,value:e.name})})),t}(null===oe||void 0===oe?void 0:oe.allowedGrantTypes),value:null===g||void 0===g||null===(t=g.inboundProtocolConfiguration)||void 0===t||null===(n=t.oidc)||void 0===n?void 0:n.grantTypes,"data-testid":"".concat(C,"-grant-type-checkbox-group"),listen:function(e){return function(e){var t=e.get("grant");le(t),ue(!ce)}(e)}}),i.createElement(o.Hint,null,O("console:develop.features.applications.forms.inboundOIDC.fields.grant.hint")))),(!c||c.includes("callbackURLs"))&&ee&&i.createElement(y.Z.Row,{column:1},i.createElement(y.Z.Column,{mobile:16,tablet:16,computer:16,className:"field"},i.createElement(o.URLInput,{labelEnabled:!0,handleAddAllowedOrigin:function(e){return Se(e)},handleRemoveAllowedOrigin:function(e){return function(e){var t=Z(ge);t.includes(e)&&t.splice(t.indexOf(e),1),Ee(t)}(e)},tenantDomain:h,allowedOrigins:ge,urlState:R,setURLState:P,labelName:O("console:develop.features.applications.forms.spaProtocolSettingsWizard.fields.callBackUrls.label"),placeholder:O("console:develop.features.applications.forms.inboundOIDC.fields.callBackUrls.placeholder"),validationErrorMsg:O("console:develop.features.applications.forms.spaProtocolSettingsWizard.fields.callBackUrls.validations.invalid"),emptyErrorMessage:O("console:develop.features.applications.forms.spaProtocolSettingsWizard.fields.callBackUrls.validations.empty"),validation:function(e){return!(!U.URLUtils.isURLValid(e,!0)||!U.URLUtils.isHttpUrl(e)&&!U.URLUtils.isHttpsUrl(e))&&(!!U.URLUtils.isMobileDeepLink(e)&&(X(null),!0))},computerWidth:10,setShowError:$,showError:K,hint:!d&&O("console:develop.features.applications.forms.inboundOIDC.fields.callBackUrls.hint"),addURLTooltip:O("common:addURL"),duplicateURLErrorMessage:O("common:duplicateURLError"),"data-testid":"".concat(C,"-callback-url-input"),getSubmit:function(e){he=e},productName:me.ui.productName,required:!0,showPredictions:!1,customLabel:Y,isAllowEnabled:S,addOriginByDefault:T,popupHeaderPositive:O("console:develop.features.URLInput.withLabel.positive.header"),popupHeaderNegative:O("console:develop.features.URLInput.withLabel.negative.header"),popupContentPositive:O("console:develop.features.URLInput.withLabel.positive.content",{productName:me.ui.productName}),popupContentNegative:O("console:develop.features.URLInput.withLabel.negative.content",{productName:me.ui.productName}),popupDetailedContentPositive:O("console:develop.features.URLInput.withLabel.positive.detailedContent.0"),popupDetailedContentNegative:O("console:develop.features.URLInput.withLabel.negative.detailedContent.0"),insecureURLDescription:O("console:common.validations.inSecureURL.description"),showLessContent:O("common:showLess"),showMoreContent:O("common:showMore")}),_&&i.createElement(o.Message,{type:"info",content:i.createElement(i.Fragment,null,i.createElement(b.cC,{i18nKey:"console:develop.features.applications.forms.inboundOIDC.fields.callBackUrls.info",tOptions:{callBackURLFromTemplate:_}},"Don\u2019t have an app? Try out a sample app using ",i.createElement("strong",null,_),"as the Authorized URL."),(void 0===R||""===R)&&i.createElement(o.LinkButton,{className:"m-1 p-1 with-no-border orange",onClick:function(e){e.preventDefault();var t=new URL(_);Se(t.origin),P(_)},"data-testid":"".concat(C,"-add-now-button")},i.createElement("span",{style:{fontWeight:"bold"}},"Add Now")))}))),!c||c.includes("publicClient")&&i.createElement(y.Z.Row,{columns:1},i.createElement(y.Z.Column,{mobile:16,tablet:16,computer:10},i.createElement(u.Field,{name:"publicClients",label:"",required:!1,requiredErrorMessage:"this is needed",type:"checkbox",value:F,children:[{label:O("console:develop.features.applications.forms.inboundOIDC.fields.public.label"),value:"supportPublicClients"}],"data-testid":"".concat(C,"-public-client-checkbox")}),!d&&i.createElement(o.Hint,null,O("console:develop.features.applications.forms.inboundOIDC.fields.public.hint")))),!c||c.includes("RefreshToken")||W&&i.createElement(y.Z.Row,{columns:1},i.createElement(y.Z.Column,{mobile:16,tablet:16,computer:10},i.createElement(u.Field,{name:"RefreshToken",label:"",required:!1,requiredErrorMessage:O("console:develop.features.applications.forms.inboundOIDC.sections.refreshToken.fields.renew.validations.empty"),type:"checkbox",value:G,children:[{label:O("console:develop.features.applications.forms.inboundOIDC.sections.refreshToken.fields.renew.label"),value:"refreshToken"}],"data-testid":"".concat(C,"-renew-refresh-token-checkbox")}),!d&&i.createElement(o.Hint,null,O("console:develop.features.applications.forms.inboundOIDC.sections.refreshToken.fields.renew.hint")))))):i.createElement(o.ContentLoader,null)};x.defaultProps={"data-testid":"oauth-protocol-settings-wizard-form",hideFieldHints:!1,showCallbackURL:!1};var G=function(e){var t=e.initialValues,n=e.templateValues,a=e.triggerSubmit,r=e.onSubmit,l=e["data-testid"],s=(0,b.$G)().t;return n?i.createElement(u.Forms,{onSubmit:function(e){r(function(e){return{inboundProtocolConfiguration:{passiveSts:{realm:e.get("realm"),replyTo:e.get("replyTo")}}}}(e))},submitState:a},i.createElement(y.Z,null,i.createElement(y.Z.Row,{columns:1},i.createElement(y.Z.Column,{mobile:16,tablet:16,computer:8},i.createElement(u.Field,{name:"realm",label:s("console:develop.features.applications.forms.inboundSTS.fields.realm.label"),required:!0,requiredErrorMessage:s("console:develop.features.applications.forms.inboundSTS.fields.realm.validations.empty"),placeholder:s("console:develop.features.applications.forms.inboundSTS.fields.realm.placeholder"),type:"text",value:t?null===t||void 0===t?void 0:t.realm:null===n||void 0===n?void 0:n.realm,"data-testid":"".concat(l,"-realm-input")}),i.createElement(o.Hint,null,s("console:develop.features.applications.forms.inboundSTS.fields.realm.hint")))),i.createElement(y.Z.Row,{columns:1},i.createElement(y.Z.Column,{mobile:16,tablet:16,computer:8},i.createElement(u.Field,{name:"replyTo",label:s("console:develop.features.applications.forms.inboundSTS.fields.replyTo.label"),required:!0,requiredErrorMessage:s("console:develop.features.applications.forms.inboundSTS.fields.replyTo.validations.empty"),placeholder:s("console:develop.features.applications.forms.inboundSTS.fields.replyTo.placeholder"),validation:function(e,t){P.I.url(e)||(t.isValid=!1,t.errorMessages.push(s("console:develop.features.applications.forms.inboundSTS.fields.replyTo.validations.invalid")))},type:"text",value:t?null===t||void 0===t?void 0:t.replyTo:null===n||void 0===n?void 0:n.replyTo,"data-testid":"".concat(l,"-reply-url-input")}),i.createElement(o.Hint,null,s("console:develop.features.applications.forms.inboundSTS.fields.replyTo.hint")))))):i.createElement(o.ContentLoader,null)};G.defaultProps={"data-testid":"passive-sts-protocol-settings-wizard-form"};var z=n(12847),B=n(43469),W=n(98765),V=n(65337);function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){$(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(e){l=!0,i=e}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var X=function(e){var t=e.initialSelectedTemplate,n=e.selectedProtocols,a=e.onSubmit,r=e.defaultTemplates,s=e.setSelectedCustomInboundProtocol,c=e.triggerSubmit,u=e["data-testid"],d=(0,b.$G)().t,p=(0,A.v9)((function(e){return e.application.templates})),f=(0,A.v9)((function(e){return e.application.meta.customInboundProtocols})),m=(0,A.v9)((function(e){return e.application.meta.customInboundProtocolChecked})),v=Q((0,i.useState)(void 0),2),g=v[0],E=v[1],h=Q((0,i.useState)(!1),2),y=h[0],T=h[1],S=Q((0,i.useState)(!1),2),C=S[0],O=S[1],I=(0,i.useRef)(!0);(0,i.useEffect)((function(){m||(O(!0),W.yf.getCustomInboundProtocols(V.oK,!0).finally((function(){O(!1)})))}),[m]),(0,i.useEffect)((function(){I.current?I.current=!1:a(g)}),[c]),(0,i.useEffect)((function(){void 0===p&&(T(!0),W.e7.getApplicationTemplates().finally((function(){T(!1)})))}),[p]),(0,i.useEffect)((function(){t&&E(t)}),[t]);var R=function(e,t){var n=t.id,o=null===r||void 0===r?void 0:r.find((function(e){return e.id===n}));o||(o=null===p||void 0===p?void 0:p.find((function(e){return e.id===n}))),o&&E(o)},P=function(e){return e?e.filter((function(e){return!n.includes(e.authenticationProtocol)})):null},L=P(r),_=P(p),w=function(){var e=[];if(f.length>0)return f.map((function(t){var n={authenticationProtocol:t.name,id:t.name,image:t.displayName,name:t.displayName};e.push(n)})),e.filter((function(e){return!n.includes(e.authenticationProtocol)}))}();return i.createElement(i.Fragment,null,!y&&i.createElement(o.TemplateGrid,{type:"application",templates:p&&p instanceof Array&&p.length>0?_.filter((function(e){return e.category===l.rz.DEFAULT})):[],templateIcons:K(K(K({},(0,B.ZP)()),(0,z.r2)()),(0,B.B0)()),templateIconOptions:{fill:"primary"},templateIconSize:"tiny",heading:d("console:develop.features.applications.edit.sections.access.addProtocolWizard.steps.protocolSelection.quickSetup.heading"),subHeading:d("console:develop.features.applications.edit.sections.access.addProtocolWizard.steps.protocolSelection.quickSetup.subHeading"),onTemplateSelect:R,paginate:!0,paginationLimit:4,paginationOptions:{showLessButtonLabel:d("common:showLess"),showMoreButtonLabel:d("common:showMore")},selectedTemplate:g,useSelectionCard:!0,emptyPlaceholder:i.createElement(o.EmptyPlaceholder,{image:(0,z.jF)().newList,imageSize:"tiny",title:d("console:develop.features.applications.edit.sections.access.addProtocolWizard.steps.protocolSelection.quickSetup.emptyPlaceholder.title"),subtitle:d("console:develop.features.applications.edit.sections.access.addProtocolWizard.steps.protocolSelection.quickSetup.emptyPlaceholder.subtitles")}),"data-testid":"".concat(u,"-default-template-grid")}),!C&&i.createElement(o.TemplateGrid,{type:"application",templates:L,secondaryTemplates:w,templateIcons:(0,B.B0)(),templateIconOptions:{fill:"primary"},templateIconSize:"tiny",heading:d("console:develop.features.applications.edit.sections.access.addProtocolWizard.steps.protocolSelection.manualSetup.heading"),subHeading:d("console:develop.features.applications.edit.sections.access.addProtocolWizard.steps.protocolSelection.manualSetup.subHeading"),onTemplateSelect:R,onSecondaryTemplateSelect:function(e,t){var n=t.id,o=null===w||void 0===w?void 0:w.find((function(e){return e.id===n}));o&&(s(!0),E(o))},useNameInitialAsImage:!0,paginate:!0,paginationLimit:4,paginationOptions:{showLessButtonLabel:d("common:showLess"),showMoreButtonLabel:d("common:showMore")},selectedTemplate:g,useSelectionCard:!0,emptyPlaceholder:i.createElement(o.EmptyPlaceholder,{image:(0,z.jF)().newList,imageSize:"tiny",title:d("console:develop.features.applications.edit.sections.access.addProtocolWizard.steps.protocolSelection.quickSetup.emptyPlaceholder.title"),subtitle:d("console:develop.features.applications.edit.sections.access.addProtocolWizard.steps.protocolSelection.quickSetup.emptyPlaceholder.subtitles")}),"data-testid":"".concat(u,"-custom-template-grid")}))};X.defaultProps={"data-testid":"application-protocol-selection-wizard-form"};var J=n(99104);function ee(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(e){l=!0,i=e}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return te(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return te(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function te(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var ne=function(e){var t,n,a,r,s,c=e.summary,u=e.triggerSubmit,d=e.onSubmit,p=e.image,f=e.customProtocol,m=e.samlMetaFileSelected,v=e["data-testid"],g=(0,b.$G)().t,E=ee((0,i.useState)(""),2),A=E[0],h=E[1];return(0,i.useEffect)((function(){if(u)if(m){var e={metadataFile:null===c||void 0===c?void 0:c.metadataFile};d(e)}else d(c)}),[u]),(0,i.useEffect)((function(){p===l.AI.WS_FEDERATION?h("wsFed"):p===l.AI.WS_TRUST?h("wsTrust"):h(p)}),[p]),i.createElement(y.Z,{className:"wizard-summary","data-testid":v},i.createElement(y.Z.Row,null,i.createElement(y.Z.Column,{mobile:16,tablet:16,computer:16,textAlign:"center"},i.createElement("div",{className:"general-details"},f?i.createElement(o.UserAvatar,{name:null===c||void 0===c?void 0:c.name,size:"tiny"}):i.createElement(o.AppAvatar,{image:W.yf.findIcon(A,(0,B.B0)()),size:"tiny"})))),(null===c||void 0===c||null===(t=c.manualConfiguration)||void 0===t?void 0:t.issuer)&&i.createElement(y.Z.Row,{className:"summary-field",columns:2},i.createElement(y.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},i.createElement("div",{className:"label"},g("console:develop.features.applications.addWizard.steps.summary.sections.issuer.heading"))),i.createElement(y.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},i.createElement("div",{className:"value"},null===(n=c.manualConfiguration)||void 0===n?void 0:n.issuer))),(null===c||void 0===c||null===(a=c.manualConfiguration)||void 0===a?void 0:a.serviceProviderQualifier)&&i.createElement(y.Z.Row,{className:"summary-field",columns:2},i.createElement(y.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},i.createElement("div",{className:"label"},g("console:develop.features.applications.addWizard.steps.summary.sections.applicationQualifier.heading"))),i.createElement(y.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},i.createElement("div",{className:"value"},c.manualConfiguration.serviceProviderQualifier))),null!==c&&void 0!==c&&c.grantTypes&&c.grantTypes instanceof Array&&c.grantTypes.length>0?i.createElement(y.Z.Row,{className:"summary-field",columns:2},i.createElement(y.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},i.createElement("div",{className:"label"},g("console:develop.features.applications.addWizard.steps.summary.sections.grantType.heading"))),i.createElement(y.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},i.createElement(J.Z.Group,null,c.grantTypes.map((function(e,t){return i.createElement(J.Z,{key:t,basic:!0,circular:!0},e)}))))):null,(null===c||void 0===c||null===(r=c.manualConfiguration)||void 0===r?void 0:r.assertionConsumerUrls)&&i.createElement(y.Z.Row,{className:"summary-field",columns:2},i.createElement(y.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},i.createElement("div",{className:"label"},g("console:develop.features.applications.addWizard.steps.summary.sections.assertionURLs.heading"))),i.createElement(y.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},null===(s=c.manualConfiguration)||void 0===s?void 0:s.assertionConsumerUrls.map((function(e,t){return i.createElement("div",{className:"value url",key:t},e)})))),(null===c||void 0===c?void 0:c.metadataURL)&&i.createElement(y.Z.Row,{className:"summary-field",columns:2},i.createElement(y.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},i.createElement("div",{className:"label"},g("console:develop.features.applications.addWizard.steps.summary.sections.metadataURL.heading"))),i.createElement(y.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},i.createElement("div",{className:"value url"},null===c||void 0===c?void 0:c.metadataURL))),(null===c||void 0===c?void 0:c.metadataFile)&&i.createElement(y.Z.Row,{className:"summary-field",columns:2},i.createElement(y.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},i.createElement("div",{className:"label"},g("console:develop.features.applications.addWizard.steps.summary.sections.metaFile.heading"))),i.createElement(y.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},i.createElement("div",{className:"value constrain"},null===c||void 0===c?void 0:c.metadataFile))),(null===c||void 0===c?void 0:c.callbackURLs)&&i.createElement(y.Z.Row,{className:"summary-field",columns:2},i.createElement(y.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},i.createElement("div",{className:"label"},g("console:develop.features.applications.addWizard.steps.summary.sections.callbackURLs.heading"))),i.createElement(y.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},U.EncodeDecodeUtils.decodeURLRegex(c.callbackURLs[0]).map((function(e,t){return i.createElement("div",{className:"value url",key:t},e)})))),(null===c||void 0===c?void 0:c.audience)&&i.createElement(y.Z.Row,{className:"summary-field",columns:2},i.createElement(y.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},i.createElement("div",{className:"label"},g("console:develop.features.applications.addWizard.steps.summary.sections.audience.heading"))),i.createElement(y.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},i.createElement("div",{className:"value url"},null===c||void 0===c?void 0:c.audience))),(null===c||void 0===c?void 0:c.certificateAlias)&&i.createElement(y.Z.Row,{className:"summary-field",columns:2},i.createElement(y.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},i.createElement("div",{className:"label"},g("console:develop.features.applications.addWizard.steps.summary.sections.certificateAlias.heading"))),i.createElement(y.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},i.createElement("div",{className:"value"},null===c||void 0===c?void 0:c.certificateAlias))),(null===c||void 0===c?void 0:c.realm)&&i.createElement(y.Z.Row,{className:"summary-field",columns:2},i.createElement(y.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},i.createElement("div",{className:"label"},g("console:develop.features.applications.addWizard.steps.summary.sections.realm.heading"))),i.createElement(y.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},i.createElement("div",{className:"value"},null===c||void 0===c?void 0:c.realm))),(null===c||void 0===c?void 0:c.replyTo)&&i.createElement(y.Z.Row,{className:"summary-field",columns:2},i.createElement(y.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},i.createElement("div",{className:"label"},g("console:develop.features.applications.addWizard.steps.summary.sections.audience.heading"))),i.createElement(y.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},i.createElement("div",{className:"value url"},null===c||void 0===c?void 0:c.replyTo))),f&&(null===c||void 0===c?void 0:c.properties.map((function(e){return i.createElement(y.Z.Row,{className:"summary-field",columns:2,key:e.key},i.createElement(y.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},i.createElement("div",{className:"label"},e.key)),i.createElement(y.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},i.createElement("div",{className:"value url"},e.value)))}))))};ne.defaultProps={"data-testid":"protocol-wizard-summary",samlMetaFileSelected:!1};var oe=n(84504),ie=n(67897);function ae(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(e){l=!0,i=e}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return re(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return re(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function re(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var le=function(e){var t=e.fields,n=e.hideFieldHints,a=e.initialValues,r=e.templateValues,s=e.triggerSubmit,c=e.onSubmit,d=e.setSAMLConfigureMode,p=e.issuerRef,f=e.metaUrlRef,v=e.issuerError,g=e.metaUrlError,E=e.handleProtocolValueChange,h=e["data-testid"],S=(0,b.$G)().t,C=ae((0,i.useState)(""),2),O=C[0],I=C[1],R=ae((0,i.useState)(""),2),L=R[0],_=R[1],w=ae((0,i.useState)(""),2),N=w[0],D=w[1],M=ae((0,i.useState)(""),2),k=M[0],Z=M[1],j=ae((0,i.useState)(!1),2),F=j[0],H=j[1],x=ae((0,i.useState)(null),2),G=x[0],B=x[1],V=ae((0,i.useState)(void 0),2),q=V[0],K=V[1],$=ae((0,i.useState)(!1),2),Q=$[0],Y=$[1],X=ae((0,i.useState)(),2),J=X[0],ee=X[1],te=ae((0,i.useState)(null),2),ne=te[0],re=te[1],le=ae((0,i.useState)(null),2),ce=le[0],ue=le[1],de=ae((0,i.useState)(!1),2),pe=de[0],fe=de[1],me=(0,A.v9)((function(e){return e.config}));(0,i.useEffect)((function(){var e;if(K(l.T6.MANUAL),(0,m.Z)(null===a||void 0===a||null===(e=a.inboundProtocolConfiguration)||void 0===e?void 0:e.saml)){var t,n,o,i,s=null===r||void 0===r||null===(t=r.inboundProtocolConfiguration)||void 0===t||null===(n=t.saml)||void 0===n?void 0:n.manualConfiguration.assertionConsumerUrls,c=null===r||void 0===r||null===(o=r.inboundProtocolConfiguration)||void 0===o||null===(i=o.saml)||void 0===i?void 0:i.manualConfiguration.issuer;(0,m.Z)(s)?I(""):I(s.toString()),(0,m.Z)(c)?_(""):_(c.toString())}else{var u,d,p,f,v,g;I(null===a||void 0===a||null===(u=a.inboundProtocolConfiguration)||void 0===u||null===(d=u.saml)||void 0===d||null===(p=d.manualConfiguration.assertionConsumerUrls)||void 0===p?void 0:p.toString()),_(null===a||void 0===a||null===(f=a.inboundProtocolConfiguration)||void 0===f||null===(v=f.saml)||void 0===v||null===(g=v.manualConfiguration.issuer)||void 0===g?void 0:g.toString())}}),[a]),(0,i.useEffect)((function(){J&&pe&&fe(!1)}),[J]),(0,i.useEffect)((function(){q&&d(q)}),[q]),(0,i.useEffect)((function(){var e,t,n,o,i,a;if(r){var l=null===r||void 0===r||null===(e=r.inboundProtocolConfiguration)||void 0===e||null===(t=e.saml)||void 0===t||null===(n=t.templateConfiguration)||void 0===n?void 0:n.assertionConsumerUrls,s=null===r||void 0===r||null===(o=r.inboundProtocolConfiguration)||void 0===o||null===(i=o.saml)||void 0===i||null===(a=i.templateConfiguration)||void 0===a?void 0:a.issuer;l&&Array.isArray(l)&&l.length>0&&D(l[0]),s&&Z(s)}}),[r]);var ve,ge=function(e){Q?(I(e),e||Y(!1)):O?(I(O),Y(!0)):(e&&Y(!0),I(e))},Ee=function(e,n){var o;return q===l.T6.MANUAL?(o={inboundProtocolConfiguration:{saml:{manualConfiguration:{}}}},t&&!t.includes("assertionConsumerURLs")||(o.inboundProtocolConfiguration.saml.manualConfiguration.assertionConsumerUrls=n?n.split(","):O.split(",")),t&&!t.includes("issuer")||(o.inboundProtocolConfiguration.saml.manualConfiguration.issuer=e.get("issuer")),t&&!t.includes("applicationQualifier")||(o.inboundProtocolConfiguration.saml.manualConfiguration.serviceProviderQualifier=e.get("applicationQualifier"))):q===l.T6.META_URL?o={inboundProtocolConfiguration:{saml:{metadataURL:e.get("url")}}}:q===l.T6.META_FILE&&(o={inboundProtocolConfiguration:{saml:{metadataFile:J}}}),o};return q?i.createElement(u.Forms,{onSubmit:function(e){E(!0),q===l.T6.MANUAL?ve((function(t){(0,m.Z)(O)&&(0,m.Z)(t)?H(!0):c(Ee(e,t))})):q===l.T6.META_FILE&&(0,m.Z)(J)?fe(!0):c(Ee(e))},submitState:s},i.createElement(y.Z,null,i.createElement(y.Z.Row,null,i.createElement(y.Z.Column,{mobile:16,tablet:16,computer:16},i.createElement(oe.Z.Group,{size:"large",labeled:!0,basic:!0},Object.values(l.T6).map((function(e,t){return i.createElement(oe.Z,{key:t,active:q===e,className:"saml-config-mode-wizard-tab",content:W.yf.resolveSAMLConfigModeDisplayName(e),onClick:function(t){t.preventDefault(),K(e),Y(!1)}})}))))),function(){var e,r,s,c;return q==l.T6.MANUAL?i.createElement(i.Fragment,null,(!t||t.includes("issuer"))&&i.createElement(y.Z.Row,{columns:1},i.createElement(y.Z.Column,{mobile:16,tablet:16,computer:16},i.createElement(u.Field,{name:"issuer",ref:p,displayErrorOn:"blur",label:S("console:develop.features.applications.forms.inboundSAML.fields.issuer.label"),required:!0,requiredErrorMessage:S("console:develop.features.applications.forms.inboundSAML.fields.issuer.validations.empty"),type:"text",placeholder:S("console:develop.features.applications.forms.inboundSAML.fields.issuer.placeholder"),value:L,validation:function(e,t){v?(t.isValid=!1,t.errorMessages.push(S("console:develop.features.applications.forms.inboundSAML.fields.issuer.errorMessage"))):_(e)},"data-testid":"".concat(h,"-issuer-input")}),!n&&i.createElement(o.Hint,null,S("console:develop.features.applications.forms.inboundSAML.fields.issuer.hint")))),(!t||t.includes("applicationQualifier"))&&i.createElement(y.Z.Row,{columns:1},i.createElement(y.Z.Column,{mobile:16,tablet:16,computer:16},i.createElement(u.Field,{name:"applicationQualifier",label:S("console:develop.features.applications.forms.inboundSAML.fields.qualifier.label"),required:!1,requiredErrorMessage:S("console:develop.features.applications.forms.inboundSAML.fields.qualifier.validations.empty"),type:"text",placeholder:S("console:develop.features.applications.forms.inboundSAML.fields.qualifier.placeholder"),value:null===a||void 0===a||null===(e=a.inboundProtocolConfiguration.saml)||void 0===e||null===(r=e.manualConfiguration)||void 0===r?void 0:r.serviceProviderQualifier,"data-testid":"".concat(h,"-application-qualifier-input")}),!n&&i.createElement(o.Hint,null,S("console:develop.features.applications.forms.inboundSAML.fields.qualifier.hint")))),(!t||t.includes("assertionConsumerURLs"))&&i.createElement(y.Z.Row,{columns:1},i.createElement(y.Z.Column,{mobile:16,tablet:16,computer:16,className:"field"},i.createElement(o.URLInput,{urlState:O,setURLState:ge,labelName:S("console:develop.features.applications.forms.inboundSAML.fields.assertionURLs.label"),placeholder:S("console:develop.features.applications.forms.inboundSAML.fields.assertionURLs.placeholder"),validationErrorMsg:S("console:develop.features.applications.forms.spaProtocolSettingsWizard.fields.callBackUrls.validations.invalid"),emptyErrorMessage:S("console:develop.features.applications.forms.inboundSAML.fields.assertionURLs.validations.empty"),validation:function(e){return!(!U.URLUtils.isURLValid(e,!0)||!U.URLUtils.isHttpUrl(e)&&!U.URLUtils.isHttpsUrl(e))&&(!!U.URLUtils.isMobileDeepLink(e)&&(B(null),!0))},computerWidth:10,required:!0,showError:F,setShowError:H,hint:!n&&S("console:develop.features.applications.forms.inboundSAML.fields.assertionURLs.hint"),addURLTooltip:S("common:addURL"),duplicateURLErrorMessage:S("common:duplicateURLError"),"data-testid":"".concat(h,"-assertion-consumer-url-input"),getSubmit:function(e){ve=e},showPredictions:!1,customLabel:G,popupHeaderPositive:S("console:develop.features.URLInput.withLabel.positive.header"),popupHeaderNegative:S("console:develop.features.URLInput.withLabel.negative.header"),popupContentPositive:S("console:develop.features.URLInput.withLabel.positive.content",{productName:me.ui.productName}),popupContentNegative:S("console:develop.features.URLInput.withLabel.negative.content",{productName:me.ui.productName}),popupDetailedContentPositive:S("console:develop.features.URLInput.withLabel.positive.detailedContent.0"),popupDetailedContentNegative:S("console:develop.features.URLInput.withLabel.negative.detailedContent.0"),insecureURLDescription:S("console:common.validations.inSecureURL.description"),showLessContent:S("common:showLess"),showMoreContent:S("common:showMore")}),N&&i.createElement(o.Message,{visible:!0,type:"info",content:i.createElement(i.Fragment,null,i.createElement(b.cC,{i18nKey:"console:develop.features.applications.forms.inboundSAML.fields.assertionURLs.info",tOptions:{assertionURLFromTemplate:N}},"Don\u2019t have an app? Try out a sample app using ",i.createElement("strong",null,N)," as the assertion Response URL. (You can download and run a sample at a later step.)"),(void 0===O||""===O)&&i.createElement(o.LinkButton,{className:"m-1 p-1 with-no-border orange",onClick:function(e){e.preventDefault(),I(N),_(k),Y(!0)},"data-testid":"".concat(h,"-add-now-button")},i.createElement("span",{style:{fontWeight:"bold"}},"Add Now")))})))):q===l.T6.META_URL?i.createElement(y.Z.Row,{columns:1},i.createElement(y.Z.Column,{mobile:16,tablet:16,computer:16},i.createElement(u.Field,{name:"url",ref:f,displayErrorOn:"blur",label:S("console:develop.features.applications.forms.inboundSAML.fields.metaURL.label"),required:!0,requiredErrorMessage:S("console:develop.features.applications.forms.inboundSAML.fields.metaURL.validations.empty"),type:"text",placeholder:S("console:develop.features.applications.forms.inboundSAML.fields.metaURL.placeholder"),validation:function(e,t){P.I.url(e)||(t.isValid=!1,t.errorMessages.push(S("console:develop.features.applications.forms.inboundSAML.fields.metaURL.validations.invalid"))),null!==ie.commonConfig&&void 0!==ie.commonConfig&&ie.commonConfig.blockLoopBackCalls&&U.URLUtils.isLoopBackCall(e)&&(t.isValid=!1,t.errorMessages.push(S("console:develop.features.idp.forms.common.internetResolvableErrorMessage"))),g&&(t.isValid=!1,t.errorMessages.push(S("console:develop.features.applications.forms.inboundSAML.fields.metaURL.errorMessage")))},value:null===a||void 0===a||null===(s=a.inboundProtocolConfiguration)||void 0===s||null===(c=s.saml)||void 0===c?void 0:c.metadataURL,"data-testid":"".concat(h,"-meta-url-input")}),!n&&i.createElement(o.Hint,null,S("console:develop.features.applications.forms.inboundSAML.fields.metaURL.hint")))):q===l.T6.META_FILE?i.createElement(y.Z.Row,{columns:1},i.createElement(y.Z.Column,{mobile:16,tablet:16,computer:16},i.createElement(o.FilePicker,{key:1,fileStrategy:se,file:ne,pastedContent:ce,onChange:function(e){re(e.file),ue(e.pastedContent),ee(e.serialized)},uploadButtonText:"Upload Metadata File",dropzoneText:"Drag and drop a XML file here.","data-testid":"".concat(h,"-form-wizard-saml-xml-config-file-picker"),icon:(0,z._5)().uploadPlaceholder,placeholderIcon:i.createElement(T.Z,{name:"file code",size:"huge"}),normalizeStateOnRemoveOperations:!0,emptyFileError:pe,hidePasteOption:!0}))):void 0}())):i.createElement(o.ContentLoader,null)};le.defaultProps={"data-testid":"saml-protocol-settings-wizard-form",hideFieldHints:!1};var se=new o.XMLFileStrategy;function ce(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(e){l=!0,i=e}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return ue(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ue(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var de=function(e){var t,n,a=e.fields,r=e.hideFieldHints,l=e.initialValues,s=e.templateValues,c=e.triggerSubmit,d=e.onSubmit,p=e["data-testid"],f=(0,b.$G)().t,v=ce((0,i.useState)(""),2),g=v[0],E=v[1],h=ce((0,i.useState)(""),2),T=h[0],S=h[1],C=ce((0,i.useState)(""),2),O=C[0],I=C[1],R=ce((0,i.useState)(""),2),P=R[0],L=R[1],_=ce((0,i.useState)(!1),2),w=_[0],N=_[1],D=ce((0,i.useState)(null),2),M=D[0],k=D[1],Z=(0,A.v9)((function(e){return e.config}));(0,i.useEffect)((function(){var e;if((0,m.Z)(null===l||void 0===l||null===(e=l.inboundProtocolConfiguration)||void 0===e?void 0:e.saml)){var t,n,o,i,a=null===s||void 0===s||null===(t=s.inboundProtocolConfiguration)||void 0===t||null===(n=t.saml)||void 0===n?void 0:n.manualConfiguration.assertionConsumerUrls,r=null===s||void 0===s||null===(o=s.inboundProtocolConfiguration)||void 0===o||null===(i=o.saml)||void 0===i?void 0:i.manualConfiguration.issuer;(0,m.Z)(a)?E(""):E(a.toString()),(0,m.Z)(r)?S(""):S(r.toString())}else{var c,u,d,p,f,v;E(null===l||void 0===l||null===(c=l.inboundProtocolConfiguration)||void 0===c||null===(u=c.saml)||void 0===u||null===(d=u.manualConfiguration.assertionConsumerUrls)||void 0===d?void 0:d.toString()),S(null===l||void 0===l||null===(p=l.inboundProtocolConfiguration)||void 0===p||null===(f=p.saml)||void 0===f||null===(v=f.manualConfiguration.issuer)||void 0===v?void 0:v.toString())}}),[l]),(0,i.useEffect)((function(){var e,t,n,o,i,a;if(s){var r=null===s||void 0===s||null===(e=s.inboundProtocolConfiguration)||void 0===e||null===(t=e.saml)||void 0===t||null===(n=t.templateConfiguration)||void 0===n?void 0:n.assertionConsumerUrls,l=null===s||void 0===s||null===(o=s.inboundProtocolConfiguration)||void 0===o||null===(i=o.saml)||void 0===i||null===(a=i.templateConfiguration)||void 0===a?void 0:a.issuer;r&&Array.isArray(r)&&r.length>0&&I(r[0]),l&&L(l)}}),[s]);var j;return s?i.createElement(u.Forms,{onSubmit:function(e){j((function(t){(0,m.Z)(g)&&(0,m.Z)(t)?N(!0):d(function(e,t){var n={inboundProtocolConfiguration:{saml:{manualConfiguration:{}}}};return a&&!a.includes("assertionConsumerURLs")||(n.inboundProtocolConfiguration.saml.manualConfiguration.assertionConsumerUrls=t?t.split(","):g.split(",")),a&&!a.includes("issuer")||(n.inboundProtocolConfiguration.saml.manualConfiguration.issuer=e.get("issuer")),a&&!a.includes("applicationQualifier")||(n.inboundProtocolConfiguration.saml.manualConfiguration.serviceProviderQualifier=e.get("applicationQualifier")),n}(e,t))}))},submitState:c},i.createElement(y.Z,null,(!a||a.includes("issuer"))&&i.createElement(y.Z.Row,{columns:1},i.createElement(y.Z.Column,{mobile:16,tablet:16,computer:16},i.createElement(u.Field,{name:"issuer",label:f("console:develop.features.applications.forms.inboundSAML.fields.issuer.label"),required:!0,requiredErrorMessage:f("console:develop.features.applications.forms.inboundSAML.fields.issuer.validations.empty"),type:"text",placeholder:f("console:develop.features.applications.forms.inboundSAML.fields.issuer.placeholder"),value:T,"data-testid":"".concat(p,"-issuer-input")}),!r&&i.createElement(o.Hint,null,f("console:develop.features.applications.forms.inboundSAML.fields.issuer.hint")))),(!a||a.includes("applicationQualifier"))&&i.createElement(y.Z.Row,{columns:1},i.createElement(y.Z.Column,{mobile:16,tablet:16,computer:16},i.createElement(u.Field,{name:"applicationQualifier",label:f("console:develop.features.applications.forms.inboundSAML.fields.qualifier.label"),required:!1,requiredErrorMessage:f("console:develop.features.applications.forms.inboundSAML.fields.qualifier.validations.empty"),type:"text",placeholder:f("console:develop.features.applications.forms.inboundSAML.fields.qualifier.placeholder"),value:null===l||void 0===l||null===(t=l.inboundProtocolConfiguration.saml)||void 0===t||null===(n=t.manualConfiguration)||void 0===n?void 0:n.serviceProviderQualifier,"data-testid":"".concat(p,"-application-qualifier-input")}),!r&&i.createElement(o.Hint,null,f("console:develop.features.applications.forms.inboundSAML.fields.qualifier.hint")))),(!a||a.includes("assertionConsumerURLs"))&&i.createElement(y.Z.Row,{columns:1},i.createElement(y.Z.Column,{mobile:16,tablet:16,computer:16,className:"field"},i.createElement(o.URLInput,{urlState:g,setURLState:E,labelName:f("console:develop.features.applications.forms.inboundSAML.fields.assertionURLs.label"),placeholder:f("console:develop.features.applications.forms.inboundSAML.fields.assertionURLs.placeholder"),validationErrorMsg:f("console:develop.features.applications.forms.spaProtocolSettingsWizard.fields.callBackUrls.validations.invalid"),emptyErrorMessage:f("console:develop.features.applications.forms.inboundSAML.fields.assertionURLs.validations.empty"),validation:function(e){return!(!U.URLUtils.isURLValid(e,!0)||!U.URLUtils.isHttpUrl(e)&&!U.URLUtils.isHttpsUrl(e))&&(!!U.URLUtils.isMobileDeepLink(e)&&(k(null),!0))},computerWidth:10,required:!0,showError:w,setShowError:N,hint:!r&&f("console:develop.features.applications.forms.inboundSAML.fields.assertionURLs.hint"),addURLTooltip:f("common:addURL"),duplicateURLErrorMessage:f("common:duplicateURLError"),"data-testid":"".concat(p,"-assertion-consumer-url-input"),getSubmit:function(e){j=e},showPredictions:!1,customLabel:M,popupHeaderPositive:f("console:develop.features.URLInput.withLabel.positive.header"),popupHeaderNegative:f("console:develop.features.URLInput.withLabel.negative.header"),popupContentPositive:f("console:develop.features.URLInput.withLabel.positive.content",{productName:Z.ui.productName}),popupContentNegative:f("console:develop.features.URLInput.withLabel.negative.content",{productName:Z.ui.productName}),popupDetailedContentPositive:f("console:develop.features.URLInput.withLabel.positive.detailedContent.0"),popupDetailedContentNegative:f("console:develop.features.URLInput.withLabel.negative.detailedContent.0"),insecureURLDescription:f("console:common.validations.inSecureURL.description"),showLessContent:f("common:showLess"),showMoreContent:f("common:showMore")}),O&&i.createElement(o.Message,{type:"info",content:i.createElement(i.Fragment,null,i.createElement(b.cC,{i18nKey:"console:develop.features.applications.forms.inboundSAML.fields.assertionURLs.info",tOptions:{assertionURLFromTemplate:O}},"Don\u2019t have an app? Try out a sample app using",i.createElement("strong",null,O),"as the assertion Response URL. (You can download and run a sample at a later step.)"),(void 0===g||""===g)&&i.createElement(o.LinkButton,{className:"m-1 p-1 with-no-border orange",onClick:function(e){e.preventDefault(),E(O),S(P)},"data-testid":"".concat(p,"-add-now-button")},i.createElement("span",{style:{fontWeight:"bold"}},"Add Now")))}))))):i.createElement(o.ContentLoader,null)};de.defaultProps={"data-testid":"saml-protocol-settings-wizard-form",hideFieldHints:!1};var pe=function(e){var t,n,a,r,l,s,c,u,d,p,f,m,v,g,E,A,h,T,S,C,O,I,R,P,L,_,w,N,D,M,k,Z,j=e.summary,F=e.triggerSubmit,H=e.onSubmit,x=e["data-testid"],G=(0,b.$G)().t;return(0,i.useEffect)((function(){F&&H(j)}),[F]),i.createElement(y.Z,{className:"wizard-summary","data-testid":x},i.createElement(y.Z.Row,null,i.createElement(y.Z.Column,{mobile:16,tablet:16,computer:16,textAlign:"center"},i.createElement("div",{className:"general-details"},i.createElement(o.AppAvatar,{name:null===j||void 0===j?void 0:j.name,image:null===j||void 0===j?void 0:j.imageUrl,size:"tiny"}),(null===j||void 0===j?void 0:j.name)&&i.createElement(o.Heading,{size:"small",className:"name"},j.name),(null===j||void 0===j||null===(t=j.advancedConfigurations)||void 0===t?void 0:t.discoverableByEndUsers)&&i.createElement(J.Z,{className:"info-label"},G("console:develop.features.applications.addWizard.steps.summary.sections.discoverable.heading")),(null===j||void 0===j||null===(n=j.inboundProtocolConfiguration)||void 0===n||null===(a=n.oidc)||void 0===a?void 0:a.publicClient)&&i.createElement(J.Z,{className:"info-label"},G("console:develop.features.applications.addWizard.steps.summary.sections.public.heading")),(null===j||void 0===j||null===(r=j.inboundProtocolConfiguration)||void 0===r||null===(l=r.oidc)||void 0===l||null===(s=l.refreshToken)||void 0===s?void 0:s.renewRefreshToken)&&i.createElement(J.Z,{className:"info-label"},G("console:develop.features.applications.addWizard.steps.summary.sections.renewRefreshToken.heading")),(null===j||void 0===j?void 0:j.description)&&i.createElement("div",{className:"description"},j.description)))),(null===j||void 0===j?void 0:j.accessUrl)&&i.createElement(y.Z.Row,{className:"summary-field",columns:2},i.createElement(y.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},i.createElement("div",{className:"label"},G("console:develop.features.applications.addWizard.steps.summary.sections.accessURL.heading"))),i.createElement(y.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},i.createElement("div",{className:"value url"},j.accessUrl))),(null===j||void 0===j||null===(c=j.inboundProtocolConfiguration)||void 0===c||null===(u=c.saml)||void 0===u||null===(d=u.manualConfiguration)||void 0===d?void 0:d.issuer)&&i.createElement(y.Z.Row,{className:"summary-field",columns:2},i.createElement(y.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},i.createElement("div",{className:"label"},G("console:develop.features.applications.addWizard.steps.summary.sections.issuer.heading"))),i.createElement(y.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},i.createElement("div",{className:"value"},j.inboundProtocolConfiguration.saml.manualConfiguration.issuer))),(null===j||void 0===j||null===(p=j.inboundProtocolConfiguration)||void 0===p||null===(f=p.saml)||void 0===f||null===(m=f.manualConfiguration)||void 0===m?void 0:m.serviceProviderQualifier)&&i.createElement(y.Z.Row,{className:"summary-field",columns:2},i.createElement(y.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},i.createElement("div",{className:"label"},G("console:develop.features.applications.addWizard.steps.summary.sections.applicationQualifier.heading"))),i.createElement(y.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},i.createElement("div",{className:"value"},j.inboundProtocolConfiguration.saml.manualConfiguration.serviceProviderQualifier))),null!==j&&void 0!==j&&null!==(v=j.inboundProtocolConfiguration)&&void 0!==v&&null!==(g=v.oidc)&&void 0!==g&&g.grantTypes&&j.inboundProtocolConfiguration.oidc.grantTypes instanceof Array&&j.inboundProtocolConfiguration.oidc.grantTypes.length>0?i.createElement(y.Z.Row,{className:"summary-field",columns:2},i.createElement(y.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},i.createElement("div",{className:"label"},G("console:develop.features.applications.addWizard.steps.summary.sections.grantType.heading"))),i.createElement(y.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},i.createElement(J.Z.Group,null,j.inboundProtocolConfiguration.oidc.grantTypes.map((function(e,t){return i.createElement(J.Z,{key:t,basic:!0,circular:!0},e)}))))):null,(null===j||void 0===j||null===(E=j.inboundProtocolConfiguration)||void 0===E||null===(A=E.saml)||void 0===A||null===(h=A.manualConfiguration)||void 0===h?void 0:h.assertionConsumerUrls)&&i.createElement(y.Z.Row,{className:"summary-field",columns:2},i.createElement(y.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},i.createElement("div",{className:"label"},G("console:develop.features.applications.addWizard.steps.summary.sections.assertionURLs.heading"))),i.createElement(y.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},j.inboundProtocolConfiguration.saml.manualConfiguration.assertionConsumerUrls.map((function(e,t){return i.createElement("div",{className:"value url",key:t},e)})))),(null===j||void 0===j||null===(T=j.inboundProtocolConfiguration)||void 0===T||null===(S=T.oidc)||void 0===S?void 0:S.callbackURLs)&&i.createElement(y.Z.Row,{className:"summary-field",columns:2},i.createElement(y.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},i.createElement("div",{className:"label"},G("console:develop.features.applications.addWizard.steps.summary.sections.callbackURLs.heading"))),i.createElement(y.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},U.EncodeDecodeUtils.decodeURLRegex(j.inboundProtocolConfiguration.oidc.callbackURLs[0]).map((function(e,t){return i.createElement("div",{className:"value url",key:t},e)})))),(null===j||void 0===j||null===(C=j.inboundProtocolConfiguration)||void 0===C||null===(O=C.wsTrust)||void 0===O?void 0:O.audience)&&i.createElement(y.Z.Row,{className:"summary-field",columns:2},i.createElement(y.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},i.createElement("div",{className:"label"},G("console:develop.features.applications.addWizard.steps.summary.sections.audience.heading"))),i.createElement(y.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},i.createElement("div",{className:"value url"},null===j||void 0===j||null===(I=j.inboundProtocolConfiguration)||void 0===I||null===(R=I.wsTrust)||void 0===R?void 0:R.audience))),(null===j||void 0===j||null===(P=j.inboundProtocolConfiguration)||void 0===P||null===(L=P.wsTrust)||void 0===L?void 0:L.certificateAlias)&&i.createElement(y.Z.Row,{className:"summary-field",columns:2},i.createElement(y.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},i.createElement("div",{className:"label"},G("console:develop.features.applications.addWizard.steps.summary.sections.certificateAlias.heading"))),i.createElement(y.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},i.createElement("div",{className:"value"},null===j||void 0===j||null===(_=j.inboundProtocolConfiguration)||void 0===_?void 0:_.wsTrust.certificateAlias))),(null===j||void 0===j||null===(w=j.inboundProtocolConfiguration)||void 0===w||null===(N=w.passiveSts)||void 0===N?void 0:N.realm)&&i.createElement(y.Z.Row,{className:"summary-field",columns:2},i.createElement(y.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},i.createElement("div",{className:"label"},G("console:develop.features.applications.addWizard.steps.summary.sections.realm.heading"))),i.createElement(y.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},i.createElement("div",{className:"value"},null===j||void 0===j||null===(D=j.inboundProtocolConfiguration)||void 0===D?void 0:D.passiveSts.realm))),(null===j||void 0===j||null===(M=j.inboundProtocolConfiguration)||void 0===M||null===(k=M.passiveSts)||void 0===k?void 0:k.replyTo)&&i.createElement(y.Z.Row,{className:"summary-field",columns:2},i.createElement(y.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},i.createElement("div",{className:"label"},G("console:develop.features.applications.addWizard.steps.summary.sections.audience.heading"))),i.createElement(y.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},i.createElement("div",{className:"value url"},null===j||void 0===j||null===(Z=j.inboundProtocolConfiguration)||void 0===Z?void 0:Z.passiveSts.replyTo))))};function fe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(e){l=!0,i=e}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return me(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return me(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function me(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}pe.defaultProps={"data-testid":"application-wizard-summary"};var ve=function(e){var t=e.initialValues,n=e.templateValues,a=e.triggerSubmit,r=e.onSubmit,d=e["data-testid"],p=(0,b.$G)().t,f=(0,A.I0)(),m=fe((0,i.useState)(void 0),2),v=m[0],g=m[1];return(0,i.useEffect)((function(){(0,M.WL)(l.Ii.WS_TRUST).then((function(e){g(e)})).catch((function(e){e.response&&e.response.data&&e.response.data.description?f((0,c.addAlert)({description:e.response.data.description,level:s.AlertLevels.ERROR,message:"Retrieval error"})):f((0,c.addAlert)({description:"An error occurred retrieving the protocol metadata.",level:s.AlertLevels.ERROR,message:"Retrieval error"}))}))}),[]),n&&v?i.createElement(u.Forms,{onSubmit:function(e){r(function(e){return{inboundProtocolConfiguration:{wsTrust:{audience:e.get("audience"),certificateAlias:e.get("certificateAlias")}}}}(e))},submitState:a},i.createElement(y.Z,null,i.createElement(y.Z.Row,{columns:1},i.createElement(y.Z.Column,{mobile:16,tablet:16,computer:8},i.createElement(u.Field,{name:"audience",label:p("console:develop.features.applications.forms.inboundWSTrust.fields.audience.label"),required:!0,requiredErrorMessage:p("console:develop.features.applications.forms.inboundWSTrust.fields.audience.validations.empty"),placeholder:p("console:develop.features.applications.forms.inboundWSTrust.fields.audience.placeholder"),type:"text",validation:function(e,t){P.I.url(e)||(t.isValid=!1,t.errorMessages.push(p("console:develop.features.applications.forms.inboundWSTrust.fields.audience.validations.invalid")))},value:t?null===t||void 0===t?void 0:t.audience:null===n||void 0===n?void 0:n.audience,"data-testid":"".concat(d,"-audience-input")}),i.createElement(o.Hint,null,p("console:develop.features.applications.forms.inboundWSTrust.fields.audience.hint")))),i.createElement(y.Z.Row,{columns:1},i.createElement(y.Z.Column,{mobile:16,tablet:16,computer:8},i.createElement(u.Field,{label:p("console:develop.features.applications.forms.inboundWSTrust.fields.certificateAlias.label"),name:"certificateAlias",type:"dropdown",required:!0,requiredErrorMessage:p("console:develop.features.applications.forms.inboundWSTrust.fields.certificateAlias.validations.empty"),default:v.certificateAlias.defaultValue,value:t?null===t||void 0===t?void 0:t.certificateAlias:null===n||void 0===n?void 0:n.certificateAlias,children:function(e){var t=[];return e&&e.options.map((function(n){t.push({key:e.options.indexOf(n),text:n,value:n})})),t}(null===v||void 0===v?void 0:v.certificateAlias),"data-testid":"".concat(d,"-certificate-alias-dropdown")}),i.createElement(o.Hint,null,p("console:develop.features.applications.forms.inboundWSTrust.fields.certificateAlias.hint")))))):i.createElement(o.ContentLoader,null)};ve.defaultProps={"data-testid":"ws-trust-protocol-settings-wizard-form"};var ge,Ee=n(61375),be=n(55625);function Ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function he(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ae(Object(n),!0).forEach((function(t){ye(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ye(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Te(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(e){l=!0,i=e}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Se(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Se(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Se(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}!function(e){e.PROTOCOL_SELECTION="protocolSelection",e.GENERAL_SETTINGS="generalSettings",e.PROTOCOL_SETTINGS="protocolSettings",e.SUMMARY="summary"}(ge||(ge={}));var Ce=function(e){var t=e.closeWizard,n=e.currentStep,a=e.title,S=e.subTitle,C=e.template,O=e.addProtocol,I=e.selectedProtocols,P=e.appId,L=e.onUpdate,_=e["data-testid"],w=(0,b.$G)().t,U=(0,A.v9)((function(e){return e.application.meta.protocolMeta})),D=Te((0,i.useState)(void 0),2),k=D[0],Z=D[1],j=Te((0,i.useState)(void 0),2),F=j[0],H=j[1],W=Te((0,i.useState)(void 0),2),q=W[0],K=W[1],$=Te((0,i.useState)(n),2),Q=$[0],Y=$[1],J=Te((0,i.useState)(void 0),2),ee=J[0],te=J[1],oe=(0,A.I0)(),ie=Te((0,u.useTrigger)(),2),ae=ie[0],re=ie[1],se=Te((0,u.useTrigger)(),2),ce=se[0],ue=se[1],fe=Te((0,u.useTrigger)(),2),me=fe[0],Ae=fe[1],Se=Te((0,i.useState)(C),2),Ce=Se[0],Oe=Se[1],Ie=Te((0,u.useTrigger)(),2),Re=Ie[0],Pe=Ie[1],Le=Te((0,i.useState)(!1),2),_e=Le[0],we=Le[1],Ne=Te((0,i.useState)(!1),2),Ue=Ne[0],De=Ne[1],Me=Te((0,i.useState)(!1),1)[0],ke=Te((0,o.useWizardAlert)(),3),Ze=ke[0],je=ke[1],Fe=ke[2],He=function(e){var t=e;t=he(he({},t),{},{templateId:Ce.id}),De(!0),(0,M.W3)(t).then((function(e){if(oe((0,c.addAlert)({description:w("console:develop.features.applications.notifications.addApplication.success.description"),level:s.AlertLevels.SUCCESS,message:w("console:develop.features.applications.notifications.addApplication.success.message")})),!(0,m.Z)(e.headers.location)){var t=e.headers.location,n=t.substring(t.lastIndexOf("/")+1),o=0;return Ce.id===Ee.id&&(o=1),void z.m8.push({hash:"#".concat(l.El.TAB_INDEX).concat(o),pathname:z.$x.getPaths().get("APPLICATION_EDIT").replace(":id",n),search:"?".concat(r.j.APP_STATE_URL_SEARCH_PARAM_KEY,"=").concat(r.j.APP_STATE_URL_SEARCH_PARAM_VALUE)})}z.m8.push(z.$x.getPaths().get("APPLICATIONS"))})).catch((function(e){e.response&&e.response.data&&e.response.data.description?je({description:e.response.data.description,level:s.AlertLevels.ERROR,message:w("console:develop.features.applications.notifications.addApplication.error.message")}):je({description:w("console:develop.features.applications.notifications.addApplication.genericError.description"),level:s.AlertLevels.ERROR,message:w("console:develop.features.applications.notifications.addApplication.genericError.message")})})).finally((function(){De(!1)}))},xe=function(e){De(!0),(0,M.lp)(P,e,Ce.authenticationProtocol).then((function(){oe((0,c.addAlert)({description:w("console:develop.features.applications.notifications.updateProtocol.success.description"),level:s.AlertLevels.SUCCESS,message:w("console:develop.features.applications.notifications.updateProtocol.success.message")})),L(P),Ve()})).catch((function(e){e.response&&e.response.data&&e.response.data.description?je({description:e.response.data.description,level:s.AlertLevels.ERROR,message:w("console:develop.features.applications.notifications.updateProtocol.error.message")}):je({description:w("console:develop.features.applications.notifications.updateProtocol.genericError.description"),level:s.AlertLevels.ERROR,message:w("console:develop.features.applications.notifications.updateProtocol.error.message")})})).finally((function(){De(!1)}))},Ge=function(){var e;switch(null===(e=k[Q])||void 0===e?void 0:e.name){case ge.PROTOCOL_SELECTION:Pe();break;case ge.GENERAL_SETTINGS:re();break;case ge.PROTOCOL_SETTINGS:ue();break;case ge.SUMMARY:Ae()}},ze=function(e,t){t===ge.PROTOCOL_SELECTION?e?(0,v.Z)(e,Ce)?Y(Q+1):Oe(e):Pe():(Y(Q+1),(0,f.Z)(F,t)?H((0,E.Z)(F,t,e)):H((0,g.Z)(F,ye({},t,e))))},Be=function(){if(F){var e={};if(O){var t=Ce.authenticationProtocol;return t===l.AI.WS_FEDERATION?t="passiveSts":t===l.AI.WS_TRUST&&(t="wsTrust"),e=(0,p.Z)(F[ge.PROTOCOL_SETTINGS],"inboundProtocolConfiguration."+t),Ce.id===l.EL.SAML||_e||(e=(0,g.Z)((0,d.Z)(ee.inboundProtocolConfiguration[t]),e)),e}for(var n=0,o=Object.entries(F);n<o.length;n++){var i=Te(o[n],2),a=i[0],r=i[1];a!==ge.PROTOCOL_SELECTION&&(e=he(he({},e),r))}return(0,g.Z)((0,d.Z)(ee),e)}},We=function(e){F[ge.PROTOCOL_SELECTION]===l.AI.OIDC?delete e.inboundProtocolConfiguration.saml:F[ge.PROTOCOL_SELECTION]===l.AI.SAML&&delete e.inboundProtocolConfiguration.oidc,He(e)},Ve=function(){t()};(0,i.useEffect)((function(){if(Ce)if(Ce.id===Ee.id){var e=[].concat(qe);Z(e.splice(1,1))}else H((0,g.Z)(F,ye({},ge.PROTOCOL_SELECTION,Ce.authenticationProtocol))),_e||((t=Ce.id)===l.EL.OIDC?te(V.P5.application):t===l.EL.SAML?te(V.qF.application):t===l.EL.WS_FEDERATION?te(V.qo.application):(0,M.FG)(t).then((function(e){te(e.application)})).catch((function(e){e.response&&e.response.data&&e.response.data.description?je({description:e.response.data.description,level:s.AlertLevels.ERROR,message:w("console:develop.features.applications.notifications.fetchTemplate.error.message")}):je({description:w("console:develop.features.applications.notifications.fetchTemplate.genericError.description"),level:s.AlertLevels.ERROR,message:w("console:develop.features.applications.notifications.fetchTemplate.genericError.message")})}))),O?Y(Q+1):Z(qe.slice(1));var t}),[Ce,_e]),(0,i.useEffect)((function(){Ce&&(Object.prototype.hasOwnProperty.call(U,Ce.authenticationProtocol)||(0,M.WL)(Ce.authenticationProtocol).then((function(e){oe((0,be.vX)(Ce.authenticationProtocol,e))})).catch((function(e){e.response&&e.response.data&&e.response.data.description?je({description:e.response.data.description,level:s.AlertLevels.ERROR,message:w("console:develop.features.applications.notifications.fetchProtocolMeta.error.message")}):je({description:w("console:develop.features.applications.notifications.fetchProtocolMeta.genericError.description"),level:s.AlertLevels.ERROR,message:w("console:develop.features.applications.notifications.fetchProtocolMeta.genericError.message")})})))}),[_e]),(0,i.useEffect)((function(){if(O){var e=[].concat(qe);e.splice(1,1),Z(e)}}),[O]),(0,i.useEffect)((function(){void 0!==q&&(Y(Q-1),K(void 0))}),[q]);var qe=[{icon:(0,B.jK)().protocolSelection,name:ge.PROTOCOL_SELECTION,title:w("console:develop.features.applications.addWizard.steps.protocolSelection.heading")},{icon:(0,B.jK)().general,name:ge.GENERAL_SETTINGS,title:w("console:develop.features.applications.addWizard.steps.generalSettings.heading")},{icon:(0,B.jK)().protocolConfig,name:ge.PROTOCOL_SETTINGS,title:w("console:develop.features.applications.addWizard.steps.protocolConfig.heading")},{icon:(0,B.jK)().summary,name:ge.SUMMARY,title:w("console:develop.features.applications.addWizard.steps.summary.heading")}];return k?i.createElement(h.Z,{open:!0,className:"wizard application-create-wizard",dimmer:"blurring",onClose:Ve,closeOnDimmerClick:!1,closeOnEscape:!0,"data-testid":"".concat(_,"-modal")},i.createElement(h.Z.Header,{className:"wizard-header"},a,S&&i.createElement(o.Heading,{as:"h6"},S)),i.createElement(h.Z.Content,{className:"steps-container","data-testid":"".concat(_,"-steps")},i.createElement(o.Steps.Group,{current:Q},k.map((function(e,t){return i.createElement(o.Steps.Step,{key:t,icon:e.icon,title:e.title,"data-testid":"".concat(_,"-step-").concat(t)})})))),i.createElement(h.Z.Content,{className:"content-container",scrolling:!0},Ze&&Fe,function(){var e;switch(null===(e=k[Q])||void 0===e?void 0:e.name){case ge.PROTOCOL_SELECTION:return i.createElement(X,{initialSelectedTemplate:Ce,onSubmit:function(e){return ze(e,ge.PROTOCOL_SELECTION)},defaultTemplates:[V.KE,V.We,V.vw],triggerSubmit:Re,selectedProtocols:I,setSelectedCustomInboundProtocol:we,"data-testid":"".concat(_,"-protocol-selection-form")});case ge.GENERAL_SETTINGS:return Ce.id===Ee.id?i.createElement(N,{triggerSubmit:ae,initialValues:F&&F[ge.GENERAL_SETTINGS],onSubmit:function(e){!function(e){for(var t=(0,l.M7)(),n=0,o=Object.entries(e);n<o.length;n++){var i=Te(o[n],2),a=i[0],r=i[1];t=he(he({},t),{},ye({},a,r))}He(t)}(e)},templateValues:ee,"data-testid":"".concat(_,"-general-settings-form")}):i.createElement(N,{triggerSubmit:ae,initialValues:F&&F[ge.GENERAL_SETTINGS],onSubmit:function(e){return ze(e,ge.GENERAL_SETTINGS)},templateValues:ee,"data-testid":"".concat(_,"-general-settings-form")});case ge.PROTOCOL_SETTINGS:if(F&&F[ge.PROTOCOL_SELECTION]){if(_e)return i.createElement(R,{triggerSubmit:ce,protocolName:Ce.id,initialValues:F&&F[ge.PROTOCOL_SETTINGS],metadata:U[Ce.id],onSubmit:function(e){return ze(e,ge.PROTOCOL_SETTINGS)},"data-testid":"".concat(_,"-custom-protocol-settings-form")});if(F[ge.PROTOCOL_SELECTION]===l.AI.OIDC)return i.createElement(x,{isProtocolConfig:!0,selectedTemplate:Ce,triggerSubmit:ce,fields:["callbackURLs"],initialValues:F&&F[ge.PROTOCOL_SETTINGS],templateValues:ee,onSubmit:function(e){return ze(e,ge.PROTOCOL_SETTINGS)},showCallbackURL:!0,"data-testid":"".concat(_,"-oauth-protocol-settings-form")});if(F[ge.PROTOCOL_SELECTION]===l.AI.SAML)return Ce.id===l.EL.SAML?i.createElement(le,{triggerSubmit:ce,initialValues:F&&F[ge.PROTOCOL_SETTINGS],templateValues:ee,fields:["issuer","assertionConsumerURLs"],hideFieldHints:!0,onSubmit:function(e){return ze(e,ge.PROTOCOL_SETTINGS)},"data-testid":"".concat(_,"-saml-protocol-all-settings-form")}):i.createElement(de,{triggerSubmit:ce,initialValues:F&&F[ge.PROTOCOL_SETTINGS],templateValues:ee,onSubmit:function(e){return ze(e,ge.PROTOCOL_SETTINGS)},"data-testid":"".concat(_,"-saml-protocol-settings-form")});if(F[ge.PROTOCOL_SELECTION]===l.AI.WS_TRUST)return i.createElement(ve,{triggerSubmit:ce,initialValues:F&&F[ge.PROTOCOL_SETTINGS],templateValues:ee,onSubmit:function(e){return ze(e,ge.PROTOCOL_SETTINGS)},"data-testid":"".concat(_,"-ws-trust-protocol-settings-form")});if(F[ge.PROTOCOL_SELECTION]===l.AI.WS_FEDERATION)return i.createElement(G,{triggerSubmit:ce,initialValues:F&&F[ge.PROTOCOL_SETTINGS],templateValues:ee,onSubmit:function(e){return ze(e,ge.PROTOCOL_SETTINGS)},"data-testid":"".concat(_,"-passive-sts-protocol-settings-form")})}return null;case ge.SUMMARY:return O?i.createElement(ne,{triggerSubmit:me,summary:Be(),onSubmit:xe,image:Ce.authenticationProtocol,customProtocol:_e,samlMetaFileSelected:Me,"data-testid":"".concat(_,"-protocol-summary")}):i.createElement(pe,{triggerSubmit:me,summary:Be(),onSubmit:We,"data-testid":"".concat(_,"-summary")})}}()),i.createElement(h.Z.Actions,null,i.createElement(y.Z,null,i.createElement(y.Z.Row,{column:1},i.createElement(y.Z.Column,{mobile:8,tablet:8,computer:8},i.createElement(o.LinkButton,{"data-testid":"".concat(_,"-cancel-button"),floated:"left",onClick:Ve},w("common:cancel"))),i.createElement(y.Z.Column,{mobile:8,tablet:8,computer:8},Q<k.length-1&&i.createElement(o.PrimaryButton,{floated:"right",onClick:Ge,"data-testid":"".concat(_,"-next-button")},w("common:next"),i.createElement(T.Z,{name:"arrow right"})),Q===k.length-1&&i.createElement(o.PrimaryButton,{floated:"right",onClick:Ge,"data-testid":"".concat(_,"-finish-button"),loading:Ue,disabled:Ue},w("common:finish")),Q>0&&i.createElement(o.LinkButton,{floated:"right",onClick:function(){K(Q)},"data-testid":"".concat(_,"-previous-button")},i.createElement(T.Z,{name:"arrow left"}),w("common:previous"))))))):null};Ce.defaultProps={currentStep:0,"data-testid":"application-create-wizard"};var Oe=n(84857);function Ie(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(e){l=!0,i=e}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Re(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Re(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Re(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var Pe=function(e){var t=e.initialValues,n=e.idpList,a=e.triggerSubmit,r=e.onSubmit,l=e.isEdit,s=e.readOnly,c=e.isSubmitting,d=e["data-testid"],p=(0,b.$G)().t,f=Ie((0,i.useState)([]),2),m=f[0],v=f[1],g=Ie((0,i.useState)(void 0),2),E=g[0],A=g[1],h=Ie((0,i.useState)(),2),T=h[0],S=h[1],C=Ie((0,i.useState)(null===t||void 0===t?void 0:t.blocking),2),O=C[0],I=C[1],R=Ie((0,i.useState)(null===t||void 0===t?void 0:t.jit),2),P=R[0],L=R[1],_=Ie((0,i.useState)(null===t||void 0===t?void 0:t.rules),2),w=_[0],N=_[1],U=Ie((0,i.useState)(null===t||void 0===t?void 0:t.connector),2),D=U[0],M=U[1];(0,i.useEffect)((function(){if(n&&null!==t&&void 0!==t&&t.idp){var e=null===n||void 0===n?void 0:n.find((function(e){return e.name===(null===t||void 0===t?void 0:t.idp)}));S(e.id)}}),[n]),(0,i.useEffect)((function(){if(n){var e=[],t={key:-1,text:"",value:""};n.map((function(n,o){t={key:o,text:n.name,value:n.id},e.push(t)})),v(e)}}),[n]),(0,i.useEffect)((function(){if(T){var e=[],t={key:-1,text:"",value:""};(0,Oe.OL)(T).then((function(n){n.provisioning.outboundConnectors.connectors.map((function(n,o){n.isEnabled&&(t={key:o,text:n.name,value:n.name},e.push(t))})),A(e)}))}}),[T]);return i.createElement(u.Forms,{onSubmit:function(e){return r(function(e){var t=m.find((function(e){return e.value===T})).text;return{blocking:O||!!e.get("blocking").includes("blocking"),connector:D,idp:t,jit:P||!!e.get("jit").includes("jit"),rules:w||!!e.get("blocking").includes("blocking")}}(e))},submitState:a&&a},i.createElement(y.Z,null,!l&&i.createElement(y.Z.Row,{columns:1},i.createElement(y.Z.Column,{mobile:16,tablet:16,computer:10},i.createElement(u.Field,{type:"dropdown",label:p("console:develop.features.applications.forms.outboundProvisioning.fields.idp.label"),placeholder:p("console:develop.features.applications.forms.outboundProvisioning.fields.idp.placeholder"),name:"idp",children:m,requiredErrorMessage:p("console:develop.features.applications.forms.outboundProvisioning.fields.idp.validations.empty"),readOnly:s,required:!1,value:null===t||void 0===t?void 0:t.idp,listen:function(e){S(e.get("idp").toString())},"data-testid":"".concat(d,"-idp-dropdown")}))),i.createElement(y.Z.Row,{columns:1},i.createElement(y.Z.Column,{mobile:16,tablet:16,computer:10},i.createElement(u.Field,{type:"dropdown",label:p("console:develop.features.applications.forms.outboundProvisioning.fields.connector.label"),placeholder:p("console:develop.features.applications.forms.outboundProvisioning.fields.connector.placeholder"),name:"connector",children:E,requiredErrorMessage:p("console:develop.features.applications.forms.outboundProvisioning.fields.connector.validations.empty"),readOnly:s,required:!0,value:null===t||void 0===t?void 0:t.connector,listen:function(e){M(e.get("connector").toString())},"data-testid":"".concat(d,"-provisioning-connector-dropdown")}),(null===E||void 0===E?void 0:E.length)<=0&&i.createElement(o.Hint,{icon:"warning sign"},p("console:develop.features.applications.edit.sections.provisioning.outbound.addIdpWizard.errors.noProvisioningConnector")))),i.createElement(y.Z.Row,{columns:1},i.createElement(y.Z.Column,{mobile:16,tablet:16,computer:10},i.createElement(u.Field,{name:"rules",required:!1,requiredErrorMessage:"",type:"checkbox",children:[{label:p("console:develop.features.applications.forms.outboundProvisioning.fields.rules.label"),value:"rules"}],value:null!==t&&void 0!==t&&t.rules?["rules"]:[],listen:function(e){N(e.get("rules").includes("rules"))},readOnly:s,"data-testid":"".concat(d,"-rules-checkbox")}),i.createElement(o.Hint,null,p("console:develop.features.applications.forms.outboundProvisioning.fields.rules.hint")))),i.createElement(y.Z.Row,{columns:1},i.createElement(y.Z.Column,{mobile:16,tablet:16,computer:10},i.createElement(u.Field,{name:"blocking",required:!1,requiredErrorMessage:"",type:"checkbox",children:[{label:p("console:develop.features.applications.forms.outboundProvisioning.fields.blocking.label"),value:"blocking"}],readOnly:s,value:null!==t&&void 0!==t&&t.blocking?["blocking"]:[],listen:function(e){I(e.get("blocking").includes("blocking"))},"data-testid":"".concat(d,"-blocking-checkbox")}),i.createElement(o.Hint,null,p("console:develop.features.applications.forms.outboundProvisioning.fields.blocking.hint")))),i.createElement(y.Z.Row,{columns:1},i.createElement(y.Z.Column,{mobile:16,tablet:16,computer:10},i.createElement(u.Field,{name:"jit",required:!1,requiredErrorMessage:"",type:"checkbox",children:[{label:p("console:develop.features.applications.forms.outboundProvisioning.fields.jit.label"),value:"jit"}],value:null!==t&&void 0!==t&&t.jit?["jit"]:[],listen:function(e){L(e.get("jit").includes("jit"))},readOnly:s,"data-testid":"".concat(d,"-jit-checkbox")}),i.createElement(o.Hint,null,p("console:develop.features.applications.forms.outboundProvisioning.fields.jit.hint")))),l&&!s&&i.createElement(y.Z.Row,{columns:1},i.createElement(y.Z.Column,{mobile:16,tablet:16,computer:10},i.createElement(o.PrimaryButton,{type:"submit",size:"small",className:"form-button","data-testid":"".concat(d,"-submit-button"),loading:c,disabled:c},p("common:update"))))))};function Le(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(e){l=!0,i=e}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return _e(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _e(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}Pe.defaultProps={"data-testid":"application-outbound-provisioning-wizard-idp-form"};var we=function(e){var t=e.application,n=e.closeWizard,a=e.currentStep,r=e.onUpdate,l=e["data-testid"],d=(0,b.$G)().t,p=(0,A.I0)(),f=Le((0,u.useTrigger)(),2),m=f[0],v=f[1],g=Le((0,i.useState)(void 0),2),E=g[0],S=g[1],C=Le((0,i.useState)(a),2),O=C[0],I=C[1],R=Le((0,i.useState)(void 0),2),P=R[0],L=R[1],_=Le((0,i.useState)(!1),2),w=_[0],N=_[1];(0,i.useEffect)((function(){void 0!==E&&(I(O-1),S(void 0))}),[E]),(0,i.useEffect)((function(){P||(0,Oe.SN)().then((function(e){L(e.identityProviders)}))}),[]);var U=function(){if(0===O)v()},D=function(e){var o;if(null!==t&&void 0!==t&&null!==(o=t.provisioningConfigurations)&&void 0!==o&&o.outboundProvisioningIdps.find((function(t){return t.connector===e.connector&&t.idp===e.idp})))return p((0,c.addAlert)({description:d("console:develop.features.applications.notifications.updateOutboundProvisioning.genericError.description"),level:s.AlertLevels.ERROR,message:d("console:develop.features.applications.notifications.updateOutboundProvisioning.genericError.message")})),void n();!function(e,o){N(!0),(0,M.TH)(e,o).then((function(){p((0,c.addAlert)({description:d("console:develop.features.applications.notifications.updateApplication.success.description"),level:s.AlertLevels.SUCCESS,message:d("console:develop.features.applications.notifications.updateApplication.success.message")})),r(t.id)})).catch((function(e){e.response&&e.response.data&&e.response.data.description?p((0,c.addAlert)({description:e.response.data.description,level:s.AlertLevels.ERROR,message:d("console:develop.features.applications.notifications.updateApplication.error.message")})):p((0,c.addAlert)({description:d("console:develop.features.applications.notifications.updateApplication.genericError.description"),level:s.AlertLevels.ERROR,message:d("console:develop.features.applications.notifications.updateApplication.genericError.message")}))})).finally((function(){N(!1),n()}))}(t.id,function(e){var n,o=null===t||void 0===t||null===(n=t.provisioningConfigurations)||void 0===n?void 0:n.outboundProvisioningIdps;return o.push(e),{provisioningConfigurations:{outboundProvisioningIdps:o}}}(e))},k=[{content:i.createElement(Pe,{initialValues:null,triggerSubmit:m,onSubmit:function(e){D(e)},idpList:P,"data-testid":"".concat(l,"-form"),isSubmitting:w}),icon:(0,B.jK)().general,title:d("console:develop.features.applications.edit.sections.provisioning.outbound.addIdpWizard.steps.details")}];return i.createElement(h.Z,{open:!0,className:"wizard application-create-wizard",dimmer:"blurring",size:"small",onClose:n,"data-testid":l,closeOnDimmerClick:!1,closeOnEscape:!0},i.createElement(h.Z.Header,{className:"wizard-header"},d("console:develop.features.applications.edit.sections.provisioning.outbound.addIdpWizard.heading"),i.createElement(o.Heading,{as:"h6"},d("console:develop.features.applications.edit.sections.provisioning.outbound.addIdpWizard.subHeading"))),i.createElement(h.Z.Content,{className:"steps-container"},i.createElement(o.Steps.Group,{current:O,"data-testid":"".concat(l,"-steps")},k.map((function(e,t){return i.createElement(o.Steps.Step,{key:t,icon:e.icon,title:e.title,"data-testid":"".concat(l,"-step-").concat(t)})})))),i.createElement(h.Z.Content,{className:"content-container",scrolling:!0},k[O].content),i.createElement(h.Z.Actions,null,i.createElement(y.Z,null,i.createElement(y.Z.Row,{column:1},i.createElement(y.Z.Column,{mobile:8,tablet:8,computer:8},i.createElement(o.LinkButton,{floated:"left",onClick:function(){return n()},"data-testid":"".concat(l,"-cancel-button")},d("common:cancel"))),i.createElement(y.Z.Column,{mobile:8,tablet:8,computer:8},O<k.length-1&&i.createElement(o.PrimaryButton,{floated:"right",onClick:U,"data-testid":"".concat(l,"-next-button")},d("common:next"),i.createElement(T.Z,{name:"arrow right"})),O===k.length-1&&i.createElement(o.PrimaryButton,{floated:"right",onClick:U,"data-testid":"".concat(l,"-finish-button"),loading:w,disabled:w},d("common:finish")),O>0&&i.createElement(o.LinkButton,{floated:"right",onClick:function(){S(O)},"data-testid":"".concat(l,"-previous-button")},i.createElement(T.Z,{name:"arrow left"}),d("common:previous")))))))};we.defaultProps={currentStep:0,"data-testid":"outbound-provisioning-idp-create-wizard"};var Ne=n(80954),Ue=n(57764),De=n(87303),Me=n(60753),ke=n(6997);function Ze(e,t,n,o,i,a,r){try{var l=e[a](r),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(o,i)}function je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?je(Object(n),!0).forEach((function(t){He(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function He(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(e){l=!0,i=e}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Ge(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ge(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ge(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var ze=function(e){var t=e.title,n=e.closeWizard,f=e.template,v=e.subTemplates,h=e.subTemplatesSectionTitle,T=e.subTitle,S=e.templateLoadingStrategy,C=e["data-testid"],O=(0,b.$G)().t,I=(0,o.useDocumentation)().getLink,R=(0,A.I0)(),P=z.h.getState().config.deployment.tenant,L=xe((0,u.useTrigger)(),2),_=L[0],w=L[1],N=xe((0,u.useTrigger)(),2),U=N[0],D=N[1],Z=(0,A.v9)((function(e){return e.config.ui.isClientSecretHashEnabled})),j=xe((0,i.useState)(null),2),F=j[0],H=j[1],G=xe((0,i.useState)(void 0),2),V=G[0],q=G[1],K=xe((0,i.useState)(l.AI.OAUTH2_OIDC),2),$=K[0],Q=K[1],Y=xe((0,i.useState)(!1),2),X=Y[0],J=Y[1],ee=xe((0,i.useState)(void 0),2),te=ee[0],ne=ee[1],oe=xe((0,i.useState)(f),2),ae=oe[0],re=oe[1],se=xe((0,i.useState)([]),2),ce=se[0],ue=se[1],de=xe((0,i.useState)(!1),2),pe=de[0],fe=de[1],me=xe((0,i.useState)(!1),2),ve=me[0],ge=me[1],be=xe((0,i.useState)(!1),2),Ae=be[0],he=be[1],ye=xe((0,i.useState)(!1),2),Te=ye[0],Se=ye[1],Ce=(0,i.useRef)(),Oe=(0,i.useRef)(),Ie=(0,i.useRef)(),Re=xe((0,i.useState)(void 0),2),Pe=Re[0],Le=Re[1],_e=xe((0,o.useWizardAlert)(),3),we=_e[0],je=_e[1],He=_e[2],Ge=z.lD.getInstance();(0,i.useEffect)((function(){if(ae&&ae.id!==Ee.id&&ke.F.isCurrentOrganizationRoot()){var e=[];(0,z.ZY)().then((function(t){t.map((function(t){e.push(t.url)}))})),ue(e),je(null)}}),[ae]),(0,i.useEffect)((function(){ae.id!==Ee.id?(0,m.Z)(v)||!Array.isArray(v)||v.length<1?Be(f.id,f):(re(v[0]),Be(v[0].id,v[0])):H(Ee)}),[v]),(0,i.useEffect)((function(){var e,t,n;if(qe("all",!1),V||te){if(!V){var o;if(ae.id===Ee.id&&$===l.AI.SAML)return;if(null!==f&&void 0!==f&&f.authenticationProtocol||(null===(o=f.subTemplates)||void 0===o?void 0:o.length)>0)return}if(te){var i,a,u,v=(0,d.Z)(F),b="inboundProtocolConfiguration.oidc.callbackURLs",A=(0,p.Z)(V,b,[]);if((0,m.Z)(null===A||void 0===A?void 0:A.filter(Boolean))||((0,E.Z)(v,"application.".concat(b),[]),(0,E.Z)(v,"application.".concat("inboundProtocolConfiguration.oidc.allowedOrigins"),[])),null!==v&&void 0!==v&&null!==(e=v.application)&&void 0!==e&&null!==(t=e.inboundProtocolConfiguration)&&void 0!==t&&null!==(n=t.saml)&&void 0!==n&&n.templateConfiguration)null===v||void 0===v||(null===(i=v.application)||void 0===i||(null===(a=i.inboundProtocolConfiguration)||void 0===a||(null===(u=a.saml)||void 0===u||delete u.templateConfiguration)));var h=(0,d.Z)((0,g.Z)(null===v||void 0===v?void 0:v.application,V));h.name=te.get("name").toString(),h.templateId=ae.id,$===l.AI.OAUTH2_OIDC&&"custom-application"===(null===ae||void 0===ae?void 0:ae.templateId)&&(h.isManagementApp=te.get("isManagementApp").length>=2),ae.id===Ee.id&&($===l.AI.OAUTH2_OIDC?(h.templateId=r.j.CUSTOM_APPLICATION_OIDC,h.inboundProtocolConfiguration={oidc:{grantTypes:["client_credentials"]}}):$===l.AI.SAML?h.templateId=r.j.CUSTOM_APPLICATION_SAML:$===l.AI.WS_FEDERATION&&(h.templateId=r.j.CUSTOM_APPLICATION_PASSIVE_STS)),J(!0),(0,M.W3)(h).then((function(e){if(Ge.compute((function(){ae.id===Ee.id?Ge.publish("application-register-new-application",{type:h.templateId}):Ge.publish("application-register-new-application",{type:ae.templateId})})),R((0,c.addAlert)({description:O("console:develop.features.applications.notifications.addApplication.success.description"),level:s.AlertLevels.SUCCESS,message:O("console:develop.features.applications.notifications.addApplication.success.message")})),!(0,m.Z)(e.headers.location)){var t=e.headers.location,n=t.substring(t.lastIndexOf("/")+1),o="?",i=0;return Z&&(o="".concat(o,"&").concat(r.j.CLIENT_SECRET_HASH_ENABLED_URL_SEARCH_PARAM_KEY,"=true")),ae.id===Ee.id&&(i=ie.applicationConfig.customApplication.defaultTabIndex),void z.m8.push({hash:"#".concat(l.El.TAB_INDEX).concat(i),pathname:z.$x.getPaths().get("APPLICATION_EDIT").replace(":id",n),search:o})}z.m8.push(z.$x.getPaths().get("APPLICATIONS"))})).catch((function(e){var t,n;if(403!==e.response.status||(null===e||void 0===e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.code)!==r.j.ERROR_CREATE_LIMIT_REACHED.getErrorCode())if(e.response&&e.response.data&&e.response.data.code&&e.response.data.code===r.j.ERROR_CODE_ISSUER_EXISTS)Ae&&(Pe!==l.T6.MANUAL?(je({description:e.response.data.description,level:s.AlertLevels.ERROR,message:O("console:develop.features.applications.notifications.addApplication.error.message")}),Ke()):(qe("issuer",!0),We("issuer")));else if(e.response&&e.response.data&&e.response.data.code&&e.response.data.code===r.j.ERROR_CODE_INVALID_METADATA_URL)Ae&&(qe("metaUrl",!0),We("metaUrl"));else{if(e.response&&e.response.data&&e.response.data.description)return je({description:e.response.data.description,level:s.AlertLevels.ERROR,message:O("console:develop.features.applications.notifications.addApplication.error.message")}),void Ke();je({description:O("console:develop.features.applications.notifications.addApplication.genericError.description"),level:s.AlertLevels.ERROR,message:O("console:develop.features.applications.notifications.addApplication.genericError.message")}),Ke()}else Se(!0)})).finally((function(){J(!1),Ve(!1),qe("all",!1)}))}}}),[te,V]);var ze=function(){n()},Be=function(e,t){S!==l.IJ.LOCAL?(0,M.FG)(e).then((function(e){H(e)})).catch((function(e){e.response&&e.response.data&&e.response.data.description?R((0,c.addAlert)({description:e.response.data.description,level:s.AlertLevels.ERROR,message:O("console:develop.features.applications.notifications.fetchTemplate.error.message")})):R((0,c.addAlert)({description:O("console:develop.features.applications.notifications.fetchTemplate.genericError.description"),level:s.AlertLevels.ERROR,message:O("console:develop.features.applications.notifications.fetchTemplate.genericError.message")}))})):H(t)},We=function(e){var t={behavior:"smooth",block:"center"};switch(e){case"name":Ce.current.scrollIntoView(t);break;case"issuer":Oe.current.scrollIntoView(t);var n=Oe.current.children[0].children[1].children[0];n.focus(),n.blur();break;case"metaUrl":Ie.current.scrollIntoView(t);var o=Ie.current.children[0].children[1].children[0];o.focus(),o.blur()}},Ve=function(e){he(e)},qe=function(e,t){switch(e){case"issuer":fe(t);break;case"metaUrl":ge(t);break;default:ge(t),fe(t)}},Ke=function(){document.getElementById("notification-div").scrollIntoView({behavior:"smooth"})},$e=function(){var e=v&&v instanceof Array&&v.length>0,t=ae.id===Ee.id;if(!e&&!t)return null;if("mobile"===f.id||"desktop"===f.id)return null;var n=t?function(e){var t=Object.values(l.AI);t=t.filter((function(t){return ie.applicationConfig.customApplication.allowedProtocolTypes&&ie.applicationConfig.customApplication.allowedProtocolTypes.length>0?!!ie.applicationConfig.customApplication.allowedProtocolTypes.includes(t)&&t:!(t===l.AI.WS_TRUST||t===l.AI.OIDC||t===l.AI.CUSTOM||e&&t===e)&&t}));var n=[l.AI.OAUTH2_OIDC,l.AI.SAML,l.AI.WS_FEDERATION];return(0,Ne.Z)(t,(function(e){return n.indexOf(e)}))}():v;return i.createElement(y.Z.Row,{className:"pt-0 mt-0"},i.createElement(y.Z.Column,{mobile:16,tablet:16,computer:14},i.createElement("div",{className:"sub-template-selection"},i.createElement("label",{className:"sub-templates-label"},h),i.createElement(De.Z.Group,{itemsPerRow:3,className:"sub-templates"},n.map((function(e,n){var a=t?e:e.id,r=t?e:e.image,s=t?e===l.AI.OAUTH2_OIDC?i.createElement(i.Fragment,null,i.createElement("div",null,"OAuth2.0"),i.createElement("div",null,"OpenID Connect")):W.yf.resolveProtocolDisplayName(e):e.name,c=t?$===e:ae.id===e.id,u=!t&&e.previewOnly;return i.createElement(o.SelectionCard,{key:n,image:Fe(Fe({},(0,B.B0)()),(0,z.r2)())[r],size:"small",className:"sub-template-selection-card",header:s,selected:c,onClick:function(){e.previewOnly||(t?Q(e):(re(e),Be(e.id,e)))},imageSize:"x30",imageOptions:{relaxed:!0,square:!1,width:"auto"},contentTopBorder:!1,showTooltips:!1,renderDisabledItemsAsGrayscale:!1,disabled:u,overlay:i.createElement(Ue.Z,{className:"lighter",active:!0},O("common:featureAvailable")),overlayOpacity:.6,"data-testid":"".concat(C,"-").concat(a,"-card")})}))),i.createElement(a.Z,{hidden:!0}))))};return i.createElement(i.Fragment,null,Te&&i.createElement(Me.P,{actionLabel:O("console:develop.features.applications.notifications.tierLimitReachedError.emptyPlaceholder.action"),handleModalClose:function(){Se(!1),ze()},header:O("console:develop.features.applications.notifications.tierLimitReachedError.heading"),description:O("console:develop.features.applications.notifications.tierLimitReachedError.emptyPlaceholder.subtitles"),message:O("console:develop.features.applications.notifications.tierLimitReachedError.emptyPlaceholder.title"),openModal:Te}),i.createElement(z.wv,{open:!Te,className:"wizard minimal-application-create-wizard",dimmer:"blurring",onClose:ze,closeOnDimmerClick:!1,closeOnEscape:!0,"data-testid":"".concat(C,"-modal")},i.createElement(z.wv.MainPanel,null,i.createElement(z.wv.Header,{className:"wizard-header"},t,T&&i.createElement(o.Heading,{as:"h6"},T,i.createElement(o.DocumentationLink,{link:(null===ae||void 0===ae?void 0:ae.templateId)===l.u.SPA?I("develop.applications.newApplication.singlePageApplication.learnMore"):(null===ae||void 0===ae?void 0:ae.templateId)===l.u.OIDC_WEB_APPLICATION?I("develop.applications.newApplication.oidcApplication.learnMore"):(null===ae||void 0===ae?void 0:ae.templateId)===l.u.SAML_WEB_APPLICATION?I("develop.applications.newApplication.samlApplication.learnMore"):void 0},O("common:learnMore")))),i.createElement(z.wv.Content,null,i.createElement(u.Forms,{onSubmit:function(e){ne(e),D()},onSubmitError:function(e,t){for(var n=e.entries(),o=n.next();!o.done;){if(!o.value[1]||!t.get(o.value[0]).isValid){We(o.value[0]);break}o=n.next()}},submitState:_,id:"name-input"},i.createElement(y.Z,null,i.createElement("div",{id:"notification-div"},we&&i.createElement(y.Z.Row,{columns:1},i.createElement(y.Z.Column,{mobile:16,tablet:16,computer:14},He))),i.createElement(y.Z.Row,{columns:1},i.createElement(y.Z.Column,{mobile:16,tablet:16,computer:14},i.createElement(u.Field,{name:"name",ref:Ce,label:O("console:develop.features.applications.forms.generalDetails.fields.name.label"),required:!0,requiredErrorMessage:O("console:develop.features.applications.forms.generalDetails.fields.name.validations.empty"),placeholder:O("console:develop.features.applications.forms.generalDetails.fields.name.placeholder"),type:"text","data-testid":"".concat(C,"-application-name-input"),validation:function(){var e,t=(e=regeneratorRuntime.mark((function e(t,n){var o,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((l=t.toString().trim())&&l.match(r.j.FORM_FIELD_CONSTRAINTS.APP_NAME_PATTERN)){e.next=4;break}return n.isValid=!1,n.errorMessages.push(O("console:develop.features.applications.forms.spaProtocolSettingsWizard.fields.name.validations.invalid",{appName:t.toString(),characterLimit:r.j.FORM_FIELD_CONSTRAINTS.APP_NAME_MAX_LENGTH})),e.abrupt("return");case 4:return a=null,e.prev=5,e.next=8,(0,M.AY)(null,null,"name eq "+t.toString());case 8:a=e.sent,e.next=17;break;case 11:if(e.prev=11,e.t0=e.catch(5),!(e.t0.response&&e.t0.response.data&&e.t0.response.data.description)){e.next=16;break}return R((0,c.addAlert)({description:e.t0.response.data.description,level:s.AlertLevels.ERROR,message:O("console:develop.features.applications.notifications.fetchApplications.error.message")})),e.abrupt("return");case 16:R((0,c.addAlert)({description:O("console:develop.features.applications.notifications.fetchApplications.genericError.description"),level:s.AlertLevels.ERROR,message:O("console:develop.features.applications.notifications.fetchApplications.genericError.message")}));case 17:(null===(o=a)||void 0===o||null===(i=o.applications)||void 0===i?void 0:i.length)>0&&(n.isValid=!1,n.errorMessages.push(O("console:develop.features.applications.forms.generalDetails.fields.name.validations.duplicate")));case 18:case"end":return e.stop()}var l}),e,null,[[5,11]])})),function(){var t=this,n=arguments;return new Promise((function(o,i){var a=e.apply(t,n);function r(e){Ze(a,o,i,r,l,"next",e)}function l(e){Ze(a,o,i,r,l,"throw",e)}r(void 0)}))});return function(e,n){return t.apply(this,arguments)}}(),displayErrorOn:"blur",maxLength:r.j.FORM_FIELD_CONSTRAINTS.APP_NAME_MAX_LENGTH}))),$e(),i.createElement(y.Z.Row,{className:"pt-0 mt-0"},i.createElement(y.Z.Column,{mobile:16,tablet:16,computer:14},function(){var e=ae.authenticationProtocol;return ae.id===Ee.id&&(e=$),e===l.AI.OIDC?i.createElement(x,{isProtocolConfig:!1,tenantDomain:P,allowedOrigins:ce,fields:["callbackURLs"],hideFieldHints:!0,triggerSubmit:U,templateValues:null===F||void 0===F?void 0:F.application,onSubmit:function(e){return q(e)},showCallbackURL:!0,addOriginByDefault:ae.id===k.id,isAllowEnabled:!(ae.id===k.id),"data-testid":"".concat(C,"-oauth-protocol-settings-form")}):e===l.AI.SAML?i.createElement(le,{issuerRef:Oe,issuerError:pe,metaUrlRef:Ie,metaUrlError:ve,handleProtocolValueChange:Ve,fields:["issuer","assertionConsumerURLs"],hideFieldHints:!0,triggerSubmit:U,templateValues:null===F||void 0===F?void 0:F.application,onSubmit:function(e){return q(e)},setSAMLConfigureMode:Le,"data-testid":"".concat(C,"-saml-protocol-settings-form")}):void 0}())),$===l.AI.OAUTH2_OIDC&&"custom-application"===(null===ae||void 0===ae?void 0:ae.templateId)&&i.createElement("div",{className:"pt-0 mt-0"},i.createElement(u.Field,{"data-testid":"".concat(C,"-management-app-checkbox"),name:"isManagementApp",required:!1,requiredErrorMessage:"is required",type:"checkbox",value:["isManagementApp"],children:[{label:O("console:develop.features.applications.forms.generalDetails.fields.isManagementApp.label"),value:"manageApp"}]}),i.createElement(o.Hint,{compact:!0},O("console:develop.features.applications.forms.generalDetails.fields.isManagementApp.hint")))))),i.createElement(z.wv.Actions,null,i.createElement(y.Z,null,i.createElement(y.Z.Row,{column:1},i.createElement(y.Z.Column,{mobile:8,tablet:8,computer:8},i.createElement(o.LinkButton,{floated:"left",onClick:ze},O("common:cancel"))),i.createElement(y.Z.Column,{mobile:8,tablet:8,computer:8},i.createElement(o.PrimaryButton,{floated:"right",onClick:function(){fe(!1),w()},"data-testid":"".concat(C,"-next-button"),loading:X,disabled:X},O("common:register"))))))),function(){var e,t,n;if(null===ae||void 0===ae||null===(e=ae.content)||void 0===e||!e.wizardHelp)return null;var a,r,s=ae.content.wizardHelp;ae.authenticationProtocol===l.AI.SAML&&Pe===l.T6.META_FILE&&null!==(t=ae.content)&&void 0!==t&&t.wizardHelp2&&(s=null===(a=ae.content)||void 0===a?void 0:a.wizardHelp2);ae.authenticationProtocol===l.AI.SAML&&Pe===l.T6.META_URL&&null!==(n=ae.content)&&void 0!==n&&n.wizardHelp3&&(s=null===(r=ae.content)||void 0===r?void 0:r.wizardHelp3);return i.createElement(z.wv.SidePanel,null,i.createElement(z.wv.Header,{className:"wizard-header help-panel-header muted"},i.createElement("div",{className:"help-panel-header-text"},O("console:develop.features.applications.wizards.minimalAppCreationWizard.help.heading"))),i.createElement(z.wv.Content,null,i.createElement(i.Suspense,{fallback:i.createElement(o.ContentLoader,null)},i.createElement(s,null))))}()))};ze.defaultProps={"data-testid":"minimal-application-create-wizard",showHelpPanel:!0}},43469:function(e,t,n){n.d(t,{ZP:function(){return Ae},jK:function(){return he},L:function(){return o},C4:function(){return ye},s_:function(){return Se},RO:function(){return Te},B0:function(){return be},pr:function(){return Oe},m9:function(){return Ce}});var o=function(e){return{applications:"".concat(e,"/api/server/v1/applications"),requestPathAuthenticators:"".concat(e,"/api/server/v1/configs/authenticators?type=REQUEST_PATH")}},i=n(95211),a=n(74607),r=n(53987),l=n(35764),s=n(2904),c=n(13705),u=n(13357),d=n(64638),p=n(85670),f=n(13835),m=n(64408),v=n(53726),g=n(28620),E=n(87751),b=n(75450),A=n(18813),h=n(85108),y=n(2027),T=n(86303),S=n(77434),C=n(13898),O=n(3194),I=n(21500),R=n(81111),P=n(16672),L=n(27823),_=n(35415),w=n(99986),N=n(52242),U=n(80833),D=n(30392),M=n(68901),k=n(80202),Z=n(73529),j=n(52582),F=n(76102),H=n(1878),x=n(13861),G=n(52950),z=n(41260),B=n(2234),W=n(61495),V=n(76058),q=n(86226),K=(n(95234),n(54243)),$=n(4037),Q=n(32329),Y=n(17231),X=n(72091),J=n(23006),ee=n(53958),te=n(19013),ne=n(94888),oe=n(12161),ie=n(31081),ae=n(93194),re=n(28144),le=n(67677),se=n(42993),ce=n(93811),ue=n(10522),de=n(18621),pe=n(1409),fe=n(45005),me=n(20597),ve=n(94920),ge=n(41264);function Ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var be=function(){var e;return Ee(e={general:q.r,oidc:ue,openid:ue,"passive-sts":pe},ge.AI.OAUTH2_OIDC,ce),Ee(e,"saml",de),Ee(e,"ws-trust",fe),Ee(e,"wsFed",pe),Ee(e,"wsTrust",fe),e},Ae=function(){return{box:K.r,customApp:Q.r,oidcMobile:X.r,oidcWebApp:J.r,passiveSTS:ee.r,samlWebApp:te.r,slack:oe.r,spa:ie.r,windowsNative:ae.r,workday:re.r,wsTrust:le.r,zoom:se.r}},he=function(){return{general:m.r,protocolConfig:E.r,protocolSelection:D.r,summary:w.r}},ye=function(){return{basic:i,default:T.r,emailOTP:a.r,facebook:H.r,fido:g.Z,github:x.Z,google:G.r,identifierFirst:C.r,jwtBasic:me.r,magicLink:S.r,microsoft:ve.r,office365:z.r,sessionExecutor:u.r,smsOTP:r.r,totp:l,twitter:B.r,x509:c.r,yahoo:W.r}},Te=function(){return{endpoints:{authorize:s.r,certificate:b.r,introspect:A.r,issuer:h.r,jwks:y.r,metadata:O.r,revoke:L.r,samlSLO:U.r,samlSSO:M.r,token:Z.r,userInfo:j.r,wellKnown:P.r},tabs:{docs:I.r,guide:p.r,samples:d.r,sdks:f.r,whatsNext:N.r}}},Se=function(){return{addCircleOutline:R.r,plusIcon:_.Z,predefined:V.r,warning:F.r}},Ce=function(){return{addButton:R.r,doneButton:v.r,startButton:k.r}},Oe=function(){return{URLBased:Y.r,fileBased:$.r,manual:ne.r}}},71367:function(e,t,n){n.d(t,{j:function(){return b}});var o=n(68131);function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function a(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=a((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}));r(l,"PORTAL_DOCS_KEY",'["Developer Portal"]'),r(l,"Samples_Catalog",(new Map).set("JS_SPA_SAMPLE","https://github.com/wso2-extensions/identity-samples-js/releases/download/0.1.0/identity-authenticate-sample-js-spa.zip"));var s,c,u=n(21307),d=n(59867),p=n(41264);function f(e){return function(e){if(Array.isArray(e))return m(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function v(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function g(e,t,n){return t&&v(e.prototype,t),n&&v(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=g((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}));E(b,"EMPTY_STRING",""),E(b,"LINE_BREAK","\n"),E(b,"MAXIMUM_NUMBER_OF_LIST_ITEMS_TO_SHOW_INSIDE_POPUP",3),E(b,"AUTHENTICATORS_LOCAL_STORAGE_KEY",btoa("Authenticators")),E(b,"EMPTY_JSON_ARRAY","[]"),E(b,"DEFAULT_ADAPTIVE_AUTH_SCRIPT_HEADER","var onLoginRequest = function(context) {"),E(b,"DEFAULT_ADAPTIVE_AUTH_SCRIPT_FOOTER","};"),E(b,"DEFAULT_ADAPTIVE_AUTH_SCRIPT",[b.DEFAULT_ADAPTIVE_AUTH_SCRIPT_HEADER,b.DEFAULT_ADAPTIVE_AUTH_SCRIPT_FOOTER,""]),E(b,"FEATURE_DICTIONARY",(new Map).set("APPLICATION_ADD","application.add").set("APPLICATION_EDIT","application.edit").set("APPLICATION_EDIT_GENERAL_SETTINGS","application.edit.generalSettings").set("APPLICATION_EDIT_ACCESS_CONFIG","applications.edit.accessConfiguration").set("APPLICATION_EDIT_ATTRIBUTE_MAPPING","applications.edit.attributeMapping").set("APPLICATION_EDIT_SIGN_ON_METHOD_CONFIG","applications.edit.signOnMethodConfiguration").set("APPLICATION_EDIT_PROVISIONING_SETTINGS","applications.edit.provisioningSettings").set("APPLICATION_EDIT_ADVANCED_SETTINGS","applications.edit.advancedSettings").set("APPLICATION_EDIT_INFO","applications.edit.info")),E(b,"EDIT_APPLICATIONS_DOCS_KEY","".concat(l.PORTAL_DOCS_KEY,'.Applications["Edit Application"]')),E(b,"APPLICATION_SAMPLES_DOCS_KEY",'Quick Starts["Choose a Sample Type"]'),E(b,"APPLICATION_DOCS_KEY",'["Developer Portal"].Applications["Edit Application"]'),E(b,"APPLICATION_DOCS_OVERVIEW","Overview"),E(b,"APP_STATE_URL_SEARCH_PARAM_KEY","state"),E(b,"APP_STATE_STRONG_AUTH_PARAM_KEY","isSignOn"),E(b,"APP_READ_ONLY_STATE_URL_SEARCH_PARAM_KEY","readOnly"),E(b,"CLIENT_SECRET_HASH_ENABLED_URL_SEARCH_PARAM_KEY","isClientSecretHashEnabled"),E(b,"APP_STATE_URL_SEARCH_PARAM_VALUE","new"),E(b,"APP_STATE_STRONG_AUTH_PARAM_VALUE","true"),E(b,"DEFAULT_APP_TEMPLATE_LOADING_STRATEGY",p.IJ.LOCAL),E(b,"TEMPLATE_IDS",(new Map).set("box","h9c5e23e-fc78-484b-9bec-015d242361b8").set("oidcMobile","44a2d9d9-bc0c-4b54-85df-1cf08f4002ec").set("oidcWeb","b9c5e11e-fc78-484b-9bec-015d247561b8").set("samlWeb","776a73da-fd8e-490b-84ff-93009f8ede85").set("spa","6a90e4b0-fbff-42d7-bfde-1efd98f07cd7").set("slack","z345e11e-fc78-484b-9bec-015d2475u341r").set("windowsDesktop","df929521-6768-44f5-8586-624126ec3f8b").set("workday","r565e11e-fc78-484b-9bec-015d24753456").set("zoom","t565e11e-fc78-484b-9bec-015d2472008")),E(b,"APPLICATION_TEMPLATE_DOC_MAPPING",(new Map).set(b.TEMPLATE_IDS.get("box"),"OIDC Web Application").set(b.TEMPLATE_IDS.get("oidcMobile"),"OIDC Mobile Application").set(b.TEMPLATE_IDS.get("oidcWeb"),"OIDC Web Application").set(b.TEMPLATE_IDS.get("spa"),"Single Page Application").set(b.TEMPLATE_IDS.get("slack"),"OIDC Web Application").set(b.TEMPLATE_IDS.get("windowsDesktop"),"Windows Desktop Application").set(b.TEMPLATE_IDS.get("workday"),"OIDC Web Application").set(b.TEMPLATE_IDS.get("zoom"),"OIDC Web Application")),E(b,"FILTERABLE_TEMPLATE_CATEGORIES",[p.rz.VENDOR]),E(b,"HIDDEN_GRANT_TYPES",["account_switch"]),E(b,"AUTHORIZATION_CODE_GRANT","authorization_code"),E(b,"CLIENT_CREDENTIALS_GRANT","client_credentials"),E(b,"REFRESH_TOKEN_GRANT","refresh_token"),E(b,"ORGANIZATION_SWITCH_GRANT","organization_switch"),E(b,"IMPLICIT_GRANT","implicit"),E(b,"PASSWORD","password"),E(b,"SAML2_BEARER","urn:ietf:params:oauth:grant-type:saml2-bearer"),E(b,"JWT_BEARER","urn:ietf:params:oauth:grant-type:jwt-bearer"),E(b,"IWA_NTLM","iwa:ntlm"),E(b,"UMA_TICKET","urn:ietf:params:oauth:grant-type:uma-ticket"),E(b,"DEVICE_GRANT","urn:ietf:params:oauth:grant-type:device_code"),E(b,"IS_REFRESH_TOKEN_GRANT_TYPE_ALLOWED",[b.AUTHORIZATION_CODE_GRANT,b.PASSWORD,b.SAML2_BEARER,b.IWA_NTLM,b.JWT_BEARER,b.UMA_TICKET]),E(b,"TEMPLATE_WISE_ALLOWED_GRANT_TYPES",(E(s={},"6a90e4b0-fbff-42d7-bfde-1efd98f07cd7",[b.AUTHORIZATION_CODE_GRANT,b.REFRESH_TOKEN_GRANT,b.IMPLICIT_GRANT]),E(s,"b9c5e11e-fc78-484b-9bec-015d247561b8",[b.AUTHORIZATION_CODE_GRANT,b.IMPLICIT_GRANT,b.CLIENT_CREDENTIALS_GRANT,b.REFRESH_TOKEN_GRANT]),E(s,"custom-application",[b.AUTHORIZATION_CODE_GRANT,b.IMPLICIT_GRANT,b.PASSWORD,b.CLIENT_CREDENTIALS_GRANT,b.REFRESH_TOKEN_GRANT,b.ORGANIZATION_SWITCH_GRANT,b.DEVICE_GRANT]),s)),E(b,"TEMPLATE_WISE_ALLOWED_GRANT_TYPE_ARRANGE_ORDER",(E(c={},"6a90e4b0-fbff-42d7-bfde-1efd98f07cd7",new Map([[b.AUTHORIZATION_CODE_GRANT,0],[b.IMPLICIT_GRANT,1],[b.REFRESH_TOKEN_GRANT,2]])),E(c,"b9c5e11e-fc78-484b-9bec-015d247561b8",new Map([[b.AUTHORIZATION_CODE_GRANT,0],[b.IMPLICIT_GRANT,3],[b.PASSWORD,4],[b.CLIENT_CREDENTIALS_GRANT,1],[b.REFRESH_TOKEN_GRANT,2]])),E(c,"custom-application",new Map([[b.AUTHORIZATION_CODE_GRANT,0],[b.IMPLICIT_GRANT,3],[b.PASSWORD,4],[b.CLIENT_CREDENTIALS_GRANT,1],[b.REFRESH_TOKEN_GRANT,2]])),c)),E(b,"SPA","Single Page Application"),E(b,"AUTH_PROTOCOL_METADATA_INVALID_STATUS_CODE_ERROR","Received an invalid status code while retrieving the auth protocol metadata."),E(b,"AUTH_PROTOCOL_METADATA_FETCH_ERROR","An error occurred while fetching the metadata related to the required auth protocol."),E(b,"AUTH_PROTOCOL_CONFIG_UPDATE_INVALID_STATUS_CODE_ERROR","Received an invalid status code while updating the auth protocol config."),E(b,"AUTH_PROTOCOL_CONFIG_UPDATE_ERROR","An error occurred while updating the authprotocol config."),E(b,"ADAPTIVE_AUTH_TEMPLATES_FETCH_INVALID_STATUS_CODE_ERROR","Received an invalid status code while fetching adaptive authentication templates."),E(b,"ADAPTIVE_AUTH_TEMPLATES_FETCH_ERROR","An error occurred while fetching the required adaptive authentication template."),E(b,"APP_PROTOCOL_DELETE_INVALID_STATUS_CODE_ERROR","Received an invalid status code while deleting the protocol config."),E(b,"APP_PROTOCOL_DELETE_ERROR","An error occurred while deleting theprotocol config."),E(b,"APPLICATION_TEMPLATE_FETCH_INVALID_STATUS_CODE_ERROR","Received an invalid status code while fetching application template."),E(b,"APPLICATION_TEMPLATE_FETCH_ERROR","An error occurred while fetching the required adaptive application template."),E(b,"APPLICATION_TEMPLATES_LIST_FETCH_INVALID_STATUS_CODE_ERROR","Received an invalid status code while fetching application templates list."),E(b,"APPLICATION_TEMPLATES_LIST_FETCH_ERROR","An error occurred while fetching the required adaptive application templates list."),E(b,"OIDC_CONFIGURATIONS_STATUS_CODE_ERROR","Received an invalid status code while retrieving the OIDC configurations of the IDP."),E(b,"SAML_CONFIGURATIONS_STATUS_CODE_ERROR","Received an invalid status code while retrieving the SAML configurations of the IDP."),E(b,"APPLICATION_OIDC_CONFIGURATIONS_FETCH_ERROR","An error occurred while fetching the OIDC configurations of the IDP."),E(b,"APPLICATION_SAML_CONFIGURATIONS_FETCH_ERROR","An error occurred while fetching the SAML configurations of the IDP."),E(b,"REQUEST_PATH_AUTHENTICATORS_INVALID_STATUS_CODE_ERROR","Received an invalid status code while retrieving the request path authenticators."),E(b,"REQUEST_PATH_AUTHENTICATORS_FETCH_ERROR","An error occurred while fetching the request path authenticators."),E(b,"UNABLE_FETCH_APPLICATIONS","An error occurred while fetching applications."),E(b,"IDENTIFIER_FIRST_AUTHENTICATOR_ID",u.bQ.LOCAL_IDP_IDENTIFIER+"-SWRlbnRpZmllckV4ZWN1dG9y"),E(b,"SECOND_FACTOR_AUTHENTICATORS_DROPPABLE_ID","second-factor-authenticators"),E(b,"EXTERNAL_AUTHENTICATORS_DROPPABLE_ID","external-authenticators"),E(b,"SOCIAL_LOGIN_HEADER","Social Login"),E(b,"HANDLER_AUTHENTICATORS",[b.IDENTIFIER_FIRST_AUTHENTICATOR_ID]),E(b,"FIRST_FACTOR_AUTHENTICATORS",[u.bQ.BASIC_AUTHENTICATOR,u.bQ.FIDO_AUTHENTICATOR]),E(b,"SECOND_FACTOR_AUTHENTICATORS",[u.bQ.TOTP_AUTHENTICATOR,u.bQ.TOTP_AUTHENTICATOR_ID,u.bQ.EMAIL_OTP_AUTHENTICATOR,u.bQ.EMAIL_OTP_AUTHENTICATOR_ID]),E(b,"SOCIAL_AUTHENTICATORS",[u.bQ.GOOGLE_OIDC_AUTHENTICATOR_ID,u.bQ.GOOGLE_OIDC_AUTHENTICATOR_NAME,u.bQ.FACEBOOK_AUTHENTICATOR_ID,u.bQ.FACEBOOK_AUTHENTICATOR_NAME,u.bQ.TWITTER_AUTHENTICATOR_ID,u.bQ.TWITTER_AUTHENTICATOR_NAME,u.bQ.GITHUB_AUTHENTICATOR_ID,u.bQ.GITHUB_AUTHENTICATOR_NAME]),E(b,"TOTP_HANDLERS",[].concat(f(b.FIRST_FACTOR_AUTHENTICATORS),f(b.SOCIAL_AUTHENTICATORS))),E(b,"EMAIL_OTP_HANDLERS",[].concat(f(b.FIRST_FACTOR_AUTHENTICATORS),f(b.SOCIAL_AUTHENTICATORS))),E(b,"EIDP_AUTHENTICATORS",[d.Rt.OIDC,d.Rt.SAML]),E(b,"PEM_CERTIFICATE_PLACEHOLDER","-----BEGIN CERTIFICATE-----\nMIIFaDCCBFCgAwIBAgISESHkvZFwK9Qz0KsXD3x8p44aMA0GCSqGSIb3DQEBCwUA\n...\nlffygD5IymCSuuDim4qB/9bh7oi37heJ4ObpBIzroPUOthbG4gv/5blW3Dc=\n-----END CERTIFICATE-----"),E(b,"FORM_FIELD_CONSTRAINTS",{APP_DESCRIPTION_PATTERN:new RegExp("^[a-zA-Z0-9.+=!$#()@&%*~_-]+(?: [a-zA-Z0-9.+=!$#()@&%*~_-]+)*$"),APP_NAME_MAX_LENGTH:50,APP_NAME_PATTERN:new RegExp("^[a-zA-Z0-9._-]+(?: [a-zA-Z0-9._-]+)*$")}),E(b,"CONDITIONAL_AUTH_TOUR_STATUS_STORAGE_KEY","isConditionalAuthTourViewed"),E(b,"CUSTOM_APPLICATION_OIDC","custom-application-oidc"),E(b,"CUSTOM_APPLICATION_SAML","custom-application-saml"),E(b,"CUSTOM_APPLICATION_PASSIVE_STS","custom-application-passive-sts"),E(b,"CUSTOM_APPLICATION","custom-application"),E(b,"CUSTOM_APPLICATION_PROTOCOL_ORDER",new Map([["oidc",0],["saml",1],["passive-sts",2]])),E(b,"ERROR_CREATE_LIMIT_REACHED",new o.IdentityAppsError("APP-60503","console:develop.features.applications.notifications.apiLimitReachedError.error.description","console:develop.features.applications.notifications.apiLimitReachedError.error.message","cdaefcee-ecdb-47af-8538-174ec13292db")),E(b,"ERROR_CODE_ISSUER_EXISTS","SAML-60002"),E(b,"ERROR_CODE_INVALID_METADATA_URL","SAML-60003")},52575:function(e,t,n){n.d(t,{m:function(){return b}});var o=n(6841),i=n(6586),a=n(82011),r=n(68905),l=JSON.parse('{"id":"DEFAULT","displayName":"","description":"","viewConfigs":{"tags":{"as":"icon","sectionTitle":"E.g.,","showTagIcon":false,"showTags":true,"tagSize":"x22","tagsKey":"types"}}}'),s=JSON.parse('{"category":"DEFAULT","description":"Applications developed to target native desktops.","enabled":true,"id":"desktop","templateId":"desktop-application","displayOrder":3,"image":"windowsNative","name":"Desktop Application","subTemplatesSectionTitle":"Technology","types":["windows","macos"]}'),c=JSON.parse('{"category":"DEFAULT","description":"Applications developed to target mobile devices.","enabled":true,"id":"mobile","templateId":"mobile-application","displayOrder":2,"image":"oidcMobile","name":"Mobile Application","subTemplatesSectionTitle":"Technology","types":["android","ios"]}'),u=JSON.parse('{"category":"DEFAULT","description":"A web application that runs application logic on the server.","enabled":true,"displayOrder":1,"id":"web-application","templateId":"traditional-web-application","image":"oidcWebApp","name":"Traditional Web Application","subTemplatesSectionTitle":"Protocol","types":["java","dotNet"]}'),d=JSON.parse('{"id":"44a2d9d9-bc0c-4b54-85df-1cf08f4002ec","templateId":"android-mobile-application","name":"Android","description":"Applications developed to target native Android mobile devices.","image":"android","authenticationProtocol":"oidc","types":["android"],"category":"DEFAULT","displayOrder":4,"templateGroup":"mobile","application":{"name":"","advancedConfigurations":{"discoverableByEndUsers":false,"skipLogoutConsent":true},"authenticationSequence":{"type":"DEFAULT","steps":[{"id":1,"options":[{"idp":"LOCAL","authenticator":"basic"}]}]},"inboundProtocolConfiguration":{"oidc":{"grantTypes":["authorization_code"],"publicClient":true}}}}'),p=n(61375),f=n(45690),m=n(50274),v=n(23865),g=JSON.parse('{"id":"df929521-6768-44f5-8586-624126ec3f8b","templateId":"windows-desktop-application","name":"Windows","description":"Applications developed to target windows desktops.","image":"windows","authenticationProtocol":"oidc","types":["dotNet"],"category":"DEFAULT","displayOrder":5,"templateGroup":"desktop","application":{"name":"","advancedConfigurations":{"discoverableByEndUsers":false,"skipLogoutConsent":true},"authenticationSequence":{"type":"DEFAULT","steps":[{"id":1,"options":[{"idp":"LOCAL","authenticator":"basic"}]}]},"inboundProtocolConfiguration":{"oidc":{"grantTypes":["authorization_code"],"publicClient":false,"pkce":{"mandatory":false,"supportPlainTransformAlgorithm":true}}}}}'),E=n(67897),b=function(){var e=E.ExtensionsManager.getInstance();return{categories:(0,a.Z)((0,i.Z)((0,o.Z)([{enabled:!0,id:l.id,resource:l}],"id"),(0,o.Z)(e.getApplicationTemplatesConfig().categories,"id"))),groups:(0,a.Z)((0,i.Z)((0,o.Z)([{enabled:!0,id:u.id,resource:u},{enabled:!0,id:s.id,resource:s},{enabled:!0,id:c.id,resource:c}],"id"),(0,o.Z)(e.getApplicationTemplatesConfig().groups,"id"))),templates:(0,a.Z)((0,i.Z)((0,o.Z)([{content:{wizardHelp:(0,r.lazy)((function(){return n.e(9800).then(n.bind(n,29800))}))},enabled:E.applicationConfig.templates.android,id:d.id,resource:d},{content:{wizardHelp:(0,r.lazy)((function(){return n.e(1177).then(n.bind(n,31177))}))},enabled:E.applicationConfig.templates.oidc,id:f.id,resource:f},{content:{wizardHelp:(0,r.lazy)((function(){return n.e(7384).then(n.bind(n,27384))})),wizardHelp2:(0,r.lazy)((function(){return n.e(5623).then(n.bind(n,95623))})),wizardHelp3:(0,r.lazy)((function(){return n.e(4624).then(n.bind(n,64624))}))},enabled:E.applicationConfig.templates.saml,id:m.id,resource:m},{content:{wizardHelp:(0,r.lazy)((function(){return n.e(553).then(n.bind(n,40553))}))},enabled:E.applicationConfig.templates.spa,id:v.id,resource:v},{content:{wizardHelp:(0,r.lazy)((function(){return n.e(2882).then(n.bind(n,12882))}))},enabled:E.applicationConfig.templates.windows,id:g.id,resource:g},{content:{wizardHelp:null},enabled:E.applicationConfig.templates.custom,id:p.id,resource:p}],"id"),(0,o.Z)(e.getApplicationTemplatesConfig().templates,"id")))}}},90862:function(e,t,n){n.d(t,{jo:function(){return i.j},L:function(){return o.L}});n(7882),n(69202);var o=n(43469),i=n(71367);n(52575),n(41264),n(93709),n(91739),n(69051),n(55625),n(98765)},41264:function(e,t,n){var o,i,a,r,l,s;n.d(t,{qr:function(){return c},Ch:function(){return o},wF:function(){return m},rz:function(){return l},u:function(){return u},IJ:function(){return s},a1:function(){return a},el:function(){return i},og:function(){return S},EL:function(){return b},Nx:function(){return d},Tb:function(){return p},aD:function(){return T},Ss:function(){return y},T6:function(){return O},ZM:function(){return v},ti:function(){return C},Ii:function(){return h},AI:function(){return g},El:function(){return f},M7:function(){return I},$d:function(){return R}}),function(e){e.READ="READ",e.WRITE="WRITE"}(o||(o={})),function(e){e.NONE="None",e.JWKS="JWKS",e.PEM="PEM"}(i||(i={})),function(e){e.DEFAULT="DEFAULT",e.USER_DEFINED="USER_DEFINED"}(a||(a={})),function(e){e.QUICK_START="quick_start"}(r||(r={})),function(e){e.DEFAULT="DEFAULT",e.VENDOR="VENDOR"}(l||(l={})),function(e){e.LOCAL="LOCAL",e.REMOTE="REMOTE"}(s||(s={}));var c,u,d,p,f,m,v,g,E,b,A,h,y,T,S,C,O,I=function(){return{accessUrl:"",advancedConfigurations:{certificate:{type:i.JWKS,value:""},discoverableByEndUsers:!1,enableAuthorization:!1,returnAuthenticatedIdpList:!1,saas:!1,skipLoginConsent:!1,skipLogoutConsent:!1},authenticationSequence:void 0,claimConfiguration:void 0,description:"",id:"",imageUrl:"",inboundProtocols:void 0,name:""}},R=function(){return{certificate:"",issuer:"",metadata:"",sloUrl:"",ssoUrl:""}};!function(e){e.GROUP_BASED="Group-Based",e.IP_BASED="IP-Based",e.NEW_DEVICE_BASED="New-Device-Based",e.USER_AGE_BASED="User-Age-Based"}(c||(c={})),function(e){e.SPA="single-page-application",e.OIDC_WEB_APPLICATION="oidc-web-application",e.SAML_WEB_APPLICATION="saml-web-application"}(u||(u={})),function(e){e.WEB_APPLICATION="web-application",e.DESKTOP_APPLICATION="desktop",e.MOBILE_APPLICATION="mobile"}(d||(d={})),function(e){e.FACEBOOK_LOGIN="FACEBOOK_LOGIN",e.GOOGLE_LOGIN="GOOGLE_LOGIN",e.GITHUB_LOGIN="GITHUB_LOGIN",e.SECOND_FACTOR_TOTP="SECOND_FACTOR_TOTP",e.FIDO_LOGIN="FIDO_LOGIN",e.MAGIC_LINK="MAGIC_LINK",e.DEFAULT="DEFAULT"}(p||(p={})),function(e){e.TAB_INDEX="tab=",e.VIEW="view="}(f||(f={})),function(e){e.GENERAL="General",e.PROTOCOL="protocol",e.USER_ATTRIBUTES="user-attributes",e.SIGN_IN_METHOD="sign-in-method",e.PROVISIONING="provisioning",e.ADVANCED="advanced",e.INFO="info"}(m||(m={})),function(e){e.ACTIVE="ACTIVE",e.REVOKED="REVOKED"}(v||(v={})),function(e){e.SAML="saml",e.OIDC="oidc",e.OAUTH2_OIDC="oauth2-oidc",e.WS_FEDERATION="passive-sts",e.WS_TRUST="ws-trust",e.CUSTOM="custom"}(g||(g={})),function(e){e.SAML="saml",e.OIDC="oidc",e.WS_FEDERATION="ws-federation",e.WS_TRUST="ws-trust"}(E||(E={})),function(e){e.SAML="default-saml",e.OIDC="default-oidc",e.WS_FEDERATION="default-ws-federation",e.WS_TRUST="default-ws-trust"}(b||(b={})),function(e){e.SPA="spa",e.OAUTH_WEB_APP="oauthWebApp"}(A||(A={})),function(e){e.SAML="saml",e.OIDC="oidc",e.WS_TRUST="ws-trust"}(h||(h={})),function(e){e.HTTP_POST="HTTP_POST",e.HTTP_REDIRECT="HTTP_REDIRECT",e.ARTIFACT="ARTIFACT"}(y||(y={})),function(e){e.BACK_CHANNEL="BACKCHANNEL",e.FRONT_CHANNEL_HTTP_REDIRECT="FRONTCHANNEL_HTTP_REDIRECT",e.FRONT_CHANNEL_HTTP_POST="FRONTCHANNEL_HTTP_POST"}(T||(T={})),function(e){e.STRING="STRING",e.BOOLEAN="BOOLEAN",e.INTEGER="INTEGER"}(S||(S={})),function(e){e.NONE="None"}(C||(C={})),function(e){e.MANUAL="manualConfiguration",e.META_FILE="metadataFile",e.META_URL="metadataURL"}(O||(O={}))},93709:function(e,t,n){n.r(t);var o=n(8890),i=n(88742),a=n(26278),r=n(96462),l=n(25479),s=n(81771),c=n(87289),u=n(68905),d=n(64805),p=n(83913),f=n(99104),m=n(7626),v=n(68594),g=n(12847),E=n(50714),b=n(7882),A=n(69202),h=n(30237),y=n(71367),T=n(61375),S=n(41264),C=n(98765);function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(e){l=!0,i=e}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var R=function(e){var t,n,I,R,P,L,_=e.location,w=e["data-testid"],N=new URLSearchParams(_.search),U=(0,d.$G)().t,D=(0,p.I0)(),M=(0,u.useRef)(null),k=(0,p.v9)((function(e){var t;return null===e||void 0===e||null===(t=e.auth)||void 0===t?void 0:t.allowedScopes})),Z=(0,p.v9)((function(e){return e.helpPanel.docStructure})),j=(0,p.v9)((function(e){return e.application.templates})),F=(0,p.v9)((function(e){return e.config.ui.features})),H=(0,p.v9)((function(e){return e.auth.tenantDomain})),x=O((0,u.useState)(S.M7),2),G=x[0],z=x[1],B=O((0,u.useState)(void 0),2),W=B[0],V=B[1],q=O((0,u.useState)(!1),2),K=q[0],$=q[1],Q=O((0,u.useState)(void 0),2),Y=(Q[0],Q[1]),X=O((0,u.useState)(void 0),2),J=X[0],ee=X[1],te=O((0,u.useState)(!1),2),ne=te[0],oe=te[1],ie=O((0,u.useState)(!1),2),ae=ie[0],re=ie[1],le=O((0,u.useState)([]),2),se=le[0],ce=le[1];(0,u.useEffect)((function(){if(M||K){var e=M.current;e&&e.offsetWidth<e.scrollWidth&&oe(!0)}}),[M,K]);(0,u.useEffect)((function(){var e=g.m8.location.pathname.split("/"),t=e[e.length-1];(function(){var e,t,n=g.Wj.getUserPreferences();return!(0,c.Z)(n)&&!(null!==(e=n.identityAppsSettings)&&void 0!==e&&null!==(t=e.devPortal)&&void 0!==t&&t.isApplicationHelpShown)})()&&(D((0,g.rq)(!0)),function(){var e,t=g.Wj.getUserPreferences();if(!(0,c.Z)(t)&&null!==t&&void 0!==t&&null!==(e=t.identityAppsSettings)&&void 0!==e&&e.devPortal){var n=(0,l.Z)(t);n.identityAppsSettings.devPortal.isApplicationHelpShown=!0,g.Wj.setUserPreferences(n)}}()),de(t)}),[]),(0,u.useEffect)((function(){G&&j&&j instanceof Array&&j.length>0?ue():C.e7.getApplicationTemplates().finally()}),[j,G]),(0,u.useEffect)((function(){var e,t;null!==G&&void 0!==G&&G.templateId||(null===(e=G.inboundProtocols)||void 0===e?void 0:e.length)>0&&(G.templateId=null!==(t=A.Eg.get(G.inboundProtocols[0].type))&&void 0!==t?t:y.j.CUSTOM_APPLICATION_OIDC,ue())}),[K,G]),(0,u.useEffect)((function(){F&&F.applications&&((0,o.isFeatureEnabled)(F.applications,y.j.FEATURE_DICTIONARY.get("APPLICATION_EDIT"))||g.m8.push(g.$x.getPaths().get("PAGE_NOT_FOUND")))}),[F]),(0,u.useEffect)((function(){var e;if(W){var t=(0,s.Z)(Z,y.j.EDIT_APPLICATIONS_DOCS_KEY);t&&D((0,g.dv)(null===(e=t[y.j.APPLICATION_TEMPLATE_DOC_MAPPING.get(W.id)])||void 0===e?void 0:e[y.j.APPLICATION_DOCS_OVERVIEW]))}}),[W,Z]),(0,u.useEffect)((function(){ae&&(0,E.jX)(null,null,null,null,!0,!1).then((function(e){ce(e.organizations)}))}),[E.jX,ae]);var ue=function(){var e=j.find((function(e){return e.id===G.templateId}));G.templateId!==y.j.CUSTOM_APPLICATION_OIDC&&G.templateId!==y.j.CUSTOM_APPLICATION_SAML&&G.templateId!==y.j.CUSTOM_APPLICATION_PASSIVE_STS||(e=j.find((function(e){return e.id===T.id}))),V(e)},de=function(e){$(!0),(0,b.sl)(e).then((function(e){z(e)})).catch((function(e){e.response&&e.response.data&&e.response.data.description?D((0,a.addAlert)({description:e.response.data.description,level:i.AlertLevels.ERROR,message:U("console:develop.features.applications.notifications.fetchApplication.error.message")})):D((0,a.addAlert)({description:U("console:develop.features.applications.notifications.fetchApplication.genericError.description"),level:i.AlertLevels.ERROR,message:U("console:develop.features.applications.notifications.fetchApplication.genericError.message")}))})).finally((function(){$(!1)}))};return u.createElement(r.PageLayout,{pageTitle:"Edit Application",title:u.createElement(u.Fragment,null,u.createElement("span",null,G.name)),contentTopMargin:!0,description:null!==(t=v.applicationConfig.editApplication.getOverriddenDescription(null===J||void 0===J||null===(n=J.oidc)||void 0===n?void 0:n.clientId,H,null===W||void 0===W?void 0:W.name))&&void 0!==t?t:u.createElement("div",{className:"with-label ellipsis",ref:M},(null===W||void 0===W?void 0:W.name)&&u.createElement(f.Z,{size:"small"},W.name),u.createElement(m.Z,{disabled:!ne,content:null===G||void 0===G?void 0:G.description,trigger:u.createElement("span",null,null===G||void 0===G?void 0:G.description)})),image:null!==(I=v.applicationConfig.editApplication.getOverriddenImage(null===J||void 0===J||null===(R=J.oidc)||void 0===R?void 0:R.clientId,H))&&void 0!==I?I:G.imageUrl?u.createElement(r.AppAvatar,{name:G.name,image:G.imageUrl,size:"tiny"}):u.createElement(r.AnimatedAvatar,{name:G.name,size:"tiny",floated:"left"}),backButton:{"data-testid":"".concat(w,"-page-back-button"),onClick:function(){g.m8.push(g.$x.getPaths().get("APPLICATIONS"))},text:U("console:develop.pages.applicationsEdit.backButton")},titleTextAlign:"left",bottomMargin:!1,pageHeaderMaxWidth:!0,"data-testid":"".concat(w,"-page-layout"),truncateContent:!0,action:u.createElement(u.Fragment,null,v.applicationConfig.editApplication.getActions(null===J||void 0===J||null===(P=J.oidc)||void 0===P?void 0:P.clientId,H,w),isOrganizationManagementEnabled&&v.applicationConfig.editApplication.showApplicationShare&&!G.advancedConfigurations.fragment&&G.access===S.Ch.WRITE&&u.createElement(r.PrimaryButton,{onClick:function(){return re(!0)}},"Share Application"))},u.createElement(A.Qm,{application:G,featureConfig:F,isLoading:K,setIsLoading:$,onDelete:function(){g.m8.push(g.$x.getPaths().get("APPLICATIONS"))},onUpdate:function(e){de(e)},template:W,"data-testid":w,urlSearchParams:N,getConfiguredInboundProtocolsList:function(e){Y(e)},getConfiguredInboundProtocolConfigs:function(e){ee(e)},readOnly:function(){var e,t;return"true"===N.get(y.j.APP_READ_ONLY_STATE_URL_SEARCH_PARAM_KEY)||G.access===S.Ch.READ||!(0,o.hasRequiredScopes)(null===F||void 0===F?void 0:F.applications,null===F||void 0===F||null===(e=F.applications)||void 0===e||null===(t=e.scopes)||void 0===t?void 0:t.update,k)}()}),ae&&G&&u.createElement(h.z,{open:ae,applicationId:G.id,clientId:null===J||void 0===J||null===(L=J.oidc)||void 0===L?void 0:L.clientId,subOrganizationList:se,onClose:function(){return re(!1)}}))};R.defaultProps={"data-testid":"application-edit"},t.default=R},69051:function(e,t,n){n.r(t);var o=n(96462),i=n(25479),a=n(87289),r=n(24933),l=n(45544),s=n(68905),c=n(64805),u=n(83913),d=n(5554),p=n(23177),f=(n(1410),n(70515),n(74364),n(12847)),m=n(69202),v=n(43469),g=n(71367),E=n(61375),b=n(98765);function A(){return A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},A.apply(this,arguments)}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){T(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S(e){return function(e){if(Array.isArray(e))return I(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||O(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(e){l=!0,i=e}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||O(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){if(e){if("string"===typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?I(e,t):void 0}}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var R=[{key:"all",text:"All Types",value:"all"}],P=function(e){var t,n=e["data-testid"],h=(0,c.$G)().t,T=(0,u.v9)((function(e){var t;return null===e||void 0===e||null===(t=e.application)||void 0===t?void 0:t.groupedTemplates})),O=(0,u.v9)((function(e){return e.config})),I=C((0,s.useState)([]),2),P=I[0],L=I[1],_=C((0,s.useState)(!1),2),w=_[0],N=_[1],U=C((0,s.useState)(null),2),D=U[0],M=U[1],k=C((0,s.useState)(!1),2),Z=k[0],j=k[1],F=C((0,s.useState)(void 0),2),H=F[0],x=(F[1],C((0,s.useState)(!1),2)),G=x[0],z=x[1],B=C((0,s.useState)(R),2),W=(B[0],B[1]),V=f.lD.getInstance();(0,s.useEffect)((function(){void 0===T&&(j(!0),b.e7.getApplicationTemplates().finally((function(){j(!1)})))}),[T]),(0,s.useEffect)((function(){void 0!=H&&((0,r.Z)(H,T)?z(!1):z(!0))}),[H]),(0,s.useEffect)((function(){if(T&&T instanceof Array&&T.length>0){var e=R;S(T).forEach((function(t){g.j.FILTERABLE_TEMPLATE_CATEGORIES.includes(t.category)&&t.types.forEach((function(t){e.some((function(e){return e.value===t}))||e.push({key:t,text:t,value:t})}))})),W(e)}}),[T]),(0,s.useEffect)((function(){T&&Array.isArray(T)&&T.length>0&&b.e7.categorizeTemplates(T).then((function(e){L(e)})).catch((function(){L([])}))}),[T]);var q=function(e,t){var n=t.id;if(T){var o=T.find((function(e){return e.id===n}));o&&(n===E.id&&(o=(0,i.Z)(E)),V.publish("application-click-create-new",{source:"application-listing-page",type:o.templateId}),M(o),N(!0))}},K=function(e,t,n,i,r){if(!r&&(0,a.Z)(i)&&(0,a.Z)(e))return null;var c=i||e;return c=(0,l.Z)(c,["comingSoon"],["desc"]),s.createElement(o.TemplateGrid,A({type:"application",templates:c,templateIcons:y(y({},(0,v.ZP)()),(0,f.r2)()),templateIconOptions:{fill:"primary"},templateIconSize:"tiny",onTemplateSelect:q,paginate:!0,paginationLimit:5,paginationOptions:{showLessButtonLabel:h("common:showLess"),showMoreButtonLabel:h("common:showMore")},comingSoonRibbonLabel:h("common:comingSoon"),renderDisabledItemsAsGrayscale:!0,emptyPlaceholder:n},t))},$=function(e){return"CATEGORIZED"===e?s.createElement(s.Fragment,null,P.map((function(e,t){var i,a,r,l,c,u,p,m,v,g,E,b;return s.createElement("div",{key:t,className:"templates quick-start-templates"},K(e.templates,{"data-testid":"".concat(e.id,"-template-grid"),heading:e.displayName,showTagIcon:null===(i=e.viewConfigs)||void 0===i||null===(a=i.tags)||void 0===a?void 0:a.showTagIcon,showTags:null===(r=e.viewConfigs)||void 0===r||null===(l=r.tags)||void 0===l?void 0:l.showTags,subHeading:e.description,tagSize:null===(c=e.viewConfigs)||void 0===c||null===(u=c.tags)||void 0===u?void 0:u.tagSize,tagsAs:null===(p=e.viewConfigs)||void 0===p||null===(m=p.tags)||void 0===m?void 0:m.as,tagsKey:null===(v=e.viewConfigs)||void 0===v||null===(g=v.tags)||void 0===g?void 0:g.tagsKey,tagsSectionTitle:null===(E=e.viewConfigs)||void 0===E||null===(b=E.tags)||void 0===b?void 0:b.sectionTitle},s.createElement(o.EmptyPlaceholder,{image:(0,f.jF)().newList,imageSize:"tiny",title:h("console:develop.features.templates.emptyPlaceholder.title"),subtitle:[h("console:develop.features.templates.emptyPlaceholder.subtitles")],"data-testid":"".concat(n,"-quick-start-template-grid-empty-placeholder")})),s.createElement(d.Z,{hidden:!0}))}))):"SEARCH_RESULTS"===e?s.createElement("div",{className:"templates search-results"},K([],{"data-testid":"".concat(n,"-search-template-grid")},s.createElement(p.Z,{centered:!0},s.createElement(p.Z.Row,null,s.createElement(p.Z.Column,null,s.createElement(o.EmptyPlaceholder,{image:(0,f.jF)().emptySearch,imageSize:"tiny",title:"No results found",subtitle:["We weren't able to find the type you were looking for.","Please try a different term or use one of the following application types to create a new application."],"data-testid":"".concat(n,"-quick-start-template-grid-empty-\n                                                    placeholder")})))),H,!0)):null};return s.createElement(o.PageLayout,{pageTitle:"Register New Application",title:h("console:develop.pages.applicationTemplate.title"),contentTopMargin:!0,description:h("console:develop.pages.applicationTemplate.subTitle"),backButton:{"data-testid":"".concat(n,"-page-back-button"),onClick:function(){f.m8.push(f.$x.getPaths().get("APPLICATIONS"))},text:h("console:develop.pages.applicationTemplate.backButton")},titleTextAlign:"left",bottomMargin:!1,showBottomDivider:!0,"data-testid":"".concat(n,"-page-layout"),headingColumnWidth:13,actionColumnWidth:3},false,G&&H?$("SEARCH_RESULTS"):T&&!Z?$("CATEGORIZED"):s.createElement(o.ContentLoader,{dimmer:!0}),w&&s.createElement(m.y7,{title:null===D||void 0===D?void 0:D.name,subTitle:null===D||void 0===D?void 0:D.description,closeWizard:function(){return N(!1)},template:D,showHelpPanel:!0,subTemplates:null===D||void 0===D?void 0:D.subTemplates,subTemplatesSectionTitle:null===D||void 0===D?void 0:D.subTemplatesSectionTitle,addProtocol:!1,templateLoadingStrategy:null!==(t=O.ui.applicationTemplateLoadingStrategy)&&void 0!==t?t:g.j.DEFAULT_APP_TEMPLATE_LOADING_STRATEGY}))};P.defaultProps={"data-testid":"application-templates"},t.default=P},91739:function(e,t,n){n.r(t);var o=n(69883),i=(n(8890),n(88742)),a=n(26278),r=n(22260),l=n(96462),s=n(98812),c=n(68905),u=n(64805),d=n(83913),p=n(22946),f=n(23177),m=n(99104),v=n(7626),g=n(70515),E=n(67897),b=n(12847),A=(n(29391),n(7882)),h=n(69202),y=n(71367),T=n(61375);function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(e){l=!0,i=e}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var O=[{key:1,text:r.I18n.instance.t("common:name"),value:"name"},{key:2,text:r.I18n.instance.t("common:type"),value:"type"},{key:3,text:r.I18n.instance.t("common:createdOn"),value:"createdDate"},{key:4,text:r.I18n.instance.t("common:lastUpdatedOn"),value:"lastUpdated"}],I=function(e){var t,n=e["data-testid"],r=(0,u.$G)().t,C=(0,l.useDocumentation)().getLink,I=(0,d.I0)(),R=(0,d.v9)((function(e){return e.config.ui.features})),P=((0,d.v9)((function(e){var t;return null===e||void 0===e||null===(t=e.auth)||void 0===t?void 0:t.allowedScopes})),S((0,c.useState)(""),2)),L=P[0],_=P[1],w=S((0,c.useState)(O[0]),2),N=w[0],U=w[1],D=S((0,c.useState)(0),2),M=D[0],k=D[1],Z=S((0,c.useState)(b.ru.DEFAULT_RESOURCE_LIST_ITEM_LIMIT),2),j=Z[0],F=Z[1],H=S((0,c.useState)(!1),2),x=H[0],G=H[1],z=S((0,c.useState)(!1),2),B=z[0],W=z[1],V=(0,d.v9)((function(e){return e.config})),q=(0,d.v9)((function(e){var t,n,o;return null===e||void 0===e||null===(t=e.config)||void 0===t||null===(n=t.deployment)||void 0===n||null===(o=n.accountApp)||void 0===o?void 0:o.tenantQualifiedPath})),K=S((0,c.useState)(!0),2),$=K[0],Q=K[1],Y=b.lD.getInstance(),X=(0,A.Ok)("advancedConfigurations,templateId",j,M,L),J=X.data,ee=X.isLoading,te=X.error,ne=X.mutate;(0,c.useEffect)((function(){!1===ee&&!0===$&&Q(!1)}),[ee,$]),(0,c.useEffect)((function(){te&&(te.response&&te.response.data&&te.response.data.description?I((0,a.addAlert)({description:te.response.data.description,level:i.AlertLevels.ERROR,message:r("console:develop.features.applications.notifications.fetchApplications.error.message")})):I((0,a.addAlert)({description:r("console:develop.features.applications.notifications.fetchApplications.genericError.description"),level:i.AlertLevels.ERROR,message:r("console:develop.features.applications.notifications.fetchApplications.genericError.message")})))}),[te]);var oe,ie=function(e){_(e)};return c.createElement(l.PageLayout,{pageTitle:"Applications",action:!ee&&!(!L&&(null===J||void 0===J?void 0:J.totalResults)<=0)&&c.createElement(o.di,{when:o.TA.APPLICATION_WRITE},c.createElement(l.PrimaryButton,{disabled:ee,loading:ee,onClick:function(){Y.publish("application-click-new-application-button"),b.m8.push(b.$x.getPaths().get("APPLICATION_TEMPLATES"))},"data-testid":"".concat(n,"-list-layout-add-button")},c.createElement(g.Z,{name:"add"}),r("console:develop.features.applications.list.actions.add"))),title:r("console:develop.pages.applications.title"),description:c.createElement("p",null,r("console:develop.pages.applications.subTitle"),c.createElement(l.DocumentationLink,{link:C("develop.applications.learnMore")},r("common:learnMore"))),contentTopMargin:b.$x.getTenant()===b.$x.getSuperTenant(),"data-testid":"".concat(n,"-page-layout")},$?c.createElement(l.GridLayout,{isLoading:$}):c.createElement(c.Fragment,null,b.$x.getTenant()!==b.$x.getSuperTenant()&&E.applicationConfig.advancedConfigurations.showMyAccount?c.createElement(l.EmphasizedSegment,{className:"mt-0 mb-5","data-componentid":"application-consumer-account-link"},c.createElement(p.Z,null,c.createElement(p.Z.Item,null,c.createElement(f.Z,{verticalAlign:"middle"},c.createElement(f.Z.Column,{floated:"left",width:10},c.createElement(l.GenericIcon,{icon:(0,b.s_)().myAccountSolidIcon,className:"mt-1",floated:"left",size:"tiny",spaced:"right",verticalAlign:"middle",inline:!0,square:!0,transparent:!0}),c.createElement(p.Z.Header,{"data-componentid":"application-consumer-account-link-title",className:"my-account-title mb-1"},r("console:develop.features.applications.myaccount.title"),c.createElement(m.Z,{size:"tiny",className:"preview-label ml-2"},r("common:preview"))),c.createElement(p.Z.Description,{"data-componentid":"application-consumer-account-link-description"},r("console:develop.features.applications.myaccount.description"),c.createElement(l.DocumentationLink,{link:C("develop.applications.myaccount.learnMore")},r("common:learnMore")))),c.createElement(v.Z,{trigger:c.createElement(f.Z.Column,{floated:"right",width:6},c.createElement(l.CopyInputField,{value:q,"data-componentid":"application-consumer-account-link-copy-field"})),content:r("console:develop.features.applications.myaccount.popup"),position:"top center",size:"mini",hideOnScroll:!0,inverted:!0}))))):null,c.createElement(l.ListLayout,{advancedSearch:c.createElement(b.nC,{onFilter:ie,filterAttributeOptions:[{key:0,text:r("common:name"),value:"name"}],filterAttributePlaceholder:r("console:develop.features.applications.advancedSearch.form.inputs.filterAttribute.placeholder"),filterConditionsPlaceholder:r("console:develop.features.applications.advancedSearch.form.inputs.filterCondition.placeholder"),filterValuePlaceholder:r("console:develop.features.applications.advancedSearch.form.inputs.filterValue.placeholder"),placeholder:r("console:develop.features.applications.advancedSearch.placeholder"),defaultSearchAttribute:"name",defaultSearchOperator:"co",triggerClearQuery:x,"data-testid":"".concat(n,"-list-advanced-search")}),currentListSize:null===J||void 0===J?void 0:J.count,listItemLimit:j,onItemsPerPageDropdownChange:function(e,t){F(t.value)},onPageChange:function(e,t){k((t.activePage-1)*j)},onSortStrategyChange:function(e,t){U((0,s.Z)(O,(function(e){return t.value===e.value})))},showPagination:!0,showTopActionPanel:ee||!(!L&&(null===J||void 0===J?void 0:J.totalResults)<=0),sortOptions:O,sortStrategy:N,totalPages:Math.ceil((null===J||void 0===J?void 0:J.totalResults)/j),totalListSize:null===J||void 0===J?void 0:J.totalResults,paginationOptions:{disableNextButton:(oe=J,!((null===oe||void 0===oe?void 0:oe.startIndex)+(null===oe||void 0===oe?void 0:oe.count)!==(null===oe||void 0===oe?void 0:oe.totalResults)+1))},"data-testid":"".concat(n,"-list-layout")},c.createElement(h.dA,{advancedSearch:c.createElement(b.nC,{onFilter:ie,filterAttributeOptions:[{key:0,text:r("common:name"),value:"name"}],filterAttributePlaceholder:r("console:develop.features.applications.advancedSearch.form.inputs.filterAttribute.placeholder"),filterConditionsPlaceholder:r("console:develop.features.applications.advancedSearch.form.inputs.filterCondition.placeholder"),filterValuePlaceholder:r("console:develop.features.applications.advancedSearch.form.inputs.filterValue.placeholder"),placeholder:r("console:develop.features.applications.advancedSearch.placeholder"),defaultSearchAttribute:"name",defaultSearchOperator:"co",triggerClearQuery:x,"data-testid":"".concat(n,"-list-advanced-search")}),featureConfig:R,isLoading:ee,list:J,onApplicationDelete:function(){ne()},onEmptyListPlaceholderActionClick:function(){b.m8.push(b.$x.getPaths().get("APPLICATION_TEMPLATES"))},onSearchQueryClear:function(){_(""),G(!x)},searchQuery:L,"data-testid":"".concat(n,"-list"),"data-componentid":"application"})),B&&c.createElement(h.y7,{title:null===T||void 0===T?void 0:T.name,subTitle:null===T||void 0===T?void 0:T.description,closeWizard:function(){return W(!1)},template:T,showHelpPanel:!0,subTemplates:null===T||void 0===T?void 0:T.subTemplates,subTemplatesSectionTitle:null===T||void 0===T?void 0:T.subTemplatesSectionTitle,addProtocol:!1,templateLoadingStrategy:null!==(t=V.ui.applicationTemplateLoadingStrategy)&&void 0!==t?t:y.j.DEFAULT_APP_TEMPLATE_LOADING_STRATEGY})))};I.defaultProps={"data-testid":"applications"},t.default=I},55625:function(e,t,n){var o;n.d(t,{O0:function(){return v},ZK:function(){return r},hw:function(){return s},vX:function(){return l},bE:function(){return a},wu:function(){return i},H0:function(){return c},NU:function(){return u}}),function(e){e.SET_AVAILABLE_INBOUND_AUTH_PROTOCOL_META="SET_AVAILABLE_INBOUND_AUTH_PROTOCOL_META",e.SET_AVAILABLE_CUSTOM_INBOUND_AUTH_PROTOCOL_META="SET_AVAILABLE_CUSTOM_INBOUND_AUTH_PROTOCOL_META",e.CHECK_CUSTOM_INBOUND_AUTH_PROTOCOL_META="CHECK_AVAILABLE_CUSTOM_INBOUND_AUTH_PROTOCOL_META",e.SET_AUTH_PROTOCOL_META="SET_AUTH_PROTOCOL_META",e.SET_APPLICATION_TEMPLATES="SET_APPLICATION_TEMPLATES",e.SET_GROUPED_APPLICATION_TEMPLATES="SET_GROUPED_APPLICATION_TEMPLATES",e.SET_OIDC_APPLICATION_CONFIGURATIONS="SET_OIDC_APPLICATION_CONFIGURATIONS",e.SET_SAML_APPLICATION_CONFIGURATIONS="SET_SAML_APPLICATION_CONFIGURATIONS"}(o||(o={}));var i=function(e){return{payload:e,type:o.SET_AVAILABLE_INBOUND_AUTH_PROTOCOL_META}},a=function(e){return{payload:e,type:o.SET_AVAILABLE_CUSTOM_INBOUND_AUTH_PROTOCOL_META}},r=function(e){return{payload:e,type:o.CHECK_CUSTOM_INBOUND_AUTH_PROTOCOL_META}},l=function(e,t){return{payload:(n={},i=e,a=t,i in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a,n),type:o.SET_AUTH_PROTOCOL_META};var n,i,a},s=function(e,t){return{payload:e,type:t?o.SET_GROUPED_APPLICATION_TEMPLATES:o.SET_APPLICATION_TEMPLATES}},c=function(e){return{payload:e,type:o.SET_OIDC_APPLICATION_CONFIGURATIONS}},u=function(e){return{payload:e,type:o.SET_SAML_APPLICATION_CONFIGURATIONS}};function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m={groupedTemplates:void 0,meta:{customInboundProtocolChecked:!1,customInboundProtocols:[],inboundProtocols:[],protocolMeta:{}},oidcConfigurations:void 0,samlConfigurations:void 0,templates:void 0},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o.SET_AVAILABLE_INBOUND_AUTH_PROTOCOL_META:return p(p({},e),{},{meta:p(p({},e.meta),{},{inboundProtocols:t.payload})});case o.SET_AVAILABLE_CUSTOM_INBOUND_AUTH_PROTOCOL_META:return p(p({},e),{},{meta:p(p({},e.meta),{},{customInboundProtocols:t.payload})});case o.CHECK_CUSTOM_INBOUND_AUTH_PROTOCOL_META:return p(p({},e),{},{meta:p(p({},e.meta),{},{customInboundProtocolChecked:t.payload})});case o.SET_AUTH_PROTOCOL_META:return p(p({},e),{},{meta:p(p({},e.meta),{},{protocolMeta:p(p({},e.meta.protocolMeta),t.payload)})});case o.SET_APPLICATION_TEMPLATES:return p(p({},e),{},{templates:t.payload});case o.SET_GROUPED_APPLICATION_TEMPLATES:return p(p({},e),{},{groupedTemplates:t.payload});case o.SET_OIDC_APPLICATION_CONFIGURATIONS:return p(p({},e),{},{oidcConfigurations:t.payload});case o.SET_SAML_APPLICATION_CONFIGURATIONS:return p(p({},e),{},{samlConfigurations:t.payload});default:return e}}},98765:function(e,t,n){n.d(t,{w1:function(){return l},yf:function(){return C},e7:function(){return G},Yw:function(){return X}});var o=n(71367);function i(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function r(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,a;return t=e,a=[{key:"getDefaultScript",value:function(){return o.j.DEFAULT_ADAPTIVE_AUTH_SCRIPT}},{key:"generateScript",value:function(e){for(var t=[],n=1;n<e;n++)t.push("    executeStep(:index);".replace(":index",n.toString()));var a=i(o.j.DEFAULT_ADAPTIVE_AUTH_SCRIPT);return a.splice.apply(a,[1,0].concat(t)),a}},{key:"isDefaultScript",value:function(t,n){for(var i=o.j.EMPTY_STRING,a=Array.isArray(t)?t.join(o.j.EMPTY_STRING):t,r=[],l=0;l<n;l++)r.push("executeStep("+(l+1)+");"),i+=r[l];var s=o.j.DEFAULT_ADAPTIVE_AUTH_SCRIPT_HEADER+i+o.j.DEFAULT_ADAPTIVE_AUTH_SCRIPT_FOOTER;return e.minifyScript(a,!1)===e.minifyScript(s,!1)}},{key:"minifyScript",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!e)return o.j.EMPTY_STRING;var n=Array.isArray(e)?e.join(o.j.EMPTY_STRING):String(e),i=/\/\*[\s\S]*?\*\/|\/\/.*/gm,a=n;return t&&(a=a.replace(i,o.j.EMPTY_STRING)),a=a.replace(/(?:\r\n|\r|\n)/g,o.j.EMPTY_STRING).replace(/\s/g,o.j.EMPTY_STRING).trim()}},{key:"isEmptyScript",value:function(t){return!t||Array.isArray(t)&&(0===t.length||0==t.join(o.j.EMPTY_STRING).trim().length)||t instanceof String&&0===t.trim().length||!e.minifyScript(t)}},{key:"sourceToString",value:function(e){return Array.isArray(e)?e.join(o.j.LINE_BREAK):null!==e&&void 0!==e?e:o.j.EMPTY_STRING}}],(n=null)&&r(t.prototype,n),a&&r(t,a),Object.defineProperty(t,"prototype",{writable:!1}),e}(),s=n(88742),c=n(26278),u=n(22260),d=n(26458),p=n(35933),f=n(82515),m=n(12847),v=n(7882),g=n(65337),E=n(41264),b=n(55625);function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(e){l=!0,i=e}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function T(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var C=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,o=[{key:"getInboundProtocols",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,v.a2)(t).then((function(t){var n=(0,p.Z)(e,t,"name");m.h.dispatch((0,b.wu)((0,f.Z)(n,t,"name")))})).catch((function(e){e.response&&e.response.data&&e.response.data.description?m.h.dispatch((0,c.addAlert)({description:e.response.data.description,level:s.AlertLevels.ERROR,message:u.I18n.instance.t("console:develop.features.applications.notifications.fetchInboundProtocols.error.message")})):m.h.dispatch((0,c.addAlert)({description:u.I18n.instance.t("console:develop.features.applications.notifications.fetchInboundProtocols.genericError.description"),level:s.AlertLevels.ERROR,message:u.I18n.instance.t("console:develop.features.applications.notifications.fetchInboundProtocols.genericError.message")}))}))}},{key:"getCustomInboundProtocols",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return(0,v.a2)(t).then((function(t){var n=(0,p.Z)(e,t,"name");m.h.dispatch((0,b.bE)((0,f.Z)(n,t,"name"))),m.h.dispatch((0,b.ZK)(!0))})).catch((function(e){e.response&&e.response.data&&e.response.data.description?m.h.dispatch((0,c.addAlert)({description:e.response.data.description,level:s.AlertLevels.ERROR,message:u.I18n.instance.t("console:develop.features.applications.notifications.fetchCustomInboundProtocols.error.message")})):m.h.dispatch((0,c.addAlert)({description:u.I18n.instance.t("console:develop.features.applications.notifications.fetchCustomInboundProtocols.genericError.description"),level:s.AlertLevels.ERROR,message:u.I18n.instance.t("console:develop.features.applications.notifications.fetchCustomInboundProtocols.genericError.message")}))}))}},{key:"findIcon",value:function(e,t){var n=Object.keys(t).find((function(t){return t===e}));return n?t[n]:e}},{key:"resolveProtocolDisplayName",value:function(e){return g.Eu[e]}},{key:"resolveProtocolDescription",value:function(e){return g.Nf[e]}},{key:"resolveSAMLConfigModeDisplayName",value:function(e){return g.MZ[e]}},{key:"mapProtocolTypeToName",value:function(e){var t=e;return"oauth2"===t?t=E.AI.OIDC:"passivests"===t?t=E.AI.WS_FEDERATION:"wstrust"===t?t=E.AI.WS_TRUST:"samlsso"===t&&(t=E.AI.SAML),t}}],(n=null)&&T(t.prototype,n),o&&T(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}();S(C,"getOIDCApplicationMeta",(function(){return(0,v.qt)().then((function(e){m.h.dispatch((0,b.H0)(e))})).catch((function(e){e.response&&e.response.data&&e.response.data.description?m.h.dispatch((0,c.addAlert)({description:e.response.data.description,level:s.AlertLevels.ERROR,message:u.I18n.instance.t("console:develop.features.applications.notifications.fetchOIDCIDPConfigs.error.message")})):m.h.dispatch((0,c.addAlert)({description:u.I18n.instance.t("console:develop.features.applications.notifications.fetchOIDCIDPConfigs.genericError.description"),level:s.AlertLevels.ERROR,message:u.I18n.instance.t("console:develop.features.applications.notifications.fetchOIDCIDPConfigs.genericError.message")}))}))})),S(C,"getSAMLApplicationMeta",(function(){return(0,v.q9)().then((function(e){m.h.dispatch((0,b.NU)(e))})).catch((function(e){e.response&&e.response.data&&e.response.data.description?m.h.dispatch((0,c.addAlert)({description:e.response.data.description,level:s.AlertLevels.ERROR,message:u.I18n.instance.t("console:develop.features.applications.notifications.fetchSAMLIDPConfigs.error.message")})):m.h.dispatch((0,c.addAlert)({description:u.I18n.instance.t("console:develop.features.applications.notifications.fetchSAMLIDPConfigs.genericError.description"),level:s.AlertLevels.ERROR,message:u.I18n.instance.t("console:develop.features.applications.notifications.fetchSAMLIDPConfigs.genericError.message")}))}))})),S(C,"getIDPDetailsFromMetaXML",(function(e){var t,n=(0,E.$d)();window.ActiveXObject?((t=new ActiveXObject("Microsoft.XMLDOM")).async="false",t.loadXML(e)):t=(new DOMParser).parseFromString(e,"text/xml");return n.issuer=t.getElementsByTagName("EntityDescriptor")[0].attributes[1].value,n.certificate=t.getElementsByTagName("X509Certificate")[0].innerHTML,n.ssoUrl=t.getElementsByTagName("IDPSSODescriptor")[0].childNodes[6].attributes.Location.nodeValue,n.sloUrl=t.getElementsByTagName("IDPSSODescriptor")[0].childNodes[2].attributes.Location.nodeValue,n.metadata=e,n})),S(C,"generateSamplesAndSDKDocs",(function(e){if("object"!==y(e))return[];for(var t=[],n=0,o=Object.entries(e);n<o.length;n++){var i=A(o[n],2),a=i[0],r=i[1];t.push({displayName:a,docs:r.toString(),image:(0,d.Z)(a).toLowerCase(),name:(0,d.Z)(a).toLowerCase()})}return t})),S(C,"getSDKDocsKey",(function(e){return"".concat(o.j.APPLICATION_DOCS_KEY,'["').concat(e,'"].SDKs')})),S(C,"getSampleDocsKey",(function(e){return"".concat(o.j.APPLICATION_DOCS_KEY,'["').concat(e,'"].Samples')})),S(C,"getConfigDocsKey",(function(e){return"".concat(o.j.APPLICATION_DOCS_KEY,'["').concat(e,'"].Configurations')})),S(C,"resolveAllowedOrigins",(function(e){return e?e.split(",").length>1?e.split(","):e&&""!==e?[e]:[]:[]})),S(C,"buildCallBackUrlWithRegExp",(function(e){var t=e.replace(/['"]+/g,"");return t.split(",").length>1&&(t="regexp=("+t.split(",").join("|")+")"),t})),S(C,"buildCallBackURLWithSeparator",(function(e){return e.includes("regexp=(")&&(e=(e=(e=e.replace("regexp=(","")).replace(")","")).split("|").join(",")),e}));var O=n(60669),I=n(89787),R=n(70271),P=n(5091),L=n(26072),_=n(52575),w=n(61375);function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function D(e,t,n,o,i,a,r){try{var l=e[a](r),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(o,i)}function M(e){return function(){var t=this,n=arguments;return new Promise((function(o,i){var a=e.apply(t,n);function r(e){D(a,o,i,r,l,"next",e)}function l(e){D(a,o,i,r,l,"throw",e)}r(void 0)}))}}function k(e){return function(e){if(Array.isArray(e))return F(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||j(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(e){l=!0,i=e}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||j(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){if(e){if("string"===typeof e)return F(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?F(e,t):void 0}}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function H(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var G=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,n=null,o=[{key:"buildSupportedTechnologies",value:function(e){return(null===e||void 0===e?void 0:e.map((function(e){if("string"!==typeof e)return(0,I.Z)(e)&&Object.prototype.hasOwnProperty.call(e,"displayName")&&Object.prototype.hasOwnProperty.call(e,"logo")&&Object.prototype.hasOwnProperty.call(e,"name")?e:null;for(var t=null,n=0,o=Object.entries((0,P.r2)());n<o.length;n++){var i=Z(o[n],2),a=i[0],r=i[1];if(a===e){t=r;break}}return{displayName:(0,R.Z)(e),logo:t,name:e}}))).filter(Boolean)}},{key:"sortApplicationTemplates",value:function(e){var t=k(e);return t.sort((function(e,t){return(-1!==e.displayOrder?e.displayOrder:1/0)-(-1!==t.displayOrder?t.displayOrder:1/0)})),t}},{key:"addCustomTemplates",value:function(e,t){return e.concat(t)}},{key:"categorizeTemplates",value:function(e){var t=[],n=(0,O.Z)(e,"category");return this.loadLocalFileBasedTemplateCategories().then((function(e){return(t=k(e)).forEach((function(e){Object.prototype.hasOwnProperty.call(n,e.id)&&(e.templates=n[e.id])})),t})).catch((function(){return t}))}},{key:"loadLocalFileBasedTemplates",value:function(){var e=M(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],(0,_.m)().templates.map(function(){var e=M(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.enabled){e.next=2;break}return e.abrupt("return");case 2:t.push(n.resource);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.abrupt("return",Promise.all([].concat(t)));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"loadLocalFileBasedTemplateGroups",value:function(){var e=M(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],(0,_.m)().groups.forEach(function(){var e=M(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.enabled){e.next=2;break}return e.abrupt("return");case 2:t.push(n.resource);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.abrupt("return",Promise.all([].concat(t)));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"loadLocalFileBasedTemplateCategories",value:function(){var e=M(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],(0,_.m)().categories.forEach(function(){var e=M(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.enabled){e.next=2;break}return e.abrupt("return");case 2:t.push(n.resource);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.abrupt("return",Promise.all([].concat(t)));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"resolveHelpContent",value:function(e){return e.map((function(e){var t=(0,_.m)().templates.find((function(t){return t.id===e.id}));null!==t&&void 0!==t&&t.content&&(e.content=t.content)})),e}}],n&&H(t.prototype,n),o&&H(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}();x(G,"getApplicationTemplates",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return t?(0,v.Vc)().then((function(t){var o=G.addCustomTemplates(t.templates,[w]);return e?(o.map((function(e){e.types=G.buildSupportedTechnologies(e.types)})),n&&(o=G.sortApplicationTemplates(o)),L.h.dispatch((0,b.hw)(o)),Promise.resolve()):(G.groupTemplates(o).then((function(e){return e.map((function(e){e.types=G.buildSupportedTechnologies(e.types)})),n&&(o=G.sortApplicationTemplates(o),e=G.sortApplicationTemplates(e)),L.h.dispatch((0,b.hw)(o)),L.h.dispatch((0,b.hw)(e,!0)),Promise.resolve()})),Promise.resolve())})).catch((function(e){e.response&&e.response.data&&e.response.data.description?L.h.dispatch((0,c.addAlert)({description:e.response.data.description,level:s.AlertLevels.ERROR,message:u.I18n.instance.t("devPortal:components.applications.notifications.fetchTemplates.error.message")})):L.h.dispatch((0,c.addAlert)({description:u.I18n.instance.t("devPortal:components.applications.notifications.fetchTemplates.genericError.description"),level:s.AlertLevels.ERROR,message:u.I18n.instance.t("devPortal:components.applications.notifications.fetchTemplates.genericError.message")}))})):G.loadLocalFileBasedTemplates().then((function(t){var o=G.resolveHelpContent(t);return e?(o.map((function(e){e.types=G.buildSupportedTechnologies(e.types)})),n&&(o=G.sortApplicationTemplates(o)),L.h.dispatch((0,b.hw)(o)),Promise.resolve()):(G.groupTemplates(o).then((function(e){return e.map((function(e){e.types=G.buildSupportedTechnologies(e.types)})),n&&(o=G.sortApplicationTemplates(o),e=G.sortApplicationTemplates(e)),L.h.dispatch((0,b.hw)(o)),L.h.dispatch((0,b.hw)(e,!0)),Promise.resolve()})),Promise.resolve())}))})),x(G,"groupTemplates",function(){var e=M(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],e.abrupt("return",G.loadLocalFileBasedTemplateGroups().then((function(e){return t.forEach((function(t){if(t.templateGroup){var o=e.find((function(e){return e.id===t.templateGroup}));o?n.some((function(e){return e.id===t.templateGroup}))?n.forEach((function(e,i){e.id!==t.templateGroup||(n[i]=U(U({},o),{},{subTemplates:[].concat(k(e.subTemplates),[t])}))})):n.push(U(U({},o),{},{subTemplates:[t]})):n.push(t)}else n.push(t)})),n})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var z=n(77915),B=n(84857);function W(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=K(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var o=0,i=function(){};return{s:i,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,r=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return r=e.done,e},e:function(e){l=!0,a=e},f:function(){try{r||null==n.return||n.return()}finally{if(l)throw a}}}}function V(e){return function(e){if(Array.isArray(e))return $(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||K(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(e){l=!0,i=e}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||K(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(e,t){if(e){if("string"===typeof e)return $(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$(e,t):void 0}}function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function Q(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var X=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,i=[{key:"isSecondFactorAdditionValid",value:function(e,t,n){var i=q(this.getLeftAndRightSideSteps(t,n),1)[0];return e===B.bQ.TOTP_AUTHENTICATOR_ID?this.hasSpecificFactorsInSteps(o.j.TOTP_HANDLERS,i):e===B.bQ.EMAIL_OTP_AUTHENTICATOR_ID?this.hasSpecificFactorsInSteps(o.j.EMAIL_OTP_HANDLERS,i):this.hasSpecificFactorsInSteps(o.j.FIRST_FACTOR_AUTHENTICATORS,i)}},{key:"isMagicLinkAuthenticatorValid",value:function(e,t){if(1!==e)return!1;var n=t[0].options.find((function(e){return e.authenticator===B.bQ.IDENTIFIER_FIRST_AUTHENTICATOR}));return!(t.length>1&&!n)}},{key:"isFirstFactorValid",value:function(e,t){return!t[e].options.find((function(e){return e.authenticator===B.bQ.IDENTIFIER_FIRST_AUTHENTICATOR||e.authenticator===B.bQ.BASIC_AUTHENTICATOR}))}},{key:"isConnectionsJITUPConflictWithMFA",value:function(e){var t=e.federatedAuthenticators,n=e.steps,i=e.subjectStepId;try{var a=(0,z.Z)(n.filter((function(e){return e.id===i})).map((function(e){return e.options}))),r=V(new Set(a.map((function(e){return e.idp})))).map((function(e){return t.find((function(t){return t.name===e}))})).filter(Boolean).filter((function(e){var t,n;return!(null!==e&&void 0!==e&&null!==(t=e.provisioning)&&void 0!==t&&null!==(n=t.jit)&&void 0!==n&&n.isEnabled)}));if(n.length<2)return{conflicting:!1,idpList:[]};var l=(0,z.Z)(n.slice(1).map((function(e){return e.options}))),s=new Set(o.j.SECOND_FACTOR_AUTHENTICATORS),c=l.filter((function(e){return s.has(e.authenticator)}));return{conflicting:r.length>0&&c.length>0,idpList:null!==r&&void 0!==r?r:[]}}catch(e){return{conflicting:!1,idpList:[]}}}}],(n=null)&&Q(t.prototype,n),i&&Q(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();Y(X,"getLeftAndRightSideSteps",(function(e,t){return[0!==e?t.slice(0,e):[],e+1 in t?t.slice(e+1):[],e+1 in t?t.slice(e+1,e+2):[]]})),Y(X,"hasSpecificFactorsInSteps",(function(e,t){var n,o=!1,i=W(t);try{for(i.s();!(n=i.n()).done;){var a,r=W(n.value.options);try{for(r.s();!(a=r.n()).done;){var l=a.value;if(e.includes(l.authenticator)){o=!0;break}}}catch(e){r.e(e)}finally{r.f()}if(o)break}}catch(e){i.e(e)}finally{i.f()}return o})),Y(X,"getImmediateStepHavingSpecificFactors",(function(e,t){var n,o=!1,i=-1,a=W(t.entries());try{for(a.s();!(n=a.n()).done;){var r,l=q(n.value,2),s=l[0],c=W(l[1].options);try{for(c.s();!(r=c.n()).done;){var u=r.value;if(e.includes(u.authenticator)){o=!0,i=s;break}}}catch(e){c.e(e)}finally{c.f()}if(o)break}}catch(e){a.e(e)}finally{a.f()}return i})),Y(X,"checkImmediateStepHavingSpecificFactors",(function(e,t){var n,o=!1,i=W(t.entries());try{for(i.s();!(n=i.n()).done;){var a,r=W(q(n.value,2)[1].options);try{for(r.s();!(a=r.n()).done;){var l=a.value;if(e.includes(l.authenticator)){o=!0;break}}}catch(e){r.e(e)}finally{r.f()}if(o)break}}catch(e){i.e(e)}finally{i.f()}return o})),Y(X,"countSpecificFactorInSteps",(function(e,t){var n,o=0,i=W(t);try{for(i.s();!(n=i.n()).done;){var a,r=W(n.value.options);try{for(r.s();!(a=r.n()).done;){var l=a.value;e.includes(l.authenticator)&&o++}}catch(e){r.e(e)}finally{r.f()}}}catch(e){i.e(e)}finally{i.f()}return o}))},97223:function(e,t,n){n.d(t,{JM:function(){return k},G6:function(){return T.G}});n(90984);var o,i,a,r,l,s,c,u,d,p,f,m,v,g,E,b,A,h,y,T=n(15922),S=n(19486),C=n(57002),O=n(58548),I=n.n(O);function R(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(e){l=!0,i=e}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||L(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e){return function(e){if(Array.isArray(e))return _(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||L(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,t){if(e){if("string"===typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(e,t):void 0}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function w(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var N,U,D,M=S.ResponseMode.formPost,k=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,o=[{key:"resolveStorage",value:function(){var e,t,n,o,i,a=null===(e=new(I()))||void 0===e||null===(t=e.getBrowser())||void 0===t?void 0:t.name,r=C.AppConstants.WEB_WORKER_UNSUPPORTED_AGENTS.includes(a)?S.Storage.SessionStorage:S.Storage.WebWorker;return null!==(n=window.AppUtils.getConfig().idpConfigs)&&void 0!==n&&n.storage?(null===(o=window.AppUtils.getConfig().idpConfigs)||void 0===o?void 0:o.storage)===S.Storage.WebWorker&&r!==S.Storage.WebWorker?S.Storage.SessionStorage:null===(i=window.AppUtils.getConfig().idpConfigs)||void 0===i?void 0:i.storage:r}},{key:"resolveBaseUrls",value:function(){var e,t=null===(e=window.AppUtils.getConfig().idpConfigs)||void 0===e?void 0:e.baseUrls,n=window.AppUtils.getConfig().serverOrigin;return t?(t.includes(n)||(t=[].concat(P(t),[n])),t):[n]}},{key:"resolveIdpURLSAfterTenantResolves",value:function(e,t){var n=new URL(e),o=new URL(t);if(o.search&&n.search){var i,a=function(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=L(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var o=0,i=function(){};return{s:i,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,r=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return r=e.done,e},e:function(e){l=!0,a=e},f:function(){try{r||null==n.return||n.return()}finally{if(l)throw a}}}}(n.searchParams.entries());try{for(a.s();!(i=a.n()).done;){var r=R(i.value,2),l=r[0],s=r[1];o.searchParams.has(l)||o.searchParams.append(l,s)}}catch(e){a.e(e)}finally{a.f()}return o.toString()}return t+n.search}}],(n=null)&&w(t.prototype,n),o&&w(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}();N=k,U="initializeConfig",D={baseUrl:null!==(o=null===(i=window.AppUtils.getConfig().idpConfigs)||void 0===i?void 0:i.serverOrigin)&&void 0!==o?o:window.AppUtils.getConfig().idpConfigs.serverOrigin,checkSessionInterval:null===(a=window.AppUtils.getConfig())||void 0===a||null===(r=a.session)||void 0===r?void 0:r.checkSessionInterval,clientHost:window.AppUtils.getConfig().clientOriginWithTenant,clientID:window.AppUtils.getConfig().clientID,clockTolerance:null===(l=window.AppUtils.getConfig().idpConfigs)||void 0===l?void 0:l.clockTolerance,disableTrySignInSilently:"true"===new URL(location.href).searchParams.get("disable_silent_sign_in"),enableOIDCSessionManagement:!0,enablePKCE:null===(s=null===(c=window.AppUtils.getConfig().idpConfigs)||void 0===c?void 0:c.enablePKCE)||void 0===s||s,endpoints:{authorizationEndpoint:null===(u=window.AppUtils.getConfig().idpConfigs)||void 0===u?void 0:u.authorizeEndpointURL,checkSessionIframe:null===(d=window.AppUtils.getConfig().idpConfigs)||void 0===d?void 0:d.oidcSessionIFrameEndpointURL,endSessionEndpoint:null===(p=window.AppUtils.getConfig().idpConfigs)||void 0===p?void 0:p.logoutEndpointURL,jwksUri:null===(f=window.AppUtils.getConfig().idpConfigs)||void 0===f?void 0:f.jwksEndpointURL,revocationEndpoint:null===(m=window.AppUtils.getConfig().idpConfigs)||void 0===m?void 0:m.tokenRevocationEndpointURL,tokenEndpoint:null===(v=window.AppUtils.getConfig().idpConfigs)||void 0===v?void 0:v.tokenEndpointURL},resourceServerURLs:k.resolveBaseUrls(),responseMode:null!==(g=null===(E=window.AppUtils.getConfig().idpConfigs)||void 0===E?void 0:E.responseMode)&&void 0!==g?g:M,scope:null!==(b=null===(A=window.AppUtils.getConfig().idpConfigs)||void 0===A?void 0:A.scope)&&void 0!==b?b:[C.TokenConstants.SYSTEM_SCOPE],sendCookiesInRequests:!0,sessionRefreshInterval:null===(h=window.AppUtils.getConfig())||void 0===h||null===(y=h.session)||void 0===y?void 0:y.sessionRefreshTimeOut,signInRedirectURL:window.AppUtils.getConfig().loginCallbackURL,signOutRedirectURL:window.AppUtils.getConfig().loginCallbackURL,storage:k.resolveStorage()},U in N?Object.defineProperty(N,U,{value:D,enumerable:!0,configurable:!0,writable:!0}):N[U]=D},90984:function(e,t,n){n.r(t);var o=n(19486),i=n(57002),a=n(26278),r=n(95823),l=n(68905),s=n(83913),c=n(12847);t.default=function(){var e=(0,s.I0)(),t=(0,o.useAuthContext)(),n=t.signOut,u=t.on,d=(0,s.v9)((function(e){return e.auth.logoutInit}));return(0,l.useEffect)((function(){u(o.Hooks.SignOut,(function(){r.AuthenticateUtils.removeAuthenticationCallbackUrl(i.AppConstants.CONSOLE_APP),e((0,a.setSignOut)())}))}),[]),(0,l.useEffect)((function(){d||n().catch((function(){c.m8.push(window.AppUtils.getConfig().routes.home)}))}),[d]),l.createElement(c.xq,null)}},15922:function(e,t,n){n.d(t,{T:function(){return f},G:function(){return p}});var o=n(19486),i=n(3844),a=n(88742),r=n(26278),l=n(22260),s=n(87289),c=n(67897),u=n(5091),d=n(26072),p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.De.getServiceResourceEndpoints().me,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.AppUtils.getConfig().clientOriginWithTenant;return function(n){var u;n((0,r.setProfileInfoRequestLoadingStatus)(!0));var p=d.h.getState().auth.isPrivilegedUser||null!==(u=window.AppUtils.getConfig().getProfileInfoFromIDToken)&&void 0!==u&&u,f=function(){var e;(0,s.Z)(d.h.getState().profile.profileSchemas)&&(n((0,r.setProfileSchemaRequestLoadingStatus)(!0)),(0,i.getProfileSchemas)(null===(e=d.h.getState().config.endpoints)||void 0===e?void 0:e.schemas).then((function(e){n((0,r.setSCIMSchemas)(e))})).catch((function(e){var t,o;null!==e&&void 0!==e&&null!==(t=e.response)&&void 0!==t&&null!==(o=t.data)&&void 0!==o&&o.description&&n((0,r.addAlert)({description:e.response.data.description,level:a.AlertLevels.ERROR,message:l.I18n.instance.t("console:manage.notifications.getProfileSchema.error.message")})),n((0,r.addAlert)({description:l.I18n.instance.t("console:manage.notifications.getProfileSchema.genericError.description"),level:a.AlertLevels.ERROR,message:l.I18n.instance.t("console:manage.notifications.getProfileSchema.genericError.message")}))})).finally((function(){n((0,r.setProfileSchemaRequestLoadingStatus)(!1))})))};p&&e.includes("scim2/Me")?o.AsgardeoSPAClient.getInstance().getDecodedIDToken().then((function(e){var t,o,i,a={emails:null!==(t=[e.email])&&void 0!==t?t:[],id:e.sub,name:{familyName:null!==(o=e.family_name)&&void 0!==o?o:"",givenName:null!==(i=e.given_name)&&void 0!==i?i:""},profileUrl:"",userName:e.username};n((0,r.setProfileInfo)(a)),n((0,r.setProfileInfoRequestLoadingStatus)(!1)),f()})):(0,i.getProfileInfo)(e,t,null).then((function(e){200===e.responseStatus?(n((0,r.setProfileInfo)(e)),c.commonConfig.hotjarTracking.tagAttributes(),f()):n((0,r.addAlert)({description:l.I18n.instance.t("console:manage.notifications.getProfileInfo.genericError.description"),level:a.AlertLevels.ERROR,message:l.I18n.instance.t("console:manage.notifications.getProfileInfo.genericError.message")}))})).catch((function(e){e.response&&e.response.data&&e.response.data.detail?n((0,r.addAlert)({description:l.I18n.instance.t("console:manage.notifications.getProfileInfo.error.description",{description:e.response.data.detail}),level:a.AlertLevels.ERROR,message:l.I18n.instance.t("console:manage.notifications.getProfileInfo.error.message")})):n((0,r.addAlert)({description:l.I18n.instance.t("console:manage.notifications.getProfileInfo.genericError.description"),level:a.AlertLevels.ERROR,message:l.I18n.instance.t("console:manage.notifications.getProfileInfo.genericError.message")}))})).finally((function(){n((0,r.setProfileInfoRequestLoadingStatus)(!1))}))}},f={allowedScopes:"",displayName:"",display_name:"",email:"",initialized:!1,isAuthenticated:!1,loginInit:!1,logoutInit:!1,sessionState:"",username:""}},27779:function(e,t,n){n.d(t,{vi:function(){return m},es:function(){return f},g:function(){return s},Al:function(){return d},$$:function(){return c},VL:function(){return p},oq:function(){return u}});var o=n(19486),i=n(82817),a=n(88742),r=n(26072),l=o.AsgardeoSPAClient.getInstance().httpRequest.bind(o.AsgardeoSPAClient.getInstance()),s=function(e){var t={headers:{Accept:"application/json","Access-Control-Allow-Origin":r.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:a.HttpMethods.GET,params:{filter:e},url:r.h.getState().config.endpoints.certificates};return l(t).then((function(e){return 200!==e.status?Promise.reject("An error occurred. The server returned ".concat(e.status)):Promise.resolve(e.data)})).catch((function(e){var t,n;throw new i.IdentityAppsApiException(null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message,e.stack,e.code,e.request,e.response,e.config)}))},c=function(e,t){var n={headers:{Accept:"application/pkix-cert","Access-Control-Allow-Origin":r.h.getState().config.deployment.clientHost,"Content-Type":"application/pkix-cert"},method:a.HttpMethods.GET,params:{"encode-cert":t},url:"".concat(r.h.getState().config.endpoints.certificates,"/").concat(encodeURI(e).replace(/#/g,"%23"))};return l(n).then((function(e){return 200!==e.status?Promise.reject("An error occurred. The server returned ".concat(e.status)):Promise.resolve(e.data)})).catch((function(e){var t,n;throw new i.IdentityAppsApiException(null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message,e.stack,e.code,e.request,e.response,e.config)}))},u=function(e){var t={headers:{Accept:"application/pkix-cert","Access-Control-Allow-Origin":r.h.getState().config.deployment.clientHost,"Content-Type":"application/pkix-cert"},method:a.HttpMethods.GET,params:{"encode-cert":e},url:r.h.getState().config.endpoints.publicCertificates};return l(t).then((function(e){return 200!==e.status?Promise.reject("An error occurred. The server returned ".concat(e.status)):Promise.resolve(e.data)})).catch((function(e){var t,n;throw new i.IdentityAppsApiException(null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message,e.stack,e.code,e.request,e.response,e.config)}))},d=function(e){var t={headers:{Accept:"application/json","Access-Control-Allow-Origin":r.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:a.HttpMethods.GET,params:{filter:e},url:r.h.getState().config.endpoints.clientCertificates};return l(t).then((function(e){return 200!==e.status?Promise.reject("An error occurred. The server returned ".concat(e.status)):Promise.resolve(e.data)})).catch((function(e){var t,n;throw new i.IdentityAppsApiException(null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message,e.stack,e.code,e.request,e.response,e.config)}))},p=function(e,t){var n={headers:{Accept:"application/pkix-cert","Access-Control-Allow-Origin":r.h.getState().config.deployment.clientHost,"Content-Type":"application/pkix-cert"},method:a.HttpMethods.GET,params:{"encode-cert":t},url:"".concat(r.h.getState().config.endpoints.clientCertificates,"/").concat(e)};return l(n).then((function(e){return 200!==e.status?Promise.reject("An error occurred. The server returned ".concat(e.status)):Promise.resolve(e.data)})).catch((function(e){var t,n;throw new i.IdentityAppsApiException(null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message,e.stack,e.code,e.request,e.response,e.config)}))},f=function(e){var t={headers:{Accept:"application/json","Access-Control-Allow-Origin":r.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:a.HttpMethods.DELETE,url:"".concat(r.h.getState().config.endpoints.certificates,"/").concat(e)};return l(t).then((function(e){return 204!==e.status?Promise.reject("An error occurred. The server returned ".concat(e.status)):Promise.resolve(e.data)})).catch((function(e){var t,n;throw new i.IdentityAppsApiException(null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message,e.stack,e.code,e.request,e.response,e.config)}))},m=function(e){var t={data:e,headers:{Accept:"application/json","Access-Control-Allow-Origin":r.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:a.HttpMethods.POST,url:r.h.getState().config.endpoints.certificates};return l(t).then((function(e){return 201!==e.status?Promise.reject("An error occurred. The server returned ".concat(e.status)):Promise.resolve(e.data)})).catch((function(e){var t,n;throw new i.IdentityAppsApiException(null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message,e.stack,e.code,e.request,e.response,e.config)}))}},44115:function(e,t,n){n.d(t,{D_:function(){return C},ol:function(){return w}});var o=n(57002),i=n(8890),a=n(88742),r=n(26278),l=n(95823),s=n(96462),c=n(39341),u=n(46904),d=n(68905),p=n(64805),f=n(83913),m=n(85027),v=n(70515),g=n(82791),E=n(12847),b=n(27779),A=n(38665);function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(e){l=!0,i=e}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var S="keystore",C=function(e){var t=e.advancedSearch,n=e.defaultListItemLimit,T=e.featureConfig,C=e.isLoading,O=e.list,I=e.onEmptyListPlaceholderActionClick,R=e.onSearchQueryClear,P=e.onListItemClick,L=e.searchQuery,_=e.selection,w=e.showListItemActions,N=e.update,U=e.type,D=e["data-testid"],M=(0,p.$G)().t,k=y((0,d.useState)(!1),2),Z=k[0],j=k[1],F=y((0,d.useState)(null),2),H=F[0],x=F[1],G=y((0,d.useState)(null),2),z=G[0],B=G[1],W=y((0,d.useState)(!0),2),V=W[0],q=W[1],K=y((0,d.useState)(!1),2),$=K[0],Q=K[1],Y=y((0,d.useState)(""),2),X=Y[0],J=Y[1],ee=y((0,d.useState)(""),2),te=ee[0],ne=ee[1],oe=(0,f.v9)((function(e){return e.config.deployment.tenant})),ie=(0,f.v9)((function(e){return e.auth.tenantDomain})),ae=(0,f.v9)((function(e){var t;return null===e||void 0===e||null===(t=e.auth)||void 0===t?void 0:t.allowedScopes})),re=(0,f.I0)(),le=function(){j(!1),x(null)};(0,d.useEffect)((function(){q("carbon.super"===oe)}),[oe]),(0,d.useEffect)((function(){z&&Q(!0)}),[z]),(0,d.useEffect)((function(){(0,b.oq)(!0).then((function(e){ne(ce(e).serialNumber)})).catch((function(e){var t,n;re((0,r.addAlert)({description:null!==(t=null===e||void 0===e?void 0:e.description)&&void 0!==t?t:M("console:manage.features.certificates.keystore.notifications.getPublicCertificate.genericError.description"),level:a.AlertLevels.ERROR,message:null!==(n=null===e||void 0===e?void 0:e.message)&&void 0!==n?n:M("console:manage.features.certificates.keystore.notifications.getPublicCertificate.genericError.description")}))}))}),[]);var se=function(e,t){for(var n=ce(t).hex,o=new Uint8Array(n.length/2),i=0;i<o.length;i++)o[i]=parseInt(n.substr(2*i,2),16);var l=new Blob([o],{type:"application/x-x509-ca-cert"});(0,c.saveAs)(l,e+".cer"),re((0,r.addAlert)({description:M("console:manage.features.certificates.keystore.notifications.download.success.description"),level:a.AlertLevels.SUCCESS,message:M("console:manage.features.certificates.keystore.notifications.download.success.message")}))},ce=function(e){var t=null===e||void 0===e?void 0:e.split("\n");null===t||void 0===t||t.push(o.CertificateManagementConstants.CERTIFICATE_END),null===t||void 0===t||t.push(o.CertificateManagementConstants.END_LINE),null===t||void 0===t||t.unshift(o.CertificateManagementConstants.CERTIFICATE_BEGIN);var n=null===t||void 0===t?void 0:t.join("\n"),i=new u.X509;return i.readCertPEM(n),i},ue=function(e,t){var n=ce(t),o={alias:e.alias,issuerDN:n.getIssuerString().split("/").slice(1).map((function(e){return h({},e.split("=")[0],e.split("=")[1])})),serialNumber:n.getSerialNumberHex(),subjectDN:n.getSubjectString().split("/").slice(1).map((function(e){return h({},e.split("=")[0],e.split("=")[1])})),validFrom:new Date((0,u.zulutodate)(n.getNotBefore()).toUTCString()),validTill:new Date((0,u.zulutodate)(n.getNotAfter()).toUTCString()),version:n.getVersion()};B(o)},de=function(){return L?d.createElement(s.EmptyPlaceholder,{action:d.createElement(s.LinkButton,{onClick:R},M("console:manage.placeholders.emptySearchResult.action")),image:(0,E.jF)().emptySearch,imageSize:"tiny",title:M("console:manage.placeholders.emptySearchResult.title"),subtitle:[M("console:manage.placeholders.emptySearchResult.subtitles.0",{query:L}),M("console:manage.placeholders.emptySearchResult.subtitles.1")],"data-testid":"".concat(D,"-empty-search-placeholder")}):0===(null===O||void 0===O?void 0:O.length)&&I?d.createElement(s.EmptyPlaceholder,{action:d.createElement(s.PrimaryButton,{onClick:I},d.createElement(v.Z,{name:"cloud upload"}),M("console:manage.features.certificates.keystore.placeholders.emptyList.action")),image:(0,E.jF)().newList,imageSize:"tiny",title:M("console:manage.features.certificates.keystore.placeholders.emptyList.title"),subtitle:[M("console:manage.features.certificates.keystore.placeholders.emptyList.subtitle")],"data-testid":"".concat(D,"-empty-placeholder")}):null},pe=function(e){U!==S?(0,b.VL)(e.alias,!0).then((function(t){ue(e,t)})).catch((function(e){var t,n;re((0,r.addAlert)({description:null!==(t=null===e||void 0===e?void 0:e.description)&&void 0!==t?t:M("console:manage.features.certificates.keystore.notifications.getCertificate.genericError.description"),level:a.AlertLevels.ERROR,message:null!==(n=null===e||void 0===e?void 0:e.message)&&void 0!==n?n:M("console:manage.features.certificates.keystore.notifications.getCertificate.genericError.message")}))})):(0,b.$$)(e.alias,!0).then((function(t){ue(e,t)})).catch((function(e){var t,n;re((0,r.addAlert)({description:null!==(t=null===e||void 0===e?void 0:e.description)&&void 0!==t?t:M("console:manage.features.certificates.keystore.notifications.getAlias.genericError.description"),level:a.AlertLevels.ERROR,message:null!==(n=null===e||void 0===e?void 0:e.message)&&void 0!==n?n:M("console:manage.features.certificates.keystore.notifications.getAlias.genericError.message")}))}))};return d.createElement(d.Fragment,null,H&&function(){var e=ce(X).serialNumber===te;return d.createElement(s.ConfirmationModal,{onClose:le,type:"negative",open:Z,assertion:e?H:null,assertionHint:d.createElement("p",null,d.createElement(p.cC,{i18nKey:"console:manage.features.certificates.keystore.confirmation.hint"},"Please type ",d.createElement("strong",null,{id:H})," to confirm.")),assertionType:e?"input":null,primaryAction:M("console:manage.features.certificates.keystore.confirmation.primaryAction"),secondaryAction:M("common:cancel"),onSecondaryActionClick:le,onPrimaryActionClick:function(){(0,b.es)(H).then((function(){re((0,r.addAlert)({description:M("console:manage.features.certificates.keystore.notifications.deleteCertificate.success.description"),level:a.AlertLevels.SUCCESS,message:M("console:manage.features.certificates.keystore.notifications.deleteCertificate.success.message")})),N()})).catch((function(e){var t,n;re((0,r.addAlert)({description:null!==(t=null===e||void 0===e?void 0:e.description)&&void 0!==t?t:M("console:manage.features.certificates.keystore.notifications.deleteCertificate.genericError.description"),level:a.AlertLevels.ERROR,message:null!==(n=null===e||void 0===e?void 0:e.message)&&void 0!==n?n:M("console:manage.features.certificates.keystore.notifications.deleteCertificate.genericError.message")}))})).finally((function(){le()}))},"data-testid":"".concat(D,"-delete-confirmation-modal"),closeOnDimmerClick:!1},d.createElement(s.ConfirmationModal.Header,{"data-testid":"".concat(D,"-delete-confirmation-modal-header")},M("console:manage.features.certificates.keystore.confirmation.header")),e?d.createElement(d.Fragment,null,d.createElement(s.ConfirmationModal.Message,{attached:!0,negative:!0,"data-testid":"".concat(D,"-delete-confirmation-modal-message")},M("console:manage.features.certificates.keystore.confirmation.message")),d.createElement(s.ConfirmationModal.Content,{"data-testid":"".concat(D,"-delete-confirmation-modal-content")},M("console:manage.features.certificates.keystore.confirmation.tenantContent"))):d.createElement(s.ConfirmationModal.Content,{"data-testid":"".concat(D,"-delete-confirmation-modal-content")},M("console:manage.features.certificates.keystore.confirmation.content")))}(),$&&d.createElement(m.Z,{className:"certificate-display",dimmer:"blurring",size:"tiny",open:$,onClose:function(){Q(!1)},"data-testid":"".concat(D,"-certificate-display-modal")},d.createElement(m.Z.Header,null,d.createElement("div",{className:"certificate-ribbon"},d.createElement(s.GenericIcon,{inline:!0,transparent:!0,size:"auto",icon:(0,A._5)().ribbon}),d.createElement("div",{className:"certificate-alias"},"View Certificate - ",null!==z&&void 0!==z&&z.alias?null===z||void 0===z?void 0:z.alias:(null===z||void 0===z?void 0:z.issuerDN)&&l.CertificateManagementUtils.searchIssuerDNAlias(null===z||void 0===z?void 0:z.issuerDN)),d.createElement("br",null),d.createElement("div",{className:"certificate-serial"},"Serial Number: ",null===z||void 0===z?void 0:z.serialNumber))),d.createElement(m.Z.Content,{className:"certificate-content"},d.createElement(s.Certificate,{"data-testid":"".concat(D,"-certificate"),certificate:z,labels:{issuerDN:M("console:manage.features.certificates.keystore.summary.issuerDN"),subjectDN:M("console:manage.features.certificates.keystore.summary.subjectDN"),validFrom:M("console:manage.features.certificates.keystore.summary.validFrom"),validTill:M("console:manage.features.certificates.keystore.summary.validTill"),version:M("console:manage.features.certificates.keystore.summary.version")}}))),d.createElement(s.DataTable,{className:"certificates-list",isLoading:C,loadingStateOptions:{count:null!==n&&void 0!==n?n:E.ru.DEFAULT_RESOURCE_LIST_ITEM_LIMIT,imageType:"square"},actions:w?[{icon:function(){return"eye"},onClick:function(e,t){return pe(t)},popupText:function(){return M("common:view")},renderer:"semantic-icon"},{icon:function(){return"download"},onClick:function(e,t){return function(e){U!==S?(0,b.VL)(e.alias,!0).then((function(t){se(e.alias,t)})).catch((function(e){var t,n;re((0,r.addAlert)({description:null!==(t=null===e||void 0===e?void 0:e.description)&&void 0!==t?t:M("console:manage.features.certificates.keystore.notifications.getCertificate.genericError.description"),level:a.AlertLevels.ERROR,message:null!==(n=null===e||void 0===e?void 0:e.message)&&void 0!==n?n:M("console:manage.features.certificates.keystore.notifications.getCertificate.genericError.message")}))})):(0,b.$$)(e.alias,!0).then((function(t){se(e.alias,t)})).catch((function(e){var t,n;re((0,r.addAlert)({description:null!==(t=null===e||void 0===e?void 0:e.description)&&void 0!==t?t:M("console:manage.features.certificates.keystore.notifications.getAlias.genericError.description"),level:a.AlertLevels.ERROR,message:null!==(n=null===e||void 0===e?void 0:e.message)&&void 0!==n?n:M("console:manage.features.certificates.keystore.notifications.getAlias.genericError.message")}))}))}(t)},popupText:function(){return M("common:export")},renderer:"semantic-icon"},{hidden:function(e){var t,n,o=e.alias,a=(0,i.hasRequiredScopes)(null===T||void 0===T?void 0:T.certificates,null===T||void 0===T||null===(t=T.certificates)||void 0===t||null===(n=t.scopes)||void 0===n?void 0:n.delete,ae);return!(U===S&&a)||V||oe===o||ie===o},icon:function(){return"trash alternate"},onClick:function(e,t){return function(e){(0,b.$$)(e.alias,!0).then((function(t){J(t),x(e.alias),j(!0)})).catch((function(e){re((0,r.addAlert)({description:(null===e||void 0===e?void 0:e.description)||M("console:manage.features.certificates.keystore.notifications.getAlias.genericError.description"),level:a.AlertLevels.ERROR,message:(null===e||void 0===e?void 0:e.message)||M("console:manage.features.certificates.keystore.notifications.getAlias.genericError.message")}))}))}(t)},popupText:function(){return M("common:delete")},renderer:"semantic-icon"}]:[],columns:[{allowToggleVisibility:!1,dataIndex:"name",id:"name",key:"name",render:function(e){return d.createElement(g.Z,{image:!0,as:"h6",className:"header-with-icon","data-testid":"".concat(D,"-item-heading")},d.createElement(s.AppAvatar,{image:d.createElement(s.AnimatedAvatar,{name:e.alias,size:"mini","data-testid":"".concat(D,"-item-image-inner")}),size:"mini",spaced:"right","data-testid":"".concat(D,"-item-image")}),d.createElement(g.Z.Content,null,e.alias))},title:M("console:manage.features.certificates.keystore.list.columns.name")},{allowToggleVisibility:!1,dataIndex:"action",id:"actions",key:"actions",textAlign:"right",title:M("console:manage.features.certificates.keystore.list.columns.actions")}],data:function(){var e,t,n,o;return!(U!==S||!(0,i.hasRequiredScopes)(null===T||void 0===T?void 0:T.certificates,null===T||void 0===T||null===(e=T.certificates)||void 0===e||null===(t=e.scopes)||void 0===t?void 0:t.read,ae))||"truststore"===U&&(0,i.hasRequiredScopes)(null===T||void 0===T?void 0:T.certificates,null===T||void 0===T||null===(n=T.certificates)||void 0===n||null===(o=n.scopes)||void 0===o?void 0:o.read,ae)}()&&O,externalSearch:t,onRowClick:function(e,t){pe(t),P&&P(e,t)},placeholders:de(),selectable:_,showHeader:!1,transparent:!C&&null!==de(),"data-testid":D}))};C.defaultProps={"data-testid":"certificates-list",selection:!0,showListItemActions:!0};var O=n(23177),I=function(e){var t=e.name,n=e.certificate,o=e["data-testid"],i=(0,p.$G)().t;return d.createElement(O.Z,{className:"wizard-summary","data-testid":o},d.createElement(O.Z.Row,null,d.createElement(O.Z.Column,{mobile:16,tablet:16,computer:16,textAlign:"center"},d.createElement("div",{className:"general-details"},d.createElement("h3",null,t),d.createElement("div",{className:"description"},i("console:manage.features.certificates.keystore.summary.sn")+" "+(null===n||void 0===n?void 0:n.serialNumber))))),d.createElement(O.Z.Row,{className:"summary-field",columns:2},d.createElement(O.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},d.createElement("div",{className:"label"},i("console:manage.features.certificates.keystore.summary.validFrom"))),d.createElement(O.Z.Column,{className:"overflow-wrap",mobile:16,tablet:8,computer:8,textAlign:"left"},d.createElement("div",{className:"value"},n.validFrom.toLocaleString("en-us",{day:"numeric",hour:"numeric",hour12:!0,minute:"numeric",month:"long",timeZoneName:"short",weekday:"short",year:"numeric"})))),d.createElement(O.Z.Row,{className:"summary-field",columns:2},d.createElement(O.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},d.createElement("div",{className:"label"},i("console:manage.features.certificates.keystore.summary.validTill"))),d.createElement(O.Z.Column,{className:"overflow-wrap",mobile:16,tablet:8,computer:8,textAlign:"left"},d.createElement("div",{className:"value"},n.validTill.toLocaleString("en-us",{day:"numeric",hour:"numeric",hour12:!0,minute:"numeric",month:"long",timeZoneName:"short",weekday:"short",year:"numeric"})))),d.createElement(O.Z.Row,{className:"summary-field",columns:2},d.createElement(O.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},d.createElement("div",{className:"label"},i("console:manage.features.certificates.keystore.summary.issuerDN"))),d.createElement(O.Z.Column,{className:"overflow-wrap",mobile:16,tablet:8,computer:8,textAlign:"left"},d.createElement("div",{className:"value"},n.issuerDN.map((function(e){return"".concat(Object.entries(e)[0][0],"=").concat(Object.entries(e)[0][1])})).join(", ")))),d.createElement(O.Z.Row,{className:"summary-field",columns:2},d.createElement(O.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},d.createElement("div",{className:"label"},i("console:manage.features.certificates.keystore.summary.subjectDN"))),d.createElement(O.Z.Column,{className:"overflow-wrap",mobile:16,tablet:8,computer:8,textAlign:"left"},d.createElement("div",{className:"value"},n.subjectDN.map((function(e){return"".concat(Object.entries(e)[0][0],"=").concat(Object.entries(e)[0][1])})).join(", ")))),d.createElement(O.Z.Row,{className:"summary-field",columns:2},d.createElement(O.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},d.createElement("div",{className:"label"},i("console:manage.features.certificates.keystore.summary.version"))),d.createElement(O.Z.Column,{className:"overflow-wrap",mobile:16,tablet:8,computer:8,textAlign:"left"},d.createElement("div",{className:"value"},n.version))))};I.defaultProps={"data-testid":"certificate-summary"};var R=n(26776);function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(e){l=!0,i=e}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var w=function(e){var t=e.open,n=e.onClose,o=e.update,i=e["data-testid"],l=(0,f.I0)(),c=(0,p.$G)().t,g=L((0,d.useState)(null),2),h=g[0],y=g[1],T=L((0,d.useState)(0),2),S=T[0],C=T[1],_=L((0,d.useState)(null),2),w=_[0],N=_[1],U=L((0,d.useState)(""),2),D=U[0],M=U[1],k=L((0,d.useState)(""),2),Z=k[0],j=k[1],F=L((0,d.useState)(""),2),H=F[0],x=F[1],G=L((0,d.useState)(null),2),z=G[0],B=G[1],W=L((0,d.useState)(null),2),V=W[0],q=W[1],K=L((0,d.useState)(!1),2),$=K[0],Q=K[1],Y=L((0,R.useTrigger)(),2),X=Y[0],J=Y[1],ee=L((0,s.useWizardAlert)(),3),te=ee[0],ne=ee[1],oe=ee[2];(0,d.useEffect)((function(){w&&C(1)}),[w]);var ie=function(e,t){var n={alias:e.alias,issuerDN:t.getIssuerString().split("/").slice(1).map((function(e){return P({},e.split("=")[0],e.split("=")[1])})),serialNumber:t.getSerialNumberHex(),subjectDN:t.getSubjectString().split("/").slice(1).map((function(e){return P({},e.split("=")[0],e.split("=")[1])})),validFrom:new Date((0,u.zulutodate)(t.getNotBefore()).toUTCString()),validTill:new Date((0,u.zulutodate)(t.getNotAfter()).toUTCString()),version:t.getVersion()};N(n)},ae=[{content:d.createElement(E.e,{submit:function(e,t,n,o,i,a){y(e),M(t),x(n),j(o),B(i),q(a),ie(e,a)},triggerSubmit:X,pemData:H,nameData:D,fileDecodedData:Z,fileData:z,forgeCertificateData:V,"data-testid":"".concat(i,"-upload")}),icon:(0,A.D1)().general,title:c("console:manage.features.certificates.keystore.wizard.steps.upload")},{content:d.createElement(I,{name:null===h||void 0===h?void 0:h.alias,certificate:w,"data-testid":"".concat(i,"-summary")}),icon:(0,A.D1)().general,title:c("console:manage.features.certificates.keystore.wizard.steps.summary")}],re=function(){switch(S){case 0:J();break;case 1:Q(!0),(0,b.vi)(h).then((function(){l((0,r.addAlert)({description:c("console:manage.features.certificates.keystore.notifications.addCertificate.success.description"),level:a.AlertLevels.SUCCESS,message:c("console:manage.features.certificates.keystore.notifications.addCertificate.success.message")})),o(),n()})).catch((function(e){var t,n,o,i;ne({description:(null===e||void 0===e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.description)||c("console:manage.features.certificates.keystore.notifications.addCertificate.genericError.description"),level:a.AlertLevels.ERROR,message:(null===e||void 0===e||null===(o=e.response)||void 0===o||null===(i=o.data)||void 0===i?void 0:i.message)||c("console:manage.features.certificates.keystore.notifications.addCertificate.genericError.message")})})).finally((function(){Q(!1)}))}};return d.createElement(m.Z,{open:t,onClose:n,dimmer:"blurring",size:"small",className:"wizard application-create-wizard","data-testid":"".concat(i,"-modal"),closeOnDimmerClick:!1},d.createElement(m.Z.Header,{className:"wizard-header"},c("console:manage.features.certificates.keystore.wizard.header")),d.createElement(m.Z.Content,{className:"steps-container","data-testid":"".concat(i,"-steps")},d.createElement(s.Steps.Group,{header:"Import certificate into keystore.",current:S},ae.map((function(e,t){return d.createElement(s.Steps.Step,{key:t,icon:e.icon,title:e.title,"data-testid":"".concat(i,"-step-").concat(t)})})))),d.createElement(m.Z.Content,null,te&&oe),d.createElement(m.Z.Content,{className:"content-container ".concat(1===S?"certificate-content summary":""),scrolling:!0},ae[S].content),d.createElement(m.Z.Actions,null,d.createElement(O.Z,null,d.createElement(O.Z.Row,{column:1},d.createElement(O.Z.Column,{mobile:8,tablet:8,computer:8},d.createElement(s.LinkButton,{floated:"left",onClick:function(){return n()}},c("common:cancel"))),d.createElement(O.Z.Column,{mobile:8,tablet:8,computer:8},S<ae.length-1&&d.createElement(s.PrimaryButton,{floated:"right",onClick:re},c("common:next")," ",d.createElement(v.Z,{name:"arrow right"})),S===ae.length-1&&d.createElement(s.PrimaryButton,{floated:"right",onClick:re,"data-testid":"".concat(i,"-import-button"),loading:$,disabled:$},c("common:import")),S>0&&d.createElement(s.LinkButton,{floated:"right",onClick:function(){C(S-1),ne(null)},"data-testid":"".concat(i,"-previous-button")},d.createElement(v.Z,{name:"arrow left"})," ",c("common:previous")))))))};w.defaultProps={"data-testid":"import-certificate-wizard"}},38665:function(e,t,n){n.d(t,{_5:function(){return u},EM:function(){return o},D1:function(){return d}});var o=function(e){return{certificates:"".concat(e,"/api/server/v1/keystores/certs"),clientCertificates:"".concat(e,"/api/server/v1/keystores/client-certs"),publicCertificates:"".concat(e,"/api/server/v1/keystores/certs/public")}},i=n(18886),a=n(64408),r=n(18731),l=n(52173),s=n(12113),c=n(25588),u=function(){return{avatar:i.r,badge:l.r,file:s.r,ribbon:c.r,uploadPlaceholder:r.r}},d=function(){return{general:a.r}}},68510:function(e,t,n){n.d(t,{EM:function(){return a.EM}});var o=n(27779),i=n(44115),a=n(38665),r=(n(13521),n(88742)),l=n(26278),s=n(96462),c=n(68905),u=n(64805),d=n(83913),p=n(12847);function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(e){l=!0,i=e}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var v=function(e){var t=e["data-testid"],n=[{key:0,text:"Alias",value:"alias"}],a=f((0,c.useState)(null),2),m=a[0],v=a[1],g=f((0,c.useState)(0),2),E=g[0],b=g[1],A=f((0,c.useState)(p.ru.DEFAULT_RESOURCE_LIST_ITEM_LIMIT),2),h=A[0],y=A[1],T=f((0,c.useState)(!0),2),S=T[0],C=T[1],O=f((0,c.useState)(null),2),I=O[0],R=O[1],P=f((0,c.useState)(n[0]),2),L=P[0],_=P[1],w=f((0,c.useState)(!0),2),N=w[0],U=w[1],D=f((0,c.useState)(""),2),M=D[0],k=D[1],Z=f((0,c.useState)(!1),2),j=Z[0],F=Z[1],H=(0,d.I0)(),x=(0,u.$G)().t,G=function(){C(!0),(0,o.Al)().then((function(e){v(e),R(e),C(!1)})).catch((function(e){C(!1),H((0,l.addAlert)({description:(null===e||void 0===e?void 0:e.description)||"An error occurred while fetching certificates",level:r.AlertLevels.ERROR,message:(null===e||void 0===e?void 0:e.message)||"Something went wrong"}))}))};(0,c.useEffect)((function(){G()}),[]),(0,c.useEffect)((function(){R((0,p.fS)(I,L.value,N))}),[L,N]);var z=function(e){R((0,p.gQ)(m,e,"alias",!0)),k(e)};return c.createElement(s.PageLayout,{title:"Certificates in the Truststore",pageTitle:"Certificates in the Truststore",description:"Create and manage certificates in the truststore","data-testid":"".concat(t,"-page-layout")},c.createElement(s.ListLayout,{advancedSearch:c.createElement(p.nC,{onFilter:z,filterAttributeOptions:[{key:0,text:"Alias",value:"alias"}],filterAttributePlaceholder:x("console:manage.features.certificates.truststore.advancedSearch.form.inputs.filterAttribute.placeholder"),filterConditionsPlaceholder:x("console:manage.features.certificates.truststore.advancedSearch.form.inputs.filterCondition.placeholder"),filterValuePlaceholder:x("console:manage.features.certificates.truststore.advancedSearch.form.inputs.filterValue.placeholder"),placeholder:x("console:manage.features.certificates.truststore.advancedSearch.placeholder"),defaultSearchAttribute:"alias",defaultSearchOperator:"co","data-testid":"".concat(t,"-advanced-search")}),currentListSize:h,listItemLimit:h,onItemsPerPageDropdownChange:function(e,t){y(t.value)},onPageChange:function(e,t){b((t.activePage-1)*h)},onSortStrategyChange:function(e,t){_(n.filter((function(e){return e.value===t.value}))[0])},onSortOrderChange:function(e){U(e)},leftActionPanel:null,showPagination:!0,sortOptions:n,sortStrategy:L,totalPages:Math.ceil((null===I||void 0===I?void 0:I.length)/h),totalListSize:null===I||void 0===I?void 0:I.length,"data-testid":"".concat(t,"-list-layout")},c.createElement(i.D_,{advancedSearch:c.createElement(p.nC,{onFilter:z,filterAttributeOptions:[{key:0,text:"Alias",value:"alias"}],filterAttributePlaceholder:x("console:manage.features.certificates.truststore.advancedSearch.form.inputs.filterAttribute.placeholder"),filterConditionsPlaceholder:x("console:manage.features.certificates.truststore.advancedSearch.form.inputs.filterCondition.placeholder"),filterValuePlaceholder:x("console:manage.features.certificates.truststore.advancedSearch.form.inputs.filterValue.placeholder"),placeholder:x("console:manage.features.certificates.truststore.advancedSearch.placeholder"),defaultSearchAttribute:"alias",defaultSearchOperator:"co","data-testid":"".concat(t,"-advanced-search")}),isLoading:S,list:function(e,t,n){return null===e||void 0===e?void 0:e.slice(n,n+t)}(I,h,E),update:G,onSearchQueryClear:function(){F(!j),k(""),R(m)},searchQuery:M,type:"truststore","data-testid":"".concat(t,"-list")})))};v.defaultProps={"data-testid":"certificate-truststore"}},13521:function(e,t,n){n.r(t);var o=n(8890),i=n(88742),a=n(26278),r=n(26776),l=n(96462),s=n(68905),c=n(64805),u=n(83913),d=n(70515),p=n(12847),f=n(27779),m=n(44115);function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(e){l=!0,i=e}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var E=function(e){var t,n,g=e["data-testid"],E=(0,c.$G)().t,b=[{key:0,text:E("console:manage.features.certificates.keystore.attributes.alias"),value:"alias"}],A=v((0,s.useState)([]),2),h=A[0],y=A[1],T=v((0,s.useState)(0),2),S=T[0],C=T[1],O=v((0,s.useState)(p.ru.DEFAULT_RESOURCE_LIST_ITEM_LIMIT),2),I=O[0],R=O[1],P=v((0,s.useState)(!1),2),L=P[0],_=P[1],w=v((0,s.useState)(!0),2),N=w[0],U=w[1],D=v((0,s.useState)([]),2),M=D[0],k=D[1],Z=v((0,s.useState)(b[0]),2),j=Z[0],F=Z[1],H=v((0,s.useState)(!0),2),x=H[0],G=H[1],z=v((0,s.useState)(!0),2),B=z[0],W=z[1],V=v((0,s.useState)(""),2),q=V[0],K=V[1],$=v((0,s.useState)(!1),2),Q=$[0],Y=$[1],X=(0,u.v9)((function(e){return e.config.deployment.tenant})),J=(0,u.v9)((function(e){return e.config.ui.features})),ee=(0,u.v9)((function(e){var t;return null===e||void 0===e||null===(t=e.auth)||void 0===t?void 0:t.allowedScopes})),te=v((0,r.useTrigger)(),2),ne=te[0],oe=te[1],ie=(0,u.I0)();(0,s.useEffect)((function(){W("carbon.super"===X)}),[X]);var ae=function(){U(!0),(0,f.g)().then((function(e){y(e),k(e)})).catch((function(e){U(!1),ie((0,a.addAlert)({description:(null===e||void 0===e?void 0:e.description)||E("console:manage.features.certificates.keystore.notifications.getCertificates.genericError.description"),level:i.AlertLevels.ERROR,message:(null===e||void 0===e?void 0:e.message)||E("console:manage.features.certificates.keystore.notifications.getCertificates.genericError.message")}))})).finally((function(){U(!1)}))};(0,s.useEffect)((function(){ae()}),[]),(0,s.useEffect)((function(){k((0,p.fS)(M,j.value,x))}),[j,x]);var re=function(e){k((0,p.gQ)(h,e,"alias",!0)),K(e),C(0),oe()};return s.createElement(s.Fragment,null,L&&s.createElement(m.ol,{open:L,onClose:function(){return _(!1)},update:ae,"data-testid":"".concat(g,"-import-wizard")}),s.createElement(l.PageLayout,{action:(N||!(!q&&(null===h||void 0===h?void 0:h.length)<=0))&&(0,o.hasRequiredScopes)(null===J||void 0===J?void 0:J.certificates,null===J||void 0===J||null===(t=J.certificates)||void 0===t||null===(n=t.scopes)||void 0===n?void 0:n.create,ee)&&!B&&s.createElement(l.PrimaryButton,{onClick:function(){_(!0)},"data-testid":"".concat(g,"-list-layout-upload-button")},s.createElement(d.Z,{name:"cloud upload"}),E("console:manage.features.certificates.keystore.pageLayout.primaryAction")),isLoading:N,title:E("console:manage.features.certificates.keystore.pageLayout.title"),pageTitle:E("console:manage.features.certificates.keystore.pageLayout.title"),description:E("console:manage.features.certificates.keystore.pageLayout.description"),"data-testid":"".concat(g,"-page-layout")},s.createElement(l.ListLayout,{advancedSearch:s.createElement(p.nC,{onFilter:re,filterAttributeOptions:[{key:0,text:"Alias",value:"alias"}],filterAttributePlaceholder:E("console:manage.features.certificates.keystore.advancedSearch.form.inputs.filterAttribute.placeholder"),filterConditionsPlaceholder:E("console:manage.features.certificates.keystore.advancedSearch.form.inputs.filterCondition.placeholder"),filterValuePlaceholder:E("console:manage.features.certificates.keystore.advancedSearch.form.inputs.filterValue.placeholder"),placeholder:E("console:manage.features.certificates.keystore.advancedSearch.placeholder"),defaultSearchAttribute:"alias",defaultSearchOperator:"co",triggerClearQuery:Q,"data-testid":"".concat(g,"-advanced-search")}),currentListSize:I,listItemLimit:I,onItemsPerPageDropdownChange:function(e,t){R(t.value)},onPageChange:function(e,t){C((t.activePage-1)*I)},onSortStrategyChange:function(e,t){F(b.filter((function(e){return e.value===t.value}))[0])},onSortOrderChange:function(e){G(e)},resetPagination:ne,leftActionPanel:null,showPagination:!0,sortOptions:b,sortStrategy:j,showTopActionPanel:N||!(!q&&(null===h||void 0===h?void 0:h.length)<=0),totalPages:Math.ceil((null===M||void 0===M?void 0:M.length)/I),totalListSize:null===M||void 0===M?void 0:M.length,"data-testid":"".concat(g,"-list-layout")},s.createElement(m.D_,{advancedSearch:s.createElement(p.nC,{onFilter:re,filterAttributeOptions:[{key:0,text:"Alias",value:"alias"}],filterAttributePlaceholder:E("console:manage.features.certificates.keystore.advancedSearch.form.inputs.filterAttribute.placeholder"),filterConditionsPlaceholder:E("console:manage.features.certificates.keystore.advancedSearch.form.inputs.filterCondition.placeholder"),filterValuePlaceholder:E("console:manage.features.certificates.keystore.advancedSearch.form.inputs.filterValue.placeholder"),placeholder:E("console:manage.features.certificates.keystore.advancedSearch.placeholder"),defaultSearchAttribute:"alias",defaultSearchOperator:"co",triggerClearQuery:Q,"data-testid":"".concat(g,"-advanced-search")}),isLoading:N,list:function(e,t,n){return null===e||void 0===e?void 0:e.slice(n,n+t)}(M,I,S),onEmptyListPlaceholderActionClick:function(){return _(!0)},onSearchQueryClear:function(){Y(!Q),K(""),k(h)},searchQuery:q,update:ae,type:"keystore",featureConfig:J,"data-testid":"".concat(g,"-list")}))))};E.defaultProps={"data-testid":"certificate-keystore"},t.default=E},61375:function(e){e.exports=JSON.parse('{"id":"custom-application","templateId":"custom-application","name":"Standard-Based Application","description":"Applications built using standard protocols.","image":"customApp","authenticationProtocol":"","category":"DEFAULT","displayOrder":-1,"self":"","subTemplates":[],"subTemplatesSectionTitle":"Protocol","templateGroup":"","types":["oidc","saml"],"application":null}')},45690:function(e){e.exports=JSON.parse('{"id":"b9c5e11e-fc78-484b-9bec-015d247561b8","templateId":"oidc-web-application","name":"OpenID Connect","description":"Regular web application that uses redirection within the browser.","image":"oidc","authenticationProtocol":"oidc","types":["java","dotNet"],"category":"DEFAULT","displayOrder":1,"templateGroup":"web-application","application":{"name":"","advancedConfigurations":{"discoverableByEndUsers":false,"skipLogoutConsent":true},"authenticationSequence":{"type":"DEFAULT","steps":[{"id":1,"options":[{"idp":"LOCAL","authenticator":"basic"}]}]},"inboundProtocolConfiguration":{"oidc":{"grantTypes":["authorization_code"],"publicClient":false}}}}')},50274:function(e){e.exports=JSON.parse('{"id":"776a73da-fd8e-490b-84ff-93009f8ede85","templateId":"saml-web-application","name":"SAML","description":"Regular web application that uses redirection within the browser.","image":"saml","authenticationProtocol":"saml","types":["java","dotNet"],"category":"DEFAULT","displayOrder":2,"templateGroup":"web-application","application":{"name":"","advancedConfigurations":{"discoverableByEndUsers":false,"skipLogoutConsent":true},"authenticationSequence":{"type":"DEFAULT","steps":[{"id":1,"options":[{"idp":"LOCAL","authenticator":"basic"}]}]},"inboundProtocolConfiguration":{"saml":{"manualConfiguration":{"issuer":"","assertionConsumerUrls":[""],"singleLogoutProfile":{"enabled":true,"logoutMethod":"BACKCHANNEL","idpInitiatedSingleLogout":{"enabled":false}}}}}}}')},23865:function(e){e.exports=JSON.parse('{"id":"6a90e4b0-fbff-42d7-bfde-1efd98f07cd7","templateId":"single-page-application","name":"Single-Page Application","description":"Web applications that perform user interface logic in a web browser.","image":"spa","authenticationProtocol":"oidc","types":["react","angular","javascript"],"category":"DEFAULT","displayOrder":0,"templateGroup":"spa","application":{"name":"","advancedConfigurations":{"discoverableByEndUsers":false,"skipLogoutConsent":true},"authenticationSequence":{"type":"DEFAULT","steps":[{"id":1,"options":[{"idp":"LOCAL","authenticator":"basic"}]}]},"inboundProtocolConfiguration":{"oidc":{"accessToken":{"applicationAccessTokenExpiryInSeconds":3600,"bindingType":"sso-session","revokeTokensWhenIDPSessionTerminated":true,"type":"Default","userAccessTokenExpiryInSeconds":3600,"validateTokenBinding":false},"grantTypes":["authorization_code","refresh_token"],"pkce":{"mandatory":true,"supportPlainTransformAlgorithm":false},"publicClient":true,"refreshToken":{"expiryInSeconds":86400,"renewRefreshToken":true}}}}}')}}]);